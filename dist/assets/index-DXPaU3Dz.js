var Rs=Object.defineProperty;var Bs=(n,e,r)=>e in n?Rs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Ds=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var pr=(n,e,r)=>(Bs(n,typeof e!="symbol"?e+"":e,r),r);var Qs=Ds((exports,module)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(n,e){const r=new Set(n.split(","));return o=>r.has(o)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),isModelListener=n=>n.startsWith("onUpdate:"),extend$2=Object.assign,remove$1=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},hasOwnProperty$c=Object.prototype.hasOwnProperty,hasOwn=(n,e)=>hasOwnProperty$c.call(n,e),isArray$2=Array.isArray,isMap=n=>toTypeString(n)==="[object Map]",isSet=n=>toTypeString(n)==="[object Set]",isDate$1=n=>toTypeString(n)==="[object Date]",isFunction$2=n=>typeof n=="function",isString$2=n=>typeof n=="string",isSymbol$1=n=>typeof n=="symbol",isObject$2=n=>n!==null&&typeof n=="object",isPromise=n=>(isObject$2(n)||isFunction$2(n))&&isFunction$2(n.then)&&isFunction$2(n.catch),objectToString$1=Object.prototype.toString,toTypeString=n=>objectToString$1.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isPlainObject$1=n=>toTypeString(n)==="[object Object]",isIntegerKey=n=>isString$2(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate$1=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize$1(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},def=(n,e,r,o=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:o,value:r})},looseToNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e},toNumber$1=n=>{const e=isString$2(n)?Number(n):NaN;return isNaN(e)?n:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(n){if(isArray$2(n)){const e={};for(let r=0;r<n.length;r++){const o=n[r],s=isString$2(o)?parseStringStyle(o):normalizeStyle(o);if(s)for(const a in s)e[a]=s[a]}return e}else if(isString$2(n)||isObject$2(n))return n}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(n){const e={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const o=r.split(propertyDelimiterRE);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function normalizeClass(n){let e="";if(isString$2(n))e=n;else if(isArray$2(n))for(let r=0;r<n.length;r++){const o=normalizeClass(n[r]);o&&(e+=o+" ")}else if(isObject$2(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}function normalizeProps(n){if(!n)return null;let{class:e,style:r}=n;return e&&!isString$2(e)&&(n.class=normalizeClass(e)),r&&(n.style=normalizeStyle(r)),n}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}function looseCompareArrays(n,e){if(n.length!==e.length)return!1;let r=!0;for(let o=0;r&&o<n.length;o++)r=looseEqual(n[o],e[o]);return r}function looseEqual(n,e){if(n===e)return!0;let r=isDate$1(n),o=isDate$1(e);if(r||o)return r&&o?n.getTime()===e.getTime():!1;if(r=isSymbol$1(n),o=isSymbol$1(e),r||o)return n===e;if(r=isArray$2(n),o=isArray$2(e),r||o)return r&&o?looseCompareArrays(n,e):!1;if(r=isObject$2(n),o=isObject$2(e),r||o){if(!r||!o)return!1;const s=Object.keys(n).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in n){const c=n.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!looseEqual(n[l],e[l]))return!1}}return String(n)===String(e)}function looseIndexOf(n,e){return n.findIndex(r=>looseEqual(r,e))}const toDisplayString=n=>isString$2(n)?n:n==null?"":isArray$2(n)||isObject$2(n)&&(n.toString===objectToString$1||!isFunction$2(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[o,s],a)=>(r[stringifySymbol(o,a)+" =>"]=s,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>stringifySymbol(r))}:isSymbol$1(e)?stringifySymbol(e):isObject$2(e)&&!isArray$2(e)&&!isPlainObject$1(e)?String(e):e,stringifySymbol=(n,e="")=>{var r;return isSymbol$1(n)?`Symbol(${(r=n.description)!=null?r:e})`:n};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(n){activeEffectScope&&activeEffectScope.cleanups.push(n)}let activeEffect;class ReactiveEffect{constructor(e,r,o,s){this.fn=e,this.trigger=r,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(triggerComputed(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=shouldTrack,r=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=r,shouldTrack=e}}stop(){this.active&&(preCleanupEffect(this),postCleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function triggerComputed(n){return n.value}function preCleanupEffect(n){n._trackId++,n._depsLength=0}function postCleanupEffect(n){if(n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)cleanupDepEffect(n.deps[e],n);n.deps.length=n._depsLength}}function cleanupDepEffect(n,e){const r=n.get(e);r!==void 0&&e._trackId!==r&&(n.delete(e),n.size===0&&n.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(n,e,r){if(e.get(n)!==n._trackId){e.set(n,n._trackId);const o=n.deps[n._depsLength];o!==e?(o&&cleanupDepEffect(o,n),n.deps[n._depsLength++]=e):n._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(n,e,r){pauseScheduling();for(const o of n.keys()){let s;o._dirtyLevel<e&&(s??(s=n.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=e),o._shouldSchedule&&(s??(s=n.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&queueEffectSchedulers.push(o.scheduler)))}resetScheduling()}const createDep=(n,e)=>{const r=new Map;return r.cleanup=n,r.computed=e,r},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(n,e,r){if(shouldTrack&&activeEffect){let o=targetMap.get(n);o||targetMap.set(n,o=new Map);let s=o.get(r);s||o.set(r,s=createDep(()=>o.delete(r))),trackEffect(activeEffect,s)}}function trigger(n,e,r,o,s,a){const l=targetMap.get(n);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(r==="length"&&isArray$2(n)){const d=Number(o);l.forEach((f,g)=>{(g==="length"||!isSymbol$1(g)&&g>=d)&&c.push(f)})}else switch(r!==void 0&&c.push(l.get(r)),e){case"add":isArray$2(n)?isIntegerKey(r)&&c.push(l.get("length")):(c.push(l.get(ITERATE_KEY)),isMap(n)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(n)||(c.push(l.get(ITERATE_KEY)),isMap(n)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&c.push(l.get(ITERATE_KEY));break}pauseScheduling();for(const d of c)d&&triggerEffects(d,4);resetScheduling()}function getDepFromReactive(n,e){const r=targetMap.get(n);return r&&r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol$1)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const o=toRaw(this);for(let a=0,l=this.length;a<l;a++)track(o,"get",a+"");const s=o[e](...r);return s===-1||s===!1?o[e](...r.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){pauseTracking(),pauseScheduling();const o=toRaw(this)[e].apply(this,r);return resetScheduling(),resetTracking(),o}}),n}function hasOwnProperty$b(n){isSymbol$1(n)||(n=String(n));const e=toRaw(this);return track(e,"has",n),e.hasOwnProperty(n)}class BaseReactiveHandler{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,o){const s=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return a;if(r==="__v_raw")return o===(s?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const l=isArray$2(e);if(!s){if(l&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,o);if(r==="hasOwnProperty")return hasOwnProperty$b}const c=Reflect.get(e,r,o);return(isSymbol$1(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(s||track(e,"get",r),a)?c:isRef(c)?l&&isIntegerKey(r)?c:c.value:isObject$2(c)?s?readonly(c):reactive(c):c}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,r,o,s){let a=e[r];if(!this._isShallow){const d=isReadonly(a);if(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray$2(e)&&isRef(a)&&!isRef(o))return d?!1:(a.value=o,!0)}const l=isArray$2(e)&&isIntegerKey(r)?Number(r)<e.length:hasOwn(e,r),c=Reflect.set(e,r,o,s);return e===toRaw(s)&&(l?hasChanged(o,a)&&trigger(e,"set",r,o):trigger(e,"add",r,o)),c}deleteProperty(e,r){const o=hasOwn(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&o&&trigger(e,"delete",r,void 0),s}has(e,r){const o=Reflect.has(e,r);return(!isSymbol$1(r)||!builtInSymbols.has(r))&&track(e,"has",r),o}ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$1(n,e,r=!1,o=!1){n=n.__v_raw;const s=toRaw(n),a=toRaw(e);r||(hasChanged(e,a)&&track(s,"get",e),track(s,"get",a));const{has:l}=getProto(s),c=o?toShallow:r?toReadonly:toReactive;if(l.call(s,e))return c(n.get(e));if(l.call(s,a))return c(n.get(a));n!==s&&n.get(e)}function has(n,e=!1){const r=this.__v_raw,o=toRaw(r),s=toRaw(n);return e||(hasChanged(n,s)&&track(o,"has",n),track(o,"has",s)),n===s?r.has(n):r.has(n)||r.has(s)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add$1(n){n=toRaw(n);const e=toRaw(this);return getProto(e).has.call(e,n)||(e.add(n),trigger(e,"add",n,n)),this}function set(n,e){e=toRaw(e);const r=toRaw(this),{has:o,get:s}=getProto(r);let a=o.call(r,n);a||(n=toRaw(n),a=o.call(r,n));const l=s.call(r,n);return r.set(n,e),a?hasChanged(e,l)&&trigger(r,"set",n,e):trigger(r,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:r,get:o}=getProto(e);let s=r.call(e,n);s||(n=toRaw(n),s=r.call(e,n)),o&&o.call(e,n);const a=e.delete(n);return s&&trigger(e,"delete",n,void 0),a}function clear(){const n=toRaw(this),e=n.size!==0,r=n.clear();return e&&trigger(n,"clear",void 0,void 0),r}function createForEach(n,e){return function(o,s){const a=this,l=a.__v_raw,c=toRaw(l),d=e?toShallow:n?toReadonly:toReactive;return!n&&track(c,"iterate",ITERATE_KEY),l.forEach((f,g)=>o.call(s,d(f),d(g),a))}}function createIterableMethod(n,e,r){return function(...o){const s=this.__v_raw,a=toRaw(s),l=isMap(a),c=n==="entries"||n===Symbol.iterator&&l,d=n==="keys"&&l,f=s[n](...o),g=r?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:A}=f.next();return A?{value:v,done:A}:{value:c?[g(v[0]),g(v[1])]:g(v),done:A}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function createInstrumentations(){const n={get(a){return get$1(this,a)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(a){return get$1(this,a,!1,!0)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(a){return get$1(this,a,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(a){return get$1(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=createIterableMethod(a,!1,!1),r[a]=createIterableMethod(a,!0,!1),e[a]=createIterableMethod(a,!1,!0),o[a]=createIterableMethod(a,!0,!0)}),[n,r,e,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const r=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(o,s,a)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?o:Reflect.get(hasOwn(r,s)&&s in o?r:o,s,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(n){return createReactiveObject(n,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(n,e,r,o,s){if(!isObject$2(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=s.get(n);if(a)return a;const l=getTargetType(n);if(l===0)return n;const c=new Proxy(n,l===2?o:r);return s.set(n,c),c}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return n?!!n.__v_raw:!1}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return Object.isExtensible(n)&&def(n,"__v_skip",!0),n}const toReactive=n=>isObject$2(n)?reactive(n):n,toReadonly=n=>isObject$2(n)?readonly(n):n;class ComputedRefImpl{constructor(e,r,o,s){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>e(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const e=toRaw(this);return(!e._cacheable||e.effect.dirty)&&hasChanged(e._value,e._value=e.effect.run())&&triggerRefValue(e,4),trackRefValue(e),e.effect._dirtyLevel>=2&&triggerRefValue(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function computed$1(n,e,r=!1){let o,s;const a=isFunction$2(n);return a?(o=n,s=NOOP):(o=n.get,s=n.set),new ComputedRefImpl(o,s,a||!s,r)}function trackRefValue(n){var e;shouldTrack&&activeEffect&&(n=toRaw(n),trackEffect(activeEffect,(e=n.dep)!=null?e:n.dep=createDep(()=>n.dep=void 0,n instanceof ComputedRefImpl?n:void 0)))}function triggerRefValue(n,e=4,r){n=toRaw(n);const o=n.dep;o&&triggerEffects(o,e)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this,4))}}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,e,r)=>unref(Reflect.get(n,e,r)),set:(n,e,r,o)=>{const s=n[e];return isRef(s)&&!isRef(r)?(s.value=r,!0):Reflect.set(n,e,r,o)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}function toRefs(n){const e=isArray$2(n)?new Array(n.length):{};for(const r in n)e[r]=propertyToRef(n,r);return e}class ObjectRefImpl{constructor(e,r,o){this._object=e,this._key=r,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(n,e,r){return isRef(n)?n:isFunction$2(n)?new GetterRefImpl(n):isObject$2(n)&&arguments.length>1?propertyToRef(n,e,r):ref(n)}function propertyToRef(n,e,r){const o=n[e];return isRef(o)?o:new ObjectRefImpl(n,e,r)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(n,...e){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,o=r&&r.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,r,11,[n+e.map(a=>{var l,c;return(c=(l=a.toString)==null?void 0:l.call(a))!=null?c:JSON.stringify(a)}).join(""),r&&r.proxy,s.map(({vnode:a})=>`at <${formatComponentName(r,a.type)}>`).join(`
`),s]);else{const a=[`[Vue warn]: ${n}`,...e];s.length&&a.push(`
`,...formatTrace(s)),console.warn(...a)}resetTracking()}function getComponentTrace(){let n=stack[stack.length-1];if(!n)return[];const e=[];for(;n;){const r=e[0];r&&r.vnode===n?r.recurseCount++:e.push({vnode:n,recurseCount:0});const o=n.component&&n.component.parent;n=o&&o.vnode}return e}function formatTrace(n){const e=[];return n.forEach((r,o)=>{e.push(...o===0?[]:[`
`],...formatTraceEntry(r))}),e}function formatTraceEntry({vnode:n,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",o=n.component?n.component.parent==null:!1,s=` at <${formatComponentName(n.component,n.type,o)}`,a=">"+r;return n.props?[s,...formatProps(n.props),a]:[s+a]}function formatProps(n){const e=[],r=Object.keys(n);return r.slice(0,3).forEach(o=>{e.push(...formatProp(o,n[o]))}),r.length>3&&e.push(" ..."),e}function formatProp(n,e,r){return isString$2(e)?(e=JSON.stringify(e),r?e:[`${n}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${n}=${e}`]:isRef(e)?(e=formatProp(n,toRaw(e.value),!0),r?e:[`${n}=Ref<`,e,">"]):isFunction$2(e)?[`${n}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),r?e:[`${n}=`,e])}function callWithErrorHandling(n,e,r,o){try{return o?n(...o):n()}catch(s){handleError(s,e,r)}}function callWithAsyncErrorHandling(n,e,r,o){if(isFunction$2(n)){const s=callWithErrorHandling(n,e,r,o);return s&&isPromise(s)&&s.catch(a=>{handleError(a,e,r)}),s}if(isArray$2(n)){const s=[];for(let a=0;a<n.length;a++)s.push(callWithAsyncErrorHandling(n[a],e,r,o));return s}}function handleError(n,e,r,o=!0){const s=e?e.vnode:null;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](n,l,c)===!1)return}a=a.parent}const d=e.appContext.config.errorHandler;if(d){pauseTracking(),callWithErrorHandling(d,null,10,[n,l,c]),resetTracking();return}}logError(n,r,s,o)}function logError(n,e,r,o=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,r=queue.length;for(;e<r;){const o=e+r>>>1,s=queue[o],a=getId(s);a<n||a===n&&s.pre?e=o+1:r=o}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(n){isArray$2(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,e,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const o=queue[r];if(o&&o.pre){if(n&&o.id!==n.uid)continue;queue.splice(r,1),r--,o()}}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((r,o)=>getId(r)-getId(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=n=>n.id==null?1/0:n.id,comparator=(n,e)=>{const r=getId(n)-getId(e);if(r===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return r};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&e.active!==!1&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(n,e,...r){if(n.isUnmounted)return;const o=n.vnode.props||EMPTY_OBJ;let s=r;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in o){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:A}=o[g]||EMPTY_OBJ;A&&(s=r.map(M=>isString$2(M)?M.trim():M)),v&&(s=r.map(looseToNumber))}let c,d=o[c=toHandlerKey(e)]||o[c=toHandlerKey(camelize(e))];!d&&a&&(d=o[c=toHandlerKey(hyphenate$1(e))]),d&&callWithAsyncErrorHandling(d,n,6,s);const f=o[c+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,callWithAsyncErrorHandling(f,n,6,s)}}function normalizeEmitsOptions(n,e,r=!1){const o=e.emitsCache,s=o.get(n);if(s!==void 0)return s;const a=n.emits;let l={},c=!1;if(!isFunction$2(n)){const d=f=>{const g=normalizeEmitsOptions(f,e,!0);g&&(c=!0,extend$2(l,g))};!r&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}return!a&&!c?(isObject$2(n)&&o.set(n,null),null):(isArray$2(a)?a.forEach(d=>l[d]=null):extend$2(l,a),isObject$2(n)&&o.set(n,l),l)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(n,e[0].toLowerCase()+e.slice(1))||hasOwn(n,hyphenate$1(e))||hasOwn(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}function withCtx(n,e=currentRenderingInstance,r){if(!e||n._n)return n;const o=(...s)=>{o._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(e);let l;try{l=n(...s)}finally{setCurrentRenderingInstance(a),o._d&&setBlockTracking(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:r,proxy:o,withProxy:s,propsOptions:[a],slots:l,attrs:c,emit:d,render:f,renderCache:g,props:v,data:A,setupState:M,ctx:Y,inheritAttrs:de}=n,ae=setCurrentRenderingInstance(n);let ze,qe;try{if(r.shapeFlag&4){const hn=s||o,On=hn;ze=normalizeVNode(f.call(On,hn,g,v,M,A,Y)),qe=c}else{const hn=e;ze=normalizeVNode(hn.length>1?hn(v,{attrs:c,slots:l,emit:d}):hn(v,null)),qe=e.props?c:getFunctionalFallthrough(c)}}catch(hn){blockStack.length=0,handleError(hn,n,1),ze=createVNode(Comment)}let Ue=ze;if(qe&&de!==!1){const hn=Object.keys(qe),{shapeFlag:On}=Ue;hn.length&&On&7&&(a&&hn.some(isModelListener)&&(qe=filterModelListeners(qe,a)),Ue=cloneVNode(Ue,qe,!1,!0))}return r.dirs&&(Ue=cloneVNode(Ue,null,!1,!0),Ue.dirs=Ue.dirs?Ue.dirs.concat(r.dirs):r.dirs),r.transition&&(Ue.transition=r.transition),ze=Ue,setCurrentRenderingInstance(ae),ze}const getFunctionalFallthrough=n=>{let e;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=n[r]);return e},filterModelListeners=(n,e)=>{const r={};for(const o in n)(!isModelListener(o)||!(o.slice(9)in e))&&(r[o]=n[o]);return r};function shouldUpdateComponent(n,e,r){const{props:o,children:s,component:a}=n,{props:l,children:c,patchFlag:d}=e,f=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,l,f):!!l;if(d&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const A=g[v];if(l[A]!==o[A]&&!isEmitListener(f,A))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:o===l?!1:o?l?hasPropsChanged(o,l,f):!0:!!l;return!1}function hasPropsChanged(n,e,r){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let s=0;s<o.length;s++){const a=o[s];if(e[a]!==n[a]&&!isEmitListener(r,a))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},r){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===n&&(o.el=n.el),o===n)(n=e.vnode).el=r,e=e.parent;else break}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(n,e){return resolveAsset(COMPONENTS,n,!0,e)||n}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(n){return isString$2(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT}function resolveDirective(n){return resolveAsset(DIRECTIVES,n)}function resolveAsset(n,e,r=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const a=s.type;if(n===COMPONENTS){const c=getComponentName(a,!1);if(c&&(c===e||c===camelize(e)||c===capitalize$1(camelize(e))))return a}const l=resolve(s[n]||a[n],e)||resolve(s.appContext[n],e);return!l&&o?a:l}}function resolve(n,e){return n&&(n[e]||n[camelize(e)]||n[capitalize$1(camelize(e))])}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray$2(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(n,e){return doWatch(n,null,e)}const INITIAL_WATCHER_VALUE={};function watch(n,e,r){return doWatch(n,e,r)}function doWatch(n,e,{immediate:r,deep:o,flush:s,once:a,onTrack:l,onTrigger:c}=EMPTY_OBJ){if(e&&a){const vn=e;e=(...bn)=>{vn(...bn),On()}}const d=currentInstance,f=vn=>o===!0?vn:traverse(vn,o===!1?1:void 0);let g,v=!1,A=!1;if(isRef(n)?(g=()=>n.value,v=isShallow(n)):isReactive(n)?(g=()=>f(n),v=!0):isArray$2(n)?(A=!0,v=n.some(vn=>isReactive(vn)||isShallow(vn)),g=()=>n.map(vn=>{if(isRef(vn))return vn.value;if(isReactive(vn))return f(vn);if(isFunction$2(vn))return callWithErrorHandling(vn,d,2)})):isFunction$2(n)?e?g=()=>callWithErrorHandling(n,d,2):g=()=>(M&&M(),callWithAsyncErrorHandling(n,d,3,[Y])):g=NOOP,e&&o){const vn=g;g=()=>traverse(vn())}let M,Y=vn=>{M=Ue.onStop=()=>{callWithErrorHandling(vn,d,4),M=Ue.onStop=void 0}},de;if(isInSSRComponentSetup)if(Y=NOOP,e?r&&callWithAsyncErrorHandling(e,d,3,[g(),A?[]:void 0,Y]):g(),s==="sync"){const vn=useSSRContext();de=vn.__watcherHandles||(vn.__watcherHandles=[])}else return NOOP;let ae=A?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const ze=()=>{if(!(!Ue.active||!Ue.dirty))if(e){const vn=Ue.run();(o||v||(A?vn.some((bn,wn)=>hasChanged(bn,ae[wn])):hasChanged(vn,ae)))&&(M&&M(),callWithAsyncErrorHandling(e,d,3,[vn,ae===INITIAL_WATCHER_VALUE?void 0:A&&ae[0]===INITIAL_WATCHER_VALUE?[]:ae,Y]),ae=vn)}else Ue.run()};ze.allowRecurse=!!e;let qe;s==="sync"?qe=ze:s==="post"?qe=()=>queuePostRenderEffect(ze,d&&d.suspense):(ze.pre=!0,d&&(ze.id=d.uid),qe=()=>queueJob(ze));const Ue=new ReactiveEffect(g,NOOP,qe),hn=getCurrentScope(),On=()=>{Ue.stop(),hn&&remove$1(hn.effects,Ue)};return e?r?ze():ae=Ue.run():s==="post"?queuePostRenderEffect(Ue.run.bind(Ue),d&&d.suspense):Ue.run(),de&&de.push(On),On}function instanceWatch(n,e,r){const o=this.proxy,s=isString$2(n)?n.includes(".")?createPathGetter(o,n):()=>o[n]:n.bind(o,o);let a;isFunction$2(e)?a=e:(a=e.handler,r=e);const l=setCurrentInstance(this),c=doWatch(s,a.bind(o),r);return l(),c}function createPathGetter(n,e){const r=e.split(".");return()=>{let o=n;for(let s=0;s<r.length&&o;s++)o=o[r[s]];return o}}function traverse(n,e=1/0,r){if(e<=0||!isObject$2(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),e--,isRef(n))traverse(n.value,e,r);else if(isArray$2(n))for(let o=0;o<n.length;o++)traverse(n[o],e,r);else if(isSet(n)||isMap(n))n.forEach(o=>{traverse(o,e,r)});else if(isPlainObject$1(n))for(const o in n)traverse(n[o],e,r);return n}function withDirectives(n,e){if(currentRenderingInstance===null)return n;const r=getExposeProxy(currentRenderingInstance)||currentRenderingInstance.proxy,o=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,d=EMPTY_OBJ]=e[s];a&&(isFunction$2(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:c,modifiers:d}))}return n}function invokeDirectiveHook(n,e,r,o){const s=n.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let d=c.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,r,8,[n.el,c,n,e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(n,{slots:e}){const r=getCurrentInstance(),o=useTransitionState();return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const A of s)if(A.type!==Comment){a=A;break}}const l=toRaw(n),{mode:c}=l;if(o.isLeaving)return emptyPlaceholder(a);const d=getKeepAliveChild(a);if(!d)return emptyPlaceholder(a);const f=resolveTransitionHooks(d,l,o,r);setTransitionHooks(d,f);const g=r.subTree,v=g&&getKeepAliveChild(g);if(v&&v.type!==Comment&&!isSameVNodeType(d,v)){const A=resolveTransitionHooks(v,l,o,r);if(setTransitionHooks(v,A),c==="out-in"&&d.type!==Comment)return o.isLeaving=!0,A.afterLeave=()=>{o.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},emptyPlaceholder(a);c==="in-out"&&d.type!==Comment&&(A.delayLeave=(M,Y,de)=>{const ae=getLeavingNodesForType(o,v);ae[String(v.key)]=v,M[leaveCbKey]=()=>{Y(),M[leaveCbKey]=void 0,delete f.delayedLeave},f.delayedLeave=de})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:r}=n;let o=r.get(e.type);return o||(o=Object.create(null),r.set(e.type,o)),o}function resolveTransitionHooks(n,e,r,o){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:v,onLeave:A,onAfterLeave:M,onLeaveCancelled:Y,onBeforeAppear:de,onAppear:ae,onAfterAppear:ze,onAppearCancelled:qe}=e,Ue=String(n.key),hn=getLeavingNodesForType(r,n),On=(wn,Cn)=>{wn&&callWithAsyncErrorHandling(wn,o,9,Cn)},vn=(wn,Cn)=>{const En=Cn[1];On(wn,Cn),isArray$2(wn)?wn.every(_n=>_n.length<=1)&&En():wn.length<=1&&En()},bn={mode:a,persisted:l,beforeEnter(wn){let Cn=c;if(!r.isMounted)if(s)Cn=de||c;else return;wn[leaveCbKey]&&wn[leaveCbKey](!0);const En=hn[Ue];En&&isSameVNodeType(n,En)&&En.el[leaveCbKey]&&En.el[leaveCbKey](),On(Cn,[wn])},enter(wn){let Cn=d,En=f,_n=g;if(!r.isMounted)if(s)Cn=ae||d,En=ze||f,_n=qe||g;else return;let Bn=!1;const jn=wn[enterCbKey]=Un=>{Bn||(Bn=!0,Un?On(_n,[wn]):On(En,[wn]),bn.delayedLeave&&bn.delayedLeave(),wn[enterCbKey]=void 0)};Cn?vn(Cn,[wn,jn]):jn()},leave(wn,Cn){const En=String(n.key);if(wn[enterCbKey]&&wn[enterCbKey](!0),r.isUnmounting)return Cn();On(v,[wn]);let _n=!1;const Bn=wn[leaveCbKey]=jn=>{_n||(_n=!0,Cn(),jn?On(Y,[wn]):On(M,[wn]),wn[leaveCbKey]=void 0,hn[En]===n&&delete hn[En])};hn[En]=n,A?vn(A,[wn,Bn]):Bn()},clone(wn){return resolveTransitionHooks(wn,e,r,o)}};return bn}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){if(!isKeepAlive(n))return n;const{shapeFlag:e,children:r}=n;if(r){if(e&16)return r[0];if(e&32&&isFunction$2(r.default))return r.default()}}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,r){let o=[],s=0;for(let a=0;a<n.length;a++){let l=n[a];const c=r==null?l.key:String(r)+String(l.key!=null?l.key:a);l.type===Fragment?(l.patchFlag&128&&s++,o=o.concat(getTransitionRawChildren(l.children,e,c))):(e||l.type!==Comment)&&o.push(c!=null?cloneVNode(l,{key:c}):l)}if(s>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(n,e){return isFunction$2(n)?extend$2({name:n.name},e,{setup:n}):n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,r=currentInstance){const o=n.__wdc||(n.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(injectHook(e,o,r),r){let s=r.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,e,r,s),s=s.parent}}function injectToKeepAliveRoot(n,e,r,o){const s=injectHook(e,n,o,!0);onUnmounted(()=>{remove$1(o[e],s)},r)}function injectHook(n,e,r=currentInstance,o=!1){if(r){const s=r[n]||(r[n]=[]),a=e.__weh||(e.__weh=(...l)=>{if(r.isUnmounted)return;pauseTracking();const c=setCurrentInstance(r),d=callWithAsyncErrorHandling(e,r,n,l);return c(),resetTracking(),d});return o?s.unshift(a):s.push(a),a}}const createHook=n=>(e,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...o)=>e(...o),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}function renderList(n,e,r,o){let s;const a=r;if(isArray$2(n)||isString$2(n)){s=new Array(n.length);for(let l=0,c=n.length;l<c;l++)s[l]=e(n[l],l,void 0,a)}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=e(l+1,l,void 0,a)}else if(isObject$2(n))if(n[Symbol.iterator])s=Array.from(n,(l,c)=>e(l,c,void 0,a));else{const l=Object.keys(n);s=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const f=l[c];s[c]=e(n[f],f,c,a)}}else s=[];return s}function createSlots(n,e){for(let r=0;r<e.length;r++){const o=e[r];if(isArray$2(o))for(let s=0;s<o.length;s++)n[o[s].name]=o[s].fn;else o&&(n[o.name]=o.key?(...s)=>{const a=o.fn(...s);return a&&(a.key=o.key),a}:o.fn)}return n}function renderSlot(n,e,r={},o,s){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,o&&o());let a=n[e];a&&a._c&&(a._d=!1),openBlock();const l=a&&ensureValidVNode(a(r)),c=createBlock(Fragment,{key:r.key||l&&l.key||`_${e}`},l||(o?o():[]),l&&n._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),a&&a._c&&(a._d=!0),c}function ensureValidVNode(n){return n.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}function toHandlers(n,e){const r={};for(const o in n)r[toHandlerKey(o)]=n[o];return r}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,queueJob(n.update)}),$nextTick:n=>n.n||(n.n=nextTick.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,e)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn(n,e),PublicInstanceProxyHandlers={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:d}=n;let f;if(e[0]!=="$"){const M=l[e];if(M!==void 0)switch(M){case 1:return o[e];case 2:return s[e];case 4:return r[e];case 3:return a[e]}else{if(hasSetupBinding(o,e))return l[e]=1,o[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return l[e]=2,s[e];if((f=n.propsOptions[0])&&hasOwn(f,e))return l[e]=3,a[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return l[e]=4,r[e];shouldCacheAccess&&(l[e]=0)}}const g=publicPropertiesMap[e];let v,A;if(g)return e==="$attrs"&&track(n.attrs,"get",""),g(n);if((v=c.__cssModules)&&(v=v[e]))return v;if(r!==EMPTY_OBJ&&hasOwn(r,e))return l[e]=4,r[e];if(A=d.config.globalProperties,hasOwn(A,e))return A[e]},set({_:n},e,r){const{data:o,setupState:s,ctx:a}=n;return hasSetupBinding(s,e)?(s[e]=r,!0):o!==EMPTY_OBJ&&hasOwn(o,e)?(o[e]=r,!0):hasOwn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:o,appContext:s,propsOptions:a}},l){let c;return!!r[l]||n!==EMPTY_OBJ&&hasOwn(n,l)||hasSetupBinding(e,l)||(c=a[0])&&hasOwn(c,l)||hasOwn(o,l)||hasOwn(publicPropertiesMap,l)||hasOwn(s.config.globalProperties,l)},defineProperty(n,e,r){return r.get!=null?n._.accessCache[e]=0:hasOwn(r,"value")&&this.set(n,e,r.value,null),Reflect.defineProperty(n,e,r)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const n=getCurrentInstance();return n.setupContext||(n.setupContext=createSetupContext(n))}function normalizePropsOrEmits(n){return isArray$2(n)?n.reduce((e,r)=>(e[r]=null,e),{}):n}let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),r=n.proxy,o=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:s,computed:a,methods:l,watch:c,provide:d,inject:f,created:g,beforeMount:v,mounted:A,beforeUpdate:M,updated:Y,activated:de,deactivated:ae,beforeDestroy:ze,beforeUnmount:qe,destroyed:Ue,unmounted:hn,render:On,renderTracked:vn,renderTriggered:bn,errorCaptured:wn,serverPrefetch:Cn,expose:En,inheritAttrs:_n,components:Bn,directives:jn,filters:Un}=e;if(f&&resolveInjections(f,o,null),l)for(const $n in l){const Xn=l[$n];isFunction$2(Xn)&&(o[$n]=Xn.bind(r))}if(s){const $n=s.call(r,r);isObject$2($n)&&(n.data=reactive($n))}if(shouldCacheAccess=!0,a)for(const $n in a){const Xn=a[$n],xn=isFunction$2(Xn)?Xn.bind(r,r):isFunction$2(Xn.get)?Xn.get.bind(r,r):NOOP,Mn=!isFunction$2(Xn)&&isFunction$2(Xn.set)?Xn.set.bind(r):NOOP,Qn=computed({get:xn,set:Mn});Object.defineProperty(o,$n,{enumerable:!0,configurable:!0,get:()=>Qn.value,set:Nn=>Qn.value=Nn})}if(c)for(const $n in c)createWatcher(c[$n],o,r,$n);if(d){const $n=isFunction$2(d)?d.call(r):d;Reflect.ownKeys($n).forEach(Xn=>{provide(Xn,$n[Xn])})}g&&callHook$1(g,n,"c");function Wn($n,Xn){isArray$2(Xn)?Xn.forEach(xn=>$n(xn.bind(r))):Xn&&$n(Xn.bind(r))}if(Wn(onBeforeMount,v),Wn(onMounted,A),Wn(onBeforeUpdate,M),Wn(onUpdated,Y),Wn(onActivated,de),Wn(onDeactivated,ae),Wn(onErrorCaptured,wn),Wn(onRenderTracked,vn),Wn(onRenderTriggered,bn),Wn(onBeforeUnmount,qe),Wn(onUnmounted,hn),Wn(onServerPrefetch,Cn),isArray$2(En))if(En.length){const $n=n.exposed||(n.exposed={});En.forEach(Xn=>{Object.defineProperty($n,Xn,{get:()=>r[Xn],set:xn=>r[Xn]=xn})})}else n.exposed||(n.exposed={});On&&n.render===NOOP&&(n.render=On),_n!=null&&(n.inheritAttrs=_n),Bn&&(n.components=Bn),jn&&(n.directives=jn)}function resolveInjections(n,e,r=NOOP){isArray$2(n)&&(n=normalizeInject(n));for(const o in n){const s=n[o];let a;isObject$2(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[o]=a}}function callHook$1(n,e,r){callWithAsyncErrorHandling(isArray$2(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,r)}function createWatcher(n,e,r,o){const s=o.includes(".")?createPathGetter(r,o):()=>r[o];if(isString$2(n)){const a=e[n];isFunction$2(a)&&watch(s,a)}else if(isFunction$2(n))watch(s,n.bind(r));else if(isObject$2(n))if(isArray$2(n))n.forEach(a=>createWatcher(a,e,r,o));else{const a=isFunction$2(n.handler)?n.handler.bind(r):e[n.handler];isFunction$2(a)&&watch(s,a,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:r,extends:o}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=n.appContext,c=a.get(e);let d;return c?d=c:!s.length&&!r&&!o?d=e:(d={},s.length&&s.forEach(f=>mergeOptions(d,f,l,!0)),mergeOptions(d,e,l)),isObject$2(e)&&a.set(e,d),d}function mergeOptions(n,e,r,o=!1){const{mixins:s,extends:a}=e;a&&mergeOptions(n,a,r,!0),s&&s.forEach(l=>mergeOptions(n,l,r,!0));for(const l in e)if(!(o&&l==="expose")){const c=internalOptionMergeStrats[l]||r&&r[l];n[l]=c?c(n[l],e[l]):e[l]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend$2(isFunction$2(n)?n.call(this,this):n,isFunction$2(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray$2(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend$2(Object.create(null),n,e):e}function mergeEmitsOrPropsOptions(n,e){return n?isArray$2(n)&&isArray$2(e)?[...new Set([...n,...e])]:extend$2(Object.create(null),normalizePropsOrEmits(n),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const r=extend$2(Object.create(null),n);for(const o in e)r[o]=mergeAsArray(n[o],e[o]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,e){return function(o,s=null){isFunction$2(o)||(o=extend$2({},o)),s!=null&&!isObject$2(s)&&(s=null);const a=createAppContext(),l=new WeakSet;let c=!1;const d=a.app={_uid:uid$1++,_component:o,_props:s,_container:null,_context:a,_instance:null,version:version$1,get config(){return a.config},set config(f){},use(f,...g){return l.has(f)||(f&&isFunction$2(f.install)?(l.add(f),f.install(d,...g)):isFunction$2(f)&&(l.add(f),f(d,...g))),d},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),d},component(f,g){return g?(a.components[f]=g,d):a.components[f]},directive(f,g){return g?(a.directives[f]=g,d):a.directives[f]},mount(f,g,v){if(!c){const A=createVNode(o,s);return A.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),g&&e?e(A,f):n(A,f,v),c=!0,d._container=f,f.__vue_app__=d,getExposeProxy(A.component)||A.component.proxy}},unmount(){c&&(n(null,d._container),delete d._container.__vue_app__)},provide(f,g){return a.provides[f]=g,d},runWithContext(f){const g=currentApp;currentApp=d;try{return f()}finally{currentApp=g}}};return d}}let currentApp=null;function provide(n,e){if(currentInstance){let r=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===r&&(r=currentInstance.provides=Object.create(o)),r[n]=e}}function inject(n,e,r=!1){const o=currentInstance||currentRenderingInstance;if(o||currentApp){const s=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:currentApp._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return r&&isFunction$2(e)?e.call(o&&o.proxy):e}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=n=>Object.getPrototypeOf(n)===internalObjectProto;function initProps(n,e,r,o=!1){const s={},a=createInternalObject();n.propsDefaults=Object.create(null),setFullProps(n,e,s,a);for(const l in n.propsOptions[0])l in s||(s[l]=void 0);r?n.props=o?s:shallowReactive(s):n.type.props?n.props=s:n.props=a,n.attrs=a}function updateProps(n,e,r,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=n,c=toRaw(s),[d]=n.propsOptions;let f=!1;if((o||l>0)&&!(l&16)){if(l&8){const g=n.vnode.dynamicProps;for(let v=0;v<g.length;v++){let A=g[v];if(isEmitListener(n.emitsOptions,A))continue;const M=e[A];if(d)if(hasOwn(a,A))M!==a[A]&&(a[A]=M,f=!0);else{const Y=camelize(A);s[Y]=resolvePropValue(d,c,Y,M,n,!1)}else M!==a[A]&&(a[A]=M,f=!0)}}}else{setFullProps(n,e,s,a)&&(f=!0);let g;for(const v in c)(!e||!hasOwn(e,v)&&((g=hyphenate$1(v))===v||!hasOwn(e,g)))&&(d?r&&(r[v]!==void 0||r[g]!==void 0)&&(s[v]=resolvePropValue(d,c,v,void 0,n,!0)):delete s[v]);if(a!==c)for(const v in a)(!e||!hasOwn(e,v))&&(delete a[v],f=!0)}f&&trigger(n.attrs,"set","")}function setFullProps(n,e,r,o){const[s,a]=n.propsOptions;let l=!1,c;if(e)for(let d in e){if(isReservedProp(d))continue;const f=e[d];let g;s&&hasOwn(s,g=camelize(d))?!a||!a.includes(g)?r[g]=f:(c||(c={}))[g]=f:isEmitListener(n.emitsOptions,d)||(!(d in o)||f!==o[d])&&(o[d]=f,l=!0)}if(a){const d=toRaw(r),f=c||EMPTY_OBJ;for(let g=0;g<a.length;g++){const v=a[g];r[v]=resolvePropValue(s,d,v,f[v],n,!hasOwn(f,v))}}return l}function resolvePropValue(n,e,r,o,s,a){const l=n[r];if(l!=null){const c=hasOwn(l,"default");if(c&&o===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&isFunction$2(d)){const{propsDefaults:f}=s;if(r in f)o=f[r];else{const g=setCurrentInstance(s);o=f[r]=d.call(null,e),g()}}else o=d}l[0]&&(a&&!c?o=!1:l[1]&&(o===""||o===hyphenate$1(r))&&(o=!0))}return o}function normalizePropsOptions(n,e,r=!1){const o=e.propsCache,s=o.get(n);if(s)return s;const a=n.props,l={},c=[];let d=!1;if(!isFunction$2(n)){const g=v=>{d=!0;const[A,M]=normalizePropsOptions(v,e,!0);extend$2(l,A),M&&c.push(...M)};!r&&e.mixins.length&&e.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!a&&!d)return isObject$2(n)&&o.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$2(a))for(let g=0;g<a.length;g++){const v=camelize(a[g]);validatePropName(v)&&(l[v]=EMPTY_OBJ)}else if(a)for(const g in a){const v=camelize(g);if(validatePropName(v)){const A=a[g],M=l[v]=isArray$2(A)||isFunction$2(A)?{type:A}:extend$2({},A);if(M){const Y=getTypeIndex(Boolean,M.type),de=getTypeIndex(String,M.type);M[0]=Y>-1,M[1]=de<0||Y<de,(Y>-1||hasOwn(M,"default"))&&c.push(v)}}}const f=[l,c];return isObject$2(n)&&o.set(n,f),f}function validatePropName(n){return n[0]!=="$"&&!isReservedProp(n)}function getType(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray$2(e)?e.findIndex(r=>isSameType(r,n)):isFunction$2(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$2(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot=(n,e,r)=>{if(e._n)return e;const o=withCtx((...s)=>normalizeSlotValue(e(...s)),r);return o._c=!1,o},normalizeObjectSlots=(n,e,r)=>{const o=n._ctx;for(const s in n){if(isInternalKey(s))continue;const a=n[s];if(isFunction$2(a))e[s]=normalizeSlot(s,a,o);else if(a!=null){const l=normalizeSlotValue(a);e[s]=()=>l}}},normalizeVNodeSlots=(n,e)=>{const r=normalizeSlotValue(e);n.slots.default=()=>r},initSlots=(n,e)=>{const r=n.slots=createInternalObject();if(n.vnode.shapeFlag&32){const o=e._;o?(extend$2(r,e),def(r,"_",o,!0)):normalizeObjectSlots(e,r)}else e&&normalizeVNodeSlots(n,e)},updateSlots=(n,e,r)=>{const{vnode:o,slots:s}=n;let a=!0,l=EMPTY_OBJ;if(o.shapeFlag&32){const c=e._;c?r&&c===1?a=!1:(extend$2(s,e),!r&&c===1&&delete s._):(a=!e.$stable,normalizeObjectSlots(e,s)),l=e}else e&&(normalizeVNodeSlots(n,e),l={default:1});if(a)for(const c in s)!isInternalKey(c)&&l[c]==null&&delete s[c]};function setRef(n,e,r,o,s=!1){if(isArray$2(n)){n.forEach((A,M)=>setRef(A,e&&(isArray$2(e)?e[M]:e),r,o,s));return}if(isAsyncWrapper(o)&&!s)return;const a=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,l=s?null:a,{i:c,r:d}=n,f=e&&e.r,g=c.refs===EMPTY_OBJ?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(isString$2(f)?(g[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction$2(d))callWithErrorHandling(d,c,12,[l,g]);else{const A=isString$2(d),M=isRef(d);if(A||M){const Y=()=>{if(n.f){const de=A?hasOwn(v,d)?v[d]:g[d]:d.value;s?isArray$2(de)&&remove$1(de,a):isArray$2(de)?de.includes(a)||de.push(a):A?(g[d]=[a],hasOwn(v,d)&&(v[d]=g[d])):(d.value=[a],n.k&&(g[n.k]=d.value))}else A?(g[d]=l,hasOwn(v,d)&&(v[d]=l)):M&&(d.value=l,n.k&&(g[n.k]=l))};l?(Y.id=-1,queuePostRenderEffect(Y,r)):Y()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:d,setText:f,setElementText:g,parentNode:v,nextSibling:A,setScopeId:M=NOOP,insertStaticContent:Y}=n,de=(Tn,Pn,Vn,Fn=null,zn=null,Zn=null,Jn=void 0,rr=null,nr=!!Pn.dynamicChildren)=>{if(Tn===Pn)return;Tn&&!isSameVNodeType(Tn,Pn)&&(Fn=Yn(Tn),Nn(Tn,zn,Zn,!0),Tn=null),Pn.patchFlag===-2&&(nr=!1,Pn.dynamicChildren=null);const{type:qn,ref:sr,shapeFlag:ur}=Pn;switch(qn){case Text$1:ae(Tn,Pn,Vn,Fn);break;case Comment:ze(Tn,Pn,Vn,Fn);break;case Static:Tn==null&&qe(Pn,Vn,Fn,Jn);break;case Fragment:Bn(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr);break;default:ur&1?On(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr):ur&6?jn(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr):(ur&64||ur&128)&&qn.process(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr,Gn)}sr!=null&&zn&&setRef(sr,Tn&&Tn.ref,Zn,Pn||Tn,!Pn)},ae=(Tn,Pn,Vn,Fn)=>{if(Tn==null)o(Pn.el=c(Pn.children),Vn,Fn);else{const zn=Pn.el=Tn.el;Pn.children!==Tn.children&&f(zn,Pn.children)}},ze=(Tn,Pn,Vn,Fn)=>{Tn==null?o(Pn.el=d(Pn.children||""),Vn,Fn):Pn.el=Tn.el},qe=(Tn,Pn,Vn,Fn)=>{[Tn.el,Tn.anchor]=Y(Tn.children,Pn,Vn,Fn,Tn.el,Tn.anchor)},Ue=({el:Tn,anchor:Pn},Vn,Fn)=>{let zn;for(;Tn&&Tn!==Pn;)zn=A(Tn),o(Tn,Vn,Fn),Tn=zn;o(Pn,Vn,Fn)},hn=({el:Tn,anchor:Pn})=>{let Vn;for(;Tn&&Tn!==Pn;)Vn=A(Tn),s(Tn),Tn=Vn;s(Pn)},On=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr)=>{Pn.type==="svg"?Jn="svg":Pn.type==="math"&&(Jn="mathml"),Tn==null?vn(Pn,Vn,Fn,zn,Zn,Jn,rr,nr):Cn(Tn,Pn,zn,Zn,Jn,rr,nr)},vn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr)=>{let nr,qn;const{props:sr,shapeFlag:ur,transition:Kn,dirs:lr}=Tn;if(nr=Tn.el=l(Tn.type,Zn,sr&&sr.is,sr),ur&8?g(nr,Tn.children):ur&16&&wn(Tn.children,nr,null,Fn,zn,resolveChildrenNamespace(Tn,Zn),Jn,rr),lr&&invokeDirectiveHook(Tn,null,Fn,"created"),bn(nr,Tn,Tn.scopeId,Jn,Fn),sr){for(const Or in sr)Or!=="value"&&!isReservedProp(Or)&&a(nr,Or,null,sr[Or],Zn,Tn.children,Fn,zn,Ln);"value"in sr&&a(nr,"value",null,sr.value,Zn),(qn=sr.onVnodeBeforeMount)&&invokeVNodeHook(qn,Fn,Tn)}lr&&invokeDirectiveHook(Tn,null,Fn,"beforeMount");const dr=needTransition(zn,Kn);dr&&Kn.beforeEnter(nr),o(nr,Pn,Vn),((qn=sr&&sr.onVnodeMounted)||dr||lr)&&queuePostRenderEffect(()=>{qn&&invokeVNodeHook(qn,Fn,Tn),dr&&Kn.enter(nr),lr&&invokeDirectiveHook(Tn,null,Fn,"mounted")},zn)},bn=(Tn,Pn,Vn,Fn,zn)=>{if(Vn&&M(Tn,Vn),Fn)for(let Zn=0;Zn<Fn.length;Zn++)M(Tn,Fn[Zn]);if(zn){let Zn=zn.subTree;if(Pn===Zn){const Jn=zn.vnode;bn(Tn,Jn,Jn.scopeId,Jn.slotScopeIds,zn.parent)}}},wn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr=0)=>{for(let qn=nr;qn<Tn.length;qn++){const sr=Tn[qn]=rr?cloneIfMounted(Tn[qn]):normalizeVNode(Tn[qn]);de(null,sr,Pn,Vn,Fn,zn,Zn,Jn,rr)}},Cn=(Tn,Pn,Vn,Fn,zn,Zn,Jn)=>{const rr=Pn.el=Tn.el;let{patchFlag:nr,dynamicChildren:qn,dirs:sr}=Pn;nr|=Tn.patchFlag&16;const ur=Tn.props||EMPTY_OBJ,Kn=Pn.props||EMPTY_OBJ;let lr;if(Vn&&toggleRecurse(Vn,!1),(lr=Kn.onVnodeBeforeUpdate)&&invokeVNodeHook(lr,Vn,Pn,Tn),sr&&invokeDirectiveHook(Pn,Tn,Vn,"beforeUpdate"),Vn&&toggleRecurse(Vn,!0),qn?En(Tn.dynamicChildren,qn,rr,Vn,Fn,resolveChildrenNamespace(Pn,zn),Zn):Jn||Xn(Tn,Pn,rr,null,Vn,Fn,resolveChildrenNamespace(Pn,zn),Zn,!1),nr>0){if(nr&16)_n(rr,Pn,ur,Kn,Vn,Fn,zn);else if(nr&2&&ur.class!==Kn.class&&a(rr,"class",null,Kn.class,zn),nr&4&&a(rr,"style",ur.style,Kn.style,zn),nr&8){const dr=Pn.dynamicProps;for(let Or=0;Or<dr.length;Or++){const vr=dr[Or],Sr=ur[vr],xr=Kn[vr];(xr!==Sr||vr==="value")&&a(rr,vr,Sr,xr,zn,Tn.children,Vn,Fn,Ln)}}nr&1&&Tn.children!==Pn.children&&g(rr,Pn.children)}else!Jn&&qn==null&&_n(rr,Pn,ur,Kn,Vn,Fn,zn);((lr=Kn.onVnodeUpdated)||sr)&&queuePostRenderEffect(()=>{lr&&invokeVNodeHook(lr,Vn,Pn,Tn),sr&&invokeDirectiveHook(Pn,Tn,Vn,"updated")},Fn)},En=(Tn,Pn,Vn,Fn,zn,Zn,Jn)=>{for(let rr=0;rr<Pn.length;rr++){const nr=Tn[rr],qn=Pn[rr],sr=nr.el&&(nr.type===Fragment||!isSameVNodeType(nr,qn)||nr.shapeFlag&70)?v(nr.el):Vn;de(nr,qn,sr,null,Fn,zn,Zn,Jn,!0)}},_n=(Tn,Pn,Vn,Fn,zn,Zn,Jn)=>{if(Vn!==Fn){if(Vn!==EMPTY_OBJ)for(const rr in Vn)!isReservedProp(rr)&&!(rr in Fn)&&a(Tn,rr,Vn[rr],null,Jn,Pn.children,zn,Zn,Ln);for(const rr in Fn){if(isReservedProp(rr))continue;const nr=Fn[rr],qn=Vn[rr];nr!==qn&&rr!=="value"&&a(Tn,rr,qn,nr,Jn,Pn.children,zn,Zn,Ln)}"value"in Fn&&a(Tn,"value",Vn.value,Fn.value,Jn)}},Bn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr)=>{const qn=Pn.el=Tn?Tn.el:c(""),sr=Pn.anchor=Tn?Tn.anchor:c("");let{patchFlag:ur,dynamicChildren:Kn,slotScopeIds:lr}=Pn;lr&&(rr=rr?rr.concat(lr):lr),Tn==null?(o(qn,Vn,Fn),o(sr,Vn,Fn),wn(Pn.children||[],Vn,sr,zn,Zn,Jn,rr,nr)):ur>0&&ur&64&&Kn&&Tn.dynamicChildren?(En(Tn.dynamicChildren,Kn,Vn,zn,Zn,Jn,rr),(Pn.key!=null||zn&&Pn===zn.subTree)&&traverseStaticChildren(Tn,Pn,!0)):Xn(Tn,Pn,Vn,sr,zn,Zn,Jn,rr,nr)},jn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr)=>{Pn.slotScopeIds=rr,Tn==null?Pn.shapeFlag&512?zn.ctx.activate(Pn,Vn,Fn,Jn,nr):Un(Pn,Vn,Fn,zn,Zn,Jn,nr):Rn(Tn,Pn,nr)},Un=(Tn,Pn,Vn,Fn,zn,Zn,Jn)=>{const rr=Tn.component=createComponentInstance(Tn,Fn,zn);if(isKeepAlive(Tn)&&(rr.ctx.renderer=Gn),setupComponent(rr),rr.asyncDep){if(zn&&zn.registerDep(rr,Wn),!Tn.el){const nr=rr.subTree=createVNode(Comment);ze(null,nr,Pn,Vn)}}else Wn(rr,Tn,Pn,Vn,zn,Zn,Jn)},Rn=(Tn,Pn,Vn)=>{const Fn=Pn.component=Tn.component;if(shouldUpdateComponent(Tn,Pn,Vn))if(Fn.asyncDep&&!Fn.asyncResolved){$n(Fn,Pn,Vn);return}else Fn.next=Pn,invalidateJob(Fn.update),Fn.effect.dirty=!0,Fn.update();else Pn.el=Tn.el,Fn.vnode=Pn},Wn=(Tn,Pn,Vn,Fn,zn,Zn,Jn)=>{const rr=()=>{if(Tn.isMounted){let{next:sr,bu:ur,u:Kn,parent:lr,vnode:dr}=Tn;{const Cr=locateNonHydratedAsyncRoot(Tn);if(Cr){sr&&(sr.el=dr.el,$n(Tn,sr,Jn)),Cr.asyncDep.then(()=>{Tn.isUnmounted||rr()});return}}let Or=sr,vr;toggleRecurse(Tn,!1),sr?(sr.el=dr.el,$n(Tn,sr,Jn)):sr=dr,ur&&invokeArrayFns(ur),(vr=sr.props&&sr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(vr,lr,sr,dr),toggleRecurse(Tn,!0);const Sr=renderComponentRoot(Tn),xr=Tn.subTree;Tn.subTree=Sr,de(xr,Sr,v(xr.el),Yn(xr),Tn,zn,Zn),sr.el=Sr.el,Or===null&&updateHOCHostEl(Tn,Sr.el),Kn&&queuePostRenderEffect(Kn,zn),(vr=sr.props&&sr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(vr,lr,sr,dr),zn)}else{let sr;const{el:ur,props:Kn}=Pn,{bm:lr,m:dr,parent:Or}=Tn,vr=isAsyncWrapper(Pn);if(toggleRecurse(Tn,!1),lr&&invokeArrayFns(lr),!vr&&(sr=Kn&&Kn.onVnodeBeforeMount)&&invokeVNodeHook(sr,Or,Pn),toggleRecurse(Tn,!0),ur&&cr){const Sr=()=>{Tn.subTree=renderComponentRoot(Tn),cr(ur,Tn.subTree,Tn,zn,null)};vr?Pn.type.__asyncLoader().then(()=>!Tn.isUnmounted&&Sr()):Sr()}else{const Sr=Tn.subTree=renderComponentRoot(Tn);de(null,Sr,Vn,Fn,Tn,zn,Zn),Pn.el=Sr.el}if(dr&&queuePostRenderEffect(dr,zn),!vr&&(sr=Kn&&Kn.onVnodeMounted)){const Sr=Pn;queuePostRenderEffect(()=>invokeVNodeHook(sr,Or,Sr),zn)}(Pn.shapeFlag&256||Or&&isAsyncWrapper(Or.vnode)&&Or.vnode.shapeFlag&256)&&Tn.a&&queuePostRenderEffect(Tn.a,zn),Tn.isMounted=!0,Pn=Vn=Fn=null}},nr=Tn.effect=new ReactiveEffect(rr,NOOP,()=>queueJob(qn),Tn.scope),qn=Tn.update=()=>{nr.dirty&&nr.run()};qn.id=Tn.uid,toggleRecurse(Tn,!0),qn()},$n=(Tn,Pn,Vn)=>{Pn.component=Tn;const Fn=Tn.vnode.props;Tn.vnode=Pn,Tn.next=null,updateProps(Tn,Pn.props,Fn,Vn),updateSlots(Tn,Pn.children,Vn),pauseTracking(),flushPreFlushCbs(Tn),resetTracking()},Xn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr=!1)=>{const qn=Tn&&Tn.children,sr=Tn?Tn.shapeFlag:0,ur=Pn.children,{patchFlag:Kn,shapeFlag:lr}=Pn;if(Kn>0){if(Kn&128){Mn(qn,ur,Vn,Fn,zn,Zn,Jn,rr,nr);return}else if(Kn&256){xn(qn,ur,Vn,Fn,zn,Zn,Jn,rr,nr);return}}lr&8?(sr&16&&Ln(qn,zn,Zn),ur!==qn&&g(Vn,ur)):sr&16?lr&16?Mn(qn,ur,Vn,Fn,zn,Zn,Jn,rr,nr):Ln(qn,zn,Zn,!0):(sr&8&&g(Vn,""),lr&16&&wn(ur,Vn,Fn,zn,Zn,Jn,rr,nr))},xn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr)=>{Tn=Tn||EMPTY_ARR,Pn=Pn||EMPTY_ARR;const qn=Tn.length,sr=Pn.length,ur=Math.min(qn,sr);let Kn;for(Kn=0;Kn<ur;Kn++){const lr=Pn[Kn]=nr?cloneIfMounted(Pn[Kn]):normalizeVNode(Pn[Kn]);de(Tn[Kn],lr,Vn,null,zn,Zn,Jn,rr,nr)}qn>sr?Ln(Tn,zn,Zn,!0,!1,ur):wn(Pn,Vn,Fn,zn,Zn,Jn,rr,nr,ur)},Mn=(Tn,Pn,Vn,Fn,zn,Zn,Jn,rr,nr)=>{let qn=0;const sr=Pn.length;let ur=Tn.length-1,Kn=sr-1;for(;qn<=ur&&qn<=Kn;){const lr=Tn[qn],dr=Pn[qn]=nr?cloneIfMounted(Pn[qn]):normalizeVNode(Pn[qn]);if(isSameVNodeType(lr,dr))de(lr,dr,Vn,null,zn,Zn,Jn,rr,nr);else break;qn++}for(;qn<=ur&&qn<=Kn;){const lr=Tn[ur],dr=Pn[Kn]=nr?cloneIfMounted(Pn[Kn]):normalizeVNode(Pn[Kn]);if(isSameVNodeType(lr,dr))de(lr,dr,Vn,null,zn,Zn,Jn,rr,nr);else break;ur--,Kn--}if(qn>ur){if(qn<=Kn){const lr=Kn+1,dr=lr<sr?Pn[lr].el:Fn;for(;qn<=Kn;)de(null,Pn[qn]=nr?cloneIfMounted(Pn[qn]):normalizeVNode(Pn[qn]),Vn,dr,zn,Zn,Jn,rr,nr),qn++}}else if(qn>Kn)for(;qn<=ur;)Nn(Tn[qn],zn,Zn,!0),qn++;else{const lr=qn,dr=qn,Or=new Map;for(qn=dr;qn<=Kn;qn++){const kr=Pn[qn]=nr?cloneIfMounted(Pn[qn]):normalizeVNode(Pn[qn]);kr.key!=null&&Or.set(kr.key,qn)}let vr,Sr=0;const xr=Kn-dr+1;let Cr=!1,Pr=0;const $r=new Array(xr);for(qn=0;qn<xr;qn++)$r[qn]=0;for(qn=lr;qn<=ur;qn++){const kr=Tn[qn];if(Sr>=xr){Nn(kr,zn,Zn,!0);continue}let Tr;if(kr.key!=null)Tr=Or.get(kr.key);else for(vr=dr;vr<=Kn;vr++)if($r[vr-dr]===0&&isSameVNodeType(kr,Pn[vr])){Tr=vr;break}Tr===void 0?Nn(kr,zn,Zn,!0):($r[Tr-dr]=qn+1,Tr>=Pr?Pr=Tr:Cr=!0,de(kr,Pn[Tr],Vn,null,zn,Zn,Jn,rr,nr),Sr++)}const Mr=Cr?getSequence($r):EMPTY_ARR;for(vr=Mr.length-1,qn=xr-1;qn>=0;qn--){const kr=dr+qn,Tr=Pn[kr],Vr=kr+1<sr?Pn[kr+1].el:Fn;$r[qn]===0?de(null,Tr,Vn,Vr,zn,Zn,Jn,rr,nr):Cr&&(vr<0||qn!==Mr[vr]?Qn(Tr,Vn,Vr,2):vr--)}}},Qn=(Tn,Pn,Vn,Fn,zn=null)=>{const{el:Zn,type:Jn,transition:rr,children:nr,shapeFlag:qn}=Tn;if(qn&6){Qn(Tn.component.subTree,Pn,Vn,Fn);return}if(qn&128){Tn.suspense.move(Pn,Vn,Fn);return}if(qn&64){Jn.move(Tn,Pn,Vn,Gn);return}if(Jn===Fragment){o(Zn,Pn,Vn);for(let ur=0;ur<nr.length;ur++)Qn(nr[ur],Pn,Vn,Fn);o(Tn.anchor,Pn,Vn);return}if(Jn===Static){Ue(Tn,Pn,Vn);return}if(Fn!==2&&qn&1&&rr)if(Fn===0)rr.beforeEnter(Zn),o(Zn,Pn,Vn),queuePostRenderEffect(()=>rr.enter(Zn),zn);else{const{leave:ur,delayLeave:Kn,afterLeave:lr}=rr,dr=()=>o(Zn,Pn,Vn),Or=()=>{ur(Zn,()=>{dr(),lr&&lr()})};Kn?Kn(Zn,dr,Or):Or()}else o(Zn,Pn,Vn)},Nn=(Tn,Pn,Vn,Fn=!1,zn=!1)=>{const{type:Zn,props:Jn,ref:rr,children:nr,dynamicChildren:qn,shapeFlag:sr,patchFlag:ur,dirs:Kn}=Tn;if(rr!=null&&setRef(rr,null,Vn,Tn,!0),sr&256){Pn.ctx.deactivate(Tn);return}const lr=sr&1&&Kn,dr=!isAsyncWrapper(Tn);let Or;if(dr&&(Or=Jn&&Jn.onVnodeBeforeUnmount)&&invokeVNodeHook(Or,Pn,Tn),sr&6)An(Tn.component,Vn,Fn);else{if(sr&128){Tn.suspense.unmount(Vn,Fn);return}lr&&invokeDirectiveHook(Tn,null,Pn,"beforeUnmount"),sr&64?Tn.type.remove(Tn,Pn,Vn,zn,Gn,Fn):qn&&(Zn!==Fragment||ur>0&&ur&64)?Ln(qn,Pn,Vn,!1,!0):(Zn===Fragment&&ur&384||!zn&&sr&16)&&Ln(nr,Pn,Vn),Fn&&Hn(Tn)}(dr&&(Or=Jn&&Jn.onVnodeUnmounted)||lr)&&queuePostRenderEffect(()=>{Or&&invokeVNodeHook(Or,Pn,Tn),lr&&invokeDirectiveHook(Tn,null,Pn,"unmounted")},Vn)},Hn=Tn=>{const{type:Pn,el:Vn,anchor:Fn,transition:zn}=Tn;if(Pn===Fragment){Dn(Vn,Fn);return}if(Pn===Static){hn(Tn);return}const Zn=()=>{s(Vn),zn&&!zn.persisted&&zn.afterLeave&&zn.afterLeave()};if(Tn.shapeFlag&1&&zn&&!zn.persisted){const{leave:Jn,delayLeave:rr}=zn,nr=()=>Jn(Vn,Zn);rr?rr(Tn.el,Zn,nr):nr()}else Zn()},Dn=(Tn,Pn)=>{let Vn;for(;Tn!==Pn;)Vn=A(Tn),s(Tn),Tn=Vn;s(Pn)},An=(Tn,Pn,Vn)=>{const{bum:Fn,scope:zn,update:Zn,subTree:Jn,um:rr}=Tn;Fn&&invokeArrayFns(Fn),zn.stop(),Zn&&(Zn.active=!1,Nn(Jn,Tn,Pn,Vn)),rr&&queuePostRenderEffect(rr,Pn),queuePostRenderEffect(()=>{Tn.isUnmounted=!0},Pn),Pn&&Pn.pendingBranch&&!Pn.isUnmounted&&Tn.asyncDep&&!Tn.asyncResolved&&Tn.suspenseId===Pn.pendingId&&(Pn.deps--,Pn.deps===0&&Pn.resolve())},Ln=(Tn,Pn,Vn,Fn=!1,zn=!1,Zn=0)=>{for(let Jn=Zn;Jn<Tn.length;Jn++)Nn(Tn[Jn],Pn,Vn,Fn,zn)},Yn=Tn=>Tn.shapeFlag&6?Yn(Tn.component.subTree):Tn.shapeFlag&128?Tn.suspense.next():A(Tn.anchor||Tn.el);let er=!1;const tr=(Tn,Pn,Vn)=>{Tn==null?Pn._vnode&&Nn(Pn._vnode,null,null,!0):de(Pn._vnode||null,Tn,Pn,null,null,null,Vn),er||(er=!0,flushPreFlushCbs(),flushPostFlushCbs(),er=!1),Pn._vnode=Tn},Gn={p:de,um:Nn,m:Qn,r:Hn,mt:Un,mc:wn,pc:Xn,pbc:En,n:Yn,o:n};let ir,cr;return{render:tr,hydrate:ir,createApp:createAppAPI(tr,ir)}}function resolveChildrenNamespace({type:n,props:e},r){return r==="svg"&&n==="foreignObject"||r==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function toggleRecurse({effect:n,update:e},r){n.allowRecurse=e.allowRecurse=r}function needTransition(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(n,e,r=!1){const o=n.children,s=e.children;if(isArray$2(o)&&isArray$2(s))for(let a=0;a<o.length;a++){const l=o[a];let c=s[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[a]=cloneIfMounted(s[a]),c.el=l.el),r||traverseStaticChildren(l,c)),c.type===Text$1&&(c.el=l.el)}}function getSequence(n){const e=n.slice(),r=[0];let o,s,a,l,c;const d=n.length;for(o=0;o<d;o++){const f=n[o];if(f!==0){if(s=r[r.length-1],n[s]<f){e[o]=s,r.push(o);continue}for(a=0,l=r.length-1;a<l;)c=a+l>>1,n[r[c]]<f?a=c+1:l=c;f<n[r[a]]&&(a>0&&(e[o]=r[a-1]),r[a]=o)}}for(a=r.length,l=r[a-1];a-- >0;)r[a]=l,l=e[l];return r}function locateNonHydratedAsyncRoot(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}const isTeleport=n=>n.__isTeleport,isTeleportDisabled=n=>n&&(n.disabled||n.disabled===""),isTargetSVG=n=>typeof SVGElement<"u"&&n instanceof SVGElement,isTargetMathML=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,resolveTarget=(n,e)=>{const r=n&&n.to;return isString$2(r)?e?e(r):null:r},TeleportImpl={name:"Teleport",__isTeleport:!0,process(n,e,r,o,s,a,l,c,d,f){const{mc:g,pc:v,pbc:A,o:{insert:M,querySelector:Y,createText:de,createComment:ae}}=f,ze=isTeleportDisabled(e.props);let{shapeFlag:qe,children:Ue,dynamicChildren:hn}=e;if(n==null){const On=e.el=de(""),vn=e.anchor=de("");M(On,r,o),M(vn,r,o);const bn=e.target=resolveTarget(e.props,Y),wn=e.targetAnchor=de("");bn&&(M(wn,bn),l==="svg"||isTargetSVG(bn)?l="svg":(l==="mathml"||isTargetMathML(bn))&&(l="mathml"));const Cn=(En,_n)=>{qe&16&&g(Ue,En,_n,s,a,l,c,d)};ze?Cn(r,vn):bn&&Cn(bn,wn)}else{e.el=n.el;const On=e.anchor=n.anchor,vn=e.target=n.target,bn=e.targetAnchor=n.targetAnchor,wn=isTeleportDisabled(n.props),Cn=wn?r:vn,En=wn?On:bn;if(l==="svg"||isTargetSVG(vn)?l="svg":(l==="mathml"||isTargetMathML(vn))&&(l="mathml"),hn?(A(n.dynamicChildren,hn,Cn,s,a,l,c),traverseStaticChildren(n,e,!0)):d||v(n,e,Cn,En,s,a,l,c,!1),ze)wn?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):moveTeleport(e,r,On,f,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const _n=e.target=resolveTarget(e.props,Y);_n&&moveTeleport(e,_n,null,f,0)}else wn&&moveTeleport(e,vn,bn,f,1)}updateCssVars(e)},remove(n,e,r,o,{um:s,o:{remove:a}},l){const{shapeFlag:c,children:d,anchor:f,targetAnchor:g,target:v,props:A}=n;if(v&&a(g),l&&a(f),c&16){const M=l||!isTeleportDisabled(A);for(let Y=0;Y<d.length;Y++){const de=d[Y];s(de,e,r,M,!!de.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(n,e,r,{o:{insert:o},m:s},a=2){a===0&&o(n.targetAnchor,e,r);const{el:l,anchor:c,shapeFlag:d,children:f,props:g}=n,v=a===2;if(v&&o(l,e,r),(!v||isTeleportDisabled(g))&&d&16)for(let A=0;A<f.length;A++)s(f[A],e,r,2);v&&o(c,e,r)}function hydrateTeleport(n,e,r,o,s,a,{o:{nextSibling:l,parentNode:c,querySelector:d}},f){const g=e.target=resolveTarget(e.props,d);if(g){const v=g._lpa||g.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=f(l(n),e,c(n),r,o,s,a),e.targetAnchor=v;else{e.anchor=l(n);let A=v;for(;A;)if(A=l(A),A&&A.nodeType===8&&A.data==="teleport anchor"){e.targetAnchor=A,g._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,g,r,o,s,a)}updateCssVars(e)}return e.anchor&&l(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(n){const e=n.ctx;if(e&&e.ut){let r=n.children[0].el;for(;r&&r!==n.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,r,o,s,a){return setupBlock(createBaseVNode(n,e,r,o,s,a,!0))}function createBlock(n,e,r,o,s){return setupBlock(createVNode(n,e,r,o,s,!0))}function isVNode(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}const normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:e,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?isString$2(n)||isRef(n)||isFunction$2(n)?{i:currentRenderingInstance,r:n,k:e,f:!!r}:n:null);function createBaseVNode(n,e=null,r=null,o=0,s=null,a=n===Fragment?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(d,r),a&128&&n.normalize(d)):r&&(d.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(n,e=null,r=null,o=0,s=null,a=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode(n)){const c=cloneVNode(n,e,!0);return r&&normalizeChildren(c,r),isBlockTreeEnabled>0&&!a&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:d}=e;c&&!isString$2(c)&&(e.class=normalizeClass(c)),isObject$2(d)&&(isProxy(d)&&!isArray$2(d)&&(d=extend$2({},d)),e.style=normalizeStyle(d))}const l=isString$2(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$2(n)?4:isFunction$2(n)?2:0;return createBaseVNode(n,e,r,o,s,l,a,!0)}function guardReactiveProps(n){return n?isProxy(n)||isInternalObject(n)?extend$2({},n):n:null}function cloneVNode(n,e,r=!1,o=!1){const{props:s,ref:a,patchFlag:l,children:c,transition:d}=n,f=e?mergeProps(s||{},e):s,g={__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&normalizeKey(f),ref:e&&e.ref?r&&a?isArray$2(a)?a.concat(normalizeRef(e)):[a,normalizeRef(e)]:normalizeRef(e):a,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:c,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?l===-1?16:l|16:l,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:d,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return d&&o&&(g.transition=d.clone(g)),g}function createTextVNode(n=" ",e=0){return createVNode(Text$1,null,n,e)}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray$2(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text$1,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let r=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(isArray$2(e))r=16;else if(typeof e=="object")if(o&65){const s=e.default;s&&(s._c&&(s._d=!1),normalizeChildren(n,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!isInternalObject(e)?e._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction$2(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),o&64?(r=16,e=[createTextVNode(e)]):r=8);n.children=e,n.shapeFlag|=r}function mergeProps(...n){const e={};for(let r=0;r<n.length;r++){const o=n[r];for(const s in o)if(s==="class")e.class!==o.class&&(e.class=normalizeClass([e.class,o.class]));else if(s==="style")e.style=normalizeStyle([e.style,o.style]);else if(isOn(s)){const a=e[s],l=o[s];l&&a!==l&&!(isArray$2(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=o[s])}return e}function invokeVNodeHook(n,e,r,o=null){callWithAsyncErrorHandling(n,e,7,[r,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(n,e,r){const o=n.type,s=(e?e.appContext:n.appContext)||emptyAppContext,a={uid:uid++,vnode:n,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=emit.bind(null,a),n.ce&&n.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const n=getGlobalThis(),e=(r,o)=>{let s;return(s=n[r])||(s=n[r]=[]),s.push(o),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",r=>currentInstance=r),setInSSRSetupState=e("__VUE_SSR_SETTERS__",r=>isInSSRComponentSetup=r)}const setCurrentInstance=n=>{const e=currentInstance;return internalSetCurrentInstance(n),n.scope.on(),()=>{n.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){e&&setInSSRSetupState(e);const{props:r,children:o}=n.vnode,s=isStatefulComponent(n);initProps(n,r,s,e),initSlots(n,o);const a=s?setupStatefulComponent(n,e):void 0;return e&&setInSSRSetupState(!1),a}function setupStatefulComponent(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,PublicInstanceProxyHandlers);const{setup:o}=r;if(o){const s=n.setupContext=o.length>1?createSetupContext(n):null,a=setCurrentInstance(n);pauseTracking();const l=callWithErrorHandling(o,n,0,[n.props,s]);if(resetTracking(),a(),isPromise(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),e)return l.then(c=>{handleSetupResult(n,c,e)}).catch(c=>{handleError(c,n,0)});n.asyncDep=l}else handleSetupResult(n,l,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,r){isFunction$2(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$2(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,r)}let compile;function finishComponentSetup(n,e,r){const o=n.type;if(!n.render){if(!e&&compile&&!o.render){const s=o.template||resolveMergedOptions(n).template;if(s){const{isCustomElement:a,compilerOptions:l}=n.appContext.config,{delimiters:c,compilerOptions:d}=o,f=extend$2(extend$2({isCustomElement:a,delimiters:c},l),d);o.render=compile(s,f)}}n.render=o.render||NOOP}{const s=setCurrentInstance(n);pauseTracking();try{applyOptions(n)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(n,e){return track(n,"get",""),n[e]}};function createSetupContext(n){const e=r=>{n.exposed=r||{}};return{attrs:new Proxy(n.attrs,attrsProxyHandlers),slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)},has(e,r){return r in e||r in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=n=>n.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(n,e=!0){return isFunction$2(n)?n.displayName||n.name:n.name||e&&n.__name}function formatComponentName(n,e,r=!1){let o=getComponentName(e);if(!o&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&n&&n.parent){const s=a=>{for(const l in a)if(a[l]===e)return l};o=s(n.components||n.parent.type.components)||s(n.appContext.components)}return o?classify(o):r?"App":"Anonymous"}function isClassComponent(n){return isFunction$2(n)&&"__vccOpts"in n}const computed=(n,e)=>computed$1(n,e,isInSSRComponentSetup);function h$1(n,e,r){const o=arguments.length;return o===2?isObject$2(e)&&!isArray$2(e)?isVNode(e)?createVNode(n,null,[e]):createVNode(n,e):createVNode(n,null,e):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&isVNode(r)&&(r=[r]),createVNode(n,e,r))}const version$1="3.4.27",warn=NOOP;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,o)=>{const s=e==="svg"?doc$1.createElementNS(svgNS,n):e==="mathml"?doc$1.createElementNS(mathmlNS,n):doc$1.createElement(n,r?{is:r}:void 0);return n==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:n=>doc$1.createTextNode(n),createComment:n=>doc$1.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc$1.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,r,o,s,a){const l=r?r.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===a||!(s=s.nextSibling)););else{templateContainer.innerHTML=o==="svg"?`<svg>${n}</svg>`:o==="mathml"?`<math>${n}</math>`:n;const c=templateContainer.content;if(o==="svg"||o==="mathml"){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,r)}return[l?l.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(n,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(n),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$2({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(n,e=[])=>{isArray$2(n)?n.forEach(r=>r(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray$2(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const Bn in n)Bn in DOMTransitionPropsValidators||(e[Bn]=n[Bn]);if(n.css===!1)return e;const{name:r="v",type:o,duration:s,enterFromClass:a=`${r}-enter-from`,enterActiveClass:l=`${r}-enter-active`,enterToClass:c=`${r}-enter-to`,appearFromClass:d=a,appearActiveClass:f=l,appearToClass:g=c,leaveFromClass:v=`${r}-leave-from`,leaveActiveClass:A=`${r}-leave-active`,leaveToClass:M=`${r}-leave-to`}=n,Y=normalizeDuration(s),de=Y&&Y[0],ae=Y&&Y[1],{onBeforeEnter:ze,onEnter:qe,onEnterCancelled:Ue,onLeave:hn,onLeaveCancelled:On,onBeforeAppear:vn=ze,onAppear:bn=qe,onAppearCancelled:wn=Ue}=e,Cn=(Bn,jn,Un)=>{removeTransitionClass(Bn,jn?g:c),removeTransitionClass(Bn,jn?f:l),Un&&Un()},En=(Bn,jn)=>{Bn._isLeaving=!1,removeTransitionClass(Bn,v),removeTransitionClass(Bn,M),removeTransitionClass(Bn,A),jn&&jn()},_n=Bn=>(jn,Un)=>{const Rn=Bn?bn:qe,Wn=()=>Cn(jn,Bn,Un);callHook(Rn,[jn,Wn]),nextFrame(()=>{removeTransitionClass(jn,Bn?d:a),addTransitionClass(jn,Bn?g:c),hasExplicitCallback(Rn)||whenTransitionEnds(jn,o,de,Wn)})};return extend$2(e,{onBeforeEnter(Bn){callHook(ze,[Bn]),addTransitionClass(Bn,a),addTransitionClass(Bn,l)},onBeforeAppear(Bn){callHook(vn,[Bn]),addTransitionClass(Bn,d),addTransitionClass(Bn,f)},onEnter:_n(!1),onAppear:_n(!0),onLeave(Bn,jn){Bn._isLeaving=!0;const Un=()=>En(Bn,jn);addTransitionClass(Bn,v),addTransitionClass(Bn,A),forceReflow(),nextFrame(()=>{Bn._isLeaving&&(removeTransitionClass(Bn,v),addTransitionClass(Bn,M),hasExplicitCallback(hn)||whenTransitionEnds(Bn,o,ae,Un))}),callHook(hn,[Bn,Un])},onEnterCancelled(Bn){Cn(Bn,!1),callHook(Ue,[Bn])},onAppearCancelled(Bn){Cn(Bn,!0),callHook(wn,[Bn])},onLeaveCancelled(Bn){En(Bn),callHook(On,[Bn])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$2(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber$1(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n[vtcKey]||(n[vtcKey]=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(o=>o&&n.classList.remove(o));const r=n[vtcKey];r&&(r.delete(e),r.size||(n[vtcKey]=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,r,o){const s=n._endId=++endId,a=()=>{s===n._endId&&o()};if(r)return setTimeout(a,r);const{type:l,timeout:c,propCount:d}=getTransitionInfo(n,e);if(!l)return o();const f=l+"end";let g=0;const v=()=>{n.removeEventListener(f,A),a()},A=M=>{M.target===n&&++g>=d&&v()};setTimeout(()=>{g<d&&v()},c+1),n.addEventListener(f,A)}function getTransitionInfo(n,e){const r=window.getComputedStyle(n),o=Y=>(r[Y]||"").split(", "),s=o(`${TRANSITION}Delay`),a=o(`${TRANSITION}Duration`),l=getTimeout(s,a),c=o(`${ANIMATION}Delay`),d=o(`${ANIMATION}Duration`),f=getTimeout(c,d);let g=null,v=0,A=0;e===TRANSITION?l>0&&(g=TRANSITION,v=l,A=a.length):e===ANIMATION?f>0&&(g=ANIMATION,v=f,A=d.length):(v=Math.max(l,f),g=v>0?l>f?TRANSITION:ANIMATION:null,A=g?g===TRANSITION?a.length:d.length:0);const M=g===TRANSITION&&/\b(transform|all)(,|$)/.test(o(`${TRANSITION}Property`).toString());return{type:g,timeout:v,propCount:A,hasTransform:M}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((r,o)=>toMs(r)+toMs(n[o])))}function toMs(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(n,e,r){const o=n[vtcKey];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(n,{value:e},{transition:r}){n[vShowOriginalDisplay]=n.style.display==="none"?"":n.style.display,r&&e?r.beforeEnter(n):setDisplay(n,e)},mounted(n,{value:e},{transition:r}){r&&e&&r.enter(n)},updated(n,{value:e,oldValue:r},{transition:o}){!e!=!r&&(o?e?(o.beforeEnter(n),setDisplay(n,!0),o.enter(n)):o.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,e))},beforeUnmount(n,{value:e}){setDisplay(n,e)}};function setDisplay(n,e){n.style.display=e?n[vShowOriginalDisplay]:"none",n[vShowHidden]=!e}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(n,e,r){const o=n.style,s=isString$2(r);let a=!1;if(r&&!s){if(e)if(isString$2(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();r[c]==null&&setStyle(o,c,"")}else for(const l in e)r[l]==null&&setStyle(o,l,"");for(const l in r)l==="display"&&(a=!0),setStyle(o,l,r[l])}else if(s){if(e!==r){const l=o[CSS_VAR_TEXT];l&&(r+=";"+l),o.cssText=r,a=displayRE.test(r)}}else e&&n.removeAttribute("style");vShowOriginalDisplay in n&&(n[vShowOriginalDisplay]=a?o.display:"",n[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(n,e,r){if(isArray$2(r))r.forEach(o=>setStyle(n,e,o));else if(r==null&&(r=""),e.startsWith("--"))n.setProperty(e,r);else{const o=autoPrefix(n,e);importantRE.test(r)?n.setProperty(hyphenate$1(o),r.replace(importantRE,""),"important"):n[o]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const r=prefixCache[e];if(r)return r;let o=camelize(e);if(o!=="filter"&&o in n)return prefixCache[e]=o;o=capitalize$1(o);for(let s=0;s<prefixes.length;s++){const a=prefixes[s]+o;if(a in n)return prefixCache[e]=a}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,r,o,s){if(o&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,r);else{const a=isSpecialBooleanAttr(e);r==null||a&&!includeBooleanAttr(r)?n.removeAttribute(e):n.setAttribute(e,a?"":r)}}function patchDOMProp(n,e,r,o,s,a,l){if(e==="innerHTML"||e==="textContent"){o&&l(o,s,a),n[e]=r??"";return}const c=n.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){const f=c==="OPTION"?n.getAttribute("value")||"":n.value,g=r??"";(f!==g||!("_value"in n))&&(n.value=g),r==null&&n.removeAttribute(e),n._value=r;return}let d=!1;if(r===""||r==null){const f=typeof n[e];f==="boolean"?r=includeBooleanAttr(r):r==null&&f==="string"?(r="",d=!0):f==="number"&&(r=0,d=!0)}try{n[e]=r}catch{}d&&n.removeAttribute(e)}function addEventListener(n,e,r,o){n.addEventListener(e,r,o)}function removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}const veiKey=Symbol("_vei");function patchEvent(n,e,r,o,s=null){const a=n[veiKey]||(n[veiKey]={}),l=a[e];if(o&&l)l.value=o;else{const[c,d]=parseName(e);if(o){const f=a[e]=createInvoker(o,s);addEventListener(n,c,f,d)}else l&&(removeEventListener(n,c,l,d),a[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let o;for(;o=n.match(optionsModifierRE);)n=n.slice(0,n.length-o[0].length),e[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate$1(n.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,e){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,r.value),e,5,[o])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,e){if(isArray$2(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(o=>s=>!s._stopped&&o&&o(s))}else return e}const isNativeOn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,patchProp=(n,e,r,o,s,a,l,c,d)=>{const f=s==="svg";e==="class"?patchClass(n,o,f):e==="style"?patchStyle(n,r,o):isOn(e)?isModelListener(e)||patchEvent(n,e,r,o,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,o,f))?patchDOMProp(n,e,o,a,l,c,d):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),patchAttr(n,e,o,f))};function shouldSetAsProp(n,e,r,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in n&&isNativeOn(e)&&isFunction$2(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(e)&&isString$2(r)?!1:e in n}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"]||!1;return isArray$2(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(n,{modifiers:{lazy:e,trim:r,number:o}},s){n[assignKey]=getModelAssigner(s);const a=o||s.props&&s.props.type==="number";addEventListener(n,e?"change":"input",l=>{if(l.target.composing)return;let c=n.value;r&&(c=c.trim()),a&&(c=looseToNumber(c)),n[assignKey](c)}),r&&addEventListener(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener(n,"compositionstart",onCompositionStart),addEventListener(n,"compositionend",onCompositionEnd),addEventListener(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:o,number:s}},a){if(n[assignKey]=getModelAssigner(a),n.composing)return;const l=(s||n.type==="number")&&!/^0\d/.test(n.value)?looseToNumber(n.value):n.value,c=e??"";l!==c&&(document.activeElement===n&&n.type!=="range"&&(r||o&&n.value.trim()===c)||(n.value=c))}},vModelCheckbox={deep:!0,created(n,e,r){n[assignKey]=getModelAssigner(r),addEventListener(n,"change",()=>{const o=n._modelValue,s=getValue$1(n),a=n.checked,l=n[assignKey];if(isArray$2(o)){const c=looseIndexOf(o,s),d=c!==-1;if(a&&!d)l(o.concat(s));else if(!a&&d){const f=[...o];f.splice(c,1),l(f)}}else if(isSet(o)){const c=new Set(o);a?c.add(s):c.delete(s),l(c)}else l(getCheckboxValue(n,a))})},mounted:setChecked,beforeUpdate(n,e,r){n[assignKey]=getModelAssigner(r),setChecked(n,e,r)}};function setChecked(n,{value:e,oldValue:r},o){n._modelValue=e,isArray$2(e)?n.checked=looseIndexOf(e,o.props.value)>-1:isSet(e)?n.checked=e.has(o.props.value):e!==r&&(n.checked=looseEqual(e,getCheckboxValue(n,!0)))}const vModelRadio={created(n,{value:e},r){n.checked=looseEqual(e,r.props.value),n[assignKey]=getModelAssigner(r),addEventListener(n,"change",()=>{n[assignKey](getValue$1(n))})},beforeUpdate(n,{value:e,oldValue:r},o){n[assignKey]=getModelAssigner(o),e!==r&&(n.checked=looseEqual(e,o.props.value))}};function getValue$1(n){return"_value"in n?n._value:n.value}function getCheckboxValue(n,e){const r=e?"_trueValue":"_falseValue";return r in n?n[r]:e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>systemModifiers.some(r=>n[`${r}Key`]&&!e.includes(r))},withModifiers=(n,e)=>{const r=n._withMods||(n._withMods={}),o=e.join(".");return r[o]||(r[o]=(s,...a)=>{for(let l=0;l<e.length;l++){const c=modifierGuards[e[l]];if(c&&c(s,e))return}return n(s,...a)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,e)=>{const r=n._withKeys||(n._withKeys={}),o=e.join(".");return r[o]||(r[o]=s=>{if(!("key"in s))return;const a=hyphenate$1(s.key);if(e.some(l=>l===a||keyNames[l]===a))return n(s)})},rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...n)=>{ensureRenderer().render(...n)},createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:r}=e;return e.mount=o=>{const s=normalizeContainer(o);if(!s)return;const a=e._component;!isFunction$2(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.innerHTML="";const l=r(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function resolveRootNamespace(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function normalizeContainer(n){return isString$2(n)?document.querySelector(n):n}const composeEventHandlers=(n,e,{checkForDefaultPrevented:r=!0}={})=>s=>{const a=n==null?void 0:n(s);if(r===!1||!a)return e==null?void 0:e(s)},whenMouse=n=>e=>e.pointerType==="mouse"?n(e):void 0;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(n,e,r)=>e in n?__defProp$9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues$9=(n,e)=>{for(var r in e||(e={}))__hasOwnProp$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(e))__propIsEnum$b.call(e,r)&&__defNormalProp$9(n,r,e[r]);return n},__spreadProps$6=(n,e)=>__defProps$6(n,__getOwnPropDescs$6(e));function computedEager(n,e){var r;const o=shallowRef();return watchEffect(()=>{o.value=n()},__spreadProps$6(__spreadValues$9({},e),{flush:(r=void 0)!=null?r:"sync"})),readonly(o)}var _a$1;const isClient=typeof window<"u",isString$1=n=>typeof n=="string",noop$1=()=>{},isIOS=isClient&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(n){return typeof n=="function"?n():unref(n)}function identity$1(n){return n}function tryOnScopeDispose(n){return getCurrentScope()?(onScopeDispose(n),!0):!1}function tryOnMounted(n,e=!0){getCurrentInstance()?onMounted(n):e?n():nextTick(n)}function useTimeoutFn(n,e,r={}){const{immediate:o=!0}=r,s=ref(!1);let a=null;function l(){a&&(clearTimeout(a),a=null)}function c(){s.value=!1,l()}function d(...f){l(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,n(...f)},resolveUnref(e))}return o&&(s.value=!0,isClient&&d()),tryOnScopeDispose(c),{isPending:readonly(s),start:d,stop:c}}function unrefElement(n){var e;const r=resolveUnref(n);return(e=r==null?void 0:r.$el)!=null?e:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...n){let e,r,o,s;if(isString$1(n[0])||Array.isArray(n[0])?([r,o,s]=n,e=defaultWindow):[e,r,o,s]=n,!e)return noop$1;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const a=[],l=()=>{a.forEach(g=>g()),a.length=0},c=(g,v,A,M)=>(g.addEventListener(v,A,M),()=>g.removeEventListener(v,A,M)),d=watch(()=>[unrefElement(e),resolveUnref(s)],([g,v])=>{l(),g&&a.push(...r.flatMap(A=>o.map(M=>c(g,A,M,v))))},{immediate:!0,flush:"post"}),f=()=>{d(),l()};return tryOnScopeDispose(f),f}let _iOSWorkaround=!1;function onClickOutside(n,e,r={}){const{window:o=defaultWindow,ignore:s=[],capture:a=!0,detectIframe:l=!1}=r;if(!o)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(o.document.body.children).forEach(A=>A.addEventListener("click",noop$1)));let c=!0;const d=A=>s.some(M=>{if(typeof M=="string")return Array.from(o.document.querySelectorAll(M)).some(Y=>Y===A.target||A.composedPath().includes(Y));{const Y=unrefElement(M);return Y&&(A.target===Y||A.composedPath().includes(Y))}}),g=[useEventListener(o,"click",A=>{const M=unrefElement(n);if(!(!M||M===A.target||A.composedPath().includes(M))){if(A.detail===0&&(c=!d(A)),!c){c=!0;return}e(A)}},{passive:!0,capture:a}),useEventListener(o,"pointerdown",A=>{const M=unrefElement(n);M&&(c=!A.composedPath().includes(M)&&!d(A))},{passive:!0}),l&&useEventListener(o,"blur",A=>{var M;const Y=unrefElement(n);((M=o.document.activeElement)==null?void 0:M.tagName)==="IFRAME"&&!(Y!=null&&Y.contains(o.document.activeElement))&&e(A)})].filter(Boolean);return()=>g.forEach(A=>A())}function useSupported(n,e=!1){const r=ref(),o=()=>r.value=!!n();return o(),tryOnMounted(o,e),r}const _global$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$1[globalKey]=_global$1[globalKey]||{};function useDocumentVisibility({document:n=defaultDocument}={}){if(!n)return ref("visible");const e=ref(n.visibilityState);return useEventListener(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(n,e)=>{var r={};for(var o in n)__hasOwnProp$g.call(n,o)&&e.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&__getOwnPropSymbols$g)for(var o of __getOwnPropSymbols$g(n))e.indexOf(o)<0&&__propIsEnum$g.call(n,o)&&(r[o]=n[o]);return r};function useResizeObserver(n,e,r={}){const o=r,{window:s=defaultWindow}=o,a=__objRest$2(o,["window"]);let l;const c=useSupported(()=>s&&"ResizeObserver"in s),d=()=>{l&&(l.disconnect(),l=void 0)},f=watch(()=>unrefElement(n),v=>{d(),c.value&&s&&v&&(l=new ResizeObserver(e),l.observe(v,a))},{immediate:!0,flush:"post"}),g=()=>{d(),f()};return tryOnScopeDispose(g),{isSupported:c,stop:g}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(n,e)=>{var r={};for(var o in n)__hasOwnProp$8.call(n,o)&&e.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&__getOwnPropSymbols$8)for(var o of __getOwnPropSymbols$8(n))e.indexOf(o)<0&&__propIsEnum$8.call(n,o)&&(r[o]=n[o]);return r};function useMutationObserver(n,e,r={}){const o=r,{window:s=defaultWindow}=o,a=__objRest$1(o,["window"]);let l;const c=useSupported(()=>s&&"MutationObserver"in s),d=()=>{l&&(l.disconnect(),l=void 0)},f=watch(()=>unrefElement(n),v=>{d(),c.value&&s&&v&&(l=new MutationObserver(e),l.observe(v,a))},{immediate:!0}),g=()=>{d(),f()};return tryOnScopeDispose(g),{isSupported:c,stop:g}}var SwipeDirection;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(n,e,r)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues=(n,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(n,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(n,r,e[r]);return n};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useWindowFocus({window:n=defaultWindow}={}){if(!n)return ref(!1);const e=ref(n.document.hasFocus());return useEventListener(n,"blur",()=>{e.value=!1}),useEventListener(n,"focus",()=>{e.value=!0}),e}const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),getClientXY=n=>{let e,r;return n.type==="touchend"?(r=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(r=n.touches[0].clientY,e=n.touches[0].clientX):(r=n.clientY,e=n.clientX),{clientX:e,clientY:r}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(n){var e=hasOwnProperty$a.call(n,symToStringTag$1),r=n[symToStringTag$1];try{n[symToStringTag$1]=void 0;var o=!0}catch{}var s=nativeObjectToString$1.call(n);return o&&(e?n[symToStringTag$1]=r:delete n[symToStringTag$1]),s}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(n){return nativeObjectToString.call(n)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(n)?getRawTag(n):objectToString(n)}function isObjectLike(n){return n!=null&&typeof n=="object"}var symbolTag$1="[object Symbol]";function isSymbol(n){return typeof n=="symbol"||isObjectLike(n)&&baseGetTag(n)==symbolTag$1}function arrayMap(n,e){for(var r=-1,o=n==null?0:n.length,s=Array(o);++r<o;)s[r]=e(n[r],r,n);return s}var isArray$1=Array.isArray,INFINITY$1=1/0,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(n){if(typeof n=="string")return n;if(isArray$1(n))return arrayMap(n,baseToString)+"";if(isSymbol(n))return symbolToString?symbolToString.call(n):"";var e=n+"";return e=="0"&&1/n==-INFINITY$1?"-0":e}var reWhitespace=/\s/;function trimmedEndIndex(n){for(var e=n.length;e--&&reWhitespace.test(n.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(n){return n&&n.slice(0,trimmedEndIndex(n)+1).replace(reTrimStart,"")}function isObject$1(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(n){if(typeof n=="number")return n;if(isSymbol(n))return NAN;if(isObject$1(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=isObject$1(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=baseTrim(n);var r=reIsBinary.test(n);return r||reIsOctal.test(n)?freeParseInt(n.slice(2),r?2:8):reIsBadHex.test(n)?NAN:+n}function identity(n){return n}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(n){if(!isObject$1(n))return!1;var e=baseGetTag(n);return e==funcTag$1||e==genTag||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var n=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function isMasked(n){return!!maskSrcKey&&maskSrcKey in n}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(n){if(n!=null){try{return funcToString$1.call(n)}catch{}try{return n+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$a=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(n){if(!isObject$1(n)||isMasked(n))return!1;var e=isFunction$1(n)?reIsNative:reIsHostCtor;return e.test(toSource(n))}function getValue(n,e){return n==null?void 0:n[e]}function getNative(n,e){var r=getValue(n,e);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root,"WeakMap");function apply(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(n){var e=0,r=0;return function(){var o=nativeNow(),s=HOT_SPAN-(o-r);if(r=o,s>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function constant(n){return function(){return n}}var defineProperty=function(){try{var n=getNative(Object,"defineProperty");return n({},"",{}),n}catch{}}(),baseSetToString=defineProperty?function(n,e){return defineProperty(n,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity,setToString=shortOut(baseSetToString);function baseFindIndex(n,e,r,o){n.length;for(var s=r+1;s--;)if(e(n[s],s,n))return s;return-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(n,e){var r=typeof n;return e=e??MAX_SAFE_INTEGER$1,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<e}function baseAssignValue(n,e,r){e=="__proto__"&&defineProperty?defineProperty(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}function eq(n,e){return n===e||n!==n&&e!==e}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function assignValue(n,e,r){var o=n[e];(!(hasOwnProperty$8.call(n,e)&&eq(o,r))||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}var nativeMax$1=Math.max;function overRest(n,e,r){return e=nativeMax$1(e===void 0?n.length-1:e,0),function(){for(var o=arguments,s=-1,a=nativeMax$1(o.length-e,0),l=Array(a);++s<a;)l[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=r(l),apply(n,this,c)}}var MAX_SAFE_INTEGER=9007199254740991;function isLength(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER}function isArrayLike(n){return n!=null&&isLength(n.length)&&!isFunction$1(n)}var objectProto$8=Object.prototype;function isPrototype(n){var e=n&&n.constructor,r=typeof e=="function"&&e.prototype||objectProto$8;return n===r}function baseTimes(n,e){for(var r=-1,o=Array(n);++r<n;)o[r]=e(r);return o}var argsTag$2="[object Arguments]";function baseIsArguments(n){return isObjectLike(n)&&baseGetTag(n)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(n){return isObjectLike(n)&&hasOwnProperty$7.call(n,"callee")&&!propertyIsEnumerable$1.call(n,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(n){return isObjectLike(n)&&isLength(n.length)&&!!typedArrayTags[baseGetTag(n)]}function baseUnary(n){return function(e){return n(e)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var n=freeModule&&freeModule.require&&freeModule.require("util").types;return n||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(n,e){var r=isArray$1(n),o=!r&&isArguments(n),s=!r&&!o&&isBuffer$1(n),a=!r&&!o&&!s&&isTypedArray$1(n),l=r||o||s||a,c=l?baseTimes(n.length,String):[],d=c.length;for(var f in n)hasOwnProperty$6.call(n,f)&&!(l&&(f=="length"||s&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||isIndex(f,d)))&&c.push(f);return c}function overArg(n,e){return function(r){return n(e(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(n){if(!isPrototype(n))return nativeKeys(n);var e=[];for(var r in Object(n))hasOwnProperty$5.call(n,r)&&r!="constructor"&&e.push(r);return e}function keys$1(n){return isArrayLike(n)?arrayLikeKeys(n):baseKeys(n)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(n,e){if(isArray$1(n))return!1;var r=typeof n;return r=="number"||r=="symbol"||r=="boolean"||n==null||isSymbol(n)?!0:reIsPlainProp.test(n)||!reIsDeepProp.test(n)||e!=null&&n in Object(e)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(n){var e=this.__data__;if(nativeCreate){var r=e[n];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$4.call(e,n)?e[n]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(n){var e=this.__data__;return nativeCreate?e[n]!==void 0:hasOwnProperty$3.call(e,n)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var o=n[e];this.set(o[0],o[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(n,e){for(var r=n.length;r--;)if(eq(n[r][0],e))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(n){var e=this.__data__,r=assocIndexOf(e,n);if(r<0)return!1;var o=e.length-1;return r==o?e.pop():splice.call(e,r,1),--this.size,!0}function listCacheGet(n){var e=this.__data__,r=assocIndexOf(e,n);return r<0?void 0:e[r][1]}function listCacheHas(n){return assocIndexOf(this.__data__,n)>-1}function listCacheSet(n,e){var r=this.__data__,o=assocIndexOf(r,n);return o<0?(++this.size,r.push([n,e])):r[o][1]=e,this}function ListCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var o=n[e];this.set(o[0],o[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function getMapData(n,e){var r=n.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}function mapCacheDelete(n){var e=getMapData(this,n).delete(n);return this.size-=e?1:0,e}function mapCacheGet(n){return getMapData(this,n).get(n)}function mapCacheHas(n){return getMapData(this,n).has(n)}function mapCacheSet(n,e){var r=getMapData(this,n),o=r.size;return r.set(n,e),this.size+=r.size==o?0:1,this}function MapCache(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var o=n[e];this.set(o[0],o[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var r=function(){var o=arguments,s=e?e.apply(this,o):o[0],a=r.cache;if(a.has(s))return a.get(s);var l=n.apply(this,o);return r.cache=a.set(s,l)||a,l};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(n){var e=memoize(n,function(o){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),o}),r=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(rePropName,function(r,o,s,a){e.push(s?a.replace(reEscapeChar,"$1"):o||r)}),e});function toString$1(n){return n==null?"":baseToString(n)}function castPath(n,e){return isArray$1(n)?n:isKey(n,e)?[n]:stringToPath(toString$1(n))}var INFINITY=1/0;function toKey(n){if(typeof n=="string"||isSymbol(n))return n;var e=n+"";return e=="0"&&1/n==-INFINITY?"-0":e}function baseGet(n,e){e=castPath(e,n);for(var r=0,o=e.length;n!=null&&r<o;)n=n[toKey(e[r++])];return r&&r==o?n:void 0}function get(n,e,r){var o=n==null?void 0:baseGet(n,e);return o===void 0?r:o}function arrayPush(n,e){for(var r=-1,o=e.length,s=n.length;++r<o;)n[s+r]=e[r];return n}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(n){return isArray$1(n)||isArguments(n)||!!(spreadableSymbol&&n&&n[spreadableSymbol])}function baseFlatten(n,e,r,o,s){var a=-1,l=n.length;for(r||(r=isFlattenable),s||(s=[]);++a<l;){var c=n[a];r(c)?arrayPush(s,c):s[s.length]=c}return s}function flatten$1(n){var e=n==null?0:n.length;return e?baseFlatten(n):[]}function flatRest(n){return setToString(overRest(n,void 0,flatten$1),n+"")}function castArray(){if(!arguments.length)return[];var n=arguments[0];return isArray$1(n)?n:[n]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}function stackGet(n){return this.__data__.get(n)}function stackHas(n){return this.__data__.has(n)}var LARGE_ARRAY_SIZE=200;function stackSet(n,e){var r=this.__data__;if(r instanceof ListCache){var o=r.__data__;if(!Map$1||o.length<LARGE_ARRAY_SIZE-1)return o.push([n,e]),this.size=++r.size,this;r=this.__data__=new MapCache(o)}return r.set(n,e),this.size=r.size,this}function Stack$1(n){var e=this.__data__=new ListCache(n);this.size=e.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;function arrayFilter(n,e){for(var r=-1,o=n==null?0:n.length,s=0,a=[];++r<o;){var l=n[r];e(l,r,n)&&(a[s++]=l)}return a}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(n){return n==null?[]:(n=Object(n),arrayFilter(nativeGetSymbols(n),function(e){return propertyIsEnumerable.call(n,e)}))}:stubArray;function baseGetAllKeys(n,e,r){var o=e(n);return isArray$1(n)?o:arrayPush(o,r(n))}function getAllKeys(n){return baseGetAllKeys(n,keys$1,getSymbols)}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(n){var e=baseGetTag(n),r=e==objectTag$1?n.constructor:void 0,o=r?toSource(r):"";if(o)switch(o){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return e});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(n){return this.__data__.set(n,HASH_UNDEFINED),this}function setCacheHas(n){return this.__data__.has(n)}function SetCache(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new MapCache;++e<r;)this.add(n[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(n,e){for(var r=-1,o=n==null?0:n.length;++r<o;)if(e(n[r],r,n))return!0;return!1}function cacheHas(n,e){return n.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(n,e,r,o,s,a){var l=r&COMPARE_PARTIAL_FLAG$5,c=n.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var f=a.get(n),g=a.get(e);if(f&&g)return f==e&&g==n;var v=-1,A=!0,M=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(a.set(n,e),a.set(e,n);++v<c;){var Y=n[v],de=e[v];if(o)var ae=l?o(de,Y,v,e,n,a):o(Y,de,v,n,e,a);if(ae!==void 0){if(ae)continue;A=!1;break}if(M){if(!arraySome(e,function(ze,qe){if(!cacheHas(M,qe)&&(Y===ze||s(Y,ze,r,o,a)))return M.push(qe)})){A=!1;break}}else if(!(Y===de||s(Y,de,r,o,a))){A=!1;break}}return a.delete(n),a.delete(e),A}function mapToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(o,s){r[++e]=[s,o]}),r}function setToArray(n){var e=-1,r=Array(n.size);return n.forEach(function(o){r[++e]=o}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(n,e,r,o,s,a,l){switch(r){case dataViewTag:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case arrayBufferTag:return!(n.byteLength!=e.byteLength||!a(new Uint8Array$1(n),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+n,+e);case errorTag:return n.name==e.name&&n.message==e.message;case regexpTag:case stringTag:return n==e+"";case mapTag:var c=mapToArray;case setTag:var d=o&COMPARE_PARTIAL_FLAG$4;if(c||(c=setToArray),n.size!=e.size&&!d)return!1;var f=l.get(n);if(f)return f==e;o|=COMPARE_UNORDERED_FLAG$2,l.set(n,e);var g=equalArrays(c(n),c(e),o,s,a,l);return l.delete(n),g;case symbolTag:if(symbolValueOf)return symbolValueOf.call(n)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(n,e,r,o,s,a){var l=r&COMPARE_PARTIAL_FLAG$3,c=getAllKeys(n),d=c.length,f=getAllKeys(e),g=f.length;if(d!=g&&!l)return!1;for(var v=d;v--;){var A=c[v];if(!(l?A in e:hasOwnProperty$2.call(e,A)))return!1}var M=a.get(n),Y=a.get(e);if(M&&Y)return M==e&&Y==n;var de=!0;a.set(n,e),a.set(e,n);for(var ae=l;++v<d;){A=c[v];var ze=n[A],qe=e[A];if(o)var Ue=l?o(qe,ze,A,e,n,a):o(ze,qe,A,n,e,a);if(!(Ue===void 0?ze===qe||s(ze,qe,r,o,a):Ue)){de=!1;break}ae||(ae=A=="constructor")}if(de&&!ae){var hn=n.constructor,On=e.constructor;hn!=On&&"constructor"in n&&"constructor"in e&&!(typeof hn=="function"&&hn instanceof hn&&typeof On=="function"&&On instanceof On)&&(de=!1)}return a.delete(n),a.delete(e),de}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(n,e,r,o,s,a){var l=isArray$1(n),c=isArray$1(e),d=l?arrayTag:getTag(n),f=c?arrayTag:getTag(e);d=d==argsTag?objectTag:d,f=f==argsTag?objectTag:f;var g=d==objectTag,v=f==objectTag,A=d==f;if(A&&isBuffer$1(n)){if(!isBuffer$1(e))return!1;l=!0,g=!1}if(A&&!g)return a||(a=new Stack$1),l||isTypedArray$1(n)?equalArrays(n,e,r,o,s,a):equalByTag(n,e,d,r,o,s,a);if(!(r&COMPARE_PARTIAL_FLAG$2)){var M=g&&hasOwnProperty$1.call(n,"__wrapped__"),Y=v&&hasOwnProperty$1.call(e,"__wrapped__");if(M||Y){var de=M?n.value():n,ae=Y?e.value():e;return a||(a=new Stack$1),s(de,ae,r,o,a)}}return A?(a||(a=new Stack$1),equalObjects(n,e,r,o,s,a)):!1}function baseIsEqual(n,e,r,o,s){return n===e?!0:n==null||e==null||!isObjectLike(n)&&!isObjectLike(e)?n!==n&&e!==e:baseIsEqualDeep(n,e,r,o,baseIsEqual,s)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(n,e,r,o){var s=r.length,a=s;if(n==null)return!a;for(n=Object(n);s--;){var l=r[s];if(l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++s<a;){l=r[s];var c=l[0],d=n[c],f=l[1];if(l[2]){if(d===void 0&&!(c in n))return!1}else{var g=new Stack$1,v;if(!(v===void 0?baseIsEqual(f,d,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,o,g):v))return!1}}return!0}function isStrictComparable(n){return n===n&&!isObject$1(n)}function getMatchData(n){for(var e=keys$1(n),r=e.length;r--;){var o=e[r],s=n[o];e[r]=[o,s,isStrictComparable(s)]}return e}function matchesStrictComparable(n,e){return function(r){return r==null?!1:r[n]===e&&(e!==void 0||n in Object(r))}}function baseMatches(n){var e=getMatchData(n);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(r){return r===n||baseIsMatch(r,n,e)}}function baseHasIn(n,e){return n!=null&&e in Object(n)}function hasPath(n,e,r){e=castPath(e,n);for(var o=-1,s=e.length,a=!1;++o<s;){var l=toKey(e[o]);if(!(a=n!=null&&r(n,l)))break;n=n[l]}return a||++o!=s?a:(s=n==null?0:n.length,!!s&&isLength(s)&&isIndex(l,s)&&(isArray$1(n)||isArguments(n)))}function hasIn(n,e){return n!=null&&hasPath(n,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(n,e){return isKey(n)&&isStrictComparable(e)?matchesStrictComparable(toKey(n),e):function(r){var o=get(r,n);return o===void 0&&o===e?hasIn(r,n):baseIsEqual(e,o,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(n){return function(e){return e==null?void 0:e[n]}}function basePropertyDeep(n){return function(e){return baseGet(e,n)}}function property(n){return isKey(n)?baseProperty(toKey(n)):basePropertyDeep(n)}function baseIteratee(n){return typeof n=="function"?n:n==null?identity:typeof n=="object"?isArray$1(n)?baseMatchesProperty(n[0],n[1]):baseMatches(n):property(n)}var now=function(){return root.Date.now()},FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(n,e,r){var o,s,a,l,c,d,f=0,g=!1,v=!1,A=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);e=toNumber(e)||0,isObject$1(r)&&(g=!!r.leading,v="maxWait"in r,a=v?nativeMax(toNumber(r.maxWait)||0,e):a,A="trailing"in r?!!r.trailing:A);function M(vn){var bn=o,wn=s;return o=s=void 0,f=vn,l=n.apply(wn,bn),l}function Y(vn){return f=vn,c=setTimeout(ze,e),g?M(vn):l}function de(vn){var bn=vn-d,wn=vn-f,Cn=e-bn;return v?nativeMin(Cn,a-wn):Cn}function ae(vn){var bn=vn-d,wn=vn-f;return d===void 0||bn>=e||bn<0||v&&wn>=a}function ze(){var vn=now();if(ae(vn))return qe(vn);c=setTimeout(ze,de(vn))}function qe(vn){return c=void 0,A&&o?M(vn):(o=s=void 0,l)}function Ue(){c!==void 0&&clearTimeout(c),f=0,o=d=s=c=void 0}function hn(){return c===void 0?l:qe(now())}function On(){var vn=now(),bn=ae(vn);if(o=arguments,s=this,d=vn,bn){if(c===void 0)return Y(d);if(v)return clearTimeout(c),c=setTimeout(ze,e),M(d)}return c===void 0&&(c=setTimeout(ze,e)),l}return On.cancel=Ue,On.flush=hn,On}function findLastIndex(n,e,r){var o=n==null?0:n.length;if(!o)return-1;var s=o-1;return baseFindIndex(n,baseIteratee(e),s)}function fromPairs(n){for(var e=-1,r=n==null?0:n.length,o={};++e<r;){var s=n[e];o[s[0]]=s[1]}return o}function isEqual(n,e){return baseIsEqual(n,e)}function isNil(n){return n==null}function isUndefined$2(n){return n===void 0}function baseSet(n,e,r,o){if(!isObject$1(n))return n;e=castPath(e,n);for(var s=-1,a=e.length,l=a-1,c=n;c!=null&&++s<a;){var d=toKey(e[s]),f=r;if(d==="__proto__"||d==="constructor"||d==="prototype")return n;if(s!=l){var g=c[d];f=void 0,f===void 0&&(f=isObject$1(g)?g:isIndex(e[s+1])?[]:{})}assignValue(c,d,f),c=c[d]}return n}function basePickBy(n,e,r){for(var o=-1,s=e.length,a={};++o<s;){var l=e[o],c=baseGet(n,l);r(c,l)&&baseSet(a,castPath(l,n),c)}return a}function basePick(n,e){return basePickBy(n,e,function(r,o){return hasIn(n,o)})}var pick=flatRest(function(n,e){return n==null?{}:basePick(n,e)});const isUndefined$1=n=>n===void 0,isBoolean$1=n=>typeof n=="boolean",isNumber$1=n=>typeof n=="number",isElement=n=>typeof Element>"u"?!1:n instanceof Element,isPropAbsent=n=>isNil(n),isStringNumber=n=>isString$2(n)?!Number.isNaN(Number(n)):!1,escapeStringRegexp=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=n=>capitalize$1(n),keysOf=n=>Object.keys(n);class ElementPlusError extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function throwError(n,e){throw new ElementPlusError(`[${n}] ${e}`)}function debugWarn(n,e){}const classNameToArray=(n="")=>n.split(" ").filter(e=>!!e.trim()),hasClass=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},addClass=(n,e)=>{!n||!e.trim()||n.classList.add(...classNameToArray(e))},removeClass=(n,e)=>{!n||!e.trim()||n.classList.remove(...classNameToArray(e))},getStyle=(n,e)=>{var r;if(!isClient||!n||!e)return"";let o=camelize(e);o==="float"&&(o="cssFloat");try{const s=n.style[o];if(s)return s;const a=(r=document.defaultView)==null?void 0:r.getComputedStyle(n,"");return a?a[o]:""}catch{return n.style[o]}};function addUnit(n,e="px"){if(!n)return"";if(isNumber$1(n)||isStringNumber(n))return`${n}${e}`;if(isString$2(n))return n}let scrollBarWidth;const getScrollBarWidth=n=>{var e;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${n}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const o=r.offsetWidth;r.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",r.appendChild(s);const a=s.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),scrollBarWidth=o-a,scrollBarWidth};function scrollIntoView$2(n,e){if(!isClient)return;if(!e){n.scrollTop=0;return}const r=[];let o=e.offsetParent;for(;o!==null&&n!==o&&n.contains(o);)r.push(o),o=o.offsetParent;const s=e.offsetTop+r.reduce((d,f)=>d+f.offsetTop,0),a=s+e.offsetHeight,l=n.scrollTop,c=l+n.clientHeight;s<l?n.scrollTop=s:a>c&&(n.scrollTop=a-n.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_left_default=arrow_left_vue_vue_type_script_setup_true_lang_default,arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowRight",__name:"arrow-right",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_right_default=arrow_right_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,caret_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretRight",__name:"caret-right",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),caret_right_default=caret_right_vue_vue_type_script_setup_true_lang_default,check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Check",__name:"check",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),check_default=check_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,document_add_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DocumentAdd",__name:"document-add",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})]))}}),document_add_default=document_add_vue_vue_type_script_setup_true_lang_default,document_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Document",__name:"document",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),document_default=document_vue_vue_type_script_setup_true_lang_default,folder_add_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"FolderAdd",__name:"folder-add",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})]))}}),folder_add_default=folder_add_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,refresh_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),refresh_left_default=refresh_left_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(n){return(e,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default;const epPropKey="__epPropKey",definePropType=n=>n,isEpProp=n=>isObject$2(n)&&!!n[epPropKey],buildProp=(n,e)=>{if(!isObject$2(n)||isEpProp(n))return n;const{values:r,required:o,default:s,type:a,validator:l}=n,d={type:a,required:!!o,validator:r||l?f=>{let g=!1,v=[];if(r&&(v=Array.from(r),hasOwn(n,"default")&&v.push(s),g||(g=v.includes(f))),l&&(g||(g=l(f))),!g&&v.length>0){const A=[...new Set(v)].map(M=>JSON.stringify(M)).join(", ");warn(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${A}], got value ${JSON.stringify(f)}.`)}return g}:void 0,[epPropKey]:!0};return hasOwn(n,"default")&&(d.default=s),d},buildProps=n=>fromPairs(Object.entries(n).map(([e,r])=>[e,buildProp(r,e)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(n,e)=>{if(n.install=r=>{for(const o of[n,...Object.values(e??{})])r.component(o.name,o)},e)for(const[r,o]of Object.entries(e))n[r]=o;return n},withInstallFunction=(n,e)=>(n.install=r=>{n._context=r._context,r.config.globalProperties[e]=n},n),withInstallDirective=(n,e)=>(n.install=r=>{r.directive(e,n)},n),withNoopInstall=n=>(n.install=NOOP,n),composeRefs=(...n)=>e=>{n.forEach(r=>{isFunction$2(r)?r(e):r.value=e})},EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",componentSizes=["","default","small","large"],isValidComponentSize=n=>["",...componentSizes].includes(n);var PatchFlags=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(PatchFlags||{});function isFragment(n){return isVNode(n)&&n.type===Fragment}function isComment(n){return isVNode(n)&&n.type===Comment}function isValidElementNode(n){return isVNode(n)&&!isFragment(n)&&!isComment(n)}const flattedChildren=n=>{const e=isArray$2(n)?n:[n],r=[];return e.forEach(o=>{var s;isArray$2(o)?r.push(...flattedChildren(o)):isVNode(o)&&isArray$2(o.children)?r.push(...flattedChildren(o.children)):(r.push(o),isVNode(o)&&((s=o.component)!=null&&s.subTree)&&r.push(...flattedChildren(o.component.subTree)))}),r},isKorean=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),mutable=n=>n,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(n={})=>{const{excludeListeners:e=!1,excludeKeys:r}=n,o=computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),s=getCurrentInstance();return computed(s?()=>{var a;return fromPairs(Object.entries((a=s.proxy)==null?void 0:a.$attrs).filter(([l])=>!o.value.includes(l)&&!(e&&LISTENER_PREFIX.test(l))))}:()=>({}))},useDeprecated=({from:n,replacement:e,scope:r,version:o,ref:s,type:a="API"},l)=>{watch(()=>unref(l),c=>{},{immediate:!0})},useDraggable=(n,e,r,o)=>{let s={offsetX:0,offsetY:0};const a=d=>{const f=d.clientX,g=d.clientY,{offsetX:v,offsetY:A}=s,M=n.value.getBoundingClientRect(),Y=M.left,de=M.top,ae=M.width,ze=M.height,qe=document.documentElement.clientWidth,Ue=document.documentElement.clientHeight,hn=-Y+v,On=-de+A,vn=qe-Y-ae+v,bn=Ue-de-ze+A,wn=En=>{let _n=v+En.clientX-f,Bn=A+En.clientY-g;o!=null&&o.value||(_n=Math.min(Math.max(_n,hn),vn),Bn=Math.min(Math.max(Bn,On),bn)),s={offsetX:_n,offsetY:Bn},n.value&&(n.value.style.transform=`translate(${addUnit(_n)}, ${addUnit(Bn)})`)},Cn=()=>{document.removeEventListener("mousemove",wn),document.removeEventListener("mouseup",Cn)};document.addEventListener("mousemove",wn),document.addEventListener("mouseup",Cn)},l=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",a)},c=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",a)};onMounted(()=>{watchEffect(()=>{r.value?l():c()})}),onBeforeUnmount(()=>{c()})};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=n=>(e,r)=>translate(e,r,unref(n)),translate=(n,e,r)=>get(r,n,n).replace(/\{(\w+)\}/g,(o,s)=>{var a;return`${(a=e==null?void 0:e[s])!=null?a:`{${s}}`}`}),buildLocaleContext=n=>{const e=computed(()=>unref(n).name),r=isRef(n)?n:ref(n);return{lang:e,locale:r,t:buildTranslator(n)}},localeContextKey=Symbol("localeContextKey"),useLocale=n=>{const e=n||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>e.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(n,e,r,o,s)=>{let a=`${n}-${e}`;return r&&(a+=`-${r}`),o&&(a+=`__${o}`),s&&(a+=`--${s}`),a},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=n=>{const e=n||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(e)||defaultNamespace)},useNamespace=(n,e)=>{const r=useGetDerivedNamespace(e);return{namespace:r,b:(de="")=>_bem(r.value,n,de,"",""),e:de=>de?_bem(r.value,n,"",de,""):"",m:de=>de?_bem(r.value,n,"","",de):"",be:(de,ae)=>de&&ae?_bem(r.value,n,de,ae,""):"",em:(de,ae)=>de&&ae?_bem(r.value,n,"",de,ae):"",bm:(de,ae)=>de&&ae?_bem(r.value,n,de,"",ae):"",bem:(de,ae,ze)=>de&&ae&&ze?_bem(r.value,n,de,ae,ze):"",is:(de,...ae)=>{const ze=ae.length>=1?ae[0]:!0;return de&&ze?`${statePrefix}${de}`:""},cssVar:de=>{const ae={};for(const ze in de)de[ze]&&(ae[`--${r.value}-${ze}`]=de[ze]);return ae},cssVarName:de=>`--${r.value}-${de}`,cssVarBlock:de=>{const ae={};for(const ze in de)de[ze]&&(ae[`--${r.value}-${n}-${ze}`]=de[ze]);return ae},cssVarBlockName:de=>`--${r.value}-${n}-${de}`}},useLockscreen=(n,e={})=>{isRef(n)||throwError("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||useNamespace("popup"),o=computed$1(()=>r.bm("parent","hidden"));if(!isClient||hasClass(document.body,o.value))return;let s=0,a=!1,l="0";const c=()=>{setTimeout(()=>{removeClass(document==null?void 0:document.body,o.value),a&&document&&(document.body.style.width=l)},200)};watch(n,d=>{if(!d){c();return}a=!hasClass(document.body,o.value),a&&(l=document.body.style.width),s=getScrollBarWidth(r.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,g=getStyle(document.body,"overflowY");s>0&&(f||g==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),addClass(document.body,o.value)}),onScopeDispose(()=>c())},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=n=>{const e=`update:${n}`,r=`onUpdate:${n}`,o=[e],s={[n]:_prop,[r]:_event};return{useModelToggle:({indicator:l,toggleReason:c,shouldHideWhenRouteChanges:d,shouldProceed:f,onShow:g,onHide:v})=>{const A=getCurrentInstance(),{emit:M}=A,Y=A.props,de=computed(()=>isFunction$2(Y[r])),ae=computed(()=>Y[n]===null),ze=bn=>{l.value!==!0&&(l.value=!0,c&&(c.value=bn),isFunction$2(g)&&g(bn))},qe=bn=>{l.value!==!1&&(l.value=!1,c&&(c.value=bn),isFunction$2(v)&&v(bn))},Ue=bn=>{if(Y.disabled===!0||isFunction$2(f)&&!f())return;const wn=de.value&&isClient;wn&&M(e,!0),(ae.value||!wn)&&ze(bn)},hn=bn=>{if(Y.disabled===!0||!isClient)return;const wn=de.value&&isClient;wn&&M(e,!1),(ae.value||!wn)&&qe(bn)},On=bn=>{isBoolean$1(bn)&&(Y.disabled&&bn?de.value&&M(e,!1):l.value!==bn&&(bn?ze():qe()))},vn=()=>{l.value?hn():Ue()};return watch(()=>Y[n],On),d&&A.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...A.proxy.$route}),()=>{d.value&&l.value&&hn()}),onMounted(()=>{On(Y[n])}),{hide:hn,show:Ue,toggle:vn,hasUpdateHandler:de}},useModelToggleProps:s,useModelToggleEmits:o}};createModelToggleComposable("modelValue");const useProp=n=>{const e=getCurrentInstance();return computed(()=>{var r,o;return(o=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:o[n]})};var E="top",R="bottom",W$1="right",P$1="left",me$1="auto",G=[E,R,W$1,P$1],U$2="start",J$1="end",Xe$1="clippingParents",je="viewport",K$1="popper",Ye="reference",De$1=G.reduce(function(n,e){return n.concat([e+"-"+U$2,e+"-"+J$1])},[]),Ee$1=[].concat(G,[me$1]).reduce(function(n,e){return n.concat([e,e+"-"+U$2,e+"-"+J$1])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe$1="beforeMain",Ze$1="main",et$1="afterMain",tt$1="beforeWrite",nt$1="write",rt$1="afterWrite",ot$1=[Ge,Je,Ke,Qe$1,Ze$1,et$1,tt$1,nt$1,rt$1];function C$2(n){return n?(n.nodeName||"").toLowerCase():null}function H$1(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Q$1(n){var e=H$1(n).Element;return n instanceof e||n instanceof Element}function B$1(n){var e=H$1(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Pe$1(n){if(typeof ShadowRoot>"u")return!1;var e=H$1(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Mt$1(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var o=e.styles[r]||{},s=e.attributes[r]||{},a=e.elements[r];!B$1(a)||!C$2(a)||(Object.assign(a.style,o),Object.keys(s).forEach(function(l){var c=s[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function Rt$1(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(o){var s=e.elements[o],a=e.attributes[o]||{},l=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:r[o]),c=l.reduce(function(d,f){return d[f]="",d},{});!B$1(s)||!C$2(s)||(Object.assign(s.style,c),Object.keys(a).forEach(function(d){s.removeAttribute(d)}))})}}var Ae$1={name:"applyStyles",enabled:!0,phase:"write",fn:Mt$1,effect:Rt$1,requires:["computeStyles"]};function q$1(n){return n.split("-")[0]}var X$1=Math.max,ve$1=Math.min,Z$1=Math.round;function ee$1(n,e){e===void 0&&(e=!1);var r=n.getBoundingClientRect(),o=1,s=1;if(B$1(n)&&e){var a=n.offsetHeight,l=n.offsetWidth;l>0&&(o=Z$1(r.width)/l||1),a>0&&(s=Z$1(r.height)/a||1)}return{width:r.width/o,height:r.height/s,top:r.top/s,right:r.right/o,bottom:r.bottom/s,left:r.left/o,x:r.left/o,y:r.top/s}}function ke$1(n){var e=ee$1(n),r=n.offsetWidth,o=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:o}}function it$1(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&Pe$1(r)){var o=e;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function N(n){return H$1(n).getComputedStyle(n)}function Wt$1(n){return["table","td","th"].indexOf(C$2(n))>=0}function I(n){return((Q$1(n)?n.ownerDocument:n.document)||window.document).documentElement}function ge$1(n){return C$2(n)==="html"?n:n.assignedSlot||n.parentNode||(Pe$1(n)?n.host:null)||I(n)}function at$1(n){return!B$1(n)||N(n).position==="fixed"?null:n.offsetParent}function Bt$1(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B$1(n)){var o=N(n);if(o.position==="fixed")return null}var s=ge$1(n);for(Pe$1(s)&&(s=s.host);B$1(s)&&["html","body"].indexOf(C$2(s))<0;){var a=N(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function se$1(n){for(var e=H$1(n),r=at$1(n);r&&Wt$1(r)&&N(r).position==="static";)r=at$1(r);return r&&(C$2(r)==="html"||C$2(r)==="body"&&N(r).position==="static")?e:r||Bt$1(n)||e}function Le(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function fe$1(n,e,r){return X$1(n,ve$1(e,r))}function St$1(n,e,r){var o=fe$1(n,e,r);return o>r?r:o}function st$1(){return{top:0,right:0,bottom:0,left:0}}function ft$1(n){return Object.assign({},st$1(),n)}function ct$1(n,e){return e.reduce(function(r,o){return r[o]=n,r},{})}var Tt$1=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,ft$1(typeof n!="number"?n:ct$1(n,G))};function Ht$1(n){var e,r=n.state,o=n.name,s=n.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,c=q$1(r.placement),d=Le(c),f=[P$1,W$1].indexOf(c)>=0,g=f?"height":"width";if(!(!a||!l)){var v=Tt$1(s.padding,r),A=ke$1(a),M=d==="y"?E:P$1,Y=d==="y"?R:W$1,de=r.rects.reference[g]+r.rects.reference[d]-l[d]-r.rects.popper[g],ae=l[d]-r.rects.reference[d],ze=se$1(a),qe=ze?d==="y"?ze.clientHeight||0:ze.clientWidth||0:0,Ue=de/2-ae/2,hn=v[M],On=qe-A[g]-v[Y],vn=qe/2-A[g]/2+Ue,bn=fe$1(hn,vn,On),wn=d;r.modifiersData[o]=(e={},e[wn]=bn,e.centerOffset=bn-vn,e)}}function Ct$1(n){var e=n.state,r=n.options,o=r.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!it$1(e.elements.popper,s)||(e.elements.arrow=s))}var pt$1={name:"arrow",enabled:!0,phase:"main",fn:Ht$1,effect:Ct$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te$1(n){return n.split("-")[1]}var qt$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt$1(n){var e=n.x,r=n.y,o=window,s=o.devicePixelRatio||1;return{x:Z$1(e*s)/s||0,y:Z$1(r*s)/s||0}}function ut$1(n){var e,r=n.popper,o=n.popperRect,s=n.placement,a=n.variation,l=n.offsets,c=n.position,d=n.gpuAcceleration,f=n.adaptive,g=n.roundOffsets,v=n.isFixed,A=l.x,M=A===void 0?0:A,Y=l.y,de=Y===void 0?0:Y,ae=typeof g=="function"?g({x:M,y:de}):{x:M,y:de};M=ae.x,de=ae.y;var ze=l.hasOwnProperty("x"),qe=l.hasOwnProperty("y"),Ue=P$1,hn=E,On=window;if(f){var vn=se$1(r),bn="clientHeight",wn="clientWidth";if(vn===H$1(r)&&(vn=I(r),N(vn).position!=="static"&&c==="absolute"&&(bn="scrollHeight",wn="scrollWidth")),vn=vn,s===E||(s===P$1||s===W$1)&&a===J$1){hn=R;var Cn=v&&vn===On&&On.visualViewport?On.visualViewport.height:vn[bn];de-=Cn-o.height,de*=d?1:-1}if(s===P$1||(s===E||s===R)&&a===J$1){Ue=W$1;var En=v&&vn===On&&On.visualViewport?On.visualViewport.width:vn[wn];M-=En-o.width,M*=d?1:-1}}var _n=Object.assign({position:c},f&&qt$1),Bn=g===!0?Vt$1({x:M,y:de}):{x:M,y:de};if(M=Bn.x,de=Bn.y,d){var jn;return Object.assign({},_n,(jn={},jn[hn]=qe?"0":"",jn[Ue]=ze?"0":"",jn.transform=(On.devicePixelRatio||1)<=1?"translate("+M+"px, "+de+"px)":"translate3d("+M+"px, "+de+"px, 0)",jn))}return Object.assign({},_n,(e={},e[hn]=qe?de+"px":"",e[Ue]=ze?M+"px":"",e.transform="",e))}function Nt$1(n){var e=n.state,r=n.options,o=r.gpuAcceleration,s=o===void 0?!0:o,a=r.adaptive,l=a===void 0?!0:a,c=r.roundOffsets,d=c===void 0?!0:c,f={placement:q$1(e.placement),variation:te$1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ut$1(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut$1(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Me$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt$1,data:{}},ye$1={passive:!0};function It$1(n){var e=n.state,r=n.instance,o=n.options,s=o.scroll,a=s===void 0?!0:s,l=o.resize,c=l===void 0?!0:l,d=H$1(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(g){g.addEventListener("scroll",r.update,ye$1)}),c&&d.addEventListener("resize",r.update,ye$1),function(){a&&f.forEach(function(g){g.removeEventListener("scroll",r.update,ye$1)}),c&&d.removeEventListener("resize",r.update,ye$1)}}var Re$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It$1,data:{}},_t$1={left:"right",right:"left",bottom:"top",top:"bottom"};function be$1(n){return n.replace(/left|right|bottom|top/g,function(e){return _t$1[e]})}var zt$1={start:"end",end:"start"};function lt$2(n){return n.replace(/start|end/g,function(e){return zt$1[e]})}function We(n){var e=H$1(n),r=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Be$1(n){return ee$1(I(n)).left+We(n).scrollLeft}function Ft$1(n){var e=H$1(n),r=I(n),o=e.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,c=0;return o&&(s=o.width,a=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=o.offsetLeft,c=o.offsetTop)),{width:s,height:a,x:l+Be$1(n),y:c}}function Ut$1(n){var e,r=I(n),o=We(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=X$1(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=X$1(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-o.scrollLeft+Be$1(n),d=-o.scrollTop;return N(s||r).direction==="rtl"&&(c+=X$1(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:c,y:d}}function Se$1(n){var e=N(n),r=e.overflow,o=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+o)}function dt$1(n){return["html","body","#document"].indexOf(C$2(n))>=0?n.ownerDocument.body:B$1(n)&&Se$1(n)?n:dt$1(ge$1(n))}function ce(n,e){var r;e===void 0&&(e=[]);var o=dt$1(n),s=o===((r=n.ownerDocument)==null?void 0:r.body),a=H$1(o),l=s?[a].concat(a.visualViewport||[],Se$1(o)?o:[]):o,c=e.concat(l);return s?c:c.concat(ce(ge$1(l)))}function Te$1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Xt$1(n){var e=ee$1(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function ht$1(n,e){return e===je?Te$1(Ft$1(n)):Q$1(e)?Xt$1(e):Te$1(Ut$1(I(n)))}function Yt$1(n){var e=ce(ge$1(n)),r=["absolute","fixed"].indexOf(N(n).position)>=0,o=r&&B$1(n)?se$1(n):n;return Q$1(o)?e.filter(function(s){return Q$1(s)&&it$1(s,o)&&C$2(s)!=="body"}):[]}function Gt$1(n,e,r){var o=e==="clippingParents"?Yt$1(n):[].concat(e),s=[].concat(o,[r]),a=s[0],l=s.reduce(function(c,d){var f=ht$1(n,d);return c.top=X$1(f.top,c.top),c.right=ve$1(f.right,c.right),c.bottom=ve$1(f.bottom,c.bottom),c.left=X$1(f.left,c.left),c},ht$1(n,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function mt$1(n){var e=n.reference,r=n.element,o=n.placement,s=o?q$1(o):null,a=o?te$1(o):null,l=e.x+e.width/2-r.width/2,c=e.y+e.height/2-r.height/2,d;switch(s){case E:d={x:l,y:e.y-r.height};break;case R:d={x:l,y:e.y+e.height};break;case W$1:d={x:e.x+e.width,y:c};break;case P$1:d={x:e.x-r.width,y:c};break;default:d={x:e.x,y:e.y}}var f=s?Le(s):null;if(f!=null){var g=f==="y"?"height":"width";switch(a){case U$2:d[f]=d[f]-(e[g]/2-r[g]/2);break;case J$1:d[f]=d[f]+(e[g]/2-r[g]/2);break}}return d}function ne$1(n,e){e===void 0&&(e={});var r=e,o=r.placement,s=o===void 0?n.placement:o,a=r.boundary,l=a===void 0?Xe$1:a,c=r.rootBoundary,d=c===void 0?je:c,f=r.elementContext,g=f===void 0?K$1:f,v=r.altBoundary,A=v===void 0?!1:v,M=r.padding,Y=M===void 0?0:M,de=ft$1(typeof Y!="number"?Y:ct$1(Y,G)),ae=g===K$1?Ye:K$1,ze=n.rects.popper,qe=n.elements[A?ae:g],Ue=Gt$1(Q$1(qe)?qe:qe.contextElement||I(n.elements.popper),l,d),hn=ee$1(n.elements.reference),On=mt$1({reference:hn,element:ze,strategy:"absolute",placement:s}),vn=Te$1(Object.assign({},ze,On)),bn=g===K$1?vn:hn,wn={top:Ue.top-bn.top+de.top,bottom:bn.bottom-Ue.bottom+de.bottom,left:Ue.left-bn.left+de.left,right:bn.right-Ue.right+de.right},Cn=n.modifiersData.offset;if(g===K$1&&Cn){var En=Cn[s];Object.keys(wn).forEach(function(_n){var Bn=[W$1,R].indexOf(_n)>=0?1:-1,jn=[E,R].indexOf(_n)>=0?"y":"x";wn[_n]+=En[jn]*Bn})}return wn}function Jt$1(n,e){e===void 0&&(e={});var r=e,o=r.placement,s=r.boundary,a=r.rootBoundary,l=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,f=d===void 0?Ee$1:d,g=te$1(o),v=g?c?De$1:De$1.filter(function(Y){return te$1(Y)===g}):G,A=v.filter(function(Y){return f.indexOf(Y)>=0});A.length===0&&(A=v);var M=A.reduce(function(Y,de){return Y[de]=ne$1(n,{placement:de,boundary:s,rootBoundary:a,padding:l})[q$1(de)],Y},{});return Object.keys(M).sort(function(Y,de){return M[Y]-M[de]})}function Kt$1(n){if(q$1(n)===me$1)return[];var e=be$1(n);return[lt$2(n),e,lt$2(e)]}function Qt$1(n){var e=n.state,r=n.options,o=n.name;if(!e.modifiersData[o]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,c=l===void 0?!0:l,d=r.fallbackPlacements,f=r.padding,g=r.boundary,v=r.rootBoundary,A=r.altBoundary,M=r.flipVariations,Y=M===void 0?!0:M,de=r.allowedAutoPlacements,ae=e.options.placement,ze=q$1(ae),qe=ze===ae,Ue=d||(qe||!Y?[be$1(ae)]:Kt$1(ae)),hn=[ae].concat(Ue).reduce(function(Dn,An){return Dn.concat(q$1(An)===me$1?Jt$1(e,{placement:An,boundary:g,rootBoundary:v,padding:f,flipVariations:Y,allowedAutoPlacements:de}):An)},[]),On=e.rects.reference,vn=e.rects.popper,bn=new Map,wn=!0,Cn=hn[0],En=0;En<hn.length;En++){var _n=hn[En],Bn=q$1(_n),jn=te$1(_n)===U$2,Un=[E,R].indexOf(Bn)>=0,Rn=Un?"width":"height",Wn=ne$1(e,{placement:_n,boundary:g,rootBoundary:v,altBoundary:A,padding:f}),$n=Un?jn?W$1:P$1:jn?R:E;On[Rn]>vn[Rn]&&($n=be$1($n));var Xn=be$1($n),xn=[];if(a&&xn.push(Wn[Bn]<=0),c&&xn.push(Wn[$n]<=0,Wn[Xn]<=0),xn.every(function(Dn){return Dn})){Cn=_n,wn=!1;break}bn.set(_n,xn)}if(wn)for(var Mn=Y?3:1,Qn=function(Dn){var An=hn.find(function(Ln){var Yn=bn.get(Ln);if(Yn)return Yn.slice(0,Dn).every(function(er){return er})});if(An)return Cn=An,"break"},Nn=Mn;Nn>0;Nn--){var Hn=Qn(Nn);if(Hn==="break")break}e.placement!==Cn&&(e.modifiersData[o]._skip=!0,e.placement=Cn,e.reset=!0)}}var vt$1={name:"flip",enabled:!0,phase:"main",fn:Qt$1,requiresIfExists:["offset"],data:{_skip:!1}};function gt$1(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function yt$1(n){return[E,W$1,R,P$1].some(function(e){return n[e]>=0})}function Zt$1(n){var e=n.state,r=n.name,o=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=ne$1(e,{elementContext:"reference"}),c=ne$1(e,{altBoundary:!0}),d=gt$1(l,o),f=gt$1(c,s,a),g=yt$1(d),v=yt$1(f);e.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}var bt$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt$1};function en(n,e,r){var o=q$1(n),s=[P$1,E].indexOf(o)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[P$1,W$1].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}function tn(n){var e=n.state,r=n.options,o=n.name,s=r.offset,a=s===void 0?[0,0]:s,l=Ee$1.reduce(function(g,v){return g[v]=en(v,e.rects,a),g},{}),c=l[e.placement],d=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[o]=l}var wt$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(n){var e=n.state,r=n.name;e.modifiersData[r]=mt$1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(n){return n==="x"?"y":"x"}function on(n){var e=n.state,r=n.options,o=n.name,s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,c=l===void 0?!1:l,d=r.boundary,f=r.rootBoundary,g=r.altBoundary,v=r.padding,A=r.tether,M=A===void 0?!0:A,Y=r.tetherOffset,de=Y===void 0?0:Y,ae=ne$1(e,{boundary:d,rootBoundary:f,padding:v,altBoundary:g}),ze=q$1(e.placement),qe=te$1(e.placement),Ue=!qe,hn=Le(ze),On=rn(hn),vn=e.modifiersData.popperOffsets,bn=e.rects.reference,wn=e.rects.popper,Cn=typeof de=="function"?de(Object.assign({},e.rects,{placement:e.placement})):de,En=typeof Cn=="number"?{mainAxis:Cn,altAxis:Cn}:Object.assign({mainAxis:0,altAxis:0},Cn),_n=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Bn={x:0,y:0};if(vn){if(a){var jn,Un=hn==="y"?E:P$1,Rn=hn==="y"?R:W$1,Wn=hn==="y"?"height":"width",$n=vn[hn],Xn=$n+ae[Un],xn=$n-ae[Rn],Mn=M?-wn[Wn]/2:0,Qn=qe===U$2?bn[Wn]:wn[Wn],Nn=qe===U$2?-wn[Wn]:-bn[Wn],Hn=e.elements.arrow,Dn=M&&Hn?ke$1(Hn):{width:0,height:0},An=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:st$1(),Ln=An[Un],Yn=An[Rn],er=fe$1(0,bn[Wn],Dn[Wn]),tr=Ue?bn[Wn]/2-Mn-er-Ln-En.mainAxis:Qn-er-Ln-En.mainAxis,Gn=Ue?-bn[Wn]/2+Mn+er+Yn+En.mainAxis:Nn+er+Yn+En.mainAxis,ir=e.elements.arrow&&se$1(e.elements.arrow),cr=ir?hn==="y"?ir.clientTop||0:ir.clientLeft||0:0,Tn=(jn=_n==null?void 0:_n[hn])!=null?jn:0,Pn=$n+tr-Tn-cr,Vn=$n+Gn-Tn,Fn=fe$1(M?ve$1(Xn,Pn):Xn,$n,M?X$1(xn,Vn):xn);vn[hn]=Fn,Bn[hn]=Fn-$n}if(c){var zn,Zn=hn==="x"?E:P$1,Jn=hn==="x"?R:W$1,rr=vn[On],nr=On==="y"?"height":"width",qn=rr+ae[Zn],sr=rr-ae[Jn],ur=[E,P$1].indexOf(ze)!==-1,Kn=(zn=_n==null?void 0:_n[On])!=null?zn:0,lr=ur?qn:rr-bn[nr]-wn[nr]-Kn+En.altAxis,dr=ur?rr+bn[nr]+wn[nr]-Kn-En.altAxis:sr,Or=M&&ur?St$1(lr,rr,dr):fe$1(M?lr:qn,rr,M?dr:sr);vn[On]=Or,Bn[On]=Or-rr}e.modifiersData[o]=Bn}}var xt$1={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sn(n){return n===H$1(n)||!B$1(n)?We(n):an(n)}function fn(n){var e=n.getBoundingClientRect(),r=Z$1(e.width)/n.offsetWidth||1,o=Z$1(e.height)/n.offsetHeight||1;return r!==1||o!==1}function cn(n,e,r){r===void 0&&(r=!1);var o=B$1(e),s=B$1(e)&&fn(e),a=I(e),l=ee$1(n,s),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!r)&&((C$2(e)!=="body"||Se$1(a))&&(c=sn(e)),B$1(e)?(d=ee$1(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=Be$1(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function pn(n){var e=new Map,r=new Set,o=[];n.forEach(function(a){e.set(a.name,a)});function s(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!r.has(c)){var d=e.get(c);d&&s(d)}}),o.push(a)}return n.forEach(function(a){r.has(a.name)||s(a)}),o}function un(n){var e=pn(n);return ot$1.reduce(function(r,o){return r.concat(e.filter(function(s){return s.phase===o}))},[])}function ln(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function dn(n){var e=n.reduce(function(r,o){var s=r[o.name];return r[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ot$1={placement:"bottom",modifiers:[],strategy:"absolute"};function $t$1(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function we(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,o=r===void 0?[]:r,s=e.defaultOptions,a=s===void 0?Ot$1:s;return function(l,c,d){d===void 0&&(d=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot$1,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},g=[],v=!1,A={state:f,setOptions:function(de){var ae=typeof de=="function"?de(f.options):de;Y(),f.options=Object.assign({},a,f.options,ae),f.scrollParents={reference:Q$1(l)?ce(l):l.contextElement?ce(l.contextElement):[],popper:ce(c)};var ze=un(dn([].concat(o,f.options.modifiers)));return f.orderedModifiers=ze.filter(function(qe){return qe.enabled}),M(),A.update()},forceUpdate:function(){if(!v){var de=f.elements,ae=de.reference,ze=de.popper;if($t$1(ae,ze)){f.rects={reference:cn(ae,se$1(ze),f.options.strategy==="fixed"),popper:ke$1(ze)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(wn){return f.modifiersData[wn.name]=Object.assign({},wn.data)});for(var qe=0;qe<f.orderedModifiers.length;qe++){if(f.reset===!0){f.reset=!1,qe=-1;continue}var Ue=f.orderedModifiers[qe],hn=Ue.fn,On=Ue.options,vn=On===void 0?{}:On,bn=Ue.name;typeof hn=="function"&&(f=hn({state:f,options:vn,name:bn,instance:A})||f)}}}},update:ln(function(){return new Promise(function(de){A.forceUpdate(),de(f)})}),destroy:function(){Y(),v=!0}};if(!$t$1(l,c))return A;A.setOptions(d).then(function(de){!v&&d.onFirstUpdate&&d.onFirstUpdate(de)});function M(){f.orderedModifiers.forEach(function(de){var ae=de.name,ze=de.options,qe=ze===void 0?{}:ze,Ue=de.effect;if(typeof Ue=="function"){var hn=Ue({state:f,name:ae,instance:A,options:qe}),On=function(){};g.push(hn||On)}})}function Y(){g.forEach(function(de){return de()}),g=[]}return A}}we();var mn=[Re$1,He,Me$1,Ae$1];we({defaultModifiers:mn});var gn=[Re$1,He,Me$1,Ae$1,wt$1,vt$1,xt$1,pt$1,bt$1],yn=we({defaultModifiers:gn});const usePopper=(n,e,r={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const f=deriveState(d);Object.assign(l.value,f)},requires:["computeStyles"]},s=computed(()=>{const{onFirstUpdate:d,placement:f,strategy:g,modifiers:v}=unref(r);return{onFirstUpdate:d,placement:f||"bottom",strategy:g||"absolute",modifiers:[...v||[],o,{name:"applyStyles",enabled:!1}]}}),a=shallowRef(),l=ref({styles:{popper:{position:unref(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return watch(s,d=>{const f=unref(a);f&&f.setOptions(d)},{deep:!0}),watch([n,e],([d,f])=>{c(),!(!d||!f)&&(a.value=yn(d,f,unref(s)))}),onBeforeUnmount(()=>{c()}),{state:computed(()=>{var d;return{...((d=unref(a))==null?void 0:d.state)||{}}}),styles:computed(()=>unref(l).styles),attributes:computed(()=>unref(l).attributes),update:()=>{var d;return(d=unref(a))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=unref(a))==null?void 0:d.forceUpdate()},instanceRef:computed(()=>unref(a))}};function deriveState(n){const e=Object.keys(n.elements),r=fromPairs(e.map(s=>[s,n.styles[s]||{}])),o=fromPairs(e.map(s=>[s,n.attributes[s]]));return{styles:r,attributes:o}}const useSameTarget=n=>{if(!n)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let e=!1,r=!1;return{onClick:l=>{e&&r&&n(l),e=r=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{r=l.target===l.currentTarget}}};function useTimeout(){let n;const e=(o,s)=>{r(),n=window.setTimeout(o,s)},r=()=>window.clearTimeout(n);return tryOnScopeDispose(()=>r()),{registerTimeout:e,cancelTimeout:r}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=n=>{const e=useIdInjection(),r=useGetDerivedNamespace();return computed(()=>unref(n)||`${r.value}-id-${e.prefix}-${e.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=n=>{const e=n;e.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(e))},useEscapeKeydown=n=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(n)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(e=>e!==n),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const n=useGetDerivedNamespace(),e=useIdInjection(),r=computed(()=>`${n.value}-popper-container-${e.prefix}`),o=computed(()=>`#${r.value}`);return{id:r,selector:o}},createContainer=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},usePopperContainer=()=>{const{id:n,selector:e}=usePopperContainerId();return onBeforeMount(()=>{isClient&&!cachedContainer&&!document.body.querySelector(e.value)&&(cachedContainer=createContainer(n.value))}),{id:n,selector:e}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:n,hideAfter:e,autoClose:r,open:o,close:s})=>{const{registerTimeout:a}=useTimeout(),{registerTimeout:l,cancelTimeout:c}=useTimeout();return{onOpen:g=>{a(()=>{o(g);const v=unref(r);isNumber$1(v)&&v>0&&l(()=>{s(g)},v)},unref(n))},onClose:g=>{c(),a(()=>{s(g)},unref(e))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=n=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r=>{n.value=r}})},useForwardRefDirective=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),initial={current:0},zIndex=ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=n=>{const e=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,r=n||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),o=computed(()=>{const l=unref(r);return isNumber$1(l)?l:defaultInitialZIndex}),s=computed(()=>o.value+zIndex.value),a=()=>(e.current++,zIndex.value=e.current,s.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:o,currentZIndex:s,nextZIndex:a}};function useCursor(n){const e=ref();function r(){if(n.value==null)return;const{selectionStart:s,selectionEnd:a,value:l}=n.value;if(s==null||a==null)return;const c=l.slice(0,Math.max(0,s)),d=l.slice(Math.max(0,a));e.value={selectionStart:s,selectionEnd:a,value:l,beforeTxt:c,afterTxt:d}}function o(){if(n.value==null||e.value==null)return;const{value:s}=n.value,{beforeTxt:a,afterTxt:l,selectionStart:c}=e.value;if(a==null||l==null||c==null)return;let d=s.length;if(s.endsWith(l))d=s.length-l.length;else if(s.startsWith(a))d=a.length;else{const f=a[c-1],g=s.indexOf(f,c-1);g!==-1&&(d=g+1)}n.value.setSelectionRange(d,d)}return[r,o]}const getOrderedChildren=(n,e,r)=>flattedChildren(n.subTree).filter(a=>{var l;return isVNode(a)&&((l=a.type)==null?void 0:l.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>r[a]).filter(a=>!!a),useOrderedChildren=(n,e)=>{const r={},o=shallowRef([]);return{children:o,addChild:l=>{r[l.uid]=l,o.value=getOrderedChildren(n,e,r)},removeChild:l=>{delete r[l],o.value=o.value.filter(c=>c.uid!==l)}}},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const n=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(n.size)||"")};function useFocusController(n,{afterFocus:e,beforeBlur:r,afterBlur:o}={}){const s=getCurrentInstance(),{emit:a}=s,l=shallowRef(),c=ref(!1),d=v=>{c.value||(c.value=!0,a("focus",v),e==null||e())},f=v=>{var A;isFunction$2(r)&&r(v)||v.relatedTarget&&((A=l.value)!=null&&A.contains(v.relatedTarget))||(c.value=!1,a("blur",v),o==null||o())},g=()=>{var v;(v=n.value)==null||v.focus()};return watch(l,v=>{v&&v.setAttribute("tabindex","-1")}),useEventListener(l,"click",g),{wrapperRef:l,isFocused:c,handleFocus:d,handleBlur:f}}const DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>isFunction$2(n)?!n():!n}}),useEmptyValues=(n,e)=>{let r=useGlobalConfig();r.value||(r=ref({}));const o=computed(()=>n.emptyValues||r.value.emptyValues||DEFAULT_EMPTY_VALUES),s=computed(()=>isFunction$2(n.valueOnClear)?n.valueOnClear():n.valueOnClear!==void 0?n.valueOnClear:isFunction$2(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:DEFAULT_VALUE_ON_CLEAR),a=l=>o.value.includes(l);return o.value.includes(s.value),{emptyValues:o,valueOnClear:s,isEmptyValue:a}},ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=n=>pick(ariaProps,n),configProviderContextKey=Symbol(),globalConfig=ref();function useGlobalConfig(n,e=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return n?computed(()=>{var o,s;return(s=(o=r.value)==null?void 0:o[n])!=null?s:e}):r}function useGlobalComponentSettings(n,e){const r=useGlobalConfig(),o=useNamespace(n,computed(()=>{var c;return((c=r.value)==null?void 0:c.namespace)||defaultNamespace})),s=useLocale(computed(()=>{var c;return(c=r.value)==null?void 0:c.locale})),a=useZIndex(computed(()=>{var c;return((c=r.value)==null?void 0:c.zIndex)||defaultInitialZIndex})),l=computed(()=>{var c;return unref(e)||((c=r.value)==null?void 0:c.size)||""});return provideGlobalConfig(computed(()=>unref(r)||{})),{ns:o,locale:s,zIndex:a,size:l}}const provideGlobalConfig=(n,e,r=!1)=>{var o;const s=!!getCurrentInstance(),a=s?useGlobalConfig():void 0,l=(o=void 0)!=null?o:s?provide:void 0;if(!l)return;const c=computed(()=>{const d=unref(n);return a!=null&&a.value?mergeConfig$1(a.value,d):d});return l(configProviderContextKey,c),l(localeContextKey,computed(()=>c.value.locale)),l(namespaceContextKey,computed(()=>c.value.namespace)),l(zIndexContextKey,computed(()=>c.value.zIndex)),l(SIZE_INJECTION_KEY,{size:computed(()=>c.value.size||"")}),(r||!globalConfig.value)&&(globalConfig.value=c.value),c},mergeConfig$1=(n,e)=>{const r=[...new Set([...keysOf(n),...keysOf(e)])],o={};for(const s of r)o[s]=e[s]!==void 0?e[s]:n[s];return o},messageConfig={};var _export_sfc$1=(n,e)=>{const r=n.__vccOpts||n;for(const[o,s]of e)r[o]=s;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$K=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$1j=defineComponent({...__default__$K,props:iconProps,setup(n){const e=n,r=useNamespace("icon"),o=computed(()=>{const{size:s,color:a}=e;return!s&&!a?{}:{fontSize:isUndefined$1(s)?void 0:addUnit(s),"--color":a}});return(s,a)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(o)},s.$attrs),[renderSlot(s.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$1j,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(n,e={})=>{const r=ref(void 0),o=e.prop?r:useProp("size"),s=e.global?r:useGlobalSize(),a=e.form?{size:void 0}:inject(formContextKey,void 0),l=e.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>o.value||unref(n)||(l==null?void 0:l.size)||(a==null?void 0:a.size)||s.value||"")},useFormDisabled=n=>{const e=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>e.value||unref(n)||(r==null?void 0:r.disabled)||!1)},useFormItem=()=>{const n=inject(formContextKey,void 0),e=inject(formItemContextKey,void 0);return{form:n,formItem:e}},useFormItemInputId=(n,{formItemContext:e,disableIdGeneration:r,disableIdManagement:o})=>{r||(r=ref(!1)),o||(o=ref(!1));const s=ref();let a;const l=computed(()=>{var c;return!!(!(n.label||n.ariaLabel)&&e&&e.inputIds&&((c=e.inputIds)==null?void 0:c.length)<=1)});return onMounted(()=>{a=watch([toRef(n,"id"),r],([c,d])=>{const f=c??(d?void 0:useId().value);f!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(o!=null&&o.value)&&!d&&f&&e.addInputId(f)),s.value=f)},{immediate:!0})}),onUnmounted(()=>{a&&a(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:l,inputId:s}};let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(n){const e=window.getComputedStyle(n),r=e.getPropertyValue("box-sizing"),o=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(l=>`${l}:${e.getPropertyValue(l)}`).join(";"),paddingSize:o,borderSize:s,boxSizing:r}}function calcTextareaHeight(n,e=1,r){var o;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:s,borderSize:a,boxSizing:l,contextStyle:c}=calculateNodeStyling(n);hiddenTextarea.setAttribute("style",`${c};${HIDDEN_STYLE}`),hiddenTextarea.value=n.value||n.placeholder||"";let d=hiddenTextarea.scrollHeight;const f={};l==="border-box"?d=d+a:l==="content-box"&&(d=d-s),hiddenTextarea.value="";const g=hiddenTextarea.scrollHeight-s;if(isNumber$1(e)){let v=g*e;l==="border-box"&&(v=v+s+a),d=Math.max(v,d),f.minHeight=`${v}px`}if(isNumber$1(r)){let v=g*r;l==="border-box"&&(v=v+s+a),d=Math.min(v,d)}return f.height=`${d}px`,(o=hiddenTextarea.parentNode)==null||o.removeChild(hiddenTextarea),hiddenTextarea=void 0,f}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:{type:Boolean,default:!1},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:n=>isString$2(n),input:n=>isString$2(n),change:n=>isString$2(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},_hoisted_1$1g=["role"],_hoisted_2$11=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],_hoisted_3$Q=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],__default__$J=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$1i=defineComponent({...__default__$J,props:inputProps,emits:inputEmits,setup(n,{expose:e,emit:r}){const o=n,s=useAttrs$1(),a=useSlots(),l=computed(()=>{const Kn={};return o.containerRole==="combobox"&&(Kn["aria-haspopup"]=s["aria-haspopup"],Kn["aria-owns"]=s["aria-owns"],Kn["aria-expanded"]=s["aria-expanded"]),Kn}),c=computed(()=>[o.type==="textarea"?ae.b():de.b(),de.m(M.value),de.is("disabled",Y.value),de.is("exceed",Dn.value),{[de.b("group")]:a.prepend||a.append,[de.bm("group","append")]:a.append,[de.bm("group","prepend")]:a.prepend,[de.m("prefix")]:a.prefix||o.prefixIcon,[de.m("suffix")]:a.suffix||o.suffixIcon||o.clearable||o.showPassword,[de.bm("suffix","password-clear")]:Mn.value&&Qn.value,[de.b("hidden")]:o.type==="hidden"},s.class]),d=computed(()=>[de.e("wrapper"),de.is("focus",En.value)]),f=useAttrs({excludeKeys:computed(()=>Object.keys(l.value))}),{form:g,formItem:v}=useFormItem(),{inputId:A}=useFormItemInputId(o,{formItemContext:v}),M=useFormSize(),Y=useFormDisabled(),de=useNamespace("input"),ae=useNamespace("textarea"),ze=shallowRef(),qe=shallowRef(),Ue=ref(!1),hn=ref(!1),On=ref(!1),vn=ref(),bn=shallowRef(o.inputStyle),wn=computed(()=>ze.value||qe.value),{wrapperRef:Cn,isFocused:En,handleFocus:_n,handleBlur:Bn}=useFocusController(wn,{afterBlur(){var Kn;o.validateEvent&&((Kn=v==null?void 0:v.validate)==null||Kn.call(v,"blur").catch(lr=>void 0))}}),jn=computed(()=>{var Kn;return(Kn=g==null?void 0:g.statusIcon)!=null?Kn:!1}),Un=computed(()=>(v==null?void 0:v.validateState)||""),Rn=computed(()=>Un.value&&ValidateComponentsMap[Un.value]),Wn=computed(()=>On.value?view_default:hide_default),$n=computed(()=>[s.style]),Xn=computed(()=>[o.inputStyle,bn.value,{resize:o.resize}]),xn=computed(()=>isNil(o.modelValue)?"":String(o.modelValue)),Mn=computed(()=>o.clearable&&!Y.value&&!o.readonly&&!!xn.value&&(En.value||Ue.value)),Qn=computed(()=>o.showPassword&&!Y.value&&!o.readonly&&!!xn.value&&(!!xn.value||En.value)),Nn=computed(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!Y.value&&!o.readonly&&!o.showPassword),Hn=computed(()=>xn.value.length),Dn=computed(()=>!!Nn.value&&Hn.value>Number(o.maxlength)),An=computed(()=>!!a.suffix||!!o.suffixIcon||Mn.value||o.showPassword||Nn.value||!!Un.value&&jn.value),[Ln,Yn]=useCursor(ze);useResizeObserver(qe,Kn=>{if(Gn(),!Nn.value||o.resize!=="both")return;const lr=Kn[0],{width:dr}=lr.contentRect;vn.value={right:`calc(100% - ${dr+15+6}px)`}});const er=()=>{const{type:Kn,autosize:lr}=o;if(!(!isClient||Kn!=="textarea"||!qe.value))if(lr){const dr=isObject$2(lr)?lr.minRows:void 0,Or=isObject$2(lr)?lr.maxRows:void 0,vr=calcTextareaHeight(qe.value,dr,Or);bn.value={overflowY:"hidden",...vr},nextTick(()=>{qe.value.offsetHeight,bn.value=vr})}else bn.value={minHeight:calcTextareaHeight(qe.value).minHeight}},Gn=(Kn=>{let lr=!1;return()=>{var dr;if(lr||!o.autosize)return;((dr=qe.value)==null?void 0:dr.offsetParent)===null||(Kn(),lr=!0)}})(er),ir=()=>{const Kn=wn.value,lr=o.formatter?o.formatter(xn.value):xn.value;!Kn||Kn.value===lr||(Kn.value=lr)},cr=async Kn=>{Ln();let{value:lr}=Kn.target;if(o.formatter&&(lr=o.parser?o.parser(lr):lr),!hn.value){if(lr===xn.value){ir();return}r(UPDATE_MODEL_EVENT,lr),r("input",lr),await nextTick(),ir(),Yn()}},Tn=Kn=>{r("change",Kn.target.value)},Pn=Kn=>{r("compositionstart",Kn),hn.value=!0},Vn=Kn=>{var lr;r("compositionupdate",Kn);const dr=(lr=Kn.target)==null?void 0:lr.value,Or=dr[dr.length-1]||"";hn.value=!isKorean(Or)},Fn=Kn=>{r("compositionend",Kn),hn.value&&(hn.value=!1,cr(Kn))},zn=()=>{On.value=!On.value,Zn()},Zn=async()=>{var Kn;await nextTick(),(Kn=wn.value)==null||Kn.focus()},Jn=()=>{var Kn;return(Kn=wn.value)==null?void 0:Kn.blur()},rr=Kn=>{Ue.value=!1,r("mouseleave",Kn)},nr=Kn=>{Ue.value=!0,r("mouseenter",Kn)},qn=Kn=>{r("keydown",Kn)},sr=()=>{var Kn;(Kn=wn.value)==null||Kn.select()},ur=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>o.modelValue,()=>{var Kn;nextTick(()=>er()),o.validateEvent&&((Kn=v==null?void 0:v.validate)==null||Kn.call(v,"change").catch(lr=>void 0))}),watch(xn,()=>ir()),watch(()=>o.type,async()=>{await nextTick(),ir(),er()}),onMounted(()=>{!o.formatter&&o.parser,ir(),nextTick(er)}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},computed(()=>!!o.label)),e({input:ze,textarea:qe,ref:wn,textareaStyle:Xn,autosize:toRef(o,"autosize"),focus:Zn,blur:Jn,select:sr,clear:ur,resizeTextarea:er}),(Kn,lr)=>(openBlock(),createElementBlock("div",mergeProps(unref(l),{class:unref(c),style:unref($n),role:Kn.containerRole,onMouseenter:nr,onMouseleave:rr}),[createCommentVNode(" input "),Kn.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Kn.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(de).be("group","prepend"))},[renderSlot(Kn.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:Cn,class:normalizeClass(unref(d))},[createCommentVNode(" prefix slot "),Kn.$slots.prefix||Kn.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(de).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(de).e("prefix-inner"))},[renderSlot(Kn.$slots,"prefix"),Kn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(de).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Kn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(A),ref_key:"input",ref:ze,class:unref(de).e("inner")},unref(f),{minlength:Kn.minlength,maxlength:Kn.maxlength,type:Kn.showPassword?On.value?"text":"password":Kn.type,disabled:unref(Y),readonly:Kn.readonly,autocomplete:Kn.autocomplete,tabindex:Kn.tabindex,"aria-label":Kn.label||Kn.ariaLabel,placeholder:Kn.placeholder,style:Kn.inputStyle,form:Kn.form,autofocus:Kn.autofocus,onCompositionstart:Pn,onCompositionupdate:Vn,onCompositionend:Fn,onInput:cr,onFocus:lr[0]||(lr[0]=(...dr)=>unref(_n)&&unref(_n)(...dr)),onBlur:lr[1]||(lr[1]=(...dr)=>unref(Bn)&&unref(Bn)(...dr)),onChange:Tn,onKeydown:qn}),null,16,_hoisted_2$11),createCommentVNode(" suffix slot "),unref(An)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(de).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(de).e("suffix-inner"))},[!unref(Mn)||!unref(Qn)||!unref(Nn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Kn.$slots,"suffix"),Kn.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(de).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Kn.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Mn)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(de).e("icon"),unref(de).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:ur},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Qn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(de).e("icon"),unref(de).e("password")]),onClick:zn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Wn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(Nn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(de).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(de).e("count-inner"))},toDisplayString(unref(Hn))+" / "+toDisplayString(Kn.maxlength),3)],2)):createCommentVNode("v-if",!0),unref(Un)&&unref(Rn)&&unref(jn)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(de).e("icon"),unref(de).e("validateIcon"),unref(de).is("loading",unref(Un)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Rn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Kn.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(de).be("group","append"))},[renderSlot(Kn.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(A),ref_key:"textarea",ref:qe,class:unref(ae).e("inner")},unref(f),{minlength:Kn.minlength,maxlength:Kn.maxlength,tabindex:Kn.tabindex,disabled:unref(Y),readonly:Kn.readonly,autocomplete:Kn.autocomplete,style:unref(Xn),"aria-label":Kn.label||Kn.ariaLabel,placeholder:Kn.placeholder,form:Kn.form,autofocus:Kn.autofocus,onCompositionstart:Pn,onCompositionupdate:Vn,onCompositionend:Fn,onInput:cr,onFocus:lr[2]||(lr[2]=(...dr)=>unref(_n)&&unref(_n)(...dr)),onBlur:lr[3]||(lr[3]=(...dr)=>unref(Bn)&&unref(Bn)(...dr)),onChange:Tn,onKeydown:qn}),null,16,_hoisted_3$Q),unref(Nn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(vn.value),class:normalizeClass(unref(de).e("count"))},toDisplayString(unref(Hn))+" / "+toDisplayString(Kn.maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$1g))}});var Input=_export_sfc$1(_sfc_main$1i,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:n,size:e,bar:r})=>({[r.size]:e,transform:`translate${r.axis}(${n}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$7="Thumb",_sfc_main$1h=defineComponent({__name:"thumb",props:thumbProps,setup(n){const e=n,r=inject(scrollbarContextKey),o=useNamespace("scrollbar");r||throwError(COMPONENT_NAME$7,"can not inject scrollbar context");const s=ref(),a=ref(),l=ref({}),c=ref(!1);let d=!1,f=!1,g=isClient?document.onselectstart:null;const v=computed(()=>BAR_MAP[e.vertical?"vertical":"horizontal"]),A=computed(()=>renderThumbStyle({size:e.size,move:e.move,bar:v.value})),M=computed(()=>s.value[v.value.offset]**2/r.wrapElement[v.value.scrollSize]/e.ratio/a.value[v.value.offset]),Y=vn=>{var bn;if(vn.stopPropagation(),vn.ctrlKey||[1,2].includes(vn.button))return;(bn=window.getSelection())==null||bn.removeAllRanges(),ae(vn);const wn=vn.currentTarget;wn&&(l.value[v.value.axis]=wn[v.value.offset]-(vn[v.value.client]-wn.getBoundingClientRect()[v.value.direction]))},de=vn=>{if(!a.value||!s.value||!r.wrapElement)return;const bn=Math.abs(vn.target.getBoundingClientRect()[v.value.direction]-vn[v.value.client]),wn=a.value[v.value.offset]/2,Cn=(bn-wn)*100*M.value/s.value[v.value.offset];r.wrapElement[v.value.scroll]=Cn*r.wrapElement[v.value.scrollSize]/100},ae=vn=>{vn.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",ze),document.addEventListener("mouseup",qe),g=document.onselectstart,document.onselectstart=()=>!1},ze=vn=>{if(!s.value||!a.value||d===!1)return;const bn=l.value[v.value.axis];if(!bn)return;const wn=(s.value.getBoundingClientRect()[v.value.direction]-vn[v.value.client])*-1,Cn=a.value[v.value.offset]-bn,En=(wn-Cn)*100*M.value/s.value[v.value.offset];r.wrapElement[v.value.scroll]=En*r.wrapElement[v.value.scrollSize]/100},qe=()=>{d=!1,l.value[v.value.axis]=0,document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",qe),On(),f&&(c.value=!1)},Ue=()=>{f=!1,c.value=!!e.size},hn=()=>{f=!0,c.value=d};onBeforeUnmount(()=>{On(),document.removeEventListener("mouseup",qe)});const On=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",Ue),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",hn),(vn,bn)=>(openBlock(),createBlock(Transition,{name:unref(o).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:s,class:normalizeClass([unref(o).e("bar"),unref(o).is(unref(v).key)]),onMousedown:de},[createBaseVNode("div",{ref_key:"thumb",ref:a,class:normalizeClass(unref(o).e("thumb")),style:normalizeStyle(unref(A)),onMousedown:Y},null,38)],34),[[vShow,vn.always||c.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$1h,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$1g=defineComponent({__name:"bar",props:barProps,setup(n,{expose:e}){const r=n,o=inject(scrollbarContextKey),s=ref(0),a=ref(0),l=ref(""),c=ref(""),d=ref(1),f=ref(1);return e({handleScroll:A=>{if(A){const M=A.offsetHeight-GAP,Y=A.offsetWidth-GAP;a.value=A.scrollTop*100/M*d.value,s.value=A.scrollLeft*100/Y*f.value}},update:()=>{const A=o==null?void 0:o.wrapElement;if(!A)return;const M=A.offsetHeight-GAP,Y=A.offsetWidth-GAP,de=M**2/A.scrollHeight,ae=Y**2/A.scrollWidth,ze=Math.max(de,r.minSize),qe=Math.max(ae,r.minSize);d.value=de/(M-de)/(ze/(M-ze)),f.value=ae/(Y-ae)/(qe/(Y-qe)),c.value=ze+GAP<M?`${ze}px`:"",l.value=qe+GAP<Y?`${qe}px`:""}}),(A,M)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:s.value,ratio:f.value,size:l.value,always:A.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:a.value,ratio:d.value,size:c.value,vertical:"",always:A.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$1g,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(isNumber$1)},COMPONENT_NAME$6="ElScrollbar",__default__$I=defineComponent({name:COMPONENT_NAME$6}),_sfc_main$1f=defineComponent({...__default__$I,props:scrollbarProps,emits:scrollbarEmits,setup(n,{expose:e,emit:r}){const o=n,s=useNamespace("scrollbar");let a,l;const c=ref(),d=ref(),f=ref(),g=ref(),v=computed(()=>{const Ue={};return o.height&&(Ue.height=addUnit(o.height)),o.maxHeight&&(Ue.maxHeight=addUnit(o.maxHeight)),[o.wrapStyle,Ue]}),A=computed(()=>[o.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!o.native}]),M=computed(()=>[s.e("view"),o.viewClass]),Y=()=>{var Ue;d.value&&((Ue=g.value)==null||Ue.handleScroll(d.value),r("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function de(Ue,hn){isObject$2(Ue)?d.value.scrollTo(Ue):isNumber$1(Ue)&&isNumber$1(hn)&&d.value.scrollTo(Ue,hn)}const ae=Ue=>{isNumber$1(Ue)&&(d.value.scrollTop=Ue)},ze=Ue=>{isNumber$1(Ue)&&(d.value.scrollLeft=Ue)},qe=()=>{var Ue;(Ue=g.value)==null||Ue.update()};return watch(()=>o.noresize,Ue=>{Ue?(a==null||a(),l==null||l()):({stop:a}=useResizeObserver(f,qe),l=useEventListener("resize",qe))},{immediate:!0}),watch(()=>[o.maxHeight,o.height],()=>{o.native||nextTick(()=>{var Ue;qe(),d.value&&((Ue=g.value)==null||Ue.handleScroll(d.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:c,wrapElement:d})),onMounted(()=>{o.native||nextTick(()=>{qe()})}),onUpdated(()=>qe()),e({wrapRef:d,update:qe,scrollTo:de,setScrollTop:ae,setScrollLeft:ze,handleScroll:Y}),(Ue,hn)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:c,class:normalizeClass(unref(s).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:d,class:normalizeClass(unref(A)),style:normalizeStyle(unref(v)),onScroll:Y},[(openBlock(),createBlock(resolveDynamicComponent(Ue.tag),{id:Ue.id,ref_key:"resizeRef",ref:f,class:normalizeClass(unref(M)),style:normalizeStyle(Ue.viewStyle),role:Ue.role,"aria-label":Ue.ariaLabel,"aria-orientation":Ue.ariaOrientation},{default:withCtx(()=>[renderSlot(Ue.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),Ue.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:g,always:Ue.always,"min-size":Ue.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$1f,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$H=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$1e=defineComponent({...__default__$H,props:popperProps,setup(n,{expose:e}){const r=n,o=ref(),s=ref(),a=ref(),l=ref(),c=computed(()=>r.role),d={triggerRef:o,popperInstanceRef:s,contentRef:a,referenceRef:l,role:c};return e(d),provide(POPPER_INJECTION_KEY,d),(f,g)=>renderSlot(f.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$1e,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$G=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$1d=defineComponent({...__default__$G,props:popperArrowProps,setup(n,{expose:e}){const r=n,o=useNamespace("popper"),{arrowOffset:s,arrowRef:a,arrowStyle:l}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>r.arrowOffset,c=>{s.value=c}),onBeforeUnmount(()=>{a.value=void 0}),e({arrowRef:a}),(c,d)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:a,class:normalizeClass(unref(o).e("arrow")),style:normalizeStyle(unref(l)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$1d,[["__file","arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(n,{slots:e,attrs:r}){var o;const s=inject(FORWARD_REF_INJECTION_KEY),a=useForwardRefDirective((o=s==null?void 0:s.setForwardRef)!=null?o:NOOP);return()=>{var l;const c=(l=e.default)==null?void 0:l.call(e,r);if(!c||c.length>1)return null;const d=findFirstLegitChild(c);return d?withDirectives(cloneVNode(d,r),[[a]]):null}}});function findFirstLegitChild(n){if(!n)return null;const e=n;for(const r of e){if(isObject$2(r))switch(r.type){case Comment:continue;case Text$1:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(n){const e=useNamespace("only-child");return createVNode("span",{class:e.e("content")},[n])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$F=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$1c=defineComponent({...__default__$F,props:popperTriggerProps,setup(n,{expose:e}){const r=n,{role:o,triggerRef:s}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(s);const a=computed(()=>c.value?r.id:void 0),l=computed(()=>{if(o&&o.value==="tooltip")return r.open&&r.id?r.id:void 0}),c=computed(()=>{if(o&&o.value!=="tooltip")return o.value}),d=computed(()=>c.value?`${r.open}`:void 0);let f;return onMounted(()=>{watch(()=>r.virtualRef,g=>{g&&(s.value=unrefElement(g))},{immediate:!0}),watch(s,(g,v)=>{f==null||f(),f=void 0,isElement(g)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(A=>{var M;const Y=r[A];Y&&(g.addEventListener(A.slice(2).toLowerCase(),Y),(M=v==null?void 0:v.removeEventListener)==null||M.call(v,A.slice(2).toLowerCase(),Y))}),f=watch([a,l,c,d],A=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((M,Y)=>{isNil(A[Y])?g.removeAttribute(M):g.setAttribute(M,A[Y])})},{immediate:!0})),isElement(v)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(A=>v.removeAttribute(A))},{immediate:!0})}),onBeforeUnmount(()=>{f==null||f(),f=void 0}),e({triggerRef:s}),(g,v)=>g.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},g.$attrs,{"aria-controls":unref(a),"aria-describedby":unref(l),"aria-expanded":unref(d),"aria-haspopup":unref(c)}),{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$1c,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=n=>{const e=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},getVisibleElement=(n,e)=>{for(const r of n)if(!isHidden(r,e))return r},isHidden=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},getEdges=n=>{const e=obtainAllFocusableElements(n),r=getVisibleElement(e,n),o=getVisibleElement(e.reverse(),n);return[r,o]},isSelectable=n=>n instanceof HTMLInputElement&&"select"in n,tryFocus=(n,e)=>{if(n&&n.focus){const r=document.activeElement;n.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),n!==r&&isSelectable(n)&&e&&n.select()}};function removeFromStack(n,e){const r=[...n],o=n.indexOf(e);return o!==-1&&r.splice(o,1),r}const createFocusableStack=()=>{let n=[];return{push:o=>{const s=n[0];s&&o!==s&&s.pause(),n=removeFromStack(n,o),n.unshift(o)},remove:o=>{var s,a;n=removeFromStack(n,o),(a=(s=n[0])==null?void 0:s.resume)==null||a.call(s)}}},focusFirstDescendant=(n,e=!1)=>{const r=document.activeElement;for(const o of n)if(tryFocus(o,e),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=n=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:n}),_sfc_main$1b=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const r=ref();let o,s;const{focusReason:a}=useFocusReason();useEscapeKeydown(Y=>{n.trapped&&!l.paused&&e("release-requested",Y)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=Y=>{if(!n.loop&&!n.trapped||l.paused)return;const{key:de,altKey:ae,ctrlKey:ze,metaKey:qe,currentTarget:Ue,shiftKey:hn}=Y,{loop:On}=n,vn=de===EVENT_CODE.tab&&!ae&&!ze&&!qe,bn=document.activeElement;if(vn&&bn){const wn=Ue,[Cn,En]=getEdges(wn);if(Cn&&En){if(!hn&&bn===En){const Bn=createFocusOutPreventedEvent({focusReason:a.value});e("focusout-prevented",Bn),Bn.defaultPrevented||(Y.preventDefault(),On&&tryFocus(Cn,!0))}else if(hn&&[Cn,wn].includes(bn)){const Bn=createFocusOutPreventedEvent({focusReason:a.value});e("focusout-prevented",Bn),Bn.defaultPrevented||(Y.preventDefault(),On&&tryFocus(En,!0))}}else if(bn===wn){const Bn=createFocusOutPreventedEvent({focusReason:a.value});e("focusout-prevented",Bn),Bn.defaultPrevented||Y.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:c}),watch(()=>n.focusTrapEl,Y=>{Y&&(r.value=Y)},{immediate:!0}),watch([r],([Y],[de])=>{Y&&(Y.addEventListener("keydown",c),Y.addEventListener("focusin",g),Y.addEventListener("focusout",v)),de&&(de.removeEventListener("keydown",c),de.removeEventListener("focusin",g),de.removeEventListener("focusout",v))});const d=Y=>{e(ON_TRAP_FOCUS_EVT,Y)},f=Y=>e(ON_RELEASE_FOCUS_EVT,Y),g=Y=>{const de=unref(r);if(!de)return;const ae=Y.target,ze=Y.relatedTarget,qe=ae&&de.contains(ae);n.trapped||ze&&de.contains(ze)||(o=ze),qe&&e("focusin",Y),!l.paused&&n.trapped&&(qe?s=ae:tryFocus(s,!0))},v=Y=>{const de=unref(r);if(!(l.paused||!de))if(n.trapped){const ae=Y.relatedTarget;!isNil(ae)&&!de.contains(ae)&&setTimeout(()=>{if(!l.paused&&n.trapped){const ze=createFocusOutPreventedEvent({focusReason:a.value});e("focusout-prevented",ze),ze.defaultPrevented||tryFocus(s,!0)}},0)}else{const ae=Y.target;ae&&de.contains(ae)||e("focusout",Y)}};async function A(){await nextTick();const Y=unref(r);if(Y){focusableStack.push(l);const de=Y.contains(document.activeElement)?o:document.activeElement;if(o=de,!Y.contains(de)){const ze=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);Y.addEventListener(FOCUS_AFTER_TRAPPED,d),Y.dispatchEvent(ze),ze.defaultPrevented||nextTick(()=>{let qe=n.focusStartEl;isString$2(qe)||(tryFocus(qe),document.activeElement!==qe&&(qe="first")),qe==="first"&&focusFirstDescendant(obtainAllFocusableElements(Y),!0),(document.activeElement===de||qe==="container")&&tryFocus(Y)})}}}function M(){const Y=unref(r);if(Y){Y.removeEventListener(FOCUS_AFTER_TRAPPED,d);const de=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:a.value}});Y.addEventListener(FOCUS_AFTER_RELEASED,f),Y.dispatchEvent(de),!de.defaultPrevented&&(a.value=="keyboard"||!isFocusCausedByUserEvent()||Y.contains(document.activeElement))&&tryFocus(o??document.body),Y.removeEventListener(FOCUS_AFTER_RELEASED,f),focusableStack.remove(l)}}return onMounted(()=>{n.trapped&&A(),watch(()=>n.trapped,Y=>{Y?A():M()})}),onBeforeUnmount(()=>{n.trapped&&M()}),{onKeydown:c}}});function _sfc_render$q(n,e,r,o,s,a){return renderSlot(n.$slots,"default",{handleKeydown:n.onKeydown})}var ElFocusTrap=_export_sfc$1(_sfc_main$1b,[["render",_sfc_render$q],["__file","focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee$1,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(n,e=[])=>{const{placement:r,strategy:o,popperOptions:s}=n,a={placement:r,strategy:o,...s,modifiers:[...genModifiers(n),...e]};return deriveExtraModifiers(a,s==null?void 0:s.modifiers),a},unwrapMeasurableEl=n=>{if(isClient)return unrefElement(n)};function genModifiers(n){const{offset:e,gpuAcceleration:r,fallbackPlacements:o}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=n=>{const{popperInstanceRef:e,contentRef:r,triggerRef:o,role:s}=inject(POPPER_INJECTION_KEY,void 0),a=ref(),l=ref(),c=computed(()=>({name:"eventListeners",enabled:!!n.visible})),d=computed(()=>{var ze;const qe=unref(a),Ue=(ze=unref(l))!=null?ze:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$2(qe),options:{element:qe,padding:Ue}}}),f=computed(()=>({onFirstUpdate:()=>{Y()},...buildPopperOptions(n,[unref(d),unref(c)])})),g=computed(()=>unwrapMeasurableEl(n.referenceEl)||unref(o)),{attributes:v,state:A,styles:M,update:Y,forceUpdate:de,instanceRef:ae}=usePopper(g,r,f);return watch(ae,ze=>e.value=ze),onMounted(()=>{watch(()=>{var ze;return(ze=unref(g))==null?void 0:ze.getBoundingClientRect()},()=>{Y()})}),{attributes:v,arrowRef:a,contentRef:r,instanceRef:ae,state:A,styles:M,role:s,forceUpdate:de,update:Y}},usePopperContentDOM=(n,{attributes:e,styles:r,role:o})=>{const{nextZIndex:s}=useZIndex(),a=useNamespace("popper"),l=computed(()=>unref(e).popper),c=ref(isNumber$1(n.zIndex)?n.zIndex:s()),d=computed(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),f=computed(()=>[{zIndex:unref(c)},unref(r).popper,n.popperStyle||{}]),g=computed(()=>o.value==="dialog"?"false":void 0),v=computed(()=>unref(r).arrow||{});return{ariaModal:g,arrowStyle:v,contentAttrs:l,contentClass:d,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=isNumber$1(n.zIndex)?n.zIndex:s()}}},usePopperContentFocusTrap=(n,e)=>{const r=ref(!1),o=ref();return{focusStartRef:o,trapped:r,onFocusAfterReleased:f=>{var g;((g=f.detail)==null?void 0:g.focusReason)!=="pointer"&&(o.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:f=>{n.visible&&!r.value&&(f.target&&(o.value=f.target),r.value=!0)},onFocusoutPrevented:f=>{n.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},__default__$E=defineComponent({name:"ElPopperContent"}),_sfc_main$1a=defineComponent({...__default__$E,props:popperContentProps,emits:popperContentEmits,setup(n,{expose:e,emit:r}){const o=n,{focusStartRef:s,trapped:a,onFocusAfterReleased:l,onFocusAfterTrapped:c,onFocusInTrap:d,onFocusoutPrevented:f,onReleaseRequested:g}=usePopperContentFocusTrap(o,r),{attributes:v,arrowRef:A,contentRef:M,styles:Y,instanceRef:de,role:ae,update:ze}=usePopperContent(o),{ariaModal:qe,arrowStyle:Ue,contentAttrs:hn,contentClass:On,contentStyle:vn,updateZIndex:bn}=usePopperContentDOM(o,{styles:Y,attributes:v,role:ae}),wn=inject(formItemContextKey,void 0),Cn=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:Ue,arrowRef:A,arrowOffset:Cn}),wn&&(wn.addInputId||wn.removeInputId)&&provide(formItemContextKey,{...wn,addInputId:NOOP,removeInputId:NOOP});let En;const _n=(jn=!0)=>{ze(),jn&&bn()},Bn=()=>{_n(!1),o.visible&&o.focusOnShow?a.value=!0:o.visible===!1&&(a.value=!1)};return onMounted(()=>{watch(()=>o.triggerTargetEl,(jn,Un)=>{En==null||En(),En=void 0;const Rn=unref(jn||M.value),Wn=unref(Un||M.value);isElement(Rn)&&(En=watch([ae,()=>o.ariaLabel,qe,()=>o.id],$n=>{["role","aria-label","aria-modal","id"].forEach((Xn,xn)=>{isNil($n[xn])?Rn.removeAttribute(Xn):Rn.setAttribute(Xn,$n[xn])})},{immediate:!0})),Wn!==Rn&&isElement(Wn)&&["role","aria-label","aria-modal","id"].forEach($n=>{Wn.removeAttribute($n)})},{immediate:!0}),watch(()=>o.visible,Bn,{immediate:!0})}),onBeforeUnmount(()=>{En==null||En(),En=void 0}),e({popperContentRef:M,popperInstanceRef:de,updatePopper:_n,contentStyle:vn}),(jn,Un)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:M},unref(hn),{style:unref(vn),class:unref(On),tabindex:"-1",onMouseenter:Un[0]||(Un[0]=Rn=>jn.$emit("mouseenter",Rn)),onMouseleave:Un[1]||(Un[1]=Rn=>jn.$emit("mouseleave",Rn))}),[createVNode(unref(ElFocusTrap),{trapped:unref(a),"trap-on-focus-in":!0,"focus-trap-el":unref(M),"focus-start-el":unref(s),onFocusAfterTrapped:unref(c),onFocusAfterReleased:unref(l),onFocusin:unref(d),onFocusoutPrevented:unref(f),onReleaseRequested:unref(g)},{default:withCtx(()=>[renderSlot(jn.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc$1(_sfc_main$1a,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(n,e)=>isArray$2(n)?n.includes(e):n===e,whenTrigger=(n,e,r)=>o=>{isTriggerType(unref(n),e)&&r(o)},__default__$D=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$19=defineComponent({...__default__$D,props:useTooltipTriggerProps,setup(n,{expose:e}){const r=n,o=useNamespace("tooltip"),{controlled:s,id:a,open:l,onOpen:c,onClose:d,onToggle:f}=inject(TOOLTIP_INJECTION_KEY,void 0),g=ref(null),v=()=>{if(unref(s)||r.disabled)return!0},A=toRef(r,"trigger"),M=composeEventHandlers(v,whenTrigger(A,"hover",c)),Y=composeEventHandlers(v,whenTrigger(A,"hover",d)),de=composeEventHandlers(v,whenTrigger(A,"click",hn=>{hn.button===0&&f(hn)})),ae=composeEventHandlers(v,whenTrigger(A,"focus",c)),ze=composeEventHandlers(v,whenTrigger(A,"focus",d)),qe=composeEventHandlers(v,whenTrigger(A,"contextmenu",hn=>{hn.preventDefault(),f(hn)})),Ue=composeEventHandlers(v,hn=>{const{code:On}=hn;r.triggerKeys.includes(On)&&(hn.preventDefault(),f(hn))});return e({triggerRef:g}),(hn,On)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(a),"virtual-ref":hn.virtualRef,open:unref(l),"virtual-triggering":hn.virtualTriggering,class:normalizeClass(unref(o).e("trigger")),onBlur:unref(ze),onClick:unref(de),onContextmenu:unref(qe),onFocus:unref(ae),onMouseenter:unref(M),onMouseleave:unref(Y),onKeydown:unref(Ue)},{default:withCtx(()=>[renderSlot(hn.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$19,[["__file","trigger.vue"]]);const __default__$C=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$18=defineComponent({...__default__$C,props:useTooltipContentProps,setup(n,{expose:e}){const r=n,{selector:o}=usePopperContainerId(),s=useNamespace("tooltip"),a=ref(null),l=ref(!1),{controlled:c,id:d,open:f,trigger:g,onClose:v,onOpen:A,onShow:M,onHide:Y,onBeforeShow:de,onBeforeHide:ae}=inject(TOOLTIP_INJECTION_KEY,void 0),ze=computed(()=>r.transition||`${s.namespace.value}-fade-in-linear`),qe=computed(()=>r.persistent);onBeforeUnmount(()=>{l.value=!0});const Ue=computed(()=>unref(qe)?!0:unref(f)),hn=computed(()=>r.disabled?!1:unref(f)),On=computed(()=>r.appendTo||o.value),vn=computed(()=>{var $n;return($n=r.style)!=null?$n:{}}),bn=computed(()=>!unref(f)),wn=()=>{Y()},Cn=()=>{if(unref(c))return!0},En=composeEventHandlers(Cn,()=>{r.enterable&&unref(g)==="hover"&&A()}),_n=composeEventHandlers(Cn,()=>{unref(g)==="hover"&&v()}),Bn=()=>{var $n,Xn;(Xn=($n=a.value)==null?void 0:$n.updatePopper)==null||Xn.call($n),de==null||de()},jn=()=>{ae==null||ae()},Un=()=>{M(),Wn=onClickOutside(computed(()=>{var $n;return($n=a.value)==null?void 0:$n.popperContentRef}),()=>{if(unref(c))return;unref(g)!=="hover"&&v()})},Rn=()=>{r.virtualTriggering||v()};let Wn;return watch(()=>unref(f),$n=>{$n||Wn==null||Wn()},{flush:"post"}),watch(()=>r.content,()=>{var $n,Xn;(Xn=($n=a.value)==null?void 0:$n.updatePopper)==null||Xn.call($n)}),e({contentRef:a}),($n,Xn)=>(openBlock(),createBlock(Teleport,{disabled:!$n.teleported,to:unref(On)},[createVNode(Transition,{name:unref(ze),onAfterLeave:wn,onBeforeEnter:Bn,onAfterEnter:Un,onBeforeLeave:jn},{default:withCtx(()=>[unref(Ue)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(d),ref_key:"contentRef",ref:a},$n.$attrs,{"aria-label":$n.ariaLabel,"aria-hidden":unref(bn),"boundaries-padding":$n.boundariesPadding,"fallback-placements":$n.fallbackPlacements,"gpu-acceleration":$n.gpuAcceleration,offset:$n.offset,placement:$n.placement,"popper-options":$n.popperOptions,strategy:$n.strategy,effect:$n.effect,enterable:$n.enterable,pure:$n.pure,"popper-class":$n.popperClass,"popper-style":[$n.popperStyle,unref(vn)],"reference-el":$n.referenceEl,"trigger-target-el":$n.triggerTargetEl,visible:unref(hn),"z-index":$n.zIndex,onMouseenter:unref(En),onMouseleave:unref(_n),onBlur:Rn,onClose:unref(v)}),{default:withCtx(()=>[l.value?createCommentVNode("v-if",!0):renderSlot($n.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(hn)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$18,[["__file","content.vue"]]);const _hoisted_1$1f=["innerHTML"],_hoisted_2$10={key:1},__default__$B=defineComponent({name:"ElTooltip"}),_sfc_main$17=defineComponent({...__default__$B,props:useTooltipProps,emits:tooltipEmits,setup(n,{expose:e,emit:r}){const o=n;usePopperContainer();const s=useId(),a=ref(),l=ref(),c=()=>{var ze;const qe=unref(a);qe&&((ze=qe.popperInstanceRef)==null||ze.update())},d=ref(!1),f=ref(),{show:g,hide:v,hasUpdateHandler:A}=useTooltipModelToggle({indicator:d,toggleReason:f}),{onOpen:M,onClose:Y}=useDelayedToggle({showAfter:toRef(o,"showAfter"),hideAfter:toRef(o,"hideAfter"),autoClose:toRef(o,"autoClose"),open:g,close:v}),de=computed(()=>isBoolean$1(o.visible)&&!A.value);provide(TOOLTIP_INJECTION_KEY,{controlled:de,id:s,open:readonly(d),trigger:toRef(o,"trigger"),onOpen:ze=>{M(ze)},onClose:ze=>{Y(ze)},onToggle:ze=>{unref(d)?Y(ze):M(ze)},onShow:()=>{r("show",f.value)},onHide:()=>{r("hide",f.value)},onBeforeShow:()=>{r("before-show",f.value)},onBeforeHide:()=>{r("before-hide",f.value)},updatePopper:c}),watch(()=>o.disabled,ze=>{ze&&d.value&&(d.value=!1)});const ae=ze=>{var qe,Ue;const hn=(Ue=(qe=l.value)==null?void 0:qe.contentRef)==null?void 0:Ue.popperContentRef,On=(ze==null?void 0:ze.relatedTarget)||document.activeElement;return hn&&hn.contains(On)};return onDeactivated(()=>d.value&&v()),e({popperRef:a,contentRef:l,isFocusInsideContent:ae,updatePopper:c,onOpen:M,onClose:Y,hide:v}),(ze,qe)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:a,role:ze.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:ze.disabled,trigger:ze.trigger,"trigger-keys":ze.triggerKeys,"virtual-ref":ze.virtualRef,"virtual-triggering":ze.virtualTriggering},{default:withCtx(()=>[ze.$slots.default?renderSlot(ze.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:l,"aria-label":ze.ariaLabel,"boundaries-padding":ze.boundariesPadding,content:ze.content,disabled:ze.disabled,effect:ze.effect,enterable:ze.enterable,"fallback-placements":ze.fallbackPlacements,"hide-after":ze.hideAfter,"gpu-acceleration":ze.gpuAcceleration,offset:ze.offset,persistent:ze.persistent,"popper-class":ze.popperClass,"popper-style":ze.popperStyle,placement:ze.placement,"popper-options":ze.popperOptions,pure:ze.pure,"raw-content":ze.rawContent,"reference-el":ze.referenceEl,"trigger-target-el":ze.triggerTargetEl,"show-after":ze.showAfter,strategy:ze.strategy,teleported:ze.teleported,transition:ze.transition,"virtual-triggering":ze.virtualTriggering,"z-index":ze.zIndex,"append-to":ze.appendTo},{default:withCtx(()=>[renderSlot(ze.$slots,"content",{},()=>[ze.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:ze.content},null,8,_hoisted_1$1f)):(openBlock(),createElementBlock("span",_hoisted_2$10,toDisplayString(ze.content),1))]),ze.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":ze.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$17,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:definePropType([String,Object,Array])},badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),_hoisted_1$1e=["textContent"],__default__$A=defineComponent({name:"ElBadge"}),_sfc_main$16=defineComponent({...__default__$A,props:badgeProps,setup(n,{expose:e}){const r=n,o=useNamespace("badge"),s=computed(()=>r.isDot?"":isNumber$1(r.value)&&isNumber$1(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`),a=computed(()=>{var l,c,d,f,g,v;return[{backgroundColor:r.color,marginRight:addUnit(-((c=(l=r.offset)==null?void 0:l[0])!=null?c:0)),marginTop:addUnit((f=(d=r.offset)==null?void 0:d[1])!=null?f:0)},(g=r.dotStyle)!=null?g:{},(v=r.badgeStyle)!=null?v:{}]});return useDeprecated({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},computed(()=>!!r.dotStyle)),useDeprecated({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},computed(()=>!!r.dotClass)),e({content:s}),(l,c)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(o).b())},[renderSlot(l.$slots,"default"),createVNode(Transition,{name:`${unref(o).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(o).e("content"),unref(o).em("content",l.type),unref(o).is("fixed",!!l.$slots.default),unref(o).is("dot",l.isDot),l.dotClass,l.badgeClass]),style:normalizeStyle(unref(a)),textContent:toDisplayString(unref(s))},null,14,_hoisted_1$1e),[[vShow,!l.hidden&&(unref(s)||l.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$16,[["__file","badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),_hoisted_1$1d=["aria-label"],__default__$z=defineComponent({name:"ElBreadcrumb"}),_sfc_main$15=defineComponent({...__default__$z,props:breadcrumbProps,setup(n){const e=n,{t:r}=useLocale(),o=useNamespace("breadcrumb"),s=ref();return provide(breadcrumbKey,e),onMounted(()=>{const a=s.value.querySelectorAll(`.${o.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,l)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:s,class:normalizeClass(unref(o).b()),"aria-label":unref(r)("el.breadcrumb.label"),role:"navigation"},[renderSlot(a.$slots,"default")],10,_hoisted_1$1d))}});var Breadcrumb=_export_sfc$1(_sfc_main$15,[["__file","breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:{type:Boolean,default:!1}}),__default__$y=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$14=defineComponent({...__default__$y,props:breadcrumbItemProps,setup(n){const e=n,r=getCurrentInstance(),o=inject(breadcrumbKey,void 0),s=useNamespace("breadcrumb"),a=r.appContext.config.globalProperties.$router,l=ref(),c=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(d,f)=>{var g,v;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(s).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:l,class:normalizeClass([unref(s).e("inner"),unref(s).is("link",!!d.to)]),role:"link",onClick:c},[renderSlot(d.$slots,"default")],2),(g=unref(o))!=null&&g.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(o).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(s).e("separator")),role:"presentation"},toDisplayString((v=unref(o))==null?void 0:v.separator),3))],2)}}});var BreadcrumbItem=_export_sfc$1(_sfc_main$14,[["__file","breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(n,e)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>n.type==="text"));const r=inject(buttonGroupContextKey,void 0),o=useGlobalConfig("button"),{form:s}=useFormItem(),a=useFormSize(computed(()=>r==null?void 0:r.size)),l=useFormDisabled(),c=ref(),d=useSlots(),f=computed(()=>n.type||(r==null?void 0:r.type)||""),g=computed(()=>{var Y,de,ae;return(ae=(de=n.autoInsertSpace)!=null?de:(Y=o.value)==null?void 0:Y.autoInsertSpace)!=null?ae:!1}),v=computed(()=>n.tag==="button"?{ariaDisabled:l.value||n.loading,disabled:l.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),A=computed(()=>{var Y;const de=(Y=d.default)==null?void 0:Y.call(d);if(g.value&&(de==null?void 0:de.length)===1){const ae=de[0];if((ae==null?void 0:ae.type)===Text$1){const ze=ae.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(ze.trim())}}return!1});return{_disabled:l,_size:a,_type:f,_ref:c,_props:v,shouldAddSpace:A,handleClick:Y=>{n.nativeType==="reset"&&(s==null||s.resetFields()),e("click",Y)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:n=>n instanceof MouseEvent};function bound01$1(n,e){isOnePointZero$1(n)&&(n="100%");var r=isPercentage$1(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function clamp01(n){return Math.min(1,Math.max(0,n))}function isOnePointZero$1(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function isPercentage$1(n){return typeof n=="string"&&n.indexOf("%")!==-1}function boundAlpha(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function convertToPercentage(n){return n<=1?"".concat(Number(n)*100,"%"):n}function pad2(n){return n.length===1?"0"+n:String(n)}function rgbToRgb(n,e,r){return{r:bound01$1(n,255)*255,g:bound01$1(e,255)*255,b:bound01$1(r,255)*255}}function rgbToHsl(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var o=Math.max(n,e,r),s=Math.min(n,e,r),a=0,l=0,c=(o+s)/2;if(o===s)l=0,a=0;else{var d=o-s;switch(l=c>.5?d/(2-o-s):d/(o+s),o){case n:a=(e-r)/d+(e<r?6:0);break;case e:a=(r-n)/d+2;break;case r:a=(n-e)/d+4;break}a/=6}return{h:a,s:l,l:c}}function hue2rgb(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*(6*r):r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function hslToRgb(n,e,r){var o,s,a;if(n=bound01$1(n,360),e=bound01$1(e,100),r=bound01$1(r,100),e===0)s=r,a=r,o=r;else{var l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;o=hue2rgb(c,l,n+1/3),s=hue2rgb(c,l,n),a=hue2rgb(c,l,n-1/3)}return{r:o*255,g:s*255,b:a*255}}function rgbToHsv(n,e,r){n=bound01$1(n,255),e=bound01$1(e,255),r=bound01$1(r,255);var o=Math.max(n,e,r),s=Math.min(n,e,r),a=0,l=o,c=o-s,d=o===0?0:c/o;if(o===s)a=0;else{switch(o){case n:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-n)/c+2;break;case r:a=(n-e)/c+4;break}a/=6}return{h:a,s:d,v:l}}function hsvToRgb(n,e,r){n=bound01$1(n,360)*6,e=bound01$1(e,100),r=bound01$1(r,100);var o=Math.floor(n),s=n-o,a=r*(1-e),l=r*(1-s*e),c=r*(1-(1-s)*e),d=o%6,f=[r,l,a,a,c,r][d],g=[c,r,r,l,a,a][d],v=[a,a,c,r,r,l][d];return{r:f*255,g:g*255,b:v*255}}function rgbToHex(n,e,r,o){var s=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function rgbaToHex(n,e,r,o,s){var a=[pad2(Math.round(n).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex(o))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function convertDecimalToHex(n){return Math.round(parseFloat(n)*255).toString(16)}function convertHexToDecimal(n){return parseIntFromHex(n)/255}function parseIntFromHex(n){return parseInt(n,16)}function numberInputToObject(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(n){var e={r:0,g:0,b:0},r=1,o=null,s=null,a=null,l=!1,c=!1;return typeof n=="string"&&(n=stringInputToObject(n)),typeof n=="object"&&(isValidCSSUnit(n.r)&&isValidCSSUnit(n.g)&&isValidCSSUnit(n.b)?(e=rgbToRgb(n.r,n.g,n.b),l=!0,c=String(n.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.v)?(o=convertToPercentage(n.s),s=convertToPercentage(n.v),e=hsvToRgb(n.h,o,s),l=!0,c="hsv"):isValidCSSUnit(n.h)&&isValidCSSUnit(n.s)&&isValidCSSUnit(n.l)&&(o=convertToPercentage(n.s),a=convertToPercentage(n.l),e=hslToRgb(n.h,o,a),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(r=n.a)),r=boundAlpha(r),{ok:l,format:n.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(names[n])n=names[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(n);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(n),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(n),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(n),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(n),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(n),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:e?"name":"hex8"}:(r=matchers.hex6.exec(n),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:e?"name":"hex"}:(r=matchers.hex4.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:e?"name":"hex8"}:(r=matchers.hex3.exec(n),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function isValidCSSUnit(n){return!!matchers.CSS_UNIT.exec(String(n))}var TinyColor=function(){function n(e,r){e===void 0&&(e=""),r===void 0&&(r={});var o;if(e instanceof n)return e;typeof e=="number"&&(e=numberInputToObject(e)),this.originalInput=e;var s=inputToRGB(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(o=r.format)!==null&&o!==void 0?o:s.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r,o,s,a=e.r/255,l=e.g/255,c=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),l<=.03928?o=l/12.92:o=Math.pow((l+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*r+.7152*o+.0722*s},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=boundAlpha(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=rgbToHsv(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=rgbToHsv(this.r,this.g,this.b),r=Math.round(e.h*360),o=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(o,"%, ").concat(s,"%)"):"hsva(".concat(r,", ").concat(o,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=rgbToHsl(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=rgbToHsl(this.r,this.g,this.b),r=Math.round(e.h*360),o=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(o,"%, ").concat(s,"%)"):"hsla(".concat(r,", ").concat(o,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),rgbToHex(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),rgbaToHex(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),o=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(o,")"):"rgba(".concat(e,", ").concat(r,", ").concat(o,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(bound01$1(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(bound01$1(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,o=Object.entries(names);r<o.length;r++){var s=o[r],a=s[0],l=s[1];if(e===l)return a}return!1},n.prototype.toString=function(e){var r=!!e;e=e??this.format;var o=!1,s=this.a<1&&this.a>=0,a=!r&&s&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(o=this.toRgbString()),e==="prgb"&&(o=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(o=this.toHexString()),e==="hex3"&&(o=this.toHexString(!0)),e==="hex4"&&(o=this.toHex8String(!0)),e==="hex8"&&(o=this.toHex8String()),e==="name"&&(o=this.toName()),e==="hsl"&&(o=this.toHslString()),e==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new n(r)},n.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=clamp01(r.l),new n(r)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=clamp01(r.s),new n(r)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var r=this.toHsl(),o=(r.h+e)%360;return r.h=o<0?360+o:o,new n(r)},n.prototype.mix=function(e,r){r===void 0&&(r=50);var o=this.toRgb(),s=new n(e).toRgb(),a=r/100,l={r:(s.r-o.r)*a+o.r,g:(s.g-o.g)*a+o.g,b:(s.b-o.b)*a+o.b,a:(s.a-o.a)*a+o.a};return new n(l)},n.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var o=this.toHsl(),s=360/r,a=[this];for(o.h=(o.h-(s*e>>1)+720)%360;--e;)o.h=(o.h+s)%360,a.push(new n(o));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),o=r.h,s=r.s,a=r.v,l=[],c=1/e;e--;)l.push(new n({h:o,s,v:a})),a=(a+c)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new n({h:(r+72)%360,s:e.s,l:e.l}),new n({h:(r+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var r=this.toRgb(),o=new n(e).toRgb(),s=r.a+o.a*(1-r.a);return new n({r:(r.r*r.a+o.r*o.a*(1-r.a))/s,g:(r.g*r.a+o.g*o.a*(1-r.a))/s,b:(r.b*r.a+o.b*o.a*(1-r.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var r=this.toHsl(),o=r.h,s=[this],a=360/e,l=1;l<e;l++)s.push(new n({h:(o+l*a)%360,s:r.s,l:r.l}));return s},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function darken(n,e=20){return n.mix("#141414",e).toString()}function useButtonCustomStyle(n){const e=useFormDisabled(),r=useNamespace("button");return computed(()=>{let o={};const s=n.color;if(s){const a=new TinyColor(s),l=n.dark?a.tint(20).toString():darken(a,20);if(n.plain)o=r.cssVarBlock({"bg-color":n.dark?darken(a,90):a.tint(90).toString(),"text-color":s,"border-color":n.dark?darken(a,50):a.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":l,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":l}),e.value&&(o[r.cssVarBlockName("disabled-bg-color")]=n.dark?darken(a,90):a.tint(90).toString(),o[r.cssVarBlockName("disabled-text-color")]=n.dark?darken(a,50):a.tint(50).toString(),o[r.cssVarBlockName("disabled-border-color")]=n.dark?darken(a,80):a.tint(80).toString());else{const c=n.dark?darken(a,30):a.tint(30).toString(),d=a.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(o=r.cssVarBlock({"bg-color":s,"text-color":d,"border-color":s,"hover-bg-color":c,"hover-text-color":d,"hover-border-color":c,"active-bg-color":l,"active-border-color":l}),e.value){const f=n.dark?darken(a,50):a.tint(50).toString();o[r.cssVarBlockName("disabled-bg-color")]=f,o[r.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,o[r.cssVarBlockName("disabled-border-color")]=f}}}return o})}const __default__$x=defineComponent({name:"ElButton"}),_sfc_main$13=defineComponent({...__default__$x,props:buttonProps,emits:buttonEmits,setup(n,{expose:e,emit:r}){const o=n,s=useButtonCustomStyle(o),a=useNamespace("button"),{_ref:l,_size:c,_type:d,_disabled:f,_props:g,shouldAddSpace:v,handleClick:A}=useButton(o,r),M=computed(()=>[a.b(),a.m(d.value),a.m(c.value),a.is("disabled",f.value),a.is("loading",o.loading),a.is("plain",o.plain),a.is("round",o.round),a.is("circle",o.circle),a.is("text",o.text),a.is("link",o.link),a.is("has-bg",o.bg)]);return e({ref:l,size:c,type:d,disabled:f,shouldAddSpace:v}),(Y,de)=>(openBlock(),createBlock(resolveDynamicComponent(Y.tag),mergeProps({ref_key:"_ref",ref:l},unref(g),{class:unref(M),style:unref(s),onClick:unref(A)}),{default:withCtx(()=>[Y.loading?(openBlock(),createElementBlock(Fragment,{key:0},[Y.$slots.loading?renderSlot(Y.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(a).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Y.loadingIcon)))]),_:1},8,["class"]))],64)):Y.icon||Y.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[Y.icon?(openBlock(),createBlock(resolveDynamicComponent(Y.icon),{key:0})):renderSlot(Y.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),Y.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(a).em("text","expand")]:unref(v)})},[renderSlot(Y.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$13,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$w=defineComponent({name:"ElButtonGroup"}),_sfc_main$12=defineComponent({...__default__$w,props:buttonGroupProps,setup(n){const e=n;provide(buttonGroupContextKey,reactive({size:toRef(e,"size"),type:toRef(e,"type")}));const r=useNamespace("button");return(o,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(r).b("group")}`)},[renderSlot(o.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$12,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var s=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:function(){return n[o]}})}),r}const nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",n=>startClick=n),document.addEventListener("mouseup",n=>{for(const e of nodeList.values())for(const{documentHandler:r}of e)r(n,startClick)}));function createDocumentHandler(n,e){let r=[];return Array.isArray(e.arg)?r=e.arg:isElement(e.arg)&&r.push(e.arg),function(o,s){const a=e.instance.popperRef,l=o.target,c=s==null?void 0:s.target,d=!e||!e.instance,f=!l||!c,g=n.contains(l)||n.contains(c),v=n===l,A=r.length&&r.some(Y=>Y==null?void 0:Y.contains(l))||r.length&&r.includes(c),M=a&&(a.contains(l)||a.contains(c));d||f||g||v||A||M||e.value(o,s)}}const ClickOutside={beforeMount(n,e){nodeList.has(n)||nodeList.set(n,[]),nodeList.get(n).push({documentHandler:createDocumentHandler(n,e),bindingFn:e.value})},updated(n,e){nodeList.has(n)||nodeList.set(n,[]);const r=nodeList.get(n),o=r.findIndex(a=>a.bindingFn===e.oldValue),s={documentHandler:createDocumentHandler(n,e),bindingFn:e.value};o>=0?r.splice(o,1,s):r.push(s)},unmounted(n){nodeList.delete(n)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(n,e){const r=e.value,{interval:o=REPEAT_INTERVAL,delay:s=REPEAT_DELAY}=isFunction$2(r)?{}:r;let a,l;const c=()=>isFunction$2(r)?r():r.handler(),d=()=>{l&&(clearTimeout(l),l=void 0),a&&(clearInterval(a),a=void 0)};n.addEventListener("mousedown",f=>{f.button===0&&(d(),c(),document.addEventListener("mouseup",()=>d(),{once:!0}),l=setTimeout(()=>{a=setInterval(()=>{c()},o)},s))})}},cardProps=buildProps({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$v=defineComponent({name:"ElCard"}),_sfc_main$11=defineComponent({...__default__$v,props:cardProps,setup(n){const e=useNamespace("card");return(r,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).b(),unref(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(e).e("header"))},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(e).e("body"),r.bodyClass]),style:normalizeStyle(r.bodyStyle)},[renderSlot(r.$slots,"default")],6),r.$slots.footer||r.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(e).e("footer"))},[renderSlot(r.$slots,"footer",{},()=>[createTextVNode(toDisplayString(r.footer),1)])],2)):createCommentVNode("v-if",!0)],2))}});var Card=_export_sfc$1(_sfc_main$11,[["__file","card.vue"]]);const ElCard=withInstall(Card),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaControls"])},checkboxEmits={[UPDATE_MODEL_EVENT]:n=>isString$2(n)||isNumber$1(n)||isBoolean$1(n),change:n=>isString$2(n)||isNumber$1(n)||isBoolean$1(n)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:n,isChecked:e})=>{const r=inject(checkboxGroupContextKey,void 0),o=computed(()=>{var a,l;const c=(a=r==null?void 0:r.max)==null?void 0:a.value,d=(l=r==null?void 0:r.min)==null?void 0:l.value;return!isUndefined$1(c)&&n.value.length>=c&&!e.value||!isUndefined$1(d)&&n.value.length<=d&&e.value});return{isDisabled:useFormDisabled(computed(()=>(r==null?void 0:r.disabled.value)||o.value)),isLimitDisabled:o}},useCheckboxEvent=(n,{model:e,isLimitExceeded:r,hasOwnLabel:o,isDisabled:s,isLabeledByFormItem:a})=>{const l=inject(checkboxGroupContextKey,void 0),{formItem:c}=useFormItem(),{emit:d}=getCurrentInstance();function f(Y){var de,ae,ze,qe;return[!0,n.trueValue,n.trueLabel].includes(Y)?(ae=(de=n.trueValue)!=null?de:n.trueLabel)!=null?ae:!0:(qe=(ze=n.falseValue)!=null?ze:n.falseLabel)!=null?qe:!1}function g(Y,de){d("change",f(Y),de)}function v(Y){if(r.value)return;const de=Y.target;d("change",f(de.checked),Y)}async function A(Y){r.value||!o.value&&!s.value&&a.value&&(Y.composedPath().some(ze=>ze.tagName==="LABEL")||(e.value=f([!1,n.falseValue,n.falseLabel].includes(e.value)),await nextTick(),g(e.value,Y)))}const M=computed(()=>(l==null?void 0:l.validateEvent)||n.validateEvent);return watch(()=>n.modelValue,()=>{M.value&&(c==null||c.validate("change").catch(Y=>void 0))}),{handleChange:v,onClickRoot:A}},useCheckboxModel=n=>{const e=ref(!1),{emit:r}=getCurrentInstance(),o=inject(checkboxGroupContextKey,void 0),s=computed(()=>isUndefined$1(o)===!1),a=ref(!1),l=computed({get(){var c,d;return s.value?(c=o==null?void 0:o.modelValue)==null?void 0:c.value:(d=n.modelValue)!=null?d:e.value},set(c){var d,f;s.value&&isArray$2(c)?(a.value=((d=o==null?void 0:o.max)==null?void 0:d.value)!==void 0&&c.length>(o==null?void 0:o.max.value)&&c.length>l.value.length,a.value===!1&&((f=o==null?void 0:o.changeEvent)==null||f.call(o,c))):(r(UPDATE_MODEL_EVENT,c),e.value=c)}});return{model:l,isGroup:s,isLimitExceeded:a}},useCheckboxStatus=(n,e,{model:r})=>{const o=inject(checkboxGroupContextKey,void 0),s=ref(!1),a=computed(()=>isPropAbsent(n.value)?n.label:n.value),l=computed(()=>{const g=r.value;return isBoolean$1(g)?g:isArray$2(g)?isObject$2(a.value)?g.map(toRaw).some(v=>isEqual(v,a.value)):g.map(toRaw).includes(a.value):g!=null?g===n.trueValue||g===n.trueLabel:!!g}),c=useFormSize(computed(()=>{var g;return(g=o==null?void 0:o.size)==null?void 0:g.value}),{prop:!0}),d=useFormSize(computed(()=>{var g;return(g=o==null?void 0:o.size)==null?void 0:g.value})),f=computed(()=>!!e.default||!isPropAbsent(a.value));return{checkboxButtonSize:c,isChecked:l,isFocused:s,checkboxSize:d,hasOwnLabel:f,actualValue:a}},useCheckbox=(n,e)=>{const{formItem:r}=useFormItem(),{model:o,isGroup:s,isLimitExceeded:a}=useCheckboxModel(n),{isFocused:l,isChecked:c,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:g,actualValue:v}=useCheckboxStatus(n,e,{model:o}),{isDisabled:A}=useCheckboxDisabled({model:o,isChecked:c}),{inputId:M,isLabeledByFormItem:Y}=useFormItemInputId(n,{formItemContext:r,disableIdGeneration:g,disableIdManagement:s}),{handleChange:de,onClickRoot:ae}=useCheckboxEvent(n,{model:o,isLimitExceeded:a,hasOwnLabel:g,isDisabled:A,isLabeledByFormItem:Y});return(()=>{function qe(){var Ue,hn;isArray$2(o.value)&&!o.value.includes(v.value)?o.value.push(v.value):o.value=(hn=(Ue=n.trueValue)!=null?Ue:n.trueLabel)!=null?hn:!0}n.checked&&qe()})(),useDeprecated({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!n.controls)),useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>s.value&&isPropAbsent(n.value))),useDeprecated({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!n.trueLabel)),useDeprecated({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!n.falseLabel)),{inputId:M,isLabeledByFormItem:Y,isChecked:c,isDisabled:A,isFocused:l,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:g,model:o,actualValue:v,handleChange:de,onClickRoot:ae}},_hoisted_1$1c=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],_hoisted_2$$=["id","indeterminate","disabled","value","name","tabindex"],__default__$u=defineComponent({name:"ElCheckbox"}),_sfc_main$10=defineComponent({...__default__$u,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{inputId:o,isLabeledByFormItem:s,isChecked:a,isDisabled:l,isFocused:c,checkboxSize:d,hasOwnLabel:f,model:g,actualValue:v,handleChange:A,onClickRoot:M}=useCheckbox(e,r),Y=useNamespace("checkbox"),de=computed(()=>[Y.b(),Y.m(d.value),Y.is("disabled",l.value),Y.is("bordered",e.border),Y.is("checked",a.value)]),ae=computed(()=>[Y.e("input"),Y.is("disabled",l.value),Y.is("checked",a.value),Y.is("indeterminate",e.indeterminate),Y.is("focus",c.value)]);return(ze,qe)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(f)&&unref(s)?"span":"label"),{class:normalizeClass(unref(de)),"aria-controls":ze.indeterminate?ze.controls||ze.ariaControls:null,onClick:unref(M)},{default:withCtx(()=>{var Ue,hn;return[createBaseVNode("span",{class:normalizeClass(unref(ae))},[ze.trueValue||ze.falseValue||ze.trueLabel||ze.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(o),"onUpdate:modelValue":qe[0]||(qe[0]=On=>isRef(g)?g.value=On:null),class:normalizeClass(unref(Y).e("original")),type:"checkbox",indeterminate:ze.indeterminate,name:ze.name,tabindex:ze.tabindex,disabled:unref(l),"true-value":(Ue=ze.trueValue)!=null?Ue:ze.trueLabel,"false-value":(hn=ze.falseValue)!=null?hn:ze.falseLabel,onChange:qe[1]||(qe[1]=(...On)=>unref(A)&&unref(A)(...On)),onFocus:qe[2]||(qe[2]=On=>c.value=!0),onBlur:qe[3]||(qe[3]=On=>c.value=!1),onClick:qe[4]||(qe[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1c)),[[vModelCheckbox,unref(g)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(o),"onUpdate:modelValue":qe[5]||(qe[5]=On=>isRef(g)?g.value=On:null),class:normalizeClass(unref(Y).e("original")),type:"checkbox",indeterminate:ze.indeterminate,disabled:unref(l),value:unref(v),name:ze.name,tabindex:ze.tabindex,onChange:qe[6]||(qe[6]=(...On)=>unref(A)&&unref(A)(...On)),onFocus:qe[7]||(qe[7]=On=>c.value=!0),onBlur:qe[8]||(qe[8]=On=>c.value=!1),onClick:qe[9]||(qe[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$$)),[[vModelCheckbox,unref(g)]]),createBaseVNode("span",{class:normalizeClass(unref(Y).e("inner"))},null,2)],2),unref(f)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Y).e("label"))},[renderSlot(ze.$slots,"default"),ze.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(ze.label),1)],64))],2)):createCommentVNode("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$10,[["__file","checkbox.vue"]]);const _hoisted_1$1b=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$_=["name","tabindex","disabled","value"],__default__$t=defineComponent({name:"ElCheckboxButton"}),_sfc_main$$=defineComponent({...__default__$t,props:checkboxProps,emits:checkboxEmits,setup(n){const e=n,r=useSlots(),{isFocused:o,isChecked:s,isDisabled:a,checkboxButtonSize:l,model:c,actualValue:d,handleChange:f}=useCheckbox(e,r),g=inject(checkboxGroupContextKey,void 0),v=useNamespace("checkbox"),A=computed(()=>{var Y,de,ae,ze;const qe=(de=(Y=g==null?void 0:g.fill)==null?void 0:Y.value)!=null?de:"";return{backgroundColor:qe,borderColor:qe,color:(ze=(ae=g==null?void 0:g.textColor)==null?void 0:ae.value)!=null?ze:"",boxShadow:qe?`-1px 0 0 0 ${qe}`:void 0}}),M=computed(()=>[v.b("button"),v.bm("button",l.value),v.is("disabled",a.value),v.is("checked",s.value),v.is("focus",o.value)]);return(Y,de)=>{var ae,ze;return openBlock(),createElementBlock("label",{class:normalizeClass(unref(M))},[Y.trueValue||Y.falseValue||Y.trueLabel||Y.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":de[0]||(de[0]=qe=>isRef(c)?c.value=qe:null),class:normalizeClass(unref(v).be("button","original")),type:"checkbox",name:Y.name,tabindex:Y.tabindex,disabled:unref(a),"true-value":(ae=Y.trueValue)!=null?ae:Y.trueLabel,"false-value":(ze=Y.falseValue)!=null?ze:Y.falseLabel,onChange:de[1]||(de[1]=(...qe)=>unref(f)&&unref(f)(...qe)),onFocus:de[2]||(de[2]=qe=>o.value=!0),onBlur:de[3]||(de[3]=qe=>o.value=!1),onClick:de[4]||(de[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1b)),[[vModelCheckbox,unref(c)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":de[5]||(de[5]=qe=>isRef(c)?c.value=qe:null),class:normalizeClass(unref(v).be("button","original")),type:"checkbox",name:Y.name,tabindex:Y.tabindex,disabled:unref(a),value:unref(d),onChange:de[6]||(de[6]=(...qe)=>unref(f)&&unref(f)(...qe)),onFocus:de[7]||(de[7]=qe=>o.value=!0),onBlur:de[8]||(de[8]=qe=>o.value=!1),onClick:de[9]||(de[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$_)),[[vModelCheckbox,unref(c)]]),Y.$slots.default||Y.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(v).be("button","inner")),style:normalizeStyle(unref(s)?unref(A):void 0)},[renderSlot(Y.$slots,"default",{},()=>[createTextVNode(toDisplayString(Y.label),1)])],6)):createCommentVNode("v-if",!0)],2)}}});var CheckboxButton=_export_sfc$1(_sfc_main$$,[["__file","checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:n=>isArray$2(n),change:n=>isArray$2(n)},__default__$s=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$_=defineComponent({...__default__$s,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(n,{emit:e}){const r=n,o=useNamespace("checkbox"),{formItem:s}=useFormItem(),{inputId:a,isLabeledByFormItem:l}=useFormItemInputId(r,{formItemContext:s}),c=async f=>{e(UPDATE_MODEL_EVENT,f),await nextTick(),e("change",f)},d=computed({get(){return r.modelValue},set(f){c(f)}});return provide(checkboxGroupContextKey,{...pick(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:d,changeEvent:c}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!r.label)),watch(()=>r.modelValue,()=>{r.validateEvent&&(s==null||s.validate("change").catch(f=>void 0))}),(f,g)=>{var v;return openBlock(),createBlock(resolveDynamicComponent(f.tag),{id:unref(a),class:normalizeClass(unref(o).b("group")),role:"group","aria-label":unref(l)?void 0:f.label||f.ariaLabel||"checkbox-group","aria-labelledby":unref(l)?(v=unref(s))==null?void 0:v.labelId:void 0},{default:withCtx(()=>[renderSlot(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$_,[["__file","checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup});withNoopInstall(CheckboxButton);withNoopInstall(CheckboxGroup);const radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:n=>isString$2(n)||isNumber$1(n)||isBoolean$1(n),[CHANGE_EVENT]:n=>isString$2(n)||isNumber$1(n)||isBoolean$1(n)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(n,e)=>{const r=ref(),o=inject(radioGroupKey,void 0),s=computed(()=>!!o),a=computed(()=>isPropAbsent(n.value)?n.label:n.value),l=computed({get(){return s.value?o.modelValue:n.modelValue},set(v){s.value?o.changeEvent(v):e&&e(UPDATE_MODEL_EVENT,v),r.value.checked=n.modelValue===a.value}}),c=useFormSize(computed(()=>o==null?void 0:o.size)),d=useFormDisabled(computed(()=>o==null?void 0:o.disabled)),f=ref(!1),g=computed(()=>d.value||s.value&&l.value!==a.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>s.value&&isPropAbsent(n.value))),{radioRef:r,isGroup:s,radioGroup:o,focus:f,size:c,disabled:d,tabIndex:g,modelValue:l,actualValue:a}},_hoisted_1$1a=["value","name","disabled"],__default__$r=defineComponent({name:"ElRadio"}),_sfc_main$Z=defineComponent({...__default__$r,props:radioProps,emits:radioEmits,setup(n,{emit:e}){const r=n,o=useNamespace("radio"),{radioRef:s,radioGroup:a,focus:l,size:c,disabled:d,modelValue:f,actualValue:g}=useRadio(r,e);function v(){nextTick(()=>e("change",f.value))}return(A,M)=>{var Y;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(o).b(),unref(o).is("disabled",unref(d)),unref(o).is("focus",unref(l)),unref(o).is("bordered",A.border),unref(o).is("checked",unref(f)===unref(g)),unref(o).m(unref(c))])},[createBaseVNode("span",{class:normalizeClass([unref(o).e("input"),unref(o).is("disabled",unref(d)),unref(o).is("checked",unref(f)===unref(g))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":M[0]||(M[0]=de=>isRef(f)?f.value=de:null),class:normalizeClass(unref(o).e("original")),value:unref(g),name:A.name||((Y=unref(a))==null?void 0:Y.name),disabled:unref(d),type:"radio",onFocus:M[1]||(M[1]=de=>l.value=!0),onBlur:M[2]||(M[2]=de=>l.value=!1),onChange:v,onClick:M[3]||(M[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$1a),[[vModelRadio,unref(f)]]),createBaseVNode("span",{class:normalizeClass(unref(o).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(o).e("label")),onKeydown:M[4]||(M[4]=withModifiers(()=>{},["stop"]))},[renderSlot(A.$slots,"default",{},()=>[createTextVNode(toDisplayString(A.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$Z,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),_hoisted_1$19=["value","name","disabled"],__default__$q=defineComponent({name:"ElRadioButton"}),_sfc_main$Y=defineComponent({...__default__$q,props:radioButtonProps,setup(n){const e=n,r=useNamespace("radio"),{radioRef:o,focus:s,size:a,disabled:l,modelValue:c,radioGroup:d,actualValue:f}=useRadio(e),g=computed(()=>({backgroundColor:(d==null?void 0:d.fill)||"",borderColor:(d==null?void 0:d.fill)||"",boxShadow:d!=null&&d.fill?`-1px 0 0 0 ${d.fill}`:"",color:(d==null?void 0:d.textColor)||""}));return(v,A)=>{var M;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(c)===unref(f)),unref(r).is("disabled",unref(l)),unref(r).is("focus",unref(s)),unref(r).bm("button",unref(a))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":A[0]||(A[0]=Y=>isRef(c)?c.value=Y:null),class:normalizeClass(unref(r).be("button","original-radio")),value:unref(f),type:"radio",name:v.name||((M=unref(d))==null?void 0:M.name),disabled:unref(l),onFocus:A[1]||(A[1]=Y=>s.value=!0),onBlur:A[2]||(A[2]=Y=>s.value=!1),onClick:A[3]||(A[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$19),[[vModelRadio,unref(c)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle(unref(c)===unref(f)?unref(g):{}),onKeydown:A[4]||(A[4]=withModifiers(()=>{},["stop"]))},[renderSlot(v.$slots,"default",{},()=>[createTextVNode(toDisplayString(v.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$Y,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,_hoisted_1$18=["id","aria-label","aria-labelledby"],__default__$p=defineComponent({name:"ElRadioGroup"}),_sfc_main$X=defineComponent({...__default__$p,props:radioGroupProps,emits:radioGroupEmits,setup(n,{emit:e}){const r=n,o=useNamespace("radio"),s=useId(),a=ref(),{formItem:l}=useFormItem(),{inputId:c,isLabeledByFormItem:d}=useFormItemInputId(r,{formItemContext:l}),f=v=>{e(UPDATE_MODEL_EVENT,v),nextTick(()=>e("change",v))};onMounted(()=>{const v=a.value.querySelectorAll("[type=radio]"),A=v[0];!Array.from(v).some(M=>M.checked)&&A&&(A.tabIndex=0)});const g=computed(()=>r.name||s.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:f,name:g})),watch(()=>r.modelValue,()=>{r.validateEvent&&(l==null||l.validate("change").catch(v=>void 0))}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>!!r.label)),(v,A)=>(openBlock(),createElementBlock("div",{id:unref(c),ref_key:"radioGroupRef",ref:a,class:normalizeClass(unref(o).b("group")),role:"radiogroup","aria-label":unref(d)?void 0:v.label||v.ariaLabel||"radio-group","aria-labelledby":unref(d)?unref(l).labelId:void 0},[renderSlot(v.$slots,"default")],10,_hoisted_1$18))}});var RadioGroup=_export_sfc$1(_sfc_main$X,[["__file","radio-group.vue"]]);withInstall(Radio,{RadioButton,RadioGroup});const ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton),tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},__default__$o=defineComponent({name:"ElTag"}),_sfc_main$W=defineComponent({...__default__$o,props:tagProps,emits:tagEmits,setup(n,{emit:e}){const r=n,o=useFormSize(),s=useNamespace("tag"),a=computed(()=>{const{type:d,hit:f,effect:g,closable:v,round:A}=r;return[s.b(),s.is("closable",v),s.m(d||"primary"),s.m(o.value),s.m(g),s.is("hit",f),s.is("round",A)]}),l=d=>{e("close",d)},c=d=>{e("click",d)};return(d,f)=>d.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(a)),style:normalizeStyle({backgroundColor:d.color}),onClick:c},[createBaseVNode("span",{class:normalizeClass(unref(s).e("content"))},[renderSlot(d.$slots,"default")],2),d.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).e("close")),onClick:withModifiers(l,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(s).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(a)),style:normalizeStyle({backgroundColor:d.color}),onClick:c},[createBaseVNode("span",{class:normalizeClass(unref(s).e("content"))},[renderSlot(d.$slots,"default")],2),d.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).e("close")),onClick:withModifiers(l,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag$1=_export_sfc$1(_sfc_main$W,[["__file","tag.vue"]]);const ElTag=withInstall(Tag$1),rowContextKey=Symbol("rowContextKey"),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$n=defineComponent({name:"ElRow"}),_sfc_main$V=defineComponent({...__default__$n,props:rowProps,setup(n){const e=n,r=useNamespace("row"),o=computed(()=>e.gutter);provide(rowContextKey,{gutter:o});const s=computed(()=>{const l={};return e.gutter&&(l.marginRight=l.marginLeft=`-${e.gutter/2}px`),l}),a=computed(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,!!e.align)]);return(l,c)=>(openBlock(),createBlock(resolveDynamicComponent(l.tag),{class:normalizeClass(unref(a)),style:normalizeStyle(unref(s))},{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$V,[["__file","row.vue"]]);const ElRow=withInstall(Row),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$m=defineComponent({name:"ElCol"}),_sfc_main$U=defineComponent({...__default__$m,props:colProps,setup(n){const e=n,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),o=useNamespace("col"),s=computed(()=>{const l={};return r.value&&(l.paddingLeft=l.paddingRight=`${r.value/2}px`),l}),a=computed(()=>{const l=[];return["span","offset","pull","push"].forEach(f=>{const g=e[f];isNumber$1(g)&&(f==="span"?l.push(o.b(`${e[f]}`)):g>0&&l.push(o.b(`${f}-${e[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{isNumber$1(e[f])?l.push(o.b(`${f}-${e[f]}`)):isObject$2(e[f])&&Object.entries(e[f]).forEach(([g,v])=>{l.push(g!=="span"?o.b(`${f}-${g}-${v}`):o.b(`${f}-${v}`))})}),r.value&&l.push(o.is("guttered")),[o.b(),l]});return(l,c)=>(openBlock(),createBlock(resolveDynamicComponent(l.tag),{class:normalizeClass(unref(a)),style:normalizeStyle(unref(s))},{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$U,[["__file","col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=n=>isNumber$1(n)||isString$2(n)||isArray$2(n),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(n,e)=>{const r=ref(castArray(n.modelValue)),o=a=>{r.value=a;const l=n.accordion?r.value[0]:r.value;e(UPDATE_MODEL_EVENT,l),e(CHANGE_EVENT,l)},s=a=>{if(n.accordion)o([r.value[0]===a?"":a]);else{const l=[...r.value],c=l.indexOf(a);c>-1?l.splice(c,1):l.push(a),o(l)}};return watch(()=>n.modelValue,()=>r.value=castArray(n.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:r,handleItemClick:s}),{activeNames:r,setActiveNames:o}},useCollapseDOM=()=>{const n=useNamespace("collapse");return{rootKls:computed(()=>n.b())}},__default__$l=defineComponent({name:"ElCollapse"}),_sfc_main$T=defineComponent({...__default__$l,props:collapseProps,emits:collapseEmits,setup(n,{expose:e,emit:r}){const o=n,{activeNames:s,setActiveNames:a}=useCollapse(o,r),{rootKls:l}=useCollapseDOM();return e({activeNames:s,setActiveNames:a}),(c,d)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(l))},[renderSlot(c.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$T,[["__file","collapse.vue"]]);const __default__$k=defineComponent({name:"ElCollapseTransition"}),_sfc_main$S=defineComponent({...__default__$k,setup(n){const e=useNamespace("collapse-transition"),r=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},o={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){r(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){r(s)},leaveCancelled(s){r(s)}};return(s,a)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(e).b()},toHandlers(o)),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$S,[["__file","collapse-transition.vue"]]);CollapseTransition.install=n=>{n.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:void 0},disabled:Boolean}),useCollapseItem=n=>{const e=inject(collapseContextKey),{namespace:r}=useNamespace("collapse"),o=ref(!1),s=ref(!1),a=useIdInjection(),l=computed(()=>a.current++),c=computed(()=>{var A;return(A=n.name)!=null?A:`${r.value}-id-${a.prefix}-${unref(l)}`}),d=computed(()=>e==null?void 0:e.activeNames.value.includes(unref(c)));return{focusing:o,id:l,isActive:d,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:o.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(unref(c)),o.value=!1,s.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(unref(c))}}},useCollapseItemDOM=(n,{focusing:e,isActive:r,id:o})=>{const s=useNamespace("collapse"),a=computed(()=>[s.b("item"),s.is("active",unref(r)),s.is("disabled",n.disabled)]),l=computed(()=>[s.be("item","header"),s.is("active",unref(r)),{focusing:unref(e)&&!n.disabled}]),c=computed(()=>[s.be("item","arrow"),s.is("active",unref(r))]),d=computed(()=>s.be("item","wrap")),f=computed(()=>s.be("item","content")),g=computed(()=>s.b(`content-${unref(o)}`)),v=computed(()=>s.b(`head-${unref(o)}`));return{arrowKls:c,headKls:l,rootKls:a,itemWrapperKls:d,itemContentKls:f,scopedContentId:g,scopedHeadId:v}},_hoisted_1$17=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],_hoisted_2$Z=["id","aria-hidden","aria-labelledby"],__default__$j=defineComponent({name:"ElCollapseItem"}),_sfc_main$R=defineComponent({...__default__$j,props:collapseItemProps,setup(n,{expose:e}){const r=n,{focusing:o,id:s,isActive:a,handleFocus:l,handleHeaderClick:c,handleEnterClick:d}=useCollapseItem(r),{arrowKls:f,headKls:g,rootKls:v,itemWrapperKls:A,itemContentKls:M,scopedContentId:Y,scopedHeadId:de}=useCollapseItemDOM(r,{focusing:o,isActive:a,id:s});return e({isActive:a}),(ae,ze)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(v))},[createBaseVNode("button",{id:unref(de),class:normalizeClass(unref(g)),"aria-expanded":unref(a),"aria-controls":unref(Y),"aria-describedby":unref(Y),tabindex:ae.disabled?-1:0,type:"button",onClick:ze[0]||(ze[0]=(...qe)=>unref(c)&&unref(c)(...qe)),onKeydown:ze[1]||(ze[1]=withKeys(withModifiers((...qe)=>unref(d)&&unref(d)(...qe),["stop","prevent"]),["space","enter"])),onFocus:ze[2]||(ze[2]=(...qe)=>unref(l)&&unref(l)(...qe)),onBlur:ze[3]||(ze[3]=qe=>o.value=!1)},[renderSlot(ae.$slots,"title",{},()=>[createTextVNode(toDisplayString(ae.title),1)]),createVNode(unref(ElIcon),{class:normalizeClass(unref(f))},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1},8,["class"])],42,_hoisted_1$17),createVNode(unref(_CollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(Y),role:"region",class:normalizeClass(unref(A)),"aria-hidden":!unref(a),"aria-labelledby":unref(de)},[createBaseVNode("div",{class:normalizeClass(unref(M))},[renderSlot(ae.$slots,"default")],2)],10,_hoisted_2$Z),[[vShow,unref(a)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$R,[["__file","collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(n,e){if(!isClient)return;const r=function(a){var l;(l=e.drag)==null||l.call(e,a)},o=function(a){var l;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(l=e.end)==null||l.call(e,a)},s=function(a){var l;isDragging||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",o),document.addEventListener("touchmove",r),document.addEventListener("touchend",o),isDragging=!0,(l=e.start)==null||l.call(e,a))};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s)}const useAlphaSlider=n=>{const e=getCurrentInstance(),r=shallowRef(),o=shallowRef();function s(l){l.target!==r.value&&a(l)}function a(l){if(!o.value||!r.value)return;const d=e.vnode.el.getBoundingClientRect(),{clientX:f,clientY:g}=getClientXY(l);if(n.vertical){let v=g-d.top;v=Math.max(r.value.offsetHeight/2,v),v=Math.min(v,d.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((v-r.value.offsetHeight/2)/(d.height-r.value.offsetHeight)*100))}else{let v=f-d.left;v=Math.max(r.value.offsetWidth/2,v),v=Math.min(v,d.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((v-r.value.offsetWidth/2)/(d.width-r.value.offsetWidth)*100))}}return{thumb:r,bar:o,handleDrag:a,handleClick:s}},useAlphaSliderDOM=(n,{bar:e,thumb:r,handleDrag:o})=>{const s=getCurrentInstance(),a=useNamespace("color-alpha-slider"),l=ref(0),c=ref(0),d=ref();function f(){if(!r.value||n.vertical)return 0;const qe=s.vnode.el,Ue=n.color.get("alpha");return qe?Math.round(Ue*(qe.offsetWidth-r.value.offsetWidth/2)/100):0}function g(){if(!r.value)return 0;const qe=s.vnode.el;if(!n.vertical)return 0;const Ue=n.color.get("alpha");return qe?Math.round(Ue*(qe.offsetHeight-r.value.offsetHeight/2)/100):0}function v(){if(n.color&&n.color.value){const{r:qe,g:Ue,b:hn}=n.color.toRgb();return`linear-gradient(to right, rgba(${qe}, ${Ue}, ${hn}, 0) 0%, rgba(${qe}, ${Ue}, ${hn}, 1) 100%)`}return""}function A(){l.value=f(),c.value=g(),d.value=v()}onMounted(()=>{if(!e.value||!r.value)return;const qe={drag:Ue=>{o(Ue)},end:Ue=>{o(Ue)}};draggable(e.value,qe),draggable(r.value,qe),A()}),watch(()=>n.color.get("alpha"),()=>A()),watch(()=>n.color.value,()=>A());const M=computed(()=>[a.b(),a.is("vertical",n.vertical)]),Y=computed(()=>a.e("bar")),de=computed(()=>a.e("thumb")),ae=computed(()=>({background:d.value})),ze=computed(()=>({left:addUnit(l.value),top:addUnit(c.value)}));return{rootKls:M,barKls:Y,barStyle:ae,thumbKls:de,thumbStyle:ze,update:A}},COMPONENT_NAME$5="ElColorAlphaSlider",__default__$i=defineComponent({name:COMPONENT_NAME$5}),_sfc_main$Q=defineComponent({...__default__$i,props:alphaSliderProps,setup(n,{expose:e}){const r=n,{bar:o,thumb:s,handleDrag:a,handleClick:l}=useAlphaSlider(r),{rootKls:c,barKls:d,barStyle:f,thumbKls:g,thumbStyle:v,update:A}=useAlphaSliderDOM(r,{bar:o,thumb:s,handleDrag:a});return e({update:A,bar:o,thumb:s}),(M,Y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(c))},[createBaseVNode("div",{ref_key:"bar",ref:o,class:normalizeClass(unref(d)),style:normalizeStyle(unref(f)),onClick:Y[0]||(Y[0]=(...de)=>unref(l)&&unref(l)(...de))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:s,class:normalizeClass(unref(g)),style:normalizeStyle(unref(v))},null,6)],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$Q,[["__file","alpha-slider.vue"]]);const _sfc_main$P=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=useNamespace("color-hue-slider"),r=getCurrentInstance(),o=ref(),s=ref(),a=ref(0),l=ref(0),c=computed(()=>n.color.get("hue"));watch(()=>c.value,()=>{A()});function d(M){M.target!==o.value&&f(M)}function f(M){if(!s.value||!o.value)return;const de=r.vnode.el.getBoundingClientRect(),{clientX:ae,clientY:ze}=getClientXY(M);let qe;if(n.vertical){let Ue=ze-de.top;Ue=Math.min(Ue,de.height-o.value.offsetHeight/2),Ue=Math.max(o.value.offsetHeight/2,Ue),qe=Math.round((Ue-o.value.offsetHeight/2)/(de.height-o.value.offsetHeight)*360)}else{let Ue=ae-de.left;Ue=Math.min(Ue,de.width-o.value.offsetWidth/2),Ue=Math.max(o.value.offsetWidth/2,Ue),qe=Math.round((Ue-o.value.offsetWidth/2)/(de.width-o.value.offsetWidth)*360)}n.color.set("hue",qe)}function g(){if(!o.value)return 0;const M=r.vnode.el;if(n.vertical)return 0;const Y=n.color.get("hue");return M?Math.round(Y*(M.offsetWidth-o.value.offsetWidth/2)/360):0}function v(){if(!o.value)return 0;const M=r.vnode.el;if(!n.vertical)return 0;const Y=n.color.get("hue");return M?Math.round(Y*(M.offsetHeight-o.value.offsetHeight/2)/360):0}function A(){a.value=g(),l.value=v()}return onMounted(()=>{if(!s.value||!o.value)return;const M={drag:Y=>{f(Y)},end:Y=>{f(Y)}};draggable(s.value,M),draggable(o.value,M),A()}),{bar:s,thumb:o,thumbLeft:a,thumbTop:l,hueValue:c,handleClick:d,update:A,ns:e}}});function _sfc_render$p(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("vertical",n.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(n.ns.e("bar")),onClick:e[0]||(e[0]=(...l)=>n.handleClick&&n.handleClick(...l))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(n.ns.e("thumb")),style:normalizeStyle({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$P,[["render",_sfc_render$p],["__file","hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:useTooltipContentProps.teleported,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),colorPickerEmits={[UPDATE_MODEL_EVENT]:n=>isString$2(n)||isNil(n),[CHANGE_EVENT]:n=>isString$2(n)||isNil(n),activeChange:n=>isString$2(n)||isNil(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(n,e,r){return[n,e*r/((n=(2-e)*r)<1?n:2-n)||0,n/2]},isOnePointZero=function(n){return typeof n=="string"&&n.includes(".")&&Number.parseFloat(n)===1},isPercentage=function(n){return typeof n=="string"&&n.includes("%")},bound01=function(n,e){isOnePointZero(n)&&(n="100%");const r=isPercentage(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),r&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),r=n%16;return`${INT_HEX_MAP[e]||e}${INT_HEX_MAP[r]||r}`},toHex=function({r:n,g:e,b:r}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+r)?"":`#${hexOne(n)}${hexOne(e)}${hexOne(r)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(n){return n.length===2?(HEX_INT_MAP[n[0].toUpperCase()]||+n[0])*16+(HEX_INT_MAP[n[1].toUpperCase()]||+n[1]):HEX_INT_MAP[n[1].toUpperCase()]||+n[1]},hsl2hsv=function(n,e,r){e=e/100,r=r/100;let o=e;const s=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,o*=s<=1?s:2-s;const a=(r+e)/2,l=r===0?2*o/(s+o):2*e/(r+e);return{h:n,s:l*100,v:a*100}},rgb2hsv=(n,e,r)=>{n=bound01(n,255),e=bound01(e,255),r=bound01(r,255);const o=Math.max(n,e,r),s=Math.min(n,e,r);let a;const l=o,c=o-s,d=o===0?0:c/o;if(o===s)a=0;else{switch(o){case n:{a=(e-r)/c+(e<r?6:0);break}case e:{a=(r-n)/c+2;break}case r:{a=(n-e)/c+4;break}}a/=6}return{h:a*360,s:d*100,v:l*100}},hsv2rgb=function(n,e,r){n=bound01(n,360)*6,e=bound01(e,100),r=bound01(r,100);const o=Math.floor(n),s=n-o,a=r*(1-e),l=r*(1-s*e),c=r*(1-(1-s)*e),d=o%6,f=[r,l,a,a,c,r][d],g=[c,r,r,l,a,a][d],v=[a,a,c,r,r,l][d];return{r:Math.round(f*255),g:Math.round(g*255),b:Math.round(v*255)}};class Color{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in e)hasOwn(e,r)&&(this[r]=e[r]);e.value?this.fromString(e.value):this.doOnChange()}set(e,r){if(arguments.length===1&&typeof e=="object"){for(const o in e)hasOwn(e,o)&&this.set(o,e[o]);return}this[`_${e}`]=r,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(o,s,a)=>{this._hue=Math.max(0,Math.min(360,o)),this._saturation=Math.max(0,Math.min(100,s)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const o=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,a)=>a>2?Number.parseFloat(s):Number.parseInt(s,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:s,s:a,v:l}=hsl2hsv(o[0],o[1],o[2]);r(s,a,l)}}else if(e.includes("hsv")){const o=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,a)=>a>2?Number.parseFloat(s):Number.parseInt(s,10));o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3&&r(o[0],o[1],o[2])}else if(e.includes("rgb")){const o=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,a)=>a>2?Number.parseFloat(s):Number.parseInt(s,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:s,s:a,v:l}=rgb2hsv(o[0],o[1],o[2]);r(s,a,l)}}else if(e.includes("#")){const o=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(o))return;let s,a,l;o.length===3?(s=parseHexChannel(o[0]+o[0]),a=parseHexChannel(o[1]+o[1]),l=parseHexChannel(o[2]+o[2])):(o.length===6||o.length===8)&&(s=parseHexChannel(o.slice(0,2)),a=parseHexChannel(o.slice(2,4)),l=parseHexChannel(o.slice(4,6))),o.length===8?this._alpha=parseHexChannel(o.slice(6))/255*100:(o.length===3||o.length===6)&&(this._alpha=100);const{h:c,s:d,v:f}=rgb2hsv(s,a,l);r(c,d,f)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:r,_value:o,_alpha:s,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const l=hsv2hsl(e,r/100,o/100);this.value=`hsla(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(r)}%, ${Math.round(o)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex(hsv2rgb(e,r,o))}${hexOne(s*255/100)}`;break}default:{const{r:l,g:c,b:d}=hsv2rgb(e,r,o);this.value=`rgba(${l}, ${c}, ${d}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const l=hsv2hsl(e,r/100,o/100);this.value=`hsl(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(r)}%, ${Math.round(o)}%)`;break}case"rgb":{const{r:l,g:c,b:d}=hsv2rgb(e,r,o);this.value=`rgb(${l}, ${c}, ${d})`;break}default:this.value=toHex(hsv2rgb(e,r,o))}}}const _sfc_main$O=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),o=ref(a(n.colors,n.color));watch(()=>r.value,l=>{const c=new Color;c.fromString(l),o.value.forEach(d=>{d.selected=c.compare(d)})}),watchEffect(()=>{o.value=a(n.colors,n.color)});function s(l){n.color.fromString(n.colors[l])}function a(l,c){return l.map(d=>{const f=new Color;return f.enableAlpha=!0,f.format="rgba",f.fromString(d),f.selected=f.value===c.value,f})}return{rgbaColors:o,handleSelect:s,ns:e}}}),_hoisted_1$16=["onClick"];function _sfc_render$o(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b())},[createBaseVNode("div",{class:normalizeClass(n.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.rgbaColors,(l,c)=>(openBlock(),createElementBlock("div",{key:n.colors[c],class:normalizeClass([n.ns.e("color-selector"),n.ns.is("alpha",l._alpha<100),{selected:l.selected}]),onClick:d=>n.handleSelect(c)},[createBaseVNode("div",{style:normalizeStyle({backgroundColor:l.value})},null,4)],10,_hoisted_1$16))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$O,[["render",_sfc_render$o],["__file","predefine.vue"]]);const _sfc_main$N=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=useNamespace("color-svpanel"),r=getCurrentInstance(),o=ref(0),s=ref(0),a=ref("hsl(0, 100%, 50%)"),l=computed(()=>{const f=n.color.get("hue"),g=n.color.get("value");return{hue:f,value:g}});function c(){const f=n.color.get("saturation"),g=n.color.get("value"),v=r.vnode.el,{clientWidth:A,clientHeight:M}=v;s.value=f*A/100,o.value=(100-g)*M/100,a.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function d(f){const v=r.vnode.el.getBoundingClientRect(),{clientX:A,clientY:M}=getClientXY(f);let Y=A-v.left,de=M-v.top;Y=Math.max(0,Y),Y=Math.min(Y,v.width),de=Math.max(0,de),de=Math.min(de,v.height),s.value=Y,o.value=de,n.color.set({saturation:Y/v.width*100,value:100-de/v.height*100})}return watch(()=>l.value,()=>{c()}),onMounted(()=>{draggable(r.vnode.el,{drag:f=>{d(f)},end:f=>{d(f)}}),c()}),{cursorTop:o,cursorLeft:s,background:a,colorValue:l,handleDrag:d,update:c,ns:e}}}),_hoisted_1$15=createBaseVNode("div",null,null,-1),_hoisted_2$Y=[_hoisted_1$15];function _sfc_render$n(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:normalizeClass(n.ns.b()),style:normalizeStyle({backgroundColor:n.background})},[createBaseVNode("div",{class:normalizeClass(n.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(n.ns.e("cursor")),style:normalizeStyle({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},_hoisted_2$Y,6)],6)}var SvPanel=_export_sfc$1(_sfc_main$N,[["render",_sfc_render$n],["__file","sv-panel.vue"]]);const _hoisted_1$14=["onKeydown"],_hoisted_2$X=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],__default__$h=defineComponent({name:"ElColorPicker"}),_sfc_main$M=defineComponent({...__default__$h,props:colorPickerProps,emits:colorPickerEmits,setup(n,{expose:e,emit:r}){const o=n,{t:s}=useLocale(),a=useNamespace("color"),{formItem:l}=useFormItem(),c=useFormSize(),d=useFormDisabled(),{inputId:f,isLabeledByFormItem:g}=useFormItemInputId(o,{formItemContext:l}),v=ref(),A=ref(),M=ref(),Y=ref(),de=ref(),ae=ref(),{isFocused:ze,handleFocus:qe,handleBlur:Ue}=useFocusController(de,{beforeBlur(Gn){var ir;return(ir=Y.value)==null?void 0:ir.isFocusInsideContent(Gn)},afterBlur(){Wn(!1),Mn()}}),hn=Gn=>{if(d.value)return tr();qe(Gn)};let On=!0;const vn=reactive(new Color({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue})),bn=ref(!1),wn=ref(!1),Cn=ref(""),En=computed(()=>!o.modelValue&&!wn.value?"transparent":Rn(vn,o.showAlpha)),_n=computed(()=>!o.modelValue&&!wn.value?"":vn.value),Bn=computed(()=>g.value?void 0:o.label||o.ariaLabel||s("el.colorpicker.defaultLabel"));useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},computed(()=>!!o.label));const jn=computed(()=>g.value?l==null?void 0:l.labelId:void 0),Un=computed(()=>[a.b("picker"),a.is("disabled",d.value),a.bm("picker",c.value),a.is("focused",ze.value)]);function Rn(Gn,ir){if(!(Gn instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:cr,g:Tn,b:Pn}=Gn.toRgb();return ir?`rgba(${cr}, ${Tn}, ${Pn}, ${Gn.get("alpha")/100})`:`rgb(${cr}, ${Tn}, ${Pn})`}function Wn(Gn){bn.value=Gn}const $n=debounce(Wn,100,{leading:!0});function Xn(){d.value||Wn(!0)}function xn(){$n(!1),Mn()}function Mn(){nextTick(()=>{o.modelValue?vn.fromString(o.modelValue):(vn.value="",nextTick(()=>{wn.value=!1}))})}function Qn(){d.value||$n(!bn.value)}function Nn(){vn.fromString(Cn.value)}function Hn(){const Gn=vn.value;r(UPDATE_MODEL_EVENT,Gn),r("change",Gn),o.validateEvent&&(l==null||l.validate("change").catch(ir=>void 0)),$n(!1),nextTick(()=>{const ir=new Color({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue});vn.compare(ir)||Mn()})}function Dn(){$n(!1),r(UPDATE_MODEL_EVENT,null),r("change",null),o.modelValue!==null&&o.validateEvent&&(l==null||l.validate("change").catch(Gn=>void 0)),Mn()}function An(Gn){if(bn.value&&(xn(),ze.value)){const ir=new FocusEvent("focus",Gn);Ue(ir)}}function Ln(Gn){Gn.preventDefault(),Gn.stopPropagation(),Wn(!1),Mn()}function Yn(Gn){switch(Gn.code){case EVENT_CODE.enter:case EVENT_CODE.space:Gn.preventDefault(),Gn.stopPropagation(),Xn(),ae.value.focus();break;case EVENT_CODE.esc:Ln(Gn);break}}function er(){de.value.focus()}function tr(){de.value.blur()}return onMounted(()=>{o.modelValue&&(Cn.value=_n.value)}),watch(()=>o.modelValue,Gn=>{Gn?Gn&&Gn!==vn.value&&(On=!1,vn.fromString(Gn)):wn.value=!1}),watch(()=>_n.value,Gn=>{Cn.value=Gn,On&&r("activeChange",Gn),On=!0}),watch(()=>vn.value,()=>{!o.modelValue&&!wn.value&&(wn.value=!0)}),watch(()=>bn.value,()=>{nextTick(()=>{var Gn,ir,cr;(Gn=v.value)==null||Gn.update(),(ir=A.value)==null||ir.update(),(cr=M.value)==null||cr.update()})}),provide(colorPickerContextKey,{currentColor:_n}),e({color:vn,show:Xn,hide:xn,focus:er,blur:tr}),(Gn,ir)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:Y,visible:bn.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(a).be("picker","panel"),unref(a).b("dropdown"),Gn.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Gn.teleported,transition:`${unref(a).namespace.value}-zoom-in-top`,persistent:"",onHide:ir[2]||(ir[2]=cr=>Wn(!1))},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{onKeydown:withKeys(Ln,["esc"])},[createBaseVNode("div",{class:normalizeClass(unref(a).be("dropdown","main-wrapper"))},[createVNode(HueSlider,{ref_key:"hue",ref:v,class:"hue-slider",color:unref(vn),vertical:""},null,8,["color"]),createVNode(SvPanel,{ref_key:"sv",ref:A,color:unref(vn)},null,8,["color"])],2),Gn.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:M,color:unref(vn)},null,8,["color"])):createCommentVNode("v-if",!0),Gn.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(vn),colors:Gn.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(a).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(a).be("dropdown","value"))},[createVNode(unref(ElInput),{ref_key:"inputRef",ref:ae,modelValue:Cn.value,"onUpdate:modelValue":ir[0]||(ir[0]=cr=>Cn.value=cr),"validate-event":!1,size:"small",onKeyup:withKeys(Nn,["enter"]),onBlur:Nn},null,8,["modelValue","onKeyup"])],2),createVNode(unref(ElButton),{class:normalizeClass(unref(a).be("dropdown","link-btn")),text:"",size:"small",onClick:Dn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(s)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(a).be("dropdown","btn")),onClick:Hn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(s)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,_hoisted_1$14)),[[unref(ClickOutside),An]])]),default:withCtx(()=>[createBaseVNode("div",{id:unref(f),ref_key:"triggerRef",ref:de,class:normalizeClass(unref(Un)),role:"button","aria-label":unref(Bn),"aria-labelledby":unref(jn),"aria-description":unref(s)("el.colorpicker.description",{color:Gn.modelValue||""}),"aria-disabled":unref(d),tabindex:unref(d)?-1:Gn.tabindex,onKeydown:Yn,onFocus:hn,onBlur:ir[1]||(ir[1]=(...cr)=>unref(Ue)&&unref(Ue)(...cr))},[unref(d)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(a).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(a).be("picker","trigger")),onClick:Qn},[createBaseVNode("span",{class:normalizeClass([unref(a).be("picker","color"),unref(a).is("alpha",Gn.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(a).be("picker","color-inner")),style:normalizeStyle({backgroundColor:unref(En)})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(a).be("picker","icon"),unref(a).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,Gn.modelValue||wn.value]]),withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(a).be("picker","empty"),unref(a).is("icon-close")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"]),[[vShow,!Gn.modelValue&&!wn.value]])],6)],2)],2)],42,_hoisted_2$X)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var ColorPicker=_export_sfc$1(_sfc_main$M,[["__file","color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),__default__$g=defineComponent({name:"ElContainer"}),_sfc_main$L=defineComponent({...__default__$g,props:{direction:{type:String}},setup(n){const e=n,r=useSlots(),o=useNamespace("container"),s=computed(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(l=>{const c=l.type.name;return c==="ElHeader"||c==="ElFooter"}):!1);return(a,l)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(o).b(),unref(o).is("vertical",unref(s))])},[renderSlot(a.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$L,[["__file","container.vue"]]);const __default__$f=defineComponent({name:"ElAside"}),_sfc_main$K=defineComponent({...__default__$f,props:{width:{type:String,default:null}},setup(n){const e=n,r=useNamespace("aside"),o=computed(()=>e.width?r.cssVarBlock({width:e.width}):{});return(s,a)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(o))},[renderSlot(s.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$K,[["__file","aside.vue"]]);const __default__$e=defineComponent({name:"ElFooter"}),_sfc_main$J=defineComponent({...__default__$e,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("footer"),o=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(s,a)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(o))},[renderSlot(s.$slots,"default")],6))}});var Footer=_export_sfc$1(_sfc_main$J,[["__file","footer.vue"]]);const __default__$d=defineComponent({name:"ElHeader"}),_sfc_main$I=defineComponent({...__default__$d,props:{height:{type:String,default:null}},setup(n){const e=n,r=useNamespace("header"),o=computed(()=>e.height?r.cssVarBlock({height:e.height}):{});return(s,a)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(r).b()),style:normalizeStyle(unref(o))},[renderSlot(s.$slots,"default")],6))}});var Header=_export_sfc$1(_sfc_main$I,[["__file","header.vue"]]);const __default__$c=defineComponent({name:"ElMain"}),_sfc_main$H=defineComponent({...__default__$c,setup(n){const e=useNamespace("main");return(r,o)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(e).b())},[renderSlot(r.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$H,[["__file","main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer,Header,Main}),ElAside=withNoopInstall(Aside);withNoopInstall(Footer);withNoopInstall(Header);withNoopInstall(Main);const overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:n=>n instanceof MouseEvent},BLOCK="overlay";var Overlay=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(n,{slots:e,emit:r}){const o=useNamespace(BLOCK),s=d=>{r("click",d)},{onClick:a,onMousedown:l,onMouseup:c}=useSameTarget(n.customMaskEvent?void 0:s);return()=>n.mask?createVNode("div",{class:[o.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:a,onMousedown:l,onMouseup:c},[renderSlot(e,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(e,"default")])}});const ElOverlay=Overlay,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},_hoisted_1$13=["aria-level"],_hoisted_2$W=["aria-label"],_hoisted_3$P=["id"],__default__$b=defineComponent({name:"ElDialogContent"}),_sfc_main$G=defineComponent({...__default__$b,props:dialogContentProps,emits:dialogContentEmits,setup(n){const e=n,{t:r}=useLocale(),{Close:o}=CloseComponents,{dialogRef:s,headerRef:a,bodyId:l,ns:c,style:d}=inject(dialogInjectionKey),{focusTrapRef:f}=inject(FOCUS_TRAP_INJECTION_KEY),g=computed(()=>[c.b(),c.is("fullscreen",e.fullscreen),c.is("draggable",e.draggable),c.is("align-center",e.alignCenter),{[c.m("center")]:e.center}]),v=composeRefs(f,s),A=computed(()=>e.draggable),M=computed(()=>e.overflow);return useDraggable(s,a,A,M),(Y,de)=>(openBlock(),createElementBlock("div",{ref:unref(v),class:normalizeClass(unref(g)),style:normalizeStyle(unref(d)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:a,class:normalizeClass([unref(c).e("header"),{"show-close":Y.showClose}])},[renderSlot(Y.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":Y.ariaLevel,class:normalizeClass(unref(c).e("title"))},toDisplayString(Y.title),11,_hoisted_1$13)]),Y.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(r)("el.dialog.close"),class:normalizeClass(unref(c).e("headerbtn")),type:"button",onClick:de[0]||(de[0]=ae=>Y.$emit("close"))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(c).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Y.closeIcon||unref(o))))]),_:1},8,["class"])],10,_hoisted_2$W)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(l),class:normalizeClass(unref(c).e("body"))},[renderSlot(Y.$slots,"default")],10,_hoisted_3$P),Y.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(c).e("footer"))},[renderSlot(Y.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc$1(_sfc_main$G,[["__file","dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:definePropType(String),default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useDialog=(n,e)=>{var r;const s=getCurrentInstance().emit,{nextZIndex:a}=useZIndex();let l="";const c=useId(),d=useId(),f=ref(!1),g=ref(!1),v=ref(!1),A=ref((r=n.zIndex)!=null?r:a());let M,Y;const de=useGlobalConfig("namespace",defaultNamespace),ae=computed(()=>{const Rn={},Wn=`--${de.value}-dialog`;return n.fullscreen||(n.top&&(Rn[`${Wn}-margin-top`]=n.top),n.width&&(Rn[`${Wn}-width`]=addUnit(n.width))),Rn}),ze=computed(()=>n.alignCenter?{display:"flex"}:{});function qe(){s("opened")}function Ue(){s("closed"),s(UPDATE_MODEL_EVENT,!1),n.destroyOnClose&&(v.value=!1)}function hn(){s("close")}function On(){Y==null||Y(),M==null||M(),n.openDelay&&n.openDelay>0?{stop:M}=useTimeoutFn(()=>Cn(),n.openDelay):Cn()}function vn(){M==null||M(),Y==null||Y(),n.closeDelay&&n.closeDelay>0?{stop:Y}=useTimeoutFn(()=>En(),n.closeDelay):En()}function bn(){function Rn(Wn){Wn||(g.value=!0,f.value=!1)}n.beforeClose?n.beforeClose(Rn):vn()}function wn(){n.closeOnClickModal&&bn()}function Cn(){isClient&&(f.value=!0)}function En(){f.value=!1}function _n(){s("openAutoFocus")}function Bn(){s("closeAutoFocus")}function jn(Rn){var Wn;((Wn=Rn.detail)==null?void 0:Wn.focusReason)==="pointer"&&Rn.preventDefault()}n.lockScroll&&useLockscreen(f);function Un(){n.closeOnPressEscape&&bn()}return watch(()=>n.modelValue,Rn=>{Rn?(g.value=!1,On(),v.value=!0,A.value=isUndefined$2(n.zIndex)?a():A.value++,nextTick(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):f.value&&vn()}),watch(()=>n.fullscreen,Rn=>{e.value&&(Rn?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),onMounted(()=>{n.modelValue&&(f.value=!0,v.value=!0,On())}),{afterEnter:qe,afterLeave:Ue,beforeLeave:hn,handleClose:bn,onModalClick:wn,close:vn,doClose:En,onOpenAutoFocus:_n,onCloseAutoFocus:Bn,onCloseRequested:Un,onFocusoutPrevented:jn,titleId:c,bodyId:d,closed:g,style:ae,overlayDialogStyle:ze,rendered:v,visible:f,zIndex:A}},_hoisted_1$12=["aria-label","aria-labelledby","aria-describedby"],__default__$a=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$F=defineComponent({...__default__$a,props:dialogProps,emits:dialogEmits,setup(n,{expose:e}){const r=n,o=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!o.title));const s=useNamespace("dialog"),a=ref(),l=ref(),c=ref(),{visible:d,titleId:f,bodyId:g,style:v,overlayDialogStyle:A,rendered:M,zIndex:Y,afterEnter:de,afterLeave:ae,beforeLeave:ze,handleClose:qe,onModalClick:Ue,onOpenAutoFocus:hn,onCloseAutoFocus:On,onCloseRequested:vn,onFocusoutPrevented:bn}=useDialog(r,a);provide(dialogInjectionKey,{dialogRef:a,headerRef:l,bodyId:g,ns:s,rendered:M,style:v});const wn=useSameTarget(Ue),Cn=computed(()=>r.draggable&&!r.fullscreen);return e({visible:d,dialogContentRef:c}),(En,_n)=>(openBlock(),createBlock(Teleport,{to:En.appendTo,disabled:En.appendTo!=="body"?!1:!En.appendToBody},[createVNode(Transition,{name:"dialog-fade",onAfterEnter:unref(de),onAfterLeave:unref(ae),onBeforeLeave:unref(ze),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:En.modal,"overlay-class":En.modalClass,"z-index":unref(Y)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":En.title||void 0,"aria-labelledby":En.title?void 0:unref(f),"aria-describedby":unref(g),class:normalizeClass(`${unref(s).namespace.value}-overlay-dialog`),style:normalizeStyle(unref(A)),onClick:_n[0]||(_n[0]=(...Bn)=>unref(wn).onClick&&unref(wn).onClick(...Bn)),onMousedown:_n[1]||(_n[1]=(...Bn)=>unref(wn).onMousedown&&unref(wn).onMousedown(...Bn)),onMouseup:_n[2]||(_n[2]=(...Bn)=>unref(wn).onMouseup&&unref(wn).onMouseup(...Bn))},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(d),"focus-start-el":"container",onFocusAfterTrapped:unref(hn),onFocusAfterReleased:unref(On),onFocusoutPrevented:unref(bn),onReleaseRequested:unref(vn)},{default:withCtx(()=>[unref(M)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:c},En.$attrs,{center:En.center,"align-center":En.alignCenter,"close-icon":En.closeIcon,draggable:unref(Cn),overflow:En.overflow,fullscreen:En.fullscreen,"show-close":En.showClose,title:En.title,"aria-level":En.headerAriaLevel,onClose:unref(qe)}),createSlots({header:withCtx(()=>[En.$slots.title?renderSlot(En.$slots,"title",{key:1}):renderSlot(En.$slots,"header",{key:0,close:unref(qe),titleId:unref(f),titleClass:unref(s).e("title")})]),default:withCtx(()=>[renderSlot(En.$slots,"default")]),_:2},[En.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(En.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,_hoisted_1$12)]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Dialog=_export_sfc$1(_sfc_main$F,[["__file","dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$9=defineComponent({name:"ElDivider"}),_sfc_main$E=defineComponent({...__default__$9,props:dividerProps,setup(n){const e=n,r=useNamespace("divider"),o=computed(()=>r.cssVar({"border-style":e.borderStyle}));return(s,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(s.direction)]),style:normalizeStyle(unref(o)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("text"),unref(r).is(s.contentPosition)])},[renderSlot(s.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc$1(_sfc_main$E,[["__file","divider.vue"]]);const ElDivider=withInstall(Divider),_sfc_main$D=defineComponent({inheritAttrs:!1});function _sfc_render$m(n,e,r,o,s,a){return renderSlot(n.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$D,[["render",_sfc_render$m],["__file","collection.vue"]]);const _sfc_main$C=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$l(n,e,r,o,s,a){return renderSlot(n.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$C,[["render",_sfc_render$l],["__file","collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=n=>{const e=`El${n}Collection`,r=`${e}Item`,o=Symbol(e),s=Symbol(r),a={...Collection,name:e,setup(){const c=ref(null),d=new Map;provide(o,{itemMap:d,getItems:()=>{const g=unref(c);if(!g)return[];const v=Array.from(g.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...d.values()].sort((M,Y)=>v.indexOf(M.ref)-v.indexOf(Y.ref))},collectionRef:c})}},l={...CollectionItem,name:r,setup(c,{attrs:d}){const f=ref(null),g=inject(o,void 0);provide(s,{collectionItemRef:f}),onMounted(()=>{const v=unref(f);v&&g.itemMap.set(v,{ref:v,...d})}),onBeforeUnmount(()=>{const v=unref(f);g.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:a,ElCollectionItem:l}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(n,e)=>n,getFocusIntent=(n,e,r)=>{const o=getDirectionAwareKey(n.key);return MAP_KEY_TO_FOCUS_INTENT[o]},reorderArray=(n,e)=>n.map((r,o)=>n[(o+e)%n.length]),focusFirst=n=>{const{activeElement:e}=document;for(const r of n)if(r===e||(r.focus(),e!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$B=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(n,{emit:e}){var r;const o=ref((r=n.currentTabId||n.defaultCurrentTabId)!=null?r:null),s=ref(!1),a=ref(!1),l=ref(null),{getItems:c}=inject(COLLECTION_INJECTION_KEY$1,void 0),d=computed(()=>[{outline:"none"},n.style]),f=de=>{e(CURRENT_TAB_ID_CHANGE_EVT,de)},g=()=>{s.value=!0},v=composeEventHandlers(de=>{var ae;(ae=n.onMousedown)==null||ae.call(n,de)},()=>{a.value=!0}),A=composeEventHandlers(de=>{var ae;(ae=n.onFocus)==null||ae.call(n,de)},de=>{const ae=!unref(a),{target:ze,currentTarget:qe}=de;if(ze===qe&&ae&&!unref(s)){const Ue=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(qe==null||qe.dispatchEvent(Ue),!Ue.defaultPrevented){const hn=c().filter(Cn=>Cn.focusable),On=hn.find(Cn=>Cn.active),vn=hn.find(Cn=>Cn.id===unref(o)),wn=[On,vn,...hn].filter(Boolean).map(Cn=>Cn.ref);focusFirst(wn)}}a.value=!1}),M=composeEventHandlers(de=>{var ae;(ae=n.onBlur)==null||ae.call(n,de)},()=>{s.value=!1}),Y=(...de)=>{e("entryFocus",...de)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(o),loop:toRef(n,"loop"),tabIndex:computed(()=>unref(s)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:d,orientation:toRef(n,"orientation"),dir:toRef(n,"dir"),onItemFocus:f,onItemShiftTab:g,onBlur:M,onFocus:A,onMousedown:v}),watch(()=>n.currentTabId,de=>{o.value=de??null}),useEventListener(l,ENTRY_FOCUS_EVT,Y)}});function _sfc_render$k(n,e,r,o,s,a){return renderSlot(n.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$B,[["render",_sfc_render$k],["__file","roving-focus-group-impl.vue"]]);const _sfc_main$A=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$j(n,e,r,o,s,a){const l=resolveComponent("el-roving-focus-group-impl"),c=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(c,null,{default:withCtx(()=>[createVNode(l,normalizeProps(guardReactiveProps(n.$attrs)),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$A,[["render",_sfc_render$j],["__file","roving-focus-group.vue"]]);const _sfc_main$z=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:r,loop:o,onItemFocus:s,onItemShiftTab:a}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:l}=inject(COLLECTION_INJECTION_KEY$1,void 0),c=useId(),d=ref(null),f=composeEventHandlers(M=>{e("mousedown",M)},M=>{n.focusable?s(unref(c)):M.preventDefault()}),g=composeEventHandlers(M=>{e("focus",M)},()=>{s(unref(c))}),v=composeEventHandlers(M=>{e("keydown",M)},M=>{const{key:Y,shiftKey:de,target:ae,currentTarget:ze}=M;if(Y===EVENT_CODE.tab&&de){a();return}if(ae!==ze)return;const qe=getFocusIntent(M);if(qe){M.preventDefault();let hn=l().filter(On=>On.focusable).map(On=>On.ref);switch(qe){case"last":{hn.reverse();break}case"prev":case"next":{qe==="prev"&&hn.reverse();const On=hn.indexOf(ze);hn=o.value?reorderArray(hn,On+1):hn.slice(On+1);break}}nextTick(()=>{focusFirst(hn)})}}),A=computed(()=>r.value===unref(c));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:d,tabIndex:computed(()=>unref(A)?0:-1),handleMousedown:f,handleFocus:g,handleKeydown:v}),{id:c,handleKeydown:v,handleFocus:g,handleMousedown:f}}});function _sfc_render$i(n,e,r,o,s,a){const l=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(l,{id:n.id,focusable:n.focusable,active:n.active},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$z,[["render",_sfc_render$i],["__file","roving-focus-item.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$y=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(n,{emit:e}){const r=getCurrentInstance(),o=useNamespace("dropdown"),{t:s}=useLocale(),a=ref(),l=ref(),c=ref(null),d=ref(null),f=ref(null),g=ref(null),v=ref(!1),A=[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.down],M=computed(()=>({maxHeight:addUnit(n.maxHeight)})),Y=computed(()=>[o.m(On.value)]),de=computed(()=>castArray(n.trigger)),ae=useId().value,ze=computed(()=>n.id||ae);watch([a,de],([$n,Xn],[xn])=>{var Mn,Qn,Nn;(Mn=xn==null?void 0:xn.$el)!=null&&Mn.removeEventListener&&xn.$el.removeEventListener("pointerenter",bn),(Qn=$n==null?void 0:$n.$el)!=null&&Qn.removeEventListener&&$n.$el.removeEventListener("pointerenter",bn),(Nn=$n==null?void 0:$n.$el)!=null&&Nn.addEventListener&&Xn.includes("hover")&&$n.$el.addEventListener("pointerenter",bn)},{immediate:!0}),onBeforeUnmount(()=>{var $n,Xn;(Xn=($n=a.value)==null?void 0:$n.$el)!=null&&Xn.removeEventListener&&a.value.$el.removeEventListener("pointerenter",bn)});function qe(){Ue()}function Ue(){var $n;($n=c.value)==null||$n.onClose()}function hn(){var $n;($n=c.value)==null||$n.onOpen()}const On=useFormSize();function vn(...$n){e("command",...$n)}function bn(){var $n,Xn;(Xn=($n=a.value)==null?void 0:$n.$el)==null||Xn.focus()}function wn(){}function Cn(){const $n=unref(d);de.value.includes("hover")&&($n==null||$n.focus()),g.value=null}function En($n){g.value=$n}function _n($n){v.value||($n.preventDefault(),$n.stopImmediatePropagation())}function Bn(){e("visible-change",!0)}function jn($n){($n==null?void 0:$n.type)==="keydown"&&d.value.focus()}function Un(){e("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:d,role:computed(()=>n.role),triggerId:ze,isUsingKeyboard:v,onItemEnter:wn,onItemLeave:Cn}),provide("elDropdown",{instance:r,dropdownSize:On,handleClick:qe,commandHandler:vn,trigger:toRef(n,"trigger"),hideOnClick:toRef(n,"hideOnClick")}),{t:s,ns:o,scrollbar:f,wrapStyle:M,dropdownTriggerKls:Y,dropdownSize:On,triggerId:ze,triggerKeys:A,currentTabId:g,handleCurrentTabIdChange:En,handlerMainButtonClick:$n=>{e("click",$n)},handleEntryFocus:_n,handleClose:Ue,handleOpen:hn,handleBeforeShowTooltip:Bn,handleShowTooltip:jn,handleBeforeHideTooltip:Un,onFocusAfterTrapped:$n=>{var Xn,xn;$n.preventDefault(),(xn=(Xn=d.value)==null?void 0:Xn.focus)==null||xn.call(Xn,{preventScroll:!0})},popperRef:c,contentRef:d,triggeringElementRef:a,referenceElementRef:l}}});function _sfc_render$h(n,e,r,o,s,a){var l;const c=resolveComponent("el-dropdown-collection"),d=resolveComponent("el-roving-focus-group"),f=resolveComponent("el-scrollbar"),g=resolveComponent("el-only-child"),v=resolveComponent("el-tooltip"),A=resolveComponent("el-button"),M=resolveComponent("arrow-down"),Y=resolveComponent("el-icon"),de=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b(),n.ns.is("disabled",n.disabled)])},[createVNode(v,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(l=n.referenceElementRef)==null?void 0:l.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode(f,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:withCtx(()=>[createVNode(d,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:withCtx(()=>[createVNode(c,null,{default:withCtx(()=>[renderSlot(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode(g,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(openBlock(),createBlock(de,{key:0},{default:withCtx(()=>[createVNode(A,mergeProps({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode(A,mergeProps({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode(Y,{class:normalizeClass(n.ns.e("icon"))},{default:withCtx(()=>[createVNode(M)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$y,[["render",_sfc_render$h],["__file","dropdown.vue"]]);const _sfc_main$x=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const r=useNamespace("dropdown"),{role:o}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:s}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:a}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:l,tabIndex:c,handleFocus:d,handleKeydown:f,handleMousedown:g}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),v=composeRefs(s,a,l),A=computed(()=>o.value==="menu"?"menuitem":o.value==="navigation"?"link":"button"),M=composeEventHandlers(Y=>{const{code:de}=Y;if(de===EVENT_CODE.enter||de===EVENT_CODE.space)return Y.preventDefault(),Y.stopImmediatePropagation(),e("clickimpl",Y),!0},f);return{ns:r,itemRef:v,dataset:{[COLLECTION_ITEM_SIGN]:""},role:A,tabIndex:c,handleFocus:d,handleKeydown:M,handleMousedown:g}}}),_hoisted_1$11=["aria-disabled","tabindex","role"];function _sfc_render$g(n,e,r,o,s,a){const l=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[n.divided?(openBlock(),createElementBlock("li",mergeProps({key:0,role:"separator",class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:e[0]||(e[0]=c=>n.$emit("clickimpl",c)),onFocus:e[1]||(e[1]=(...c)=>n.handleFocus&&n.handleFocus(...c)),onKeydown:e[2]||(e[2]=withModifiers((...c)=>n.handleKeydown&&n.handleKeydown(...c),["self"])),onMousedown:e[3]||(e[3]=(...c)=>n.handleMousedown&&n.handleMousedown(...c)),onPointermove:e[4]||(e[4]=c=>n.$emit("pointermove",c)),onPointerleave:e[5]||(e[5]=c=>n.$emit("pointerleave",c))}),[n.icon?(openBlock(),createBlock(l,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(n.$slots,"default")],16,_hoisted_1$11)],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$x,[["render",_sfc_render$g],["__file","dropdown-item-impl.vue"]]);const useDropdown=()=>{const n=inject("elDropdown",{}),e=computed(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},_sfc_main$w=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:r}){const{elDropdown:o}=useDropdown(),s=getCurrentInstance(),a=ref(null),l=computed(()=>{var M,Y;return(Y=(M=unref(a))==null?void 0:M.textContent)!=null?Y:""}),{onItemEnter:c,onItemLeave:d}=inject(DROPDOWN_INJECTION_KEY,void 0),f=composeEventHandlers(M=>(e("pointermove",M),M.defaultPrevented),whenMouse(M=>{if(n.disabled){d(M);return}const Y=M.currentTarget;Y===document.activeElement||Y.contains(document.activeElement)||(c(M),M.defaultPrevented||Y==null||Y.focus())})),g=composeEventHandlers(M=>(e("pointerleave",M),M.defaultPrevented),whenMouse(M=>{d(M)})),v=composeEventHandlers(M=>{if(!n.disabled)return e("click",M),M.type!=="keydown"&&M.defaultPrevented},M=>{var Y,de,ae;if(n.disabled){M.stopImmediatePropagation();return}(Y=o==null?void 0:o.hideOnClick)!=null&&Y.value&&((de=o.handleClick)==null||de.call(o)),(ae=o.commandHandler)==null||ae.call(o,n.command,s,M)}),A=computed(()=>({...n,...r}));return{handleClick:v,handlePointerMove:f,handlePointerLeave:g,textContent:l,propsAndAttrs:A}}});function _sfc_render$f(n,e,r,o,s,a){var l;const c=resolveComponent("el-dropdown-item-impl"),d=resolveComponent("el-roving-focus-item"),f=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(f,{disabled:n.disabled,"text-value":(l=n.textValue)!=null?l:n.textContent},{default:withCtx(()=>[createVNode(d,{focusable:!n.disabled},{default:withCtx(()=>[createVNode(c,mergeProps(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc$1(_sfc_main$w,[["render",_sfc_render$f],["__file","dropdown-item.vue"]]);const _sfc_main$v=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(n){const e=useNamespace("dropdown"),{_elDropdownSize:r}=useDropdown(),o=r.value,{focusTrapRef:s,onKeydown:a}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:l,role:c,triggerId:d}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:f,getItems:g}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:A,tabIndex:M,onBlur:Y,onFocus:de,onMousedown:ae}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:ze}=inject(COLLECTION_INJECTION_KEY$1,void 0),qe=computed(()=>[e.b("menu"),e.bm("menu",o==null?void 0:o.value)]),Ue=composeRefs(l,f,s,v,ze),hn=composeEventHandlers(vn=>{var bn;(bn=n.onKeydown)==null||bn.call(n,vn)},vn=>{const{currentTarget:bn,code:wn,target:Cn}=vn;if(bn.contains(Cn),EVENT_CODE.tab===wn&&vn.stopImmediatePropagation(),vn.preventDefault(),Cn!==unref(l)||!FIRST_LAST_KEYS.includes(wn))return;const _n=g().filter(Bn=>!Bn.disabled).map(Bn=>Bn.ref);LAST_KEYS.includes(wn)&&_n.reverse(),focusFirst(_n)});return{size:o,rovingFocusGroupRootStyle:A,tabIndex:M,dropdownKls:qe,role:c,triggerId:d,dropdownListWrapperRef:Ue,handleKeydown:vn=>{hn(vn),a(vn)},onBlur:Y,onFocus:de,onMousedown:ae}}}),_hoisted_1$10=["role","aria-labelledby"];function _sfc_render$e(n,e,r,o,s,a){return openBlock(),createElementBlock("ul",{ref:n.dropdownListWrapperRef,class:normalizeClass(n.dropdownKls),style:normalizeStyle(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:e[0]||(e[0]=(...l)=>n.onBlur&&n.onBlur(...l)),onFocus:e[1]||(e[1]=(...l)=>n.onFocus&&n.onFocus(...l)),onKeydown:e[2]||(e[2]=withModifiers((...l)=>n.handleKeydown&&n.handleKeydown(...l),["self"])),onMousedown:e[3]||(e[3]=withModifiers((...l)=>n.onMousedown&&n.onMousedown(...l),["self"]))},[renderSlot(n.$slots,"default")],46,_hoisted_1$10)}var DropdownMenu=_export_sfc$1(_sfc_main$v,[["render",_sfc_render$e],["__file","dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||isNumber$1(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),inputNumberEmits={[CHANGE_EVENT]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[INPUT_EVENT]:n=>isNumber$1(n)||isNil(n),[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)||isNil(n)},_hoisted_1$$=["aria-label","onKeydown"],_hoisted_2$V=["aria-label","onKeydown"],__default__$8=defineComponent({name:"ElInputNumber"}),_sfc_main$u=defineComponent({...__default__$8,props:inputNumberProps,emits:inputNumberEmits,setup(n,{expose:e,emit:r}){const o=n,{t:s}=useLocale(),a=useNamespace("input-number"),l=ref(),c=reactive({currentValue:o.modelValue,userInput:null}),{formItem:d}=useFormItem(),f=computed(()=>isNumber$1(o.modelValue)&&o.modelValue<=o.min),g=computed(()=>isNumber$1(o.modelValue)&&o.modelValue>=o.max),v=computed(()=>{const Rn=ze(o.step);return isUndefined$1(o.precision)?Math.max(ze(o.modelValue),Rn):(Rn>o.precision,o.precision)}),A=computed(()=>o.controls&&o.controlsPosition==="right"),M=useFormSize(),Y=useFormDisabled(),de=computed(()=>{if(c.userInput!==null)return c.userInput;let Rn=c.currentValue;if(isNil(Rn))return"";if(isNumber$1(Rn)){if(Number.isNaN(Rn))return"";isUndefined$1(o.precision)||(Rn=Rn.toFixed(o.precision))}return Rn}),ae=(Rn,Wn)=>{if(isUndefined$1(Wn)&&(Wn=v.value),Wn===0)return Math.round(Rn);let $n=String(Rn);const Xn=$n.indexOf(".");if(Xn===-1||!$n.replace(".","").split("")[Xn+Wn])return Rn;const Qn=$n.length;return $n.charAt(Qn-1)==="5"&&($n=`${$n.slice(0,Math.max(0,Qn-1))}6`),Number.parseFloat(Number($n).toFixed(Wn))},ze=Rn=>{if(isNil(Rn))return 0;const Wn=Rn.toString(),$n=Wn.indexOf(".");let Xn=0;return $n!==-1&&(Xn=Wn.length-$n-1),Xn},qe=(Rn,Wn=1)=>isNumber$1(Rn)?ae(Rn+o.step*Wn):c.currentValue,Ue=()=>{if(o.readonly||Y.value||g.value)return;const Rn=Number(de.value)||0,Wn=qe(Rn);vn(Wn),r(INPUT_EVENT,c.currentValue),jn()},hn=()=>{if(o.readonly||Y.value||f.value)return;const Rn=Number(de.value)||0,Wn=qe(Rn,-1);vn(Wn),r(INPUT_EVENT,c.currentValue),jn()},On=(Rn,Wn)=>{const{max:$n,min:Xn,step:xn,precision:Mn,stepStrictly:Qn,valueOnClear:Nn}=o;$n<Xn&&throwError("InputNumber","min should not be greater than max.");let Hn=Number(Rn);if(isNil(Rn)||Number.isNaN(Hn))return null;if(Rn===""){if(Nn===null)return null;Hn=isString$2(Nn)?{min:Xn,max:$n}[Nn]:Nn}return Qn&&(Hn=ae(Math.round(Hn/xn)*xn,Mn)),isUndefined$1(Mn)||(Hn=ae(Hn,Mn)),(Hn>$n||Hn<Xn)&&(Hn=Hn>$n?$n:Xn,Wn&&r(UPDATE_MODEL_EVENT,Hn)),Hn},vn=(Rn,Wn=!0)=>{var $n;const Xn=c.currentValue,xn=On(Rn);if(!Wn){r(UPDATE_MODEL_EVENT,xn);return}Xn===xn&&Rn||(c.userInput=null,r(UPDATE_MODEL_EVENT,xn),Xn!==xn&&r(CHANGE_EVENT,xn,Xn),o.validateEvent&&(($n=d==null?void 0:d.validate)==null||$n.call(d,"change").catch(Mn=>void 0)),c.currentValue=xn)},bn=Rn=>{c.userInput=Rn;const Wn=Rn===""?null:Number(Rn);r(INPUT_EVENT,Wn),vn(Wn,!1)},wn=Rn=>{const Wn=Rn!==""?Number(Rn):"";(isNumber$1(Wn)&&!Number.isNaN(Wn)||Rn==="")&&vn(Wn),jn(),c.userInput=null},Cn=()=>{var Rn,Wn;(Wn=(Rn=l.value)==null?void 0:Rn.focus)==null||Wn.call(Rn)},En=()=>{var Rn,Wn;(Wn=(Rn=l.value)==null?void 0:Rn.blur)==null||Wn.call(Rn)},_n=Rn=>{r("focus",Rn)},Bn=Rn=>{var Wn;c.userInput=null,r("blur",Rn),o.validateEvent&&((Wn=d==null?void 0:d.validate)==null||Wn.call(d,"blur").catch($n=>void 0))},jn=()=>{c.currentValue!==o.modelValue&&(c.currentValue=o.modelValue)},Un=Rn=>{document.activeElement===Rn.target&&Rn.preventDefault()};return watch(()=>o.modelValue,(Rn,Wn)=>{const $n=On(Rn,!0);c.userInput===null&&$n!==Wn&&(c.currentValue=$n)},{immediate:!0}),onMounted(()=>{var Rn;const{min:Wn,max:$n,modelValue:Xn}=o,xn=(Rn=l.value)==null?void 0:Rn.input;if(xn.setAttribute("role","spinbutton"),Number.isFinite($n)?xn.setAttribute("aria-valuemax",String($n)):xn.removeAttribute("aria-valuemax"),Number.isFinite(Wn)?xn.setAttribute("aria-valuemin",String(Wn)):xn.removeAttribute("aria-valuemin"),xn.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),xn.setAttribute("aria-disabled",String(Y.value)),!isNumber$1(Xn)&&Xn!=null){let Mn=Number(Xn);Number.isNaN(Mn)&&(Mn=null),r(UPDATE_MODEL_EVENT,Mn)}xn.addEventListener("wheel",Un,{passive:!1})}),onUpdated(()=>{var Rn,Wn;const $n=(Rn=l.value)==null?void 0:Rn.input;$n==null||$n.setAttribute("aria-valuenow",`${(Wn=c.currentValue)!=null?Wn:""}`)}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},computed(()=>!!o.label)),e({focus:Cn,blur:En}),(Rn,Wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(a).b(),unref(a).m(unref(M)),unref(a).is("disabled",unref(Y)),unref(a).is("without-controls",!Rn.controls),unref(a).is("controls-right",unref(A))]),onDragstart:Wn[0]||(Wn[0]=withModifiers(()=>{},["prevent"]))},[Rn.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(s)("el.inputNumber.decrease"),class:normalizeClass([unref(a).e("decrease"),unref(a).is("disabled",unref(f))]),onKeydown:withKeys(hn,["enter"])},[renderSlot(Rn.$slots,"decrease-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(A)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,_hoisted_1$$)),[[unref(vRepeatClick),hn]]):createCommentVNode("v-if",!0),Rn.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(s)("el.inputNumber.increase"),class:normalizeClass([unref(a).e("increase"),unref(a).is("disabled",unref(g))]),onKeydown:withKeys(Ue,["enter"])},[renderSlot(Rn.$slots,"increase-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(A)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,_hoisted_2$V)),[[unref(vRepeatClick),Ue]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:Rn.id,ref_key:"input",ref:l,type:"number",step:Rn.step,"model-value":unref(de),placeholder:Rn.placeholder,readonly:Rn.readonly,disabled:unref(Y),size:unref(M),max:Rn.max,min:Rn.min,name:Rn.name,"aria-label":Rn.label||Rn.ariaLabel,"validate-event":!1,onKeydown:[withKeys(withModifiers(Ue,["prevent"]),["up"]),withKeys(withModifiers(hn,["prevent"]),["down"])],onBlur:Bn,onFocus:_n,onInput:bn,onChange:wn},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$u,[["__file","input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(n,e){const r=inject(selectKey),o=inject(selectGroupKey,{disabled:!1}),s=computed(()=>r.props.multiple?g(r.props.modelValue,n.value):g([r.props.modelValue],n.value)),a=computed(()=>{if(r.props.multiple){const M=r.props.modelValue||[];return!s.value&&M.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),l=computed(()=>n.label||(isObject$2(n.value)?"":n.value)),c=computed(()=>n.value||n.label||""),d=computed(()=>n.disabled||e.groupDisabled||a.value),f=getCurrentInstance(),g=(M=[],Y)=>{if(isObject$2(n.value)){const de=r.props.valueKey;return M&&M.some(ae=>toRaw(get(ae,de))===get(Y,de))}else return M&&M.includes(Y)},v=()=>{!n.disabled&&!o.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(f.proxy))},A=M=>{const Y=new RegExp(escapeStringRegexp(M),"i");e.visible=Y.test(l.value)||n.created};return watch(()=>l.value,()=>{!n.created&&!r.props.remote&&r.setSelected()}),watch(()=>n.value,(M,Y)=>{const{remote:de,valueKey:ae}=r.props;if(isEqual(M,Y)||(r.onOptionDestroy(Y,f.proxy),r.onOptionCreate(f.proxy)),!n.created&&!de){if(ae&&isObject$2(M)&&isObject$2(Y)&&M[ae]===Y[ae])return;r.setSelected()}}),watch(()=>o.disabled,()=>{e.groupDisabled=o.disabled},{immediate:!0}),{select:r,currentLabel:l,currentValue:c,itemSelected:s,isDisabled:d,hoverItem:v,updateOption:A}}const _sfc_main$t=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=useNamespace("select"),r=useId(),o=computed(()=>[e.be("dropdown","item"),e.is("disabled",unref(c)),e.is("selected",unref(l)),e.is("hovering",unref(A))]),s=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:l,isDisabled:c,select:d,hoverItem:f,updateOption:g}=useOption(n,s),{visible:v,hover:A}=toRefs(s),M=getCurrentInstance().proxy;d.onOptionCreate(M),onBeforeUnmount(()=>{const de=M.value,{selected:ae}=d.states,qe=(d.props.multiple?ae:[ae]).some(Ue=>Ue.value===M.value);nextTick(()=>{d.states.cachedOptions.get(de)===M&&!qe&&d.states.cachedOptions.delete(de)}),d.onOptionDestroy(de,M)});function Y(){n.disabled!==!0&&s.groupDisabled!==!0&&d.handleOptionSelect(M)}return{ns:e,id:r,containerKls:o,currentLabel:a,itemSelected:l,isDisabled:c,select:d,hoverItem:f,updateOption:g,visible:v,hover:A,selectOptionClick:Y,states:s}}}),_hoisted_1$_=["id","aria-disabled","aria-selected"];function _sfc_render$d(n,e,r,o,s,a){return withDirectives((openBlock(),createElementBlock("li",{id:n.id,class:normalizeClass(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMouseenter:e[0]||(e[0]=(...l)=>n.hoverItem&&n.hoverItem(...l)),onClick:e[1]||(e[1]=withModifiers((...l)=>n.selectOptionClick&&n.selectOptionClick(...l),["stop"]))},[renderSlot(n.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(n.currentLabel),1)])],42,_hoisted_1$_)),[[vShow,n.visible]])}var Option$1=_export_sfc$1(_sfc_main$t,[["render",_sfc_render$d],["__file","option.vue"]]);const _sfc_main$s=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=inject(selectKey),e=useNamespace("select"),r=computed(()=>n.props.popperClass),o=computed(()=>n.props.multiple),s=computed(()=>n.props.fitInputWidth),a=ref("");function l(){var c;a.value=`${(c=n.selectRef)==null?void 0:c.offsetWidth}px`}return onMounted(()=>{l(),useResizeObserver(n.selectRef,l)}),{ns:e,minWidth:a,popperClass:r,isMultiple:o,isFitInputWidth:s}}});function _sfc_render$c(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:normalizeClass([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:normalizeStyle({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("dropdown","header"))},[renderSlot(n.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(n.$slots,"default"),n.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.ns.be("dropdown","footer"))},[renderSlot(n.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu=_export_sfc$1(_sfc_main$s,[["render",_sfc_render$c],["__file","select-dropdown.vue"]]);function useInput(n){const e=ref(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:a=>{const l=a.target.value,c=l[l.length-1]||"";e.value=!isKorean(c)},handleCompositionEnd:a=>{e.value&&(e.value=!1,isFunction$2(n)&&n(a))}}}const MINIMUM_INPUT_WIDTH=11,useSelect=(n,e)=>{const{t:r}=useLocale(),o=useId(),s=useNamespace("select"),a=useNamespace("input"),l=reactive({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:n.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),c=ref(null),d=ref(null),f=ref(null),g=ref(null),v=ref(null),A=ref(null),M=ref(null),Y=ref(null),de=ref(null),ae=ref(null),ze=ref(null),qe=ref(null),{wrapperRef:Ue,isFocused:hn,handleFocus:On,handleBlur:vn}=useFocusController(v,{afterFocus(){n.automaticDropdown&&!bn.value&&(bn.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(or){var hr,wr;return((hr=f.value)==null?void 0:hr.isFocusInsideContent(or))||((wr=g.value)==null?void 0:wr.isFocusInsideContent(or))},afterBlur(){bn.value=!1,l.menuVisibleOnFocus=!1}}),bn=ref(!1),wn=ref(),{form:Cn,formItem:En}=useFormItem(),{inputId:_n}=useFormItemInputId(n,{formItemContext:En}),{valueOnClear:Bn,isEmptyValue:jn}=useEmptyValues(n),Un=computed(()=>n.disabled||(Cn==null?void 0:Cn.disabled)),Rn=computed(()=>n.multiple?isArray$2(n.modelValue)&&n.modelValue.length>0:!jn(n.modelValue)),Wn=computed(()=>n.clearable&&!Un.value&&l.inputHovering&&Rn.value),$n=computed(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),Xn=computed(()=>s.is("reverse",$n.value&&bn.value)),xn=computed(()=>(En==null?void 0:En.validateState)||""),Mn=computed(()=>ValidateComponentsMap[xn.value]),Qn=computed(()=>n.remote?300:0),Nn=computed(()=>n.loading?n.loadingText||r("el.select.loading"):n.remote&&!l.inputValue&&l.options.size===0?!1:n.filterable&&l.inputValue&&l.options.size>0&&Hn.value===0?n.noMatchText||r("el.select.noMatch"):l.options.size===0?n.noDataText||r("el.select.noData"):null),Hn=computed(()=>Dn.value.filter(or=>or.visible).length),Dn=computed(()=>{const or=Array.from(l.options.values()),hr=[];return l.optionValues.forEach(wr=>{const _r=or.findIndex(Nr=>Nr.value===wr);_r>-1&&hr.push(or[_r])}),hr.length>=or.length?hr:or}),An=computed(()=>Array.from(l.cachedOptions.values())),Ln=computed(()=>{const or=Dn.value.filter(hr=>!hr.created).some(hr=>hr.currentLabel===l.inputValue);return n.filterable&&n.allowCreate&&l.inputValue!==""&&!or}),Yn=()=>{n.filterable&&isFunction$2(n.filterMethod)||n.filterable&&n.remote&&isFunction$2(n.remoteMethod)||Dn.value.forEach(or=>{var hr;(hr=or.updateOption)==null||hr.call(or,l.inputValue)})},er=useFormSize(),tr=computed(()=>["small"].includes(er.value)?"small":"default"),Gn=computed({get(){return bn.value&&Nn.value!==!1},set(or){bn.value=or}}),ir=computed(()=>isArray$2(n.modelValue)?n.modelValue.length===0&&!l.inputValue:n.filterable?!l.inputValue:!0),cr=computed(()=>{var or;const hr=(or=n.placeholder)!=null?or:r("el.select.placeholder");return n.multiple||!Rn.value?hr:l.selectedLabel});watch(()=>n.modelValue,(or,hr)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(l.inputValue="",Tn("")),Vn(),!isEqual(or,hr)&&n.validateEvent&&(En==null||En.validate("change").catch(wr=>void 0))},{flush:"post",deep:!0}),watch(()=>bn.value,or=>{or?Tn(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),e("visible-change",or)}),watch(()=>l.options.entries(),()=>{var or;if(!isClient)return;const hr=((or=c.value)==null?void 0:or.querySelectorAll("input"))||[];(!n.filterable&&!n.defaultFirstOption&&!isUndefined$1(n.modelValue)||!Array.from(hr).includes(document.activeElement))&&Vn(),n.defaultFirstOption&&(n.filterable||n.remote)&&Hn.value&&Pn()},{flush:"post"}),watch(()=>l.hoveringIndex,or=>{isNumber$1(or)&&or>-1?wn.value=Dn.value[or]||{}:wn.value={},Dn.value.forEach(hr=>{hr.hover=wn.value===hr})}),watchEffect(()=>{l.isBeforeHide||Yn()});const Tn=or=>{l.previousQuery!==or&&(l.previousQuery=or,n.filterable&&isFunction$2(n.filterMethod)?n.filterMethod(or):n.filterable&&n.remote&&isFunction$2(n.remoteMethod)&&n.remoteMethod(or),n.defaultFirstOption&&(n.filterable||n.remote)&&Hn.value?nextTick(Pn):nextTick(zn))},Pn=()=>{const or=Dn.value.filter(_r=>_r.visible&&!_r.disabled&&!_r.states.groupDisabled),hr=or.find(_r=>_r.created),wr=or[0];l.hoveringIndex=Cr(Dn.value,hr||wr)},Vn=()=>{if(n.multiple)l.selectedLabel="";else{const hr=Fn(n.modelValue);l.selectedLabel=hr.currentLabel,l.selected=hr;return}const or=[];isArray$2(n.modelValue)&&n.modelValue.forEach(hr=>{or.push(Fn(hr))}),l.selected=or},Fn=or=>{let hr;const wr=toRawType(or).toLowerCase()==="object",_r=toRawType(or).toLowerCase()==="null",Nr=toRawType(or).toLowerCase()==="undefined";for(let Ar=l.cachedOptions.size-1;Ar>=0;Ar--){const Er=An.value[Ar];if(wr?get(Er.value,n.valueKey)===get(or,n.valueKey):Er.value===or){hr={value:or,currentLabel:Er.currentLabel,get isDisabled(){return Er.isDisabled}};break}}if(hr)return hr;const Br=wr?or.label:!_r&&!Nr?or:"";return{value:or,currentLabel:Br}},zn=()=>{n.multiple?l.hoveringIndex=Dn.value.findIndex(or=>l.selected.some(hr=>gr(hr)===gr(or))):l.hoveringIndex=Dn.value.findIndex(or=>gr(or)===gr(l.selected))},Zn=()=>{l.selectionWidth=d.value.getBoundingClientRect().width},Jn=()=>{l.calculatorWidth=A.value.getBoundingClientRect().width},rr=()=>{l.collapseItemWidth=ze.value.getBoundingClientRect().width},nr=()=>{var or,hr;(hr=(or=f.value)==null?void 0:or.updatePopper)==null||hr.call(or)},qn=()=>{var or,hr;(hr=(or=g.value)==null?void 0:or.updatePopper)==null||hr.call(or)},sr=()=>{l.inputValue.length>0&&!bn.value&&(bn.value=!0),Tn(l.inputValue)},ur=or=>{if(l.inputValue=or.target.value,n.remote)Kn();else return sr()},Kn=debounce(()=>{sr()},Qn.value),lr=or=>{isEqual(n.modelValue,or)||e(CHANGE_EVENT,or)},dr=or=>findLastIndex(or,hr=>!l.disabledOptions.has(hr)),Or=or=>{if(n.multiple&&or.code!==EVENT_CODE.delete&&or.target.value.length<=0){const hr=n.modelValue.slice(),wr=dr(hr);if(wr<0)return;hr.splice(wr,1),e(UPDATE_MODEL_EVENT,hr),lr(hr)}},vr=(or,hr)=>{const wr=l.selected.indexOf(hr);if(wr>-1&&!Un.value){const _r=n.modelValue.slice();_r.splice(wr,1),e(UPDATE_MODEL_EVENT,_r),lr(_r),e("remove-tag",hr.value)}or.stopPropagation(),Ir()},Sr=or=>{or.stopPropagation();const hr=n.multiple?[]:Bn.value;if(n.multiple)for(const wr of l.selected)wr.isDisabled&&hr.push(wr.value);e(UPDATE_MODEL_EVENT,hr),lr(hr),l.hoveringIndex=-1,bn.value=!1,e("clear"),Ir()},xr=or=>{if(n.multiple){const hr=(n.modelValue||[]).slice(),wr=Cr(hr,or.value);wr>-1?hr.splice(wr,1):(n.multipleLimit<=0||hr.length<n.multipleLimit)&&hr.push(or.value),e(UPDATE_MODEL_EVENT,hr),lr(hr),or.created&&Tn(""),n.filterable&&!n.reserveKeyword&&(l.inputValue="")}else e(UPDATE_MODEL_EVENT,or.value),lr(or.value),bn.value=!1;Ir(),!bn.value&&nextTick(()=>{Pr(or)})},Cr=(or=[],hr)=>{if(!isObject$2(hr))return or.indexOf(hr);const wr=n.valueKey;let _r=-1;return or.some((Nr,Br)=>toRaw(get(Nr,wr))===get(hr,wr)?(_r=Br,!0):!1),_r},Pr=or=>{var hr,wr,_r,Nr,Br;const Dr=isArray$2(or)?or[0]:or;let Ar=null;if(Dr!=null&&Dr.value){const Er=Dn.value.filter(Jr=>Jr.value===Dr.value);Er.length>0&&(Ar=Er[0].$el)}if(f.value&&Ar){const Er=(Nr=(_r=(wr=(hr=f.value)==null?void 0:hr.popperRef)==null?void 0:wr.contentRef)==null?void 0:_r.querySelector)==null?void 0:Nr.call(_r,`.${s.be("dropdown","wrap")}`);Er&&scrollIntoView$2(Er,Ar)}(Br=qe.value)==null||Br.handleScroll()},$r=or=>{l.options.set(or.value,or),l.cachedOptions.set(or.value,or),or.disabled&&l.disabledOptions.set(or.value,or)},Mr=(or,hr)=>{l.options.get(or)===hr&&l.options.delete(or)},{handleCompositionStart:kr,handleCompositionUpdate:Tr,handleCompositionEnd:Vr}=useInput(or=>ur(or)),qr=computed(()=>{var or,hr;return(hr=(or=f.value)==null?void 0:or.popperRef)==null?void 0:hr.contentRef}),Xr=()=>{l.isBeforeHide=!1,nextTick(()=>Pr(l.selected))},Ir=()=>{var or;(or=v.value)==null||or.focus()},Ur=()=>{Lr()},Hr=or=>{Sr(or)},Lr=or=>{if(bn.value=!1,hn.value){const hr=new FocusEvent("focus",or);nextTick(()=>vn(hr))}},zr=()=>{l.inputValue.length>0?l.inputValue="":bn.value=!1},Fr=()=>{Un.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:bn.value=!bn.value)},Zr=()=>{bn.value?Dn.value[l.hoveringIndex]&&xr(Dn.value[l.hoveringIndex]):Fr()},gr=or=>isObject$2(or.value)?get(or.value,n.valueKey):or.value,Rr=computed(()=>Dn.value.filter(or=>or.visible).every(or=>or.disabled)),ai=computed(()=>n.multiple?n.collapseTags?l.selected.slice(0,n.maxCollapseTags):l.selected:[]),li=computed(()=>n.multiple?n.collapseTags?l.selected.slice(n.maxCollapseTags):[]:[]),Yr=or=>{if(!bn.value){bn.value=!0;return}if(!(l.options.size===0||Hn.value===0)&&!Rr.value){or==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):or==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const hr=Dn.value[l.hoveringIndex];(hr.disabled===!0||hr.states.groupDisabled===!0||!hr.visible)&&Yr(or),nextTick(()=>Pr(wn.value))}},ci=()=>{if(!d.value)return 0;const or=window.getComputedStyle(d.value);return Number.parseFloat(or.gap||"6px")},Gr=computed(()=>{const or=ci();return{maxWidth:`${ze.value&&n.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-or:l.selectionWidth}px`}}),Kr=computed(()=>({maxWidth:`${l.selectionWidth}px`})),ui=computed(()=>({width:`${Math.max(l.calculatorWidth,MINIMUM_INPUT_WIDTH)}px`}));return n.multiple&&!isArray$2(n.modelValue)&&e(UPDATE_MODEL_EVENT,[]),!n.multiple&&isArray$2(n.modelValue)&&e(UPDATE_MODEL_EVENT,""),useResizeObserver(d,Zn),useResizeObserver(A,Jn),useResizeObserver(de,nr),useResizeObserver(Ue,nr),useResizeObserver(ae,qn),useResizeObserver(ze,rr),onMounted(()=>{Vn()}),{inputId:_n,contentId:o,nsSelect:s,nsInput:a,states:l,isFocused:hn,expanded:bn,optionsArray:Dn,hoverOption:wn,selectSize:er,filteredOptionsCount:Hn,resetCalculatorWidth:Jn,updateTooltip:nr,updateTagTooltip:qn,debouncedOnInputChange:Kn,onInput:ur,deletePrevTag:Or,deleteTag:vr,deleteSelected:Sr,handleOptionSelect:xr,scrollToOption:Pr,hasModelValue:Rn,shouldShowPlaceholder:ir,currentPlaceholder:cr,showClose:Wn,iconComponent:$n,iconReverse:Xn,validateState:xn,validateIcon:Mn,showNewOption:Ln,updateOptions:Yn,collapseTagSize:tr,setSelected:Vn,selectDisabled:Un,emptyText:Nn,handleCompositionStart:kr,handleCompositionUpdate:Tr,handleCompositionEnd:Vr,onOptionCreate:$r,onOptionDestroy:Mr,handleMenuEnter:Xr,handleFocus:On,focus:Ir,blur:Ur,handleBlur:vn,handleClearClick:Hr,handleClickOutside:Lr,handleEsc:zr,toggleMenu:Fr,selectOption:Zr,getValueKey:gr,navigateOptions:Yr,dropdownMenuVisible:Gn,showTagList:ai,collapseTagList:li,tagStyle:Gr,collapseTagStyle:Kr,inputStyle:ui,popperRef:qr,inputRef:v,tooltipRef:f,tagTooltipRef:g,calculatorRef:A,prefixRef:M,suffixRef:Y,selectRef:c,wrapperRef:Ue,selectionRef:d,scrollbarRef:qe,menuRef:de,tagMenuRef:ae,collapseItemRef:ze}};var ElOptions=defineComponent({name:"ElOptions",setup(n,{slots:e}){const r=inject(selectKey);let o=[];return()=>{var s,a;const l=(s=e.default)==null?void 0:s.call(e),c=[];function d(f){isArray$2(f)&&f.forEach(g=>{var v,A,M,Y;const de=(v=(g==null?void 0:g.type)||{})==null?void 0:v.name;de==="ElOptionGroup"?d(!isString$2(g.children)&&!isArray$2(g.children)&&isFunction$2((A=g.children)==null?void 0:A.default)?(M=g.children)==null?void 0:M.default():g.children):de==="ElOption"?c.push((Y=g.props)==null?void 0:Y.value):isArray$2(g.children)&&d(g.children)})}return l.length&&d((a=l[0])==null?void 0:a.children),isEqual(c,o)||(o=c,r&&(r.states.optionValues=c)),l}}});const SelectProps=buildProps({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:definePropType(String),values:Ee$1,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),COMPONENT_NAME$4="ElSelect",_sfc_main$r=defineComponent({name:COMPONENT_NAME$4,componentName:COMPONENT_NAME$4,components:{ElInput,ElSelectMenu,ElOption:Option$1,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const r=useSelect(n,e);return provide(selectKey,reactive({props:n,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r}}}),_hoisted_1$Z=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],_hoisted_2$U=["textContent"];function _sfc_render$b(n,e,r,o,s,a){const l=resolveComponent("el-tag"),c=resolveComponent("el-tooltip"),d=resolveComponent("el-icon"),f=resolveComponent("el-option"),g=resolveComponent("el-options"),v=resolveComponent("el-scrollbar"),A=resolveComponent("el-select-menu"),M=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:e[16]||(e[16]=Y=>n.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=Y=>n.states.inputHovering=!1),onClick:e[18]||(e[18]=withModifiers((...Y)=>n.toggleMenu&&n.toggleMenu(...Y),["prevent","stop"]))},[createVNode(c,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onBeforeShow:n.handleMenuEnter,onHide:e[15]||(e[15]=Y=>n.states.isBeforeHide=!1)},{default:withCtx(()=>{var Y;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)])},[n.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(n.nsSelect.e("prefix"))},[renderSlot(n.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?renderSlot(n.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.showTagList,de=>(openBlock(),createElementBlock("div",{key:n.getValueKey(de),class:normalizeClass(n.nsSelect.e("selected-item"))},[createVNode(l,{closable:!n.selectDisabled&&!de.isDisabled,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",style:normalizeStyle(n.tagStyle),onClose:ae=>n.deleteTag(ae,de)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text"))},toDisplayString(de.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?(openBlock(),createBlock(c,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(n.nsSelect.e("selected-item"))},[createVNode(l,{closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",style:normalizeStyle(n.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text"))}," + "+toDisplayString(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(n.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.collapseTagList,de=>(openBlock(),createElementBlock("div",{key:n.getValueKey(de),class:normalizeClass(n.nsSelect.e("selected-item"))},[createVNode(l,{class:"in-tooltip",closable:!n.selectDisabled&&!de.isDisabled,size:n.collapseTagSize,type:n.tagType,"disable-transitions":"",onClose:ae=>n.deleteTag(ae,de)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(n.nsSelect.e("tags-text"))},toDisplayString(de.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),n.selectDisabled?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[withDirectives(createBaseVNode("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=de=>n.states.inputValue=de),type:"text",class:normalizeClass([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:normalizeStyle(n.inputStyle),role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((Y=n.hoverOption)==null?void 0:Y.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...de)=>n.handleFocus&&n.handleFocus(...de)),onBlur:e[2]||(e[2]=(...de)=>n.handleBlur&&n.handleBlur(...de)),onKeydown:[e[3]||(e[3]=withKeys(withModifiers(de=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=withKeys(withModifiers(de=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=withKeys(withModifiers((...de)=>n.handleEsc&&n.handleEsc(...de),["stop","prevent"]),["esc"])),e[6]||(e[6]=withKeys(withModifiers((...de)=>n.selectOption&&n.selectOption(...de),["stop","prevent"]),["enter"])),e[7]||(e[7]=withKeys(withModifiers((...de)=>n.deletePrevTag&&n.deletePrevTag(...de),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...de)=>n.handleCompositionStart&&n.handleCompositionStart(...de)),onCompositionupdate:e[9]||(e[9]=(...de)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...de)),onCompositionend:e[10]||(e[10]=(...de)=>n.handleCompositionEnd&&n.handleCompositionEnd(...de)),onInput:e[11]||(e[11]=(...de)=>n.onInput&&n.onInput(...de)),onClick:e[12]||(e[12]=withModifiers((...de)=>n.toggleMenu&&n.toggleMenu(...de),["stop"]))},null,46,_hoisted_1$Z),[[vModelText,n.states.inputValue]]),n.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(n.nsSelect.e("input-calculator")),textContent:toDisplayString(n.states.inputValue)},null,10,_hoisted_2$U)):createCommentVNode("v-if",!0)],2)),n.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[createBaseVNode("span",null,toDisplayString(n.currentPlaceholder),1)],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClose?(openBlock(),createBlock(d,{key:0,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),n.showClose&&n.clearIcon?(openBlock(),createBlock(d,{key:1,class:normalizeClass([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.validateState&&n.validateIcon?(openBlock(),createBlock(d,{key:2,class:normalizeClass([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]}),content:withCtx(()=>[createVNode(A,{ref:"menuRef"},{default:withCtx(()=>[n.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=withModifiers(()=>{},["stop"]))},[renderSlot(n.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode(v,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:normalizeClass([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[n.showNewOption?(openBlock(),createBlock(f,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(g,null,{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vShow,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.nsSelect.be("dropdown","loading"))},[renderSlot(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(n.nsSelect.be("dropdown","empty"))},[renderSlot(n.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(n.emptyText),1)])],2)):createCommentVNode("v-if",!0),n.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(n.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=withModifiers(()=>{},["stop"]))},[renderSlot(n.$slots,"footer")],2)):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[M,n.handleClickOutside,n.popperRef]])}var Select=_export_sfc$1(_sfc_main$r,[["render",_sfc_render$b],["__file","select.vue"]]);const _sfc_main$q=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=useNamespace("select"),r=ref(null),o=getCurrentInstance(),s=ref([]);provide(selectGroupKey,reactive({...toRefs(n)}));const a=computed(()=>s.value.some(f=>f.visible===!0)),l=f=>{var g,v;return((g=f.type)==null?void 0:g.name)==="ElOption"&&!!((v=f.component)!=null&&v.proxy)},c=f=>{const g=castArray(f),v=[];return g.forEach(A=>{var M,Y;l(A)?v.push(A.component.proxy):(M=A.children)!=null&&M.length?v.push(...c(A.children)):(Y=A.component)!=null&&Y.subTree&&v.push(...c(A.component.subTree))}),v},d=()=>{s.value=c(o.subTree)};return onMounted(()=>{d()}),useMutationObserver(r,d,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:a,ns:e}}});function _sfc_render$a(n,e,r,o,s,a){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(n.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(n.ns.be("group","title"))},toDisplayString(n.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(n.ns.b("group"))},[renderSlot(n.$slots,"default")],2)])],2)),[[vShow,n.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$q,[["render",_sfc_render$a],["__file","option-group.vue"]]);const ElSelect=withInstall(Select,{Option:Option$1,OptionGroup}),ElOption=withNoopInstall(Option$1);withNoopInstall(OptionGroup);const popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":n=>isBoolean$1(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$7=defineComponent({name:"ElPopover"}),_sfc_main$p=defineComponent({...__default__$7,props:popoverProps,emits:popoverEmits,setup(n,{expose:e,emit:r}){const o=n,s=computed(()=>o[updateEventKeyRaw]),a=useNamespace("popover"),l=ref(),c=computed(()=>{var ae;return(ae=unref(l))==null?void 0:ae.popperRef}),d=computed(()=>[{width:addUnit(o.width)},o.popperStyle]),f=computed(()=>[a.b(),o.popperClass,{[a.m("plain")]:!!o.content}]),g=computed(()=>o.transition===`${a.namespace.value}-fade-in-linear`),v=()=>{var ae;(ae=l.value)==null||ae.hide()},A=()=>{r("before-enter")},M=()=>{r("before-leave")},Y=()=>{r("after-enter")},de=()=>{r("update:visible",!1),r("after-leave")};return e({popperRef:c,hide:v}),(ae,ze)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:l},ae.$attrs,{trigger:ae.trigger,placement:ae.placement,disabled:ae.disabled,visible:ae.visible,transition:ae.transition,"popper-options":ae.popperOptions,tabindex:ae.tabindex,content:ae.content,offset:ae.offset,"show-after":ae.showAfter,"hide-after":ae.hideAfter,"auto-close":ae.autoClose,"show-arrow":ae.showArrow,"aria-label":ae.title,effect:ae.effect,enterable:ae.enterable,"popper-class":unref(f),"popper-style":unref(d),teleported:ae.teleported,persistent:ae.persistent,"gpu-acceleration":unref(g),"onUpdate:visible":unref(s),onBeforeShow:A,onBeforeHide:M,onShow:Y,onHide:de}),{content:withCtx(()=>[ae.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(a).e("title")),role:"title"},toDisplayString(ae.title),3)):createCommentVNode("v-if",!0),renderSlot(ae.$slots,"default",{},()=>[createTextVNode(toDisplayString(ae.content),1)])]),default:withCtx(()=>[ae.$slots.reference?renderSlot(ae.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc$1(_sfc_main$p,[["__file","popover.vue"]]);const attachEvents=(n,e)=>{const r=e.arg||e.value,o=r==null?void 0:r.popperRef;o&&(o.triggerRef=n)};var PopoverDirective={mounted(n,e){attachEvents(n,e)},updated(n,e){attachEvents(n,e)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:n=>`${n}%`}}),_hoisted_1$Y=["aria-valuenow"],_hoisted_2$T={viewBox:"0 0 100 100"},_hoisted_3$O=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$8=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$8={key:0},__default__$6=defineComponent({name:"ElProgress"}),_sfc_main$o=defineComponent({...__default__$6,props:progressProps,setup(n){const e=n,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=useNamespace("progress"),s=computed(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,background:qe(e.percentage)})),a=computed(()=>(e.strokeWidth/e.width*100).toFixed(1)),l=computed(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),c=computed(()=>{const Ue=l.value,hn=e.type==="dashboard";return`
          M 50 50
          m 0 ${hn?"":"-"}${Ue}
          a ${Ue} ${Ue} 0 1 1 0 ${hn?"-":""}${Ue*2}
          a ${Ue} ${Ue} 0 1 1 0 ${hn?"":"-"}${Ue*2}
          `}),d=computed(()=>2*Math.PI*l.value),f=computed(()=>e.type==="dashboard"?.75:1),g=computed(()=>`${-1*d.value*(1-f.value)/2}px`),v=computed(()=>({strokeDasharray:`${d.value*f.value}px, ${d.value}px`,strokeDashoffset:g.value})),A=computed(()=>({strokeDasharray:`${d.value*f.value*(e.percentage/100)}px, ${d.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),M=computed(()=>{let Ue;return e.color?Ue=qe(e.percentage):Ue=r[e.status]||r.default,Ue}),Y=computed(()=>e.status==="warning"?warning_filled_default:e.type==="line"?e.status==="success"?circle_check_default:circle_close_default:e.status==="success"?check_default:close_default),de=computed(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),ae=computed(()=>e.format(e.percentage));function ze(Ue){const hn=100/Ue.length;return Ue.map((vn,bn)=>isString$2(vn)?{color:vn,percentage:(bn+1)*hn}:vn).sort((vn,bn)=>vn.percentage-bn.percentage)}const qe=Ue=>{var hn;const{color:On}=e;if(isFunction$2(On))return On(Ue);if(isString$2(On))return On;{const vn=ze(On);for(const bn of vn)if(bn.percentage>Ue)return bn.color;return(hn=vn[vn.length-1])==null?void 0:hn.color}};return(Ue,hn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(o).b(),unref(o).m(Ue.type),unref(o).is(Ue.status),{[unref(o).m("without-text")]:!Ue.showText,[unref(o).m("text-inside")]:Ue.textInside}]),role:"progressbar","aria-valuenow":Ue.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[Ue.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(o).be("bar","outer")),style:normalizeStyle({height:`${Ue.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(o).be("bar","inner"),{[unref(o).bem("bar","inner","indeterminate")]:Ue.indeterminate},{[unref(o).bem("bar","inner","striped")]:Ue.striped},{[unref(o).bem("bar","inner","striped-flow")]:Ue.stripedFlow}]),style:normalizeStyle(unref(s))},[(Ue.showText||Ue.$slots.default)&&Ue.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).be("bar","innerText"))},[renderSlot(Ue.$slots,"default",{percentage:Ue.percentage},()=>[createBaseVNode("span",null,toDisplayString(unref(ae)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(o).b("circle")),style:normalizeStyle({height:`${Ue.width}px`,width:`${Ue.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$T,[createBaseVNode("path",{class:normalizeClass(unref(o).be("circle","track")),d:unref(c),stroke:`var(${unref(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":Ue.strokeLinecap,"stroke-width":unref(a),fill:"none",style:normalizeStyle(unref(v))},null,14,_hoisted_3$O),createBaseVNode("path",{class:normalizeClass(unref(o).be("circle","path")),d:unref(c),stroke:unref(M),fill:"none",opacity:Ue.percentage?1:0,"stroke-linecap":Ue.strokeLinecap,"stroke-width":unref(a),style:normalizeStyle(unref(A))},null,14,_hoisted_4$8)]))],6)),(Ue.showText||Ue.$slots.default)&&!Ue.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(o).e("text")),style:normalizeStyle({fontSize:`${unref(de)}px`})},[renderSlot(Ue.$slots,"default",{percentage:Ue.percentage},()=>[Ue.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Y))))]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$8,toDisplayString(unref(ae)),1))])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$Y))}});var Progress$1=_export_sfc$1(_sfc_main$o,[["__file","progress.vue"]]);const ElProgress=withInstall(Progress$1),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee$1,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue=n=>isNumber$1(n)||isArray$2(n)&&n.every(isNumber$1),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue,[INPUT_EVENT]:isValidValue,[CHANGE_EVENT]:isValidValue},useLifecycle=(n,e,r)=>{const o=ref();return onMounted(async()=>{n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof n.modelValue!="number"||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),useEventListener(window,"resize",r),await nextTick(),r()}),{sliderWrapper:o}},useMarks=n=>computed(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((r,o)=>r-o).filter(r=>r<=n.max&&r>=n.min).map(r=>({point:r,position:(r-n.min)*100/(n.max-n.min),mark:n.marks[r]})):[]),useSlide=(n,e,r)=>{const{form:o,formItem:s}=useFormItem(),a=shallowRef(),l=ref(),c=ref(),d={firstButton:l,secondButton:c},f=computed(()=>n.disabled||(o==null?void 0:o.disabled)||!1),g=computed(()=>Math.min(e.firstValue,e.secondValue)),v=computed(()=>Math.max(e.firstValue,e.secondValue)),A=computed(()=>n.range?`${100*(v.value-g.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),M=computed(()=>n.range?`${100*(g.value-n.min)/(n.max-n.min)}%`:"0%"),Y=computed(()=>n.vertical?{height:n.height}:{}),de=computed(()=>n.vertical?{height:A.value,bottom:M.value}:{width:A.value,left:M.value}),ae=()=>{a.value&&(e.sliderSize=a.value[`client${n.vertical?"Height":"Width"}`])},ze=_n=>{const Bn=n.min+_n*(n.max-n.min)/100;if(!n.range)return l;let jn;return Math.abs(g.value-Bn)<Math.abs(v.value-Bn)?jn=e.firstValue<e.secondValue?"firstButton":"secondButton":jn=e.firstValue>e.secondValue?"firstButton":"secondButton",d[jn]},qe=_n=>{const Bn=ze(_n);return Bn.value.setPosition(_n),Bn},Ue=_n=>{e.firstValue=_n,On(n.range?[g.value,v.value]:_n)},hn=_n=>{e.secondValue=_n,n.range&&On([g.value,v.value])},On=_n=>{r(UPDATE_MODEL_EVENT,_n),r(INPUT_EVENT,_n)},vn=async()=>{await nextTick(),r(CHANGE_EVENT,n.range?[g.value,v.value]:n.modelValue)},bn=_n=>{var Bn,jn,Un,Rn,Wn,$n;if(f.value||e.dragging)return;ae();let Xn=0;if(n.vertical){const xn=(Un=(jn=(Bn=_n.touches)==null?void 0:Bn.item(0))==null?void 0:jn.clientY)!=null?Un:_n.clientY;Xn=(a.value.getBoundingClientRect().bottom-xn)/e.sliderSize*100}else{const xn=($n=(Wn=(Rn=_n.touches)==null?void 0:Rn.item(0))==null?void 0:Wn.clientX)!=null?$n:_n.clientX,Mn=a.value.getBoundingClientRect().left;Xn=(xn-Mn)/e.sliderSize*100}if(!(Xn<0||Xn>100))return qe(Xn)};return{elFormItem:s,slider:a,firstButton:l,secondButton:c,sliderDisabled:f,minValue:g,maxValue:v,runwayStyle:Y,barStyle:de,resetSize:ae,setPosition:qe,emitChange:vn,onSliderWrapperPrevent:_n=>{var Bn,jn;((Bn=d.firstButton.value)!=null&&Bn.dragging||(jn=d.secondButton.value)!=null&&jn.dragging)&&_n.preventDefault()},onSliderClick:_n=>{bn(_n)&&vn()},onSliderDown:async _n=>{const Bn=bn(_n);Bn&&(await nextTick(),Bn.value.onButtonDown(_n))},setFirstValue:Ue,setSecondValue:hn}},{left,down,right,up,home,end,pageUp,pageDown}=EVENT_CODE,useTooltip=(n,e,r)=>{const o=ref(),s=ref(!1),a=computed(()=>e.value instanceof Function),l=computed(()=>a.value&&e.value(n.modelValue)||n.modelValue),c=debounce(()=>{r.value&&(s.value=!0)},50),d=debounce(()=>{r.value&&(s.value=!1)},50);return{tooltip:o,tooltipVisible:s,formatValue:l,displayTooltip:c,hideTooltip:d}},useSliderButton=(n,e,r)=>{const{disabled:o,min:s,max:a,step:l,showTooltip:c,precision:d,sliderSize:f,formatTooltip:g,emitChange:v,resetSize:A,updateDragging:M}=inject(sliderContextKey),{tooltip:Y,tooltipVisible:de,formatValue:ae,displayTooltip:ze,hideTooltip:qe}=useTooltip(n,g,c),Ue=ref(),hn=computed(()=>`${(n.modelValue-s.value)/(a.value-s.value)*100}%`),On=computed(()=>n.vertical?{bottom:hn.value}:{left:hn.value}),vn=()=>{e.hovering=!0,ze()},bn=()=>{e.hovering=!1,e.dragging||qe()},wn=Nn=>{o.value||(Nn.preventDefault(),Xn(Nn),window.addEventListener("mousemove",xn),window.addEventListener("touchmove",xn),window.addEventListener("mouseup",Mn),window.addEventListener("touchend",Mn),window.addEventListener("contextmenu",Mn),Ue.value.focus())},Cn=Nn=>{o.value||(e.newPosition=Number.parseFloat(hn.value)+Nn/(a.value-s.value)*100,Qn(e.newPosition),v())},En=()=>{Cn(-l.value)},_n=()=>{Cn(l.value)},Bn=()=>{Cn(-l.value*4)},jn=()=>{Cn(l.value*4)},Un=()=>{o.value||(Qn(0),v())},Rn=()=>{o.value||(Qn(100),v())},Wn=Nn=>{let Hn=!0;[left,down].includes(Nn.key)?En():[right,up].includes(Nn.key)?_n():Nn.key===home?Un():Nn.key===end?Rn():Nn.key===pageDown?Bn():Nn.key===pageUp?jn():Hn=!1,Hn&&Nn.preventDefault()},$n=Nn=>{let Hn,Dn;return Nn.type.startsWith("touch")?(Dn=Nn.touches[0].clientY,Hn=Nn.touches[0].clientX):(Dn=Nn.clientY,Hn=Nn.clientX),{clientX:Hn,clientY:Dn}},Xn=Nn=>{e.dragging=!0,e.isClick=!0;const{clientX:Hn,clientY:Dn}=$n(Nn);n.vertical?e.startY=Dn:e.startX=Hn,e.startPosition=Number.parseFloat(hn.value),e.newPosition=e.startPosition},xn=Nn=>{if(e.dragging){e.isClick=!1,ze(),A();let Hn;const{clientX:Dn,clientY:An}=$n(Nn);n.vertical?(e.currentY=An,Hn=(e.startY-e.currentY)/f.value*100):(e.currentX=Dn,Hn=(e.currentX-e.startX)/f.value*100),e.newPosition=e.startPosition+Hn,Qn(e.newPosition)}},Mn=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||qe(),e.isClick||Qn(e.newPosition),v()},0),window.removeEventListener("mousemove",xn),window.removeEventListener("touchmove",xn),window.removeEventListener("mouseup",Mn),window.removeEventListener("touchend",Mn),window.removeEventListener("contextmenu",Mn))},Qn=async Nn=>{if(Nn===null||Number.isNaN(+Nn))return;Nn<0?Nn=0:Nn>100&&(Nn=100);const Hn=100/((a.value-s.value)/l.value);let An=Math.round(Nn/Hn)*Hn*(a.value-s.value)*.01+s.value;An=Number.parseFloat(An.toFixed(d.value)),An!==n.modelValue&&r(UPDATE_MODEL_EVENT,An),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await nextTick(),e.dragging&&ze(),Y.value.updatePopper()};return watch(()=>e.dragging,Nn=>{M(Nn)}),{disabled:o,button:Ue,tooltip:Y,tooltipVisible:de,showTooltip:c,wrapperStyle:On,formatValue:ae,handleMouseEnter:vn,handleMouseLeave:bn,onButtonDown:wn,onKeyDown:Wn,setPosition:Qn}},useStops=(n,e,r,o)=>({stops:computed(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const l=(n.max-n.min)/n.step,c=100*n.step/(n.max-n.min),d=Array.from({length:l-1}).map((f,g)=>(g+1)*c);return n.range?d.filter(f=>f<100*(r.value-n.min)/(n.max-n.min)||f>100*(o.value-n.min)/(n.max-n.min)):d.filter(f=>f>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:l=>n.vertical?{bottom:`${l}%`}:{left:`${l}%`}}),useWatch=(n,e,r,o,s,a)=>{const l=f=>{s(UPDATE_MODEL_EVENT,f),s(INPUT_EVENT,f)},c=()=>n.range?![r.value,o.value].every((f,g)=>f===e.oldValue[g]):n.modelValue!==e.oldValue,d=()=>{var f,g;n.min>n.max&&throwError("Slider","min should not be greater than max.");const v=n.modelValue;n.range&&Array.isArray(v)?v[1]<n.min?l([n.min,n.min]):v[0]>n.max?l([n.max,n.max]):v[0]<n.min?l([n.min,v[1]]):v[1]>n.max?l([v[0],n.max]):(e.firstValue=v[0],e.secondValue=v[1],c()&&(n.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(A=>void 0)),e.oldValue=v.slice())):!n.range&&typeof v=="number"&&!Number.isNaN(v)&&(v<n.min?l(n.min):v>n.max?l(n.max):(e.firstValue=v,c()&&(n.validateEvent&&((g=a==null?void 0:a.validate)==null||g.call(a,"change").catch(A=>void 0)),e.oldValue=v)))};d(),watch(()=>e.dragging,f=>{f||d()}),watch(()=>n.modelValue,(f,g)=>{e.dragging||Array.isArray(f)&&Array.isArray(g)&&f.every((v,A)=>v===g[A])&&e.firstValue===f[0]&&e.secondValue===f[1]||d()},{deep:!0}),watch(()=>[n.min,n.max],()=>{d()})},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee$1,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:n=>isNumber$1(n)},_hoisted_1$X=["tabindex"],__default__$5=defineComponent({name:"ElSliderButton"}),_sfc_main$n=defineComponent({...__default__$5,props:sliderButtonProps,emits:sliderButtonEmits,setup(n,{expose:e,emit:r}){const o=n,s=useNamespace("slider"),a=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:o.modelValue}),{disabled:l,button:c,tooltip:d,showTooltip:f,tooltipVisible:g,wrapperStyle:v,formatValue:A,handleMouseEnter:M,handleMouseLeave:Y,onButtonDown:de,onKeyDown:ae,setPosition:ze}=useSliderButton(o,a,r),{hovering:qe,dragging:Ue}=toRefs(a);return e({onButtonDown:de,onKeyDown:ae,setPosition:ze,hovering:qe,dragging:Ue}),(hn,On)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:c,class:normalizeClass([unref(s).e("button-wrapper"),{hover:unref(qe),dragging:unref(Ue)}]),style:normalizeStyle(unref(v)),tabindex:unref(l)?-1:0,onMouseenter:On[0]||(On[0]=(...vn)=>unref(M)&&unref(M)(...vn)),onMouseleave:On[1]||(On[1]=(...vn)=>unref(Y)&&unref(Y)(...vn)),onMousedown:On[2]||(On[2]=(...vn)=>unref(de)&&unref(de)(...vn)),onTouchstart:On[3]||(On[3]=(...vn)=>unref(de)&&unref(de)(...vn)),onFocus:On[4]||(On[4]=(...vn)=>unref(M)&&unref(M)(...vn)),onBlur:On[5]||(On[5]=(...vn)=>unref(Y)&&unref(Y)(...vn)),onKeydown:On[6]||(On[6]=(...vn)=>unref(ae)&&unref(ae)(...vn))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:d,visible:unref(g),placement:hn.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":hn.tooltipClass,disabled:!unref(f),persistent:""},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(A)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(s).e("button"),{hover:unref(qe),dragging:unref(Ue)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,_hoisted_1$X))}});var SliderButton=_export_sfc$1(_sfc_main$n,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(n){const e=useNamespace("slider"),r=computed(()=>isString$2(n.mark)?n.mark:n.mark.label),o=computed(()=>isString$2(n.mark)?void 0:n.mark.style);return()=>h$1("div",{class:e.e("marks-text"),style:o.value},r.value)}});const _hoisted_1$W=["id","role","aria-label","aria-labelledby"],_hoisted_2$S={key:1},__default__$4=defineComponent({name:"ElSlider"}),_sfc_main$m=defineComponent({...__default__$4,props:sliderProps,emits:sliderEmits,setup(n,{expose:e,emit:r}){const o=n,s=useNamespace("slider"),{t:a}=useLocale(),l=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:d,firstButton:f,secondButton:g,sliderDisabled:v,minValue:A,maxValue:M,runwayStyle:Y,barStyle:de,resetSize:ae,emitChange:ze,onSliderWrapperPrevent:qe,onSliderClick:Ue,onSliderDown:hn,setFirstValue:On,setSecondValue:vn}=useSlide(o,l,r),{stops:bn,getStopStyle:wn}=useStops(o,l,A,M),{inputId:Cn,isLabeledByFormItem:En}=useFormItemInputId(o,{formItemContext:c}),_n=useFormSize(),Bn=computed(()=>o.inputSize||_n.value),jn=computed(()=>o.label||o.ariaLabel||a("el.slider.defaultLabel",{min:o.min,max:o.max})),Un=computed(()=>o.range?o.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):jn.value),Rn=computed(()=>o.formatValueText?o.formatValueText(Nn.value):`${Nn.value}`),Wn=computed(()=>o.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),$n=computed(()=>o.formatValueText?o.formatValueText(Hn.value):`${Hn.value}`),Xn=computed(()=>[s.b(),s.m(_n.value),s.is("vertical",o.vertical),{[s.m("with-input")]:o.showInput}]),xn=useMarks(o);useWatch(o,l,A,M,r,c);const Mn=computed(()=>{const Ln=[o.min,o.max,o.step].map(Yn=>{const er=`${Yn}`.split(".")[1];return er?er.length:0});return Math.max.apply(null,Ln)}),{sliderWrapper:Qn}=useLifecycle(o,l,ae),{firstValue:Nn,secondValue:Hn,sliderSize:Dn}=toRefs(l),An=Ln=>{l.dragging=Ln};return provide(sliderContextKey,{...toRefs(o),sliderSize:Dn,disabled:v,precision:Mn,emitChange:ze,resetSize:ae,updateDragging:An}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},computed(()=>!!o.label)),e({onSliderClick:Ue}),(Ln,Yn)=>{var er,tr;return openBlock(),createElementBlock("div",{id:Ln.range?unref(Cn):void 0,ref_key:"sliderWrapper",ref:Qn,class:normalizeClass(unref(Xn)),role:Ln.range?"group":void 0,"aria-label":Ln.range&&!unref(En)?unref(jn):void 0,"aria-labelledby":Ln.range&&unref(En)?(er=unref(c))==null?void 0:er.labelId:void 0,onTouchstart:Yn[2]||(Yn[2]=(...Gn)=>unref(qe)&&unref(qe)(...Gn)),onTouchmove:Yn[3]||(Yn[3]=(...Gn)=>unref(qe)&&unref(qe)(...Gn))},[createBaseVNode("div",{ref_key:"slider",ref:d,class:normalizeClass([unref(s).e("runway"),{"show-input":Ln.showInput&&!Ln.range},unref(s).is("disabled",unref(v))]),style:normalizeStyle(unref(Y)),onMousedown:Yn[0]||(Yn[0]=(...Gn)=>unref(hn)&&unref(hn)(...Gn)),onTouchstart:Yn[1]||(Yn[1]=(...Gn)=>unref(hn)&&unref(hn)(...Gn))},[createBaseVNode("div",{class:normalizeClass(unref(s).e("bar")),style:normalizeStyle(unref(de))},null,6),createVNode(SliderButton,{id:Ln.range?void 0:unref(Cn),ref_key:"firstButton",ref:f,"model-value":unref(Nn),vertical:Ln.vertical,"tooltip-class":Ln.tooltipClass,placement:Ln.placement,role:"slider","aria-label":Ln.range||!unref(En)?unref(Un):void 0,"aria-labelledby":!Ln.range&&unref(En)?(tr=unref(c))==null?void 0:tr.labelId:void 0,"aria-valuemin":Ln.min,"aria-valuemax":Ln.range?unref(Hn):Ln.max,"aria-valuenow":unref(Nn),"aria-valuetext":unref(Rn),"aria-orientation":Ln.vertical?"vertical":"horizontal","aria-disabled":unref(v),"onUpdate:modelValue":unref(On)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Ln.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:g,"model-value":unref(Hn),vertical:Ln.vertical,"tooltip-class":Ln.tooltipClass,placement:Ln.placement,role:"slider","aria-label":unref(Wn),"aria-valuemin":unref(Nn),"aria-valuemax":Ln.max,"aria-valuenow":unref(Hn),"aria-valuetext":unref($n),"aria-orientation":Ln.vertical?"vertical":"horizontal","aria-disabled":unref(v),"onUpdate:modelValue":unref(vn)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Ln.showStops?(openBlock(),createElementBlock("div",_hoisted_2$S,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(bn),(Gn,ir)=>(openBlock(),createElementBlock("div",{key:ir,class:normalizeClass(unref(s).e("stop")),style:normalizeStyle(unref(wn)(Gn))},null,6))),128))])):createCommentVNode("v-if",!0),unref(xn).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(xn),(Gn,ir)=>(openBlock(),createElementBlock("div",{key:ir,style:normalizeStyle(unref(wn)(Gn.position)),class:normalizeClass([unref(s).e("stop"),unref(s).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(s).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(xn),(Gn,ir)=>(openBlock(),createBlock(unref(SliderMarker),{key:ir,mark:Gn.mark,style:normalizeStyle(unref(wn)(Gn.position))},null,8,["mark","style"]))),128))],2)],64)):createCommentVNode("v-if",!0)],38),Ln.showInput&&!Ln.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(Nn),class:normalizeClass(unref(s).e("input")),step:Ln.step,disabled:unref(v),controls:Ln.showInputControls,min:Ln.min,max:Ln.max,debounce:Ln.debounce,size:unref(Bn),"onUpdate:modelValue":unref(On),onChange:unref(ze)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],42,_hoisted_1$W)}}});var Slider=_export_sfc$1(_sfc_main$m,[["__file","slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(n,{slots:e}){const r=useNamespace("space"),o=computed(()=>`${n.prefixCls||r.b()}__item`);return()=>h$1("div",{class:o.value},renderSlot(e,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(n){const e=useNamespace("space"),r=computed(()=>[e.b(),e.m(n.direction),n.class]),o=ref(0),s=ref(0),a=computed(()=>{const c=n.wrap||n.fill?{flexWrap:"wrap"}:{},d={alignItems:n.alignment},f={rowGap:`${s.value}px`,columnGap:`${o.value}px`};return[c,d,f,n.style]}),l=computed(()=>n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{});return watchEffect(()=>{const{size:c="small",wrap:d,direction:f,fill:g}=n;if(isArray$2(c)){const[v=0,A=0]=c;o.value=v,s.value=A}else{let v;isNumber$1(c)?v=c:v=SIZE_MAP[c||"small"]||SIZE_MAP.small,(d||g)&&f==="horizontal"?o.value=s.value=v:f==="horizontal"?(o.value=v,s.value=0):(s.value=v,o.value=0)}}),{classes:r,containerStyle:a,itemStyle:l}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:n=>isVNode(n)||isNumber$1(n)||isString$2(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:n=>isNumber$1(n)||isArray$2(n)&&n.length===2&&n.every(isNumber$1)}}),Space$1=defineComponent({name:"ElSpace",props:spaceProps,setup(n,{slots:e}){const{classes:r,containerStyle:o,itemStyle:s}=useSpace(n);function a(l,c="",d=[]){const{prefixCls:f}=n;return l.forEach((g,v)=>{isFragment(g)?isArray$2(g.children)&&g.children.forEach((A,M)=>{isFragment(A)&&isArray$2(A.children)?a(A.children,`${c+M}-`,d):d.push(createVNode(SpaceItem,{style:s.value,prefixCls:f,key:`nested-${c+M}`},{default:()=>[A]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(g)&&d.push(createVNode(SpaceItem,{style:s.value,prefixCls:f,key:`LoopKey${c+v}`},{default:()=>[g]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}),d}return()=>{var l;const{spacer:c,direction:d}=n,f=renderSlot(e,"default",{key:0},()=>[]);if(((l=f.children)!=null?l:[]).length===0)return null;if(isArray$2(f.children)){let g=a(f.children);if(c){const v=g.length-1;g=g.reduce((A,M,Y)=>{const de=[...A,M];return Y!==v&&de.push(createVNode("span",{style:[s.value,d==="vertical"?"width: 100%":null],key:Y},[isVNode(c)?c:createTextVNode(c,PatchFlags.TEXT)],PatchFlags.STYLE)),de},[])}return createVNode("div",{class:r.value,style:o.value},g,PatchFlags.STYLE|PatchFlags.CLASS)}return f.children}}}),ElSpace=withInstall(Space$1),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:n=>isBoolean$1(n)||isString$2(n)||isNumber$1(n),[CHANGE_EVENT]:n=>isBoolean$1(n)||isString$2(n)||isNumber$1(n),[INPUT_EVENT]:n=>isBoolean$1(n)||isString$2(n)||isNumber$1(n)},_hoisted_1$V=["onClick"],_hoisted_2$R=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$N=["aria-hidden"],_hoisted_4$7=["aria-hidden"],_hoisted_5$7=["aria-hidden"],COMPONENT_NAME$3="ElSwitch",__default__$3=defineComponent({name:COMPONENT_NAME$3}),_sfc_main$l=defineComponent({...__default__$3,props:switchProps,emits:switchEmits,setup(n,{expose:e,emit:r}){const o=n,{formItem:s}=useFormItem(),a=useFormSize(),l=useNamespace("switch"),{inputId:c}=useFormItemInputId(o,{formItemContext:s}),d=useFormDisabled(computed(()=>o.loading)),f=ref(o.modelValue!==!1),g=ref(),v=ref(),A=computed(()=>[l.b(),l.m(a.value),l.is("disabled",d.value),l.is("checked",ze.value)]),M=computed(()=>[l.e("label"),l.em("label","left"),l.is("active",!ze.value)]),Y=computed(()=>[l.e("label"),l.em("label","right"),l.is("active",ze.value)]),de=computed(()=>({width:addUnit(o.width)}));watch(()=>o.modelValue,()=>{f.value=!0});const ae=computed(()=>f.value?o.modelValue:!1),ze=computed(()=>ae.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(ae.value)||(r(UPDATE_MODEL_EVENT,o.inactiveValue),r(CHANGE_EVENT,o.inactiveValue),r(INPUT_EVENT,o.inactiveValue)),watch(ze,On=>{var vn;g.value.checked=On,o.validateEvent&&((vn=s==null?void 0:s.validate)==null||vn.call(s,"change").catch(bn=>void 0))});const qe=()=>{const On=ze.value?o.inactiveValue:o.activeValue;r(UPDATE_MODEL_EVENT,On),r(CHANGE_EVENT,On),r(INPUT_EVENT,On),nextTick(()=>{g.value.checked=ze.value})},Ue=()=>{if(d.value)return;const{beforeChange:On}=o;if(!On){qe();return}const vn=On();[isPromise(vn),isBoolean$1(vn)].includes(!0)||throwError(COMPONENT_NAME$3,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(vn)?vn.then(wn=>{wn&&qe()}).catch(wn=>{}):vn&&qe()},hn=()=>{var On,vn;(vn=(On=g.value)==null?void 0:On.focus)==null||vn.call(On)};return onMounted(()=>{g.value.checked=ze.value}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},computed(()=>!!o.label)),e({focus:hn,checked:ze}),(On,vn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(A)),onClick:withModifiers(Ue,["prevent"])},[createBaseVNode("input",{id:unref(c),ref_key:"input",ref:g,class:normalizeClass(unref(l).e("input")),type:"checkbox",role:"switch","aria-checked":unref(ze),"aria-disabled":unref(d),"aria-label":On.label||On.ariaLabel,name:On.name,"true-value":On.activeValue,"false-value":On.inactiveValue,disabled:unref(d),tabindex:On.tabindex,onChange:qe,onKeydown:withKeys(Ue,["enter"])},null,42,_hoisted_2$R),!On.inlinePrompt&&(On.inactiveIcon||On.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(M))},[On.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(On.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!On.inactiveIcon&&On.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(ze)},toDisplayString(On.inactiveText),9,_hoisted_3$N)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:v,class:normalizeClass(unref(l).e("core")),style:normalizeStyle(unref(de))},[On.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(l).e("inner"))},[On.activeIcon||On.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(l).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ze)?On.activeIcon:On.inactiveIcon)))]),_:1},8,["class"])):On.activeText||On.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(l).is("text")),"aria-hidden":!unref(ze)},toDisplayString(unref(ze)?On.activeText:On.inactiveText),11,_hoisted_4$7)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(l).e("action"))},[On.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(l).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):unref(ze)?renderSlot(On.$slots,"active-action",{key:1},()=>[On.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(On.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(ze)?createCommentVNode("v-if",!0):renderSlot(On.$slots,"inactive-action",{key:2},()=>[On.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(On.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!On.inlinePrompt&&(On.activeIcon||On.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(Y))},[On.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(On.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!On.activeIcon&&On.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(ze)},toDisplayString(On.activeText),9,_hoisted_5$7)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,_hoisted_1$V))}});var Switch=_export_sfc$1(_sfc_main$l,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$2="ElTabBar",__default__$2=defineComponent({name:COMPONENT_NAME$2}),_sfc_main$k=defineComponent({...__default__$2,props:tabBarProps,setup(n,{expose:e}){const r=n,o=getCurrentInstance(),s=inject(tabsRootContextKey);s||throwError(COMPONENT_NAME$2,"<el-tabs><el-tab-bar /></el-tabs>");const a=useNamespace("tabs"),l=ref(),c=ref(),d=()=>{let g=0,v=0;const A=["top","bottom"].includes(s.props.tabPosition)?"width":"height",M=A==="width"?"x":"y",Y=M==="x"?"left":"top";return r.tabs.every(de=>{var ae,ze;const qe=(ze=(ae=o.parent)==null?void 0:ae.refs)==null?void 0:ze[`tab-${de.uid}`];if(!qe)return!1;if(!de.active)return!0;g=qe[`offset${capitalize(Y)}`],v=qe[`client${capitalize(A)}`];const Ue=window.getComputedStyle(qe);return A==="width"&&(r.tabs.length>1&&(v-=Number.parseFloat(Ue.paddingLeft)+Number.parseFloat(Ue.paddingRight)),g+=Number.parseFloat(Ue.paddingLeft)),!1}),{[A]:`${v}px`,transform:`translate${capitalize(M)}(${g}px)`}},f=()=>c.value=d();return watch(()=>r.tabs,async()=>{await nextTick(),f()},{immediate:!0}),useResizeObserver(l,()=>f()),e({ref:l,update:f}),(g,v)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:l,class:normalizeClass([unref(a).e("active-bar"),unref(a).is(unref(s).props.tabPosition)]),style:normalizeStyle(c.value)},null,6))}});var TabBar=_export_sfc$1(_sfc_main$k,[["__file","tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(n,e,r)=>r instanceof Event,tabRemove:(n,e)=>e instanceof Event},COMPONENT_NAME$1="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$1,props:tabNavProps,emits:tabNavEmits,setup(n,{expose:e,emit:r}){const o=getCurrentInstance(),s=inject(tabsRootContextKey);s||throwError(COMPONENT_NAME$1,"<el-tabs><tab-nav /></el-tabs>");const a=useNamespace("tabs"),l=useDocumentVisibility(),c=useWindowFocus(),d=ref(),f=ref(),g=ref(),v=ref(),A=ref(!1),M=ref(0),Y=ref(!1),de=ref(!0),ae=computed(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),ze=computed(()=>({transform:`translate${ae.value==="width"?"X":"Y"}(-${M.value}px)`})),qe=()=>{if(!d.value)return;const Cn=d.value[`offset${capitalize(ae.value)}`],En=M.value;if(!En)return;const _n=En>Cn?En-Cn:0;M.value=_n},Ue=()=>{if(!d.value||!f.value)return;const Cn=f.value[`offset${capitalize(ae.value)}`],En=d.value[`offset${capitalize(ae.value)}`],_n=M.value;if(Cn-_n<=En)return;const Bn=Cn-_n>En*2?_n+En:Cn-En;M.value=Bn},hn=async()=>{const Cn=f.value;if(!A.value||!g.value||!d.value||!Cn)return;await nextTick();const En=g.value.querySelector(".is-active");if(!En)return;const _n=d.value,Bn=["top","bottom"].includes(s.props.tabPosition),jn=En.getBoundingClientRect(),Un=_n.getBoundingClientRect(),Rn=Bn?Cn.offsetWidth-Un.width:Cn.offsetHeight-Un.height,Wn=M.value;let $n=Wn;Bn?(jn.left<Un.left&&($n=Wn-(Un.left-jn.left)),jn.right>Un.right&&($n=Wn+jn.right-Un.right)):(jn.top<Un.top&&($n=Wn-(Un.top-jn.top)),jn.bottom>Un.bottom&&($n=Wn+(jn.bottom-Un.bottom))),$n=Math.max($n,0),M.value=Math.min($n,Rn)},On=()=>{var Cn;if(!f.value||!d.value)return;n.stretch&&((Cn=v.value)==null||Cn.update());const En=f.value[`offset${capitalize(ae.value)}`],_n=d.value[`offset${capitalize(ae.value)}`],Bn=M.value;_n<En?(A.value=A.value||{},A.value.prev=Bn,A.value.next=Bn+_n<En,En-Bn<_n&&(M.value=En-_n)):(A.value=!1,Bn>0&&(M.value=0))},vn=Cn=>{const En=Cn.code,{up:_n,down:Bn,left:jn,right:Un}=EVENT_CODE;if(![_n,Bn,jn,Un].includes(En))return;const Rn=Array.from(Cn.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Wn=Rn.indexOf(Cn.target);let $n;En===jn||En===_n?Wn===0?$n=Rn.length-1:$n=Wn-1:Wn<Rn.length-1?$n=Wn+1:$n=0,Rn[$n].focus({preventScroll:!0}),Rn[$n].click(),bn()},bn=()=>{de.value&&(Y.value=!0)},wn=()=>Y.value=!1;return watch(l,Cn=>{Cn==="hidden"?de.value=!1:Cn==="visible"&&setTimeout(()=>de.value=!0,50)}),watch(c,Cn=>{Cn?setTimeout(()=>de.value=!0,50):de.value=!1}),useResizeObserver(g,On),onMounted(()=>setTimeout(()=>hn(),0)),onUpdated(()=>On()),e({scrollToActiveTab:hn,removeFocus:wn}),watch(()=>n.panes,()=>o.update(),{flush:"post",deep:!0}),()=>{const Cn=A.value?[createVNode("span",{class:[a.e("nav-prev"),a.is("disabled",!A.value.prev)],onClick:qe},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[a.e("nav-next"),a.is("disabled",!A.value.next)],onClick:Ue},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,En=n.panes.map((_n,Bn)=>{var jn,Un,Rn,Wn;const $n=_n.uid,Xn=_n.props.disabled,xn=(Un=(jn=_n.props.name)!=null?jn:_n.index)!=null?Un:`${Bn}`,Mn=!Xn&&(_n.isClosable||n.editable);_n.index=`${Bn}`;const Qn=Mn?createVNode(ElIcon,{class:"is-icon-close",onClick:Dn=>r("tabRemove",_n,Dn)},{default:()=>[createVNode(close_default,null,null)]}):null,Nn=((Wn=(Rn=_n.slots).label)==null?void 0:Wn.call(Rn))||_n.props.label,Hn=!Xn&&_n.active?0:-1;return createVNode("div",{ref:`tab-${$n}`,class:[a.e("item"),a.is(s.props.tabPosition),a.is("active",_n.active),a.is("disabled",Xn),a.is("closable",Mn),a.is("focus",Y.value)],id:`tab-${xn}`,key:`tab-${$n}`,"aria-controls":`pane-${xn}`,role:"tab","aria-selected":_n.active,tabindex:Hn,onFocus:()=>bn(),onBlur:()=>wn(),onClick:Dn=>{wn(),r("tabClick",_n,xn,Dn)},onKeydown:Dn=>{Mn&&(Dn.code===EVENT_CODE.delete||Dn.code===EVENT_CODE.backspace)&&r("tabRemove",_n,Dn)}},[Nn,Qn])});return createVNode("div",{ref:g,class:[a.e("nav-wrap"),a.is("scrollable",!!A.value),a.is(s.props.tabPosition)]},[Cn,createVNode("div",{class:a.e("nav-scroll"),ref:d},[createVNode("div",{class:[a.e("nav"),a.is(s.props.tabPosition),a.is("stretch",n.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:f,style:ze.value,role:"tablist",onKeydown:vn},[n.type?null:createVNode(TabBar,{ref:v,tabs:[...n.panes]},null),En])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=n=>isString$2(n)||isNumber$1(n),tabsEmits={[UPDATE_MODEL_EVENT]:n=>isPaneName(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>isPaneName(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>isPaneName(n),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(n,{emit:e,slots:r,expose:o}){var s;const a=useNamespace("tabs"),{children:l,addChild:c,removeChild:d}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),f=ref(),g=ref((s=n.modelValue)!=null?s:"0"),v=async(de,ae=!1)=>{var ze,qe,Ue;if(!(g.value===de||isUndefined$1(de)))try{await((ze=n.beforeLeave)==null?void 0:ze.call(n,de,g.value))!==!1&&(g.value=de,ae&&(e(UPDATE_MODEL_EVENT,de),e("tabChange",de)),(Ue=(qe=f.value)==null?void 0:qe.removeFocus)==null||Ue.call(qe))}catch{}},A=(de,ae,ze)=>{de.props.disabled||(v(ae,!0),e("tabClick",de,ze))},M=(de,ae)=>{de.props.disabled||isUndefined$1(de.props.name)||(ae.stopPropagation(),e("edit",de.props.name,"remove"),e("tabRemove",de.props.name))},Y=()=>{e("edit",void 0,"add"),e("tabAdd")};return watch(()=>n.modelValue,de=>v(de)),watch(g,async()=>{var de;await nextTick(),(de=f.value)==null||de.scrollToActiveTab()}),provide(tabsRootContextKey,{props:n,currentName:g,registerPane:c,unregisterPane:d}),o({currentName:g}),()=>{const de=r["add-icon"],ae=n.editable||n.addable?createVNode("span",{class:a.e("new-tab"),tabindex:"0",onClick:Y,onKeydown:Ue=>{Ue.code===EVENT_CODE.enter&&Y()}},[de?renderSlot(r,"add-icon"):createVNode(ElIcon,{class:a.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,ze=createVNode("div",{class:[a.e("header"),a.is(n.tabPosition)]},[ae,createVNode(TabNav,{ref:f,currentName:g.value,editable:n.editable,type:n.type,panes:l.value,stretch:n.stretch,onTabClick:A,onTabRemove:M},null)]),qe=createVNode("div",{class:a.e("content")},[renderSlot(r,"default")]);return createVNode("div",{class:[a.b(),a.m(n.tabPosition),{[a.m("card")]:n.type==="card",[a.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[ze,qe]:[qe,ze]])}}}),tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_hoisted_1$U=["id","aria-hidden","aria-labelledby"],COMPONENT_NAME="ElTabPane",__default__$1=defineComponent({name:COMPONENT_NAME}),_sfc_main$j=defineComponent({...__default__$1,props:tabPaneProps,setup(n){const e=n,r=getCurrentInstance(),o=useSlots(),s=inject(tabsRootContextKey);s||throwError(COMPONENT_NAME,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=useNamespace("tab-pane"),l=ref(),c=computed(()=>e.closable||s.props.closable),d=computedEager(()=>{var M;return s.currentName.value===((M=e.name)!=null?M:l.value)}),f=ref(d.value),g=computed(()=>{var M;return(M=e.name)!=null?M:l.value}),v=computedEager(()=>!e.lazy||f.value||d.value);watch(d,M=>{M&&(f.value=!0)});const A=reactive({uid:r.uid,slots:o,props:e,paneName:g,active:d,index:l,isClosable:c});return onMounted(()=>{s.registerPane(A)}),onUnmounted(()=>{s.unregisterPane(A.uid)}),(M,Y)=>unref(v)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(g)}`,class:normalizeClass(unref(a).b()),role:"tabpanel","aria-hidden":!unref(d),"aria-labelledby":`tab-${unref(g)}`},[renderSlot(M.$slots,"default")],10,_hoisted_1$U)),[[vShow,unref(d)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc$1(_sfc_main$j,[["__file","tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane}),ElTabPane=withNoopInstall(TabPane),NODE_KEY="$treeNodeId",markNodeData=function(n,e){!e||e[NODE_KEY]||Object.defineProperty(e,NODE_KEY,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(n,e){return n?e[n]:e[NODE_KEY]},handleCurrentChange=(n,e,r)=>{const o=n.value.currentNode;r();const s=n.value.currentNode;o!==s&&e("current-change",s?s.data:null,s)},getChildState=n=>{let e=!0,r=!0,o=!0;for(let s=0,a=n.length;s<a;s++){const l=n[s];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(o=!1)),(l.checked!==!1||l.indeterminate)&&(r=!1)}return{all:e,none:r,allWithoutDisable:o,half:!e&&!r}},reInitChecked=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:r,half:o}=getChildState(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):o?(n.checked=!1,n.indeterminate=!0):r&&(n.checked=!1,n.indeterminate=!1);const s=n.parent;!s||s.level===0||n.store.checkStrictly||reInitChecked(s)},getPropertyFromData=function(n,e){const r=n.store.props,o=n.data||{},s=r[e];if(typeof s=="function")return s(o,n);if(typeof s=="string")return o[s];if(typeof s>"u"){const a=o[e];return a===void 0?"":a}};let nodeIdSeed=0,Node$1=class si{constructor(e){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in e)hasOwn(e,r)&&(this[r]=e[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const r=e.props;if(r&&typeof r.isLeaf<"u"){const a=getPropertyFromData(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||markNodeData(this,this.data),!this.data)return;const o=e.defaultExpandedKeys,s=e.key;s&&o&&o.includes(this.key)&&this.expand(null,e.autoExpandParent),s&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||markNodeData(this,e),this.data=e,this.childNodes=[];let r;this.level===0&&Array.isArray(this.data)?r=this.data:r=getPropertyFromData(this,"children")||[];for(let o=0,s=r.length;o<s;o++)this.insertChild({data:r[o]})}get label(){return getPropertyFromData(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return e.childNodes[r+1]}return null}get previousSibling(){const e=this.parent;if(e){const r=e.childNodes.indexOf(this);if(r>-1)return r>0?e.childNodes[r-1]:null}return null}contains(e,r=!0){return(this.childNodes||[]).some(o=>o===e||r&&o.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,r,o){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof si)){if(!o){const s=this.getChildren(!0);s.includes(e.data)||(typeof r>"u"||r<0?s.push(e.data):s.splice(r,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=reactive(new si(e)),e instanceof si&&e.initialize()}e.level=this.level+1,typeof r>"u"||r<0?this.childNodes.push(e):this.childNodes.splice(r,0,e),this.updateLeafState()}insertBefore(e,r){let o;r&&(o=this.childNodes.indexOf(r)),this.insertChild(e,o)}insertAfter(e,r){let o;r&&(o=this.childNodes.indexOf(r),o!==-1&&(o+=1)),this.insertChild(e,o)}removeChild(e){const r=this.getChildren()||[],o=r.indexOf(e.data);o>-1&&r.splice(o,1);const s=this.childNodes.indexOf(e);s>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(e){let r=null;for(let o=0;o<this.childNodes.length;o++)if(this.childNodes[o].data===e){r=this.childNodes[o];break}r&&this.removeChild(r)}expand(e,r){const o=()=>{if(r){let s=this.parent;for(;s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(s=>{s.canFocus=!0})};this.shouldLoadData()?this.loadData(s=>{Array.isArray(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),o())}):o()}doCreateChildren(e,r={}){e.forEach(o=>{this.insertChild(Object.assign({data:o},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,r,o,s){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:c}=getChildState(this.childNodes);!this.isLeaf&&!l&&c&&(this.checked=!1,e=!1);const d=()=>{if(r){const f=this.childNodes;for(let A=0,M=f.length;A<M;A++){const Y=f[A];s=s||e!==!1;const de=Y.disabled?Y.checked:s;Y.setChecked(de,r,!0,s)}const{half:g,all:v}=getChildState(f);v||(this.checked=v,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{d(),reInitChecked(this)},{checked:e!==!1});return}else d()}const a=this.parent;!a||a.level===0||o||reInitChecked(a)}getChildren(e=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const o=this.store.props;let s="children";return o&&(s=o.children||"children"),r[s]===void 0&&(r[s]=null),e&&!r[s]&&(r[s]=[]),r[s]}updateChildren(){const e=this.getChildren()||[],r=this.childNodes.map(a=>a.data),o={},s=[];e.forEach((a,l)=>{const c=a[NODE_KEY];!!c&&r.findIndex(f=>f[NODE_KEY]===c)>=0?o[c]={index:l,data:a}:s.push({index:l,data:a})}),this.store.lazy||r.forEach(a=>{o[a[NODE_KEY]]||this.removeChildByData(a)}),s.forEach(({index:a,data:l})=>{this.insertChild({data:l},a)}),this.updateLeafState()}loadData(e,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const o=a=>{this.childNodes=[],this.doCreateChildren(a,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},s=()=>{this.loading=!1};this.store.load(this,o,s)}else e&&e.call(this)}eachNode(e){const r=[this];for(;r.length;){const o=r.shift();r.unshift(...o.childNodes),e(o)}}reInitChecked(){this.store.checkStrictly||reInitChecked(this)}};class TreeStore{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const r in e)hasOwn(e,r)&&(this[r]=e[r]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const r=this.filterNodeMethod,o=this.lazy,s=function(a){const l=a.root?a.root.childNodes:a.childNodes;if(l.forEach(c=>{c.visible=r.call(c,e,c.data,c),s(c)}),!a.visible&&l.length){let c=!0;c=!l.some(d=>d.visible),a.root?a.root.visible=c===!1:a.visible=c===!1}e&&a.visible&&!a.isLeaf&&(!o||a.loaded)&&a.expand()};s(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Node$1)return e;const r=isObject$2(e)?getNodeKey(this.key,e):e;return this.nodesMap[r]||null}insertBefore(e,r){const o=this.getNode(r);o.parent.insertBefore({data:e},o)}insertAfter(e,r){const o=this.getNode(r);o.parent.insertAfter({data:e},o)}remove(e){const r=this.getNode(e);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(e,r){const o=isPropAbsent(r)?this.root:this.getNode(r);o&&o.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],r=this.nodesMap;e.forEach(o=>{const s=r[o];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const r=this.key;!e||!e.data||(r?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(o=>{this.deregisterNode(o)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,r=!1){const o=[],s=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(c=>{(c.checked||r&&c.indeterminate)&&(!e||e&&c.isLeaf)&&o.push(c.data),s(c)})};return s(this),o}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const e=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),r(a)})};return r(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],r=this.nodesMap;for(const o in r)hasOwn(r,o)&&e.push(r[o]);return e}updateChildren(e,r){const o=this.nodesMap[e];if(!o)return;const s=o.childNodes;for(let a=s.length-1;a>=0;a--){const l=s[a];this.remove(l.data)}for(let a=0,l=r.length;a<l;a++){const c=r[a];this.append(c,o.data)}}_setCheckedKeys(e,r=!1,o){const s=this._getAllNodes().sort((d,f)=>d.level-f.level),a=Object.create(null),l=Object.keys(o);s.forEach(d=>d.setChecked(!1,!1));const c=d=>{d.childNodes.forEach(f=>{var g;a[f.data[e]]=!0,(g=f.childNodes)!=null&&g.length&&c(f)})};for(let d=0,f=s.length;d<f;d++){const g=s[d],v=g.data[e].toString();if(!l.includes(v)){g.checked&&!a[v]&&g.setChecked(!1,!1);continue}if(g.childNodes.length&&c(g),g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),r){g.setChecked(!1,!1);const M=function(Y){Y.childNodes.forEach(ae=>{ae.isLeaf||ae.setChecked(!1,!1),M(ae)})};M(g)}}}setCheckedNodes(e,r=!1){const o=this.key,s={};e.forEach(a=>{s[(a||{})[o]]=!0}),this._setCheckedKeys(o,r,s)}setCheckedKeys(e,r=!1){this.defaultCheckedKeys=e;const o=this.key,s={};e.forEach(a=>{s[a]=!0}),this._setCheckedKeys(o,r,s)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(r=>{const o=this.getNode(r);o&&o.expand(null,this.autoExpandParent)})}setChecked(e,r,o){const s=this.getNode(e);s&&s.setChecked(!!r,o)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,r=!0){const o=e[this.key],s=this.nodesMap[o];this.setCurrentNode(s),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,r=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(e);o&&(this.setCurrentNode(o),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$i=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=useNamespace("tree"),r=inject("NodeInstance"),o=inject("RootTree");return()=>{const s=n.node,{data:a,store:l}=s;return n.renderContent?n.renderContent(h$1,{_self:r,node:s,data:a,store:l}):renderSlot(o.ctx.slots,"default",{node:s,data:a},()=>[h$1("span",{class:e.be("node","label")},[s.label])])}}});var NodeContent=_export_sfc$1(_sfc_main$i,[["__file","tree-node-content.vue"]]);function useNodeExpandEventBroadcast(n){const e=inject("TreeNodeMap",null),r={treeNodeExpand:o=>{n.node!==o&&n.node.collapse()},children:[]};return e&&e.children.push(r),provide("TreeNodeMap",r),{broadcastExpanded:o=>{if(n.accordion)for(const s of r.children)s.treeNodeExpand(o)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:n,ctx:e,el$:r,dropIndicator$:o,store:s}){const a=useNamespace("tree"),l=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:g,treeNode:v})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(v.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=v,e.emit("node-drag-start",v.node,g)},treeNodeDragOver:({event:g,treeNode:v})=>{const A=v,M=l.value.dropNode;M&&M.node.id!==A.node.id&&removeClass(M.$el,a.is("drop-inner"));const Y=l.value.draggingNode;if(!Y||!A)return;let de=!0,ae=!0,ze=!0,qe=!0;typeof n.allowDrop=="function"&&(de=n.allowDrop(Y.node,A.node,"prev"),qe=ae=n.allowDrop(Y.node,A.node,"inner"),ze=n.allowDrop(Y.node,A.node,"next")),g.dataTransfer.dropEffect=ae||de||ze?"move":"none",(de||ae||ze)&&(M==null?void 0:M.node.id)!==A.node.id&&(M&&e.emit("node-drag-leave",Y.node,M.node,g),e.emit("node-drag-enter",Y.node,A.node,g)),de||ae||ze?l.value.dropNode=A:l.value.dropNode=null,A.node.nextSibling===Y.node&&(ze=!1),A.node.previousSibling===Y.node&&(de=!1),A.node.contains(Y.node,!1)&&(ae=!1),(Y.node===A.node||Y.node.contains(A.node))&&(de=!1,ae=!1,ze=!1);const Ue=A.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),hn=r.value.getBoundingClientRect();let On;const vn=de?ae?.25:ze?.45:1:-1,bn=ze?ae?.75:de?.55:0:1;let wn=-9999;const Cn=g.clientY-Ue.top;Cn<Ue.height*vn?On="before":Cn>Ue.height*bn?On="after":ae?On="inner":On="none";const En=A.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),_n=o.value;On==="before"?wn=En.top-hn.top:On==="after"&&(wn=En.bottom-hn.top),_n.style.top=`${wn}px`,_n.style.left=`${En.right-hn.left}px`,On==="inner"?addClass(A.$el,a.is("drop-inner")):removeClass(A.$el,a.is("drop-inner")),l.value.showDropIndicator=On==="before"||On==="after",l.value.allowDrop=l.value.showDropIndicator||qe,l.value.dropType=On,e.emit("node-drag-over",Y.node,A.node,g)},treeNodeDragEnd:g=>{const{draggingNode:v,dropType:A,dropNode:M}=l.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",v&&M){const Y={data:v.node.data};A!=="none"&&v.node.remove(),A==="before"?M.node.parent.insertBefore(Y,M.node):A==="after"?M.node.parent.insertAfter(Y,M.node):A==="inner"&&M.node.insertChild(Y),A!=="none"&&(s.value.registerNode(Y),s.value.key&&v.node.eachNode(de=>{var ae;(ae=s.value.nodesMap[de.data[s.value.key]])==null||ae.setChecked(de.checked,!s.value.checkStrictly)})),removeClass(M.$el,a.is("drop-inner")),e.emit("node-drag-end",v.node,M.node,A,g),A!=="none"&&e.emit("node-drop",v.node,M.node,A,g)}v&&!M&&e.emit("node-drag-end",v.node,null,A,g),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const _sfc_main$h=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:_CollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const r=useNamespace("tree"),{broadcastExpanded:o}=useNodeExpandEventBroadcast(n),s=inject("RootTree"),a=ref(!1),l=ref(!1),c=ref(null),d=ref(null),f=ref(null),g=inject(dragEventsKey),v=getCurrentInstance();provide("NodeInstance",v),n.node.expanded&&(a.value=!0,l.value=!0);const A=s.props.props.children||"children";watch(()=>{const Cn=n.node.data[A];return Cn&&[...Cn]},()=>{n.node.updateChildren()}),watch(()=>n.node.indeterminate,Cn=>{de(n.node.checked,Cn)}),watch(()=>n.node.checked,Cn=>{de(Cn,n.node.indeterminate)}),watch(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),watch(()=>n.node.expanded,Cn=>{nextTick(()=>a.value=Cn),Cn&&(l.value=!0)});const M=Cn=>getNodeKey(s.props.nodeKey,Cn.data),Y=Cn=>{const En=n.props.class;if(!En)return{};let _n;if(isFunction$2(En)){const{data:Bn}=Cn;_n=En(Bn,Cn)}else _n=En;return isString$2(_n)?{[_n]:!0}:_n},de=(Cn,En)=>{(c.value!==Cn||d.value!==En)&&s.ctx.emit("check-change",n.node.data,Cn,En),c.value=Cn,d.value=En},ae=Cn=>{handleCurrentChange(s.store,s.ctx.emit,()=>s.store.value.setCurrentNode(n.node)),s.currentNode.value=n.node,s.props.expandOnClickNode&&qe(),s.props.checkOnClickNode&&!n.node.disabled&&Ue(null,{target:{checked:!n.node.checked}}),s.ctx.emit("node-click",n.node.data,n.node,v,Cn)},ze=Cn=>{s.instance.vnode.props.onNodeContextmenu&&(Cn.stopPropagation(),Cn.preventDefault()),s.ctx.emit("node-contextmenu",Cn,n.node.data,n.node,v)},qe=()=>{n.node.isLeaf||(a.value?(s.ctx.emit("node-collapse",n.node.data,n.node,v),n.node.collapse()):(n.node.expand(),e.emit("node-expand",n.node.data,n.node,v)))},Ue=(Cn,En)=>{n.node.setChecked(En.target.checked,!s.props.checkStrictly),nextTick(()=>{const _n=s.store.value;s.ctx.emit("check",n.node.data,{checkedNodes:_n.getCheckedNodes(),checkedKeys:_n.getCheckedKeys(),halfCheckedNodes:_n.getHalfCheckedNodes(),halfCheckedKeys:_n.getHalfCheckedKeys()})})};return{ns:r,node$:f,tree:s,expanded:a,childNodeRendered:l,oldChecked:c,oldIndeterminate:d,getNodeKey:M,getNodeClass:Y,handleSelectChange:de,handleClick:ae,handleContextMenu:ze,handleExpandIconClick:qe,handleCheckChange:Ue,handleChildNodeExpand:(Cn,En,_n)=>{o(En),s.ctx.emit("node-expand",Cn,En,_n)},handleDragStart:Cn=>{s.props.draggable&&g.treeNodeDragStart({event:Cn,treeNode:n})},handleDragOver:Cn=>{Cn.preventDefault(),s.props.draggable&&g.treeNodeDragOver({event:Cn,treeNode:{$el:f.value,node:n.node}})},handleDrop:Cn=>{Cn.preventDefault()},handleDragEnd:Cn=>{s.props.draggable&&g.treeNodeDragEnd(Cn)},CaretRight:caret_right_default}}}),_hoisted_1$T=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$Q=["aria-expanded"];function _sfc_render$9(n,e,r,o,s,a){const l=resolveComponent("el-icon"),c=resolveComponent("el-checkbox"),d=resolveComponent("loading"),f=resolveComponent("node-content"),g=resolveComponent("el-tree-node"),v=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[1]||(e[1]=withModifiers((...A)=>n.handleClick&&n.handleClick(...A),["stop"])),onContextmenu:e[2]||(e[2]=(...A)=>n.handleContextMenu&&n.handleContextMenu(...A)),onDragstart:e[3]||(e[3]=withModifiers((...A)=>n.handleDragStart&&n.handleDragStart(...A),["stop"])),onDragover:e[4]||(e[4]=withModifiers((...A)=>n.handleDragOver&&n.handleDragOver(...A),["stop"])),onDragend:e[5]||(e[5]=withModifiers((...A)=>n.handleDragEnd&&n.handleDragEnd(...A),["stop"])),onDrop:e[6]||(e[6]=withModifiers((...A)=>n.handleDrop&&n.handleDrop(...A),["stop"]))},[createBaseVNode("div",{class:normalizeClass(n.ns.be("node","content")),style:normalizeStyle({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(openBlock(),createBlock(l,{key:0,class:normalizeClass([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:withModifiers(n.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),n.showCheckbox?(openBlock(),createBlock(c,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),n.node.loading?(openBlock(),createBlock(l,{key:2,class:normalizeClass([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:withCtx(()=>[createVNode(d)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(f,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),createVNode(v,null,{default:withCtx(()=>[!n.renderAfterExpand||n.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.node.childNodes,A=>(openBlock(),createBlock(g,{key:n.getNodeKey(A),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:A,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_hoisted_2$Q)),[[vShow,n.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,_hoisted_1$T)),[[vShow,n.node.visible]])}var ElTreeNode=_export_sfc$1(_sfc_main$h,[["render",_sfc_render$9],["__file","tree-node.vue"]]);function useKeydown({el$:n},e){const r=useNamespace("tree"),o=shallowRef([]),s=shallowRef([]);onMounted(()=>{l()}),onUpdated(()=>{o.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),s.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),watch(s,c=>{c.forEach(d=>{d.setAttribute("tabindex","-1")})}),useEventListener(n,"keydown",c=>{const d=c.target;if(!d.className.includes(r.b("node")))return;const f=c.code;o.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));const g=o.value.indexOf(d);let v;if([EVENT_CODE.up,EVENT_CODE.down].includes(f)){if(c.preventDefault(),f===EVENT_CODE.up){v=g===-1?0:g!==0?g-1:o.value.length-1;const M=v;for(;!e.value.getNode(o.value[v].dataset.key).canFocus;){if(v--,v===M){v=-1;break}v<0&&(v=o.value.length-1)}}else{v=g===-1?0:g<o.value.length-1?g+1:0;const M=v;for(;!e.value.getNode(o.value[v].dataset.key).canFocus;){if(v++,v===M){v=-1;break}v>=o.value.length&&(v=0)}}v!==-1&&o.value[v].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(f)&&(c.preventDefault(),d.click());const A=d.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.space].includes(f)&&A&&(c.preventDefault(),A.click())});const l=()=>{var c;o.value=Array.from(n.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),s.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const d=n.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(d.length){d[0].setAttribute("tabindex","0");return}(c=o.value[0])==null||c.setAttribute("tabindex","0")}}const _sfc_main$g=defineComponent({name:"ElTree",components:{ElTreeNode},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t:r}=useLocale(),o=useNamespace("tree"),s=ref(new TreeStore({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));s.value.initialize();const a=ref(s.value.root),l=ref(null),c=ref(null),d=ref(null),{broadcastExpanded:f}=useNodeExpandEventBroadcast(n),{dragState:g}=useDragNodeHandler({props:n,ctx:e,el$:c,dropIndicator$:d,store:s});useKeydown({el$:c},s);const v=computed(()=>{const{childNodes:$n}=a.value;return!$n||$n.length===0||$n.every(({visible:Xn})=>!Xn)});watch(()=>n.currentNodeKey,$n=>{s.value.setCurrentNodeKey($n)}),watch(()=>n.defaultCheckedKeys,$n=>{s.value.setDefaultCheckedKey($n)}),watch(()=>n.defaultExpandedKeys,$n=>{s.value.setDefaultExpandedKeys($n)}),watch(()=>n.data,$n=>{s.value.setData($n)},{deep:!0}),watch(()=>n.checkStrictly,$n=>{s.value.checkStrictly=$n});const A=$n=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter($n)},M=$n=>getNodeKey(n.nodeKey,$n.data),Y=$n=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const Xn=s.value.getNode($n);if(!Xn)return[];const xn=[Xn.data];let Mn=Xn.parent;for(;Mn&&Mn!==a.value;)xn.push(Mn.data),Mn=Mn.parent;return xn.reverse()},de=($n,Xn)=>s.value.getCheckedNodes($n,Xn),ae=$n=>s.value.getCheckedKeys($n),ze=()=>{const $n=s.value.getCurrentNode();return $n?$n.data:null},qe=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const $n=ze();return $n?$n[n.nodeKey]:null},Ue=($n,Xn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes($n,Xn)},hn=($n,Xn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys($n,Xn)},On=($n,Xn,xn)=>{s.value.setChecked($n,Xn,xn)},vn=()=>s.value.getHalfCheckedNodes(),bn=()=>s.value.getHalfCheckedKeys(),wn=($n,Xn=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(s,e.emit,()=>s.value.setUserCurrentNode($n,Xn))},Cn=($n,Xn=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(s,e.emit,()=>s.value.setCurrentNodeKey($n,Xn))},En=$n=>s.value.getNode($n),_n=$n=>{s.value.remove($n)},Bn=($n,Xn)=>{s.value.append($n,Xn)},jn=($n,Xn)=>{s.value.insertBefore($n,Xn)},Un=($n,Xn)=>{s.value.insertAfter($n,Xn)},Rn=($n,Xn,xn)=>{f(Xn),e.emit("node-expand",$n,Xn,xn)},Wn=($n,Xn)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren($n,Xn)};return provide("RootTree",{ctx:e,props:n,store:s,root:a,currentNode:l,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:o,store:s,root:a,currentNode:l,dragState:g,el$:c,dropIndicator$:d,isEmpty:v,filter:A,getNodeKey:M,getNodePath:Y,getCheckedNodes:de,getCheckedKeys:ae,getCurrentNode:ze,getCurrentKey:qe,setCheckedNodes:Ue,setCheckedKeys:hn,setChecked:On,getHalfCheckedNodes:vn,getHalfCheckedKeys:bn,setCurrentNode:wn,setCurrentKey:Cn,t:r,getNode:En,remove:_n,append:Bn,insertBefore:jn,insertAfter:Un,handleNodeExpand:Rn,updateKeyChildren:Wn}}});function _sfc_render$8(n,e,r,o,s,a){const l=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.root.childNodes,c=>(openBlock(),createBlock(l,{key:n.getNodeKey(c),node:c,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.ns.e("empty-block"))},[renderSlot(n.$slots,"empty",{},()=>{var c;return[createBaseVNode("span",{class:normalizeClass(n.ns.e("empty-text"))},toDisplayString((c=n.emptyText)!=null?c:n.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(n.ns.e("drop-indicator"))},null,2),[[vShow,n.dragState.showDropIndicator]])],2)}var Tree$1=_export_sfc$1(_sfc_main$g,[["render",_sfc_render$8],["__file","tree.vue"]]);Tree$1.install=n=>{n.component(Tree$1.name,Tree$1)};const _Tree=Tree$1,ElTree=_Tree,messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=n=>{const e=instances.findIndex(s=>s.id===n),r=instances[e];let o;return e>0&&(o=instances[e-1]),{current:r,prev:o}},getLastOffset=n=>{const{prev:e}=getInstance(n);return e?e.vm.exposed.bottom.value:0},getOffsetOrSpace=(n,e)=>instances.findIndex(o=>o.id===n)>0?16:e,_hoisted_1$S=["id"],_hoisted_2$P=["innerHTML"],__default__=defineComponent({name:"ElMessage"}),_sfc_main$f=defineComponent({...__default__,props:messageProps,emits:messageEmits,setup(n,{expose:e}){const r=n,{Close:o}=TypeComponents,{ns:s,zIndex:a}=useGlobalComponentSettings("message"),{currentZIndex:l,nextZIndex:c}=a,d=ref(),f=ref(!1),g=ref(0);let v;const A=computed(()=>r.type?r.type==="error"?"danger":r.type:"info"),M=computed(()=>{const bn=r.type;return{[s.bm("icon",bn)]:bn&&TypeComponentsMap[bn]}}),Y=computed(()=>r.icon||TypeComponentsMap[r.type]||""),de=computed(()=>getLastOffset(r.id)),ae=computed(()=>getOffsetOrSpace(r.id,r.offset)+de.value),ze=computed(()=>g.value+ae.value),qe=computed(()=>({top:`${ae.value}px`,zIndex:l.value}));function Ue(){r.duration!==0&&({stop:v}=useTimeoutFn(()=>{On()},r.duration))}function hn(){v==null||v()}function On(){f.value=!1}function vn({code:bn}){bn===EVENT_CODE.esc&&On()}return onMounted(()=>{Ue(),c(),f.value=!0}),watch(()=>r.repeatNum,()=>{hn(),Ue()}),useEventListener(document,"keydown",vn),useResizeObserver(d,()=>{g.value=d.value.getBoundingClientRect().height}),e({visible:f,bottom:ze,close:On}),(bn,wn)=>(openBlock(),createBlock(Transition,{name:unref(s).b("fade"),onBeforeLeave:bn.onClose,onAfterLeave:wn[0]||(wn[0]=Cn=>bn.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:bn.id,ref_key:"messageRef",ref:d,class:normalizeClass([unref(s).b(),{[unref(s).m(bn.type)]:bn.type},unref(s).is("center",bn.center),unref(s).is("closable",bn.showClose),unref(s).is("plain",bn.plain),bn.customClass]),style:normalizeStyle(unref(qe)),role:"alert",onMouseenter:hn,onMouseleave:Ue},[bn.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:bn.repeatNum,type:unref(A),class:normalizeClass(unref(s).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(Y)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(s).e("icon"),unref(M)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Y))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(bn.$slots,"default",{},()=>[bn.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(s).e("content")),innerHTML:bn.message},null,10,_hoisted_2$P)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(s).e("content"))},toDisplayString(bn.message),3))]),bn.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(s).e("closeBtn")),onClick:withModifiers(On,["stop"])},{default:withCtx(()=>[createVNode(unref(o))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$S),[[vShow,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$f,[["__file","message.vue"]]);let seed=1;const normalizeOptions=n=>{const e=!n||isString$2(n)||isVNode(n)||isFunction$2(n)?{message:n}:n,r={...messageDefaults,...e};if(!r.appendTo)r.appendTo=document.body;else if(isString$2(r.appendTo)){let o=document.querySelector(r.appendTo);isElement(o)||(o=document.body),r.appendTo=o}return r},closeMessage=n=>{const e=instances.indexOf(n);if(e===-1)return;instances.splice(e,1);const{handler:r}=n;r.close()},createMessage=({appendTo:n,...e},r)=>{const o=`message_${seed++}`,s=e.onClose,a=document.createElement("div"),l={...e,id:o,onClose:()=>{s==null||s(),closeMessage(g)},onDestroy:()=>{render$1(null,a)}},c=createVNode(MessageConstructor,l,isFunction$2(l.message)||isVNode(l.message)?{default:isFunction$2(l.message)?l.message:()=>l.message}:null);c.appContext=r||message._context,render$1(c,a),n.appendChild(a.firstElementChild);const d=c.component,g={id:o,vnode:c,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:c.component.props};return g},message=(n={},e)=>{if(!isClient)return{close:()=>{}};if(isNumber$1(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const r=normalizeOptions(n);if(r.grouping&&instances.length){const s=instances.find(({vnode:a})=>{var l;return((l=a.props)==null?void 0:l.message)===r.message});if(s)return s.props.repeatNum+=1,s.props.type=r.type,s.handler}const o=createMessage(r,e);return instances.push(o),o.handler};messageTypes.forEach(n=>{message[n]=(e={},r)=>{const o=normalizeOptions(e);return message({...o,type:n},r)}});function closeAll(n){for(const e of instances)(!n||n===e.props.type)&&e.handler.close()}message.closeAll=closeAll;message._context=null;const ElMessage=withInstallFunction(message,"$message"),_sfc_main$e=defineComponent({__name:"Contextmenu",emits:["deletePath","renamePath"],setup(n,{expose:e,emit:r}){const o=ref(),s=ref(),a=ref(!1);e({clickButtonManual:async g=>{a.value?(s.value.click(),setTimeout(()=>{o.value&&(o.value.style.left=`${g.clientX}px`,o.value.style.top=`${g.clientY-24}px`,s.value.click())},100)):(o.value&&(o.value.style.left=`${g.clientX}px`,o.value.style.top=`${g.clientY-24}px`),s.value.click())}});const c=r,d=()=>{c("renamePath")},f=()=>{c("deletePath")};return(g,v)=>{const A=ElDropdownItem,M=ElDropdownMenu,Y=ElDropdown;return openBlock(),createElementBlock("div",{ref_key:"contextmenuRef",ref:o,class:"contextmenu"},[createVNode(Y,{onVisibleChange:v[0]||(v[0]=de=>a.value=de),"popper-class":"contextmenu-popover",trigger:"click"},{dropdown:withCtx(()=>[createVNode(M,null,{default:withCtx(()=>[createVNode(A,{onClick:d},{default:withCtx(()=>[createTextVNode("重命名")]),_:1}),createVNode(A,{onClick:f},{default:withCtx(()=>[createTextVNode("删除")]),_:1})]),_:1})]),default:withCtx(()=>[createBaseVNode("span",{ref_key:"triggerButtonRef",ref:s}," Contextmenu ",512)]),_:1})],512)}}}),_export_sfc=(n,e)=>{const r=n.__vccOpts||n;for(const[o,s]of e)r[o]=s;return r},Contextmenu=_export_sfc(_sfc_main$e,[["__scopeId","data-v-1ecd453c"]]);function bind(n,e){return function(){return n.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(n=>e=>{const r=toString.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=n=>(n=n.toLowerCase(),e=>kindOf(e)===n),typeOfTest=n=>e=>typeof e===n,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(n){return n!==null&&!isUndefined(n)&&n.constructor!==null&&!isUndefined(n.constructor)&&isFunction(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&isArrayBuffer(n.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=n=>n!==null&&typeof n=="object",isBoolean=n=>n===!0||n===!1,isPlainObject=n=>{if(kindOf(n)!=="object")return!1;const e=getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=n=>isObject(n)&&isFunction(n.pipe),isFormData=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||isFunction(n.append)&&((e=kindOf(n))==="formdata"||e==="object"&&isFunction(n.toString)&&n.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let o,s;if(typeof n!="object"&&(n=[n]),isArray(n))for(o=0,s=n.length;o<s;o++)e.call(null,n[o],o,n);else{const a=r?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let c;for(o=0;o<l;o++)c=a[o],e.call(null,n[c],c,n)}}function findKey(n,e){e=e.toLowerCase();const r=Object.keys(n);let o=r.length,s;for(;o-- >0;)if(s=r[o],e===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=n=>!isUndefined(n)&&n!==_global;function merge(){const{caseless:n}=isContextDefined(this)&&this||{},e={},r=(o,s)=>{const a=n&&findKey(e,s)||s;isPlainObject(e[a])&&isPlainObject(o)?e[a]=merge(e[a],o):isPlainObject(o)?e[a]=merge({},o):isArray(o)?e[a]=o.slice():e[a]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&forEach(arguments[o],r);return e}const extend$1=(n,e,r,{allOwnKeys:o}={})=>(forEach(e,(s,a)=>{r&&isFunction(s)?n[a]=bind(s,r):n[a]=s},{allOwnKeys:o}),n),stripBOM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),inherits=(n,e,r,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},toFlatObject=(n,e,r,o)=>{let s,a,l;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)l=s[a],(!o||o(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=r!==!1&&getPrototypeOf(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},endsWith=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const o=n.indexOf(e,r);return o!==-1&&o===r},toArray=n=>{if(!n)return null;if(isArray(n))return n;let e=n.length;if(!isNumber(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},isTypedArray=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(n,e)=>{const o=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=o.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},matchAll=(n,e)=>{let r;const o=[];for(;(r=n.exec(e))!==null;)o.push(r);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,s){return o.toUpperCase()+s}),hasOwnProperty=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),o={};forEach(r,(s,a)=>{let l;(l=e(s,a,n))!==!1&&(o[a]=l||s)}),Object.defineProperties(n,o)},freezeMethods=n=>{reduceDescriptors(n,(e,r)=>{if(isFunction(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=n[r];if(isFunction(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(n,e)=>{const r={},o=s=>{s.forEach(a=>{r[a]=!0})};return isArray(n)?o(n):o(String(n).split(e)),r},noop=()=>{},toFiniteNumber=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(n=16,e=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:o}=e;for(;n--;)r+=e[Math.random()*o|0];return r};function isSpecCompliantForm(n){return!!(n&&isFunction(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const toJSONObject=n=>{const e=new Array(10),r=(o,s)=>{if(isObject(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const a=isArray(o)?[]:{};return forEach(o,(l,c)=>{const d=r(l,s+1);!isUndefined(d)&&(a[c]=d)}),e[s]=void 0,a}}return o};return r(n,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=n=>n&&(isObject(n)||isFunction(n))&&isFunction(n.then)&&isFunction(n.catch),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(n,e,r,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),s&&(this.response=s)}utils$2.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{descriptors[n]={value:n}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(n,e,r,o,s,a)=>{const l=Object.create(prototype$1);return utils$2.toFlatObject(n,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),AxiosError.call(l,n.message,e,r,o,s),l.cause=n,l.name=n.name,a&&Object.assign(l,a),l};const httpAdapter=null;function isVisitable(n){return utils$2.isPlainObject(n)||utils$2.isArray(n)}function removeBrackets(n){return utils$2.endsWith(n,"[]")?n.slice(0,-2):n}function renderKey(n,e,r){return n?n.concat(e).map(function(s,a){return s=removeBrackets(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function isFlatArray(n){return utils$2.isArray(n)&&!n.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(n,e,r){if(!utils$2.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=utils$2.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(de,ae){return!utils$2.isUndefined(ae[de])});const o=r.metaTokens,s=r.visitor||g,a=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(e);if(!utils$2.isFunction(s))throw new TypeError("visitor must be a function");function f(Y){if(Y===null)return"";if(utils$2.isDate(Y))return Y.toISOString();if(!d&&utils$2.isBlob(Y))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(Y)||utils$2.isTypedArray(Y)?d&&typeof Blob=="function"?new Blob([Y]):Buffer.from(Y):Y}function g(Y,de,ae){let ze=Y;if(Y&&!ae&&typeof Y=="object"){if(utils$2.endsWith(de,"{}"))de=o?de:de.slice(0,-2),Y=JSON.stringify(Y);else if(utils$2.isArray(Y)&&isFlatArray(Y)||(utils$2.isFileList(Y)||utils$2.endsWith(de,"[]"))&&(ze=utils$2.toArray(Y)))return de=removeBrackets(de),ze.forEach(function(Ue,hn){!(utils$2.isUndefined(Ue)||Ue===null)&&e.append(l===!0?renderKey([de],hn,a):l===null?de:de+"[]",f(Ue))}),!1}return isVisitable(Y)?!0:(e.append(renderKey(ae,de,a),f(Y)),!1)}const v=[],A=Object.assign(predicates,{defaultVisitor:g,convertValue:f,isVisitable});function M(Y,de){if(!utils$2.isUndefined(Y)){if(v.indexOf(Y)!==-1)throw Error("Circular reference detected in "+de.join("."));v.push(Y),utils$2.forEach(Y,function(ze,qe){(!(utils$2.isUndefined(ze)||ze===null)&&s.call(e,ze,utils$2.isString(qe)?qe.trim():qe,de,A))===!0&&M(ze,de?de.concat(qe):[qe])}),v.pop()}}if(!utils$2.isObject(n))throw new TypeError("data must be an object");return M(n),e}function encode$1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function AxiosURLSearchParams(n,e){this._pairs=[],n&&toFormData(n,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,r){this._pairs.push([e,r])};prototype.toString=function(e){const r=e?function(o){return e.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function encode(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(n,e,r){if(!e)return n;const o=r&&r.encode||encode,s=r&&r.serialize;let a;if(s?a=s(e,r):a=utils$2.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,r).toString(o),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$2.forEach(this.handlers,function(o){o!==null&&e(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(n=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(n,e){return toFormData(n,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,o,s,a){return platform.isNode&&utils$2.isBuffer(r)?(this.append(o,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(n){return utils$2.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(n){const e={},r=Object.keys(n);let o;const s=r.length;let a;for(o=0;o<s;o++)a=r[o],e[a]=n[a];return e}function formDataToJSON(n){function e(r,o,s,a){let l=r[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=r.length;return l=!l&&utils$2.isArray(s)?s.length:l,d?(utils$2.hasOwnProp(s,l)?s[l]=[s[l],o]:s[l]=o,!c):((!s[l]||!utils$2.isObject(s[l]))&&(s[l]=[]),e(r,o,s[l],a)&&utils$2.isArray(s[l])&&(s[l]=arrayToObject(s[l])),!c)}if(utils$2.isFormData(n)&&utils$2.isFunction(n.entries)){const r={};return utils$2.forEachEntry(n,(o,s)=>{e(parsePropPath(o),s,r,0)}),r}return null}function stringifySafely(n,e,r){if(utils$2.isString(n))try{return(e||JSON.parse)(n),utils$2.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(n)}const defaults$3={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const o=r.getContentType()||"",s=o.indexOf("application/json")>-1,a=utils$2.isObject(e);if(a&&utils$2.isHTMLForm(e)&&(e=new FormData(e)),utils$2.isFormData(e))return s?JSON.stringify(formDataToJSON(e)):e;if(utils$2.isArrayBuffer(e)||utils$2.isBuffer(e)||utils$2.isStream(e)||utils$2.isFile(e)||utils$2.isBlob(e)||utils$2.isReadableStream(e))return e;if(utils$2.isArrayBufferView(e))return e.buffer;if(utils$2.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils$2.isFileList(e))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const r=this.transitional||defaults$3.transitional,o=r&&r.forcedJSONParsing,s=this.responseType==="json";if(utils$2.isResponse(e)||utils$2.isReadableStream(e))return e;if(e&&utils$2.isString(e)&&(o&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],n=>{defaults$3.headers[n]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=n=>{const e={};let r,o,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),o=l.substring(s+1).trim(),!(!r||e[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},$internals=Symbol("internals");function normalizeHeader(n){return n&&String(n).trim().toLowerCase()}function normalizeValue(n){return n===!1||n==null?n:utils$2.isArray(n)?n.map(normalizeValue):String(n)}function parseTokens(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(n);)e[o[1]]=o[2];return e}const isValidHeaderName=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function matchHeaderValue(n,e,r,o,s){if(utils$2.isFunction(o))return o.call(this,e,r);if(s&&(e=r),!!utils$2.isString(e)){if(utils$2.isString(o))return e.indexOf(o)!==-1;if(utils$2.isRegExp(o))return o.test(e)}}function formatHeader(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function buildAccessors(n,e){const r=utils$2.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+r,{value:function(s,a,l){return this[o].call(this,e,s,a,l)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,r,o){const s=this;function a(c,d,f){const g=normalizeHeader(d);if(!g)throw new Error("header name must be a non-empty string");const v=utils$2.findKey(s,g);(!v||s[v]===void 0||f===!0||f===void 0&&s[v]!==!1)&&(s[v||d]=normalizeValue(c))}const l=(c,d)=>utils$2.forEach(c,(f,g)=>a(f,g,d));if(utils$2.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(utils$2.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))l(parseHeaders(e),r);else if(utils$2.isHeaders(e))for(const[c,d]of e.entries())a(d,c,o);else e!=null&&a(r,e,o);return this}get(e,r){if(e=normalizeHeader(e),e){const o=utils$2.findKey(this,e);if(o){const s=this[o];if(!r)return s;if(r===!0)return parseTokens(s);if(utils$2.isFunction(r))return r.call(this,s,o);if(utils$2.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=normalizeHeader(e),e){const o=utils$2.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||matchHeaderValue(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let s=!1;function a(l){if(l=normalizeHeader(l),l){const c=utils$2.findKey(o,l);c&&(!r||matchHeaderValue(o,o[c],c,r))&&(delete o[c],s=!0)}}return utils$2.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let o=r.length,s=!1;for(;o--;){const a=r[o];(!e||matchHeaderValue(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,o={};return utils$2.forEach(this,(s,a)=>{const l=utils$2.findKey(o,a);if(l){r[l]=normalizeValue(s),delete r[a];return}const c=e?formatHeader(a):String(a).trim();c!==a&&delete r[a],r[c]=normalizeValue(s),o[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return utils$2.forEach(this,(o,s)=>{o!=null&&o!==!1&&(r[s]=e&&utils$2.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(s=>o.set(s)),o}static accessor(e){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=normalizeHeader(l);o[c]||(buildAccessors(s,l),o[c]=!0)}return utils$2.isArray(e)?e.forEach(a):a(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[r]=o}}});utils$2.freezeMethods(AxiosHeaders);function transformData(n,e){const r=this||defaults$3,o=e||r,s=AxiosHeaders.from(o.headers);let a=o.data;return utils$2.forEach(n,function(c){a=c.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function isCancel(n){return!!(n&&n.__CANCEL__)}function CanceledError(n,e,r){AxiosError.call(this,n??"canceled",AxiosError.ERR_CANCELED,e,r),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(n,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?n(r):e(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function parseProtocol(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function speedometer(n,e){n=n||10;const r=new Array(n),o=new Array(n);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=o[a];l||(l=f),r[s]=d,o[s]=f;let v=a,A=0;for(;v!==s;)A+=r[v++],v=v%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),f-l<e)return;const M=g&&f-g;return M?Math.round(A*1e3/M):void 0}}function throttle(n,e){let r=0;const o=1e3/e;let s=null;return function(){const l=this===!0,c=Date.now();if(l||c-r>o)return s&&(clearTimeout(s),s=null),r=c,n.apply(null,arguments);s||(s=setTimeout(()=>(s=null,r=Date.now(),n.apply(null,arguments)),o-(c-r)))}}const progressEventReducer=(n,e,r=3)=>{let o=0;const s=speedometer(50,250);return throttle(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-o,f=s(d),g=l<=c;o=l;const v={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&g?(c-l)/f:void 0,event:a,lengthComputable:c!=null};v[e?"download":"upload"]=!0,n(v)},r)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function s(a){let l=a;return e&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=s(window.location.href),function(l){const c=utils$2.isString(l)?s(l):l;return c.protocol===o.protocol&&c.host===o.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(n,e,r,o,s,a){const l=[n+"="+encodeURIComponent(e)];utils$2.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),utils$2.isString(o)&&l.push("path="+o),utils$2.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function combineURLs(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function buildFullPath(n,e){return n&&!isAbsoluteURL(e)?combineURLs(n,e):e}const headersToObject=n=>n instanceof AxiosHeaders?{...n}:n;function mergeConfig(n,e){e=e||{};const r={};function o(f,g,v){return utils$2.isPlainObject(f)&&utils$2.isPlainObject(g)?utils$2.merge.call({caseless:v},f,g):utils$2.isPlainObject(g)?utils$2.merge({},g):utils$2.isArray(g)?g.slice():g}function s(f,g,v){if(utils$2.isUndefined(g)){if(!utils$2.isUndefined(f))return o(void 0,f,v)}else return o(f,g,v)}function a(f,g){if(!utils$2.isUndefined(g))return o(void 0,g)}function l(f,g){if(utils$2.isUndefined(g)){if(!utils$2.isUndefined(f))return o(void 0,f)}else return o(void 0,g)}function c(f,g,v){if(v in e)return o(f,g);if(v in n)return o(void 0,f)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,g)=>s(headersToObject(f),headersToObject(g),!0)};return utils$2.forEach(Object.keys(Object.assign({},n,e)),function(g){const v=d[g]||s,A=v(n[g],e[g],g);utils$2.isUndefined(A)&&v!==c||(r[g]=A)}),r}const resolveConfig=n=>{const e=mergeConfig({},n);let{data:r,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=AxiosHeaders.from(l),e.url=buildURL(buildFullPath(e.baseURL,e.url),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(utils$2.isFormData(r)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...g]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...g].join("; "))}}if(platform.hasStandardBrowserEnv&&(o&&utils$2.isFunction(o)&&(o=o(e)),o||o!==!1&&isURLSameOrigin(e.url))){const f=s&&a&&cookies.read(a);f&&l.set(s,f)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(n){return new Promise(function(r,o){const s=resolveConfig(n);let a=s.data;const l=AxiosHeaders.from(s.headers).normalize();let{responseType:c}=s,d;function f(){s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const M=AxiosHeaders.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),de={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:M,config:n,request:g};settle(function(ze){r(ze),f()},function(ze){o(ze),f()},de),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(o(new AxiosError("Request aborted",AxiosError.ECONNABORTED,s,g)),g=null)},g.onerror=function(){o(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,g)),g=null},g.ontimeout=function(){let Y=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const de=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(Y=s.timeoutErrorMessage),o(new AxiosError(Y,de.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,s,g)),g=null},a===void 0&&l.setContentType(null),"setRequestHeader"in g&&utils$2.forEach(l.toJSON(),function(Y,de){g.setRequestHeader(de,Y)}),utils$2.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),c&&c!=="json"&&(g.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&g.addEventListener("progress",progressEventReducer(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",progressEventReducer(s.onUploadProgress)),(s.cancelToken||s.signal)&&(d=M=>{g&&(o(!M||M.type?new CanceledError(null,n,g):M),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const A=parseProtocol(s.url);if(A&&platform.protocols.indexOf(A)===-1){o(new AxiosError("Unsupported protocol "+A+":",AxiosError.ERR_BAD_REQUEST,n));return}g.send(a||null)})},composeSignals=(n,e)=>{let r=new AbortController,o;const s=function(d){if(!o){o=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof AxiosError?f:new CanceledError(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{s(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",s):d.unsubscribe(s))}),n=null)};n.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=l,[c,()=>{a&&clearTimeout(a),a=null}]},streamChunk=function*(n,e){let r=n.byteLength;if(!e||r<e){yield n;return}let o=0,s;for(;o<r;)s=o+e,yield n.slice(o,s),o=s},readBytes=async function*(n,e,r){for await(const o of n)yield*streamChunk(ArrayBuffer.isView(o)?o:await r(String(o)),e)},trackStream=(n,e,r,o,s)=>{const a=readBytes(n,e,s);let l=0;return new ReadableStream({type:"bytes",async pull(c){const{done:d,value:f}=await a.next();if(d){c.close(),o();return}let g=f.byteLength;r&&r(l+=g),c.enqueue(new Uint8Array(f))},cancel(c){return o(c),a.return()}},{highWaterMark:2})},fetchProgressDecorator=(n,e)=>{const r=n!=null;return o=>setTimeout(()=>e({lengthComputable:r,total:n,loaded:o}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let n=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$2.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(n=>n.body)};isFetchSupported&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$2.isFunction(n[e])?r=>r[e]():(r,o)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,o)})})})(new Response);const getBodyLength=async n=>{if(n==null)return 0;if(utils$2.isBlob(n))return n.size;if(utils$2.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(n))return n.byteLength;if(utils$2.isURLSearchParams(n)&&(n=n+""),utils$2.isString(n))return(await encodeText(n)).byteLength},resolveBodyLength=async(n,e)=>{const r=utils$2.toFiniteNumber(n.getContentLength());return r??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async n=>{let{url:e,method:r,data:o,signal:s,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:g,withCredentials:v="same-origin",fetchOptions:A}=resolveConfig(n);f=f?(f+"").toLowerCase():"text";let[M,Y]=s||a||l?composeSignals([s,a],l):[],de,ae;const ze=()=>{!de&&setTimeout(()=>{M&&M.unsubscribe()}),de=!0};let qe;try{if(d&&supportsRequestStream&&r!=="get"&&r!=="head"&&(qe=await resolveBodyLength(g,o))!==0){let vn=new Request(e,{method:"POST",body:o,duplex:"half"}),bn;utils$2.isFormData(o)&&(bn=vn.headers.get("content-type"))&&g.setContentType(bn),vn.body&&(o=trackStream(vn.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(qe,progressEventReducer(d)),null,encodeText))}utils$2.isString(v)||(v=v?"cors":"omit"),ae=new Request(e,{...A,signal:M,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",withCredentials:v});let Ue=await fetch(ae);const hn=supportsResponseStream&&(f==="stream"||f==="response");if(supportsResponseStream&&(c||hn)){const vn={};["status","statusText","headers"].forEach(wn=>{vn[wn]=Ue[wn]});const bn=utils$2.toFiniteNumber(Ue.headers.get("content-length"));Ue=new Response(trackStream(Ue.body,DEFAULT_CHUNK_SIZE,c&&fetchProgressDecorator(bn,progressEventReducer(c,!0)),hn&&ze,encodeText),vn)}f=f||"text";let On=await resolvers[utils$2.findKey(resolvers,f)||"text"](Ue,n);return!hn&&ze(),Y&&Y(),await new Promise((vn,bn)=>{settle(vn,bn,{data:On,headers:AxiosHeaders.from(Ue.headers),status:Ue.status,statusText:Ue.statusText,config:n,request:ae})})}catch(Ue){throw ze(),Ue&&Ue.name==="TypeError"&&/fetch/i.test(Ue.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,n,ae),{cause:Ue.cause||Ue}):AxiosError.from(Ue,Ue&&Ue.code,n,ae)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const renderReason=n=>`- ${n}`,isResolvedHandle=n=>utils$2.isFunction(n)||n===null||n===!1,adapters={getAdapter:n=>{n=utils$2.isArray(n)?n:[n];const{length:e}=n;let r,o;const s={};for(let a=0;a<e;a++){r=n[a];let l;if(o=r,!isResolvedHandle(r)&&(o=knownAdapters[(l=String(r)).toLowerCase()],o===void 0))throw new AxiosError(`Unknown adapter '${l}'`);if(o)break;s[l||"#"+a]=o}if(!o){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new CanceledError(null,n)}function dispatchRequest(n){return throwIfCancellationRequested(n),n.headers=AxiosHeaders.from(n.headers),n.data=transformData.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(n.adapter||defaults$3.adapter)(n).then(function(o){return throwIfCancellationRequested(n),o.data=transformData.call(n,n.transformResponse,o),o.headers=AxiosHeaders.from(o.headers),o},function(o){return isCancel(o)||(throwIfCancellationRequested(n),o&&o.response&&(o.response.data=transformData.call(n,n.transformResponse,o.response),o.response.headers=AxiosHeaders.from(o.response.headers))),Promise.reject(o)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{validators$1[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const deprecatedWarnings={};validators$1.transitional=function(e,r,o){function s(a,l){return"[Axios v"+VERSION+"] Transitional option '"+a+"'"+l+(o?". "+o:"")}return(a,l,c)=>{if(e===!1)throw new AxiosError(s(l," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,c):!0}};function assertOptions(n,e,r){if(typeof n!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let s=o.length;for(;s-- >0;){const a=o[s],l=e[a];if(l){const c=n[a],d=c===void 0||l(c,a,n);if(d!==!0)throw new AxiosError("option "+a+" must be "+d,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?a&&!String(o.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+a):o.stack=a}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig(this.defaults,r);const{transitional:o,paramsSerializer:s,headers:a}=r;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$2.isFunction(s)?r.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&utils$2.merge(a.common,a[r.method]);a&&utils$2.forEach(["delete","get","head","post","put","patch","common"],Y=>{delete a[Y]}),r.headers=AxiosHeaders.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(de){typeof de.runWhen=="function"&&de.runWhen(r)===!1||(d=d&&de.synchronous,c.unshift(de.fulfilled,de.rejected))});const f=[];this.interceptors.response.forEach(function(de){f.push(de.fulfilled,de.rejected)});let g,v=0,A;if(!d){const Y=[dispatchRequest.bind(this),void 0];for(Y.unshift.apply(Y,c),Y.push.apply(Y,f),A=Y.length,g=Promise.resolve(r);v<A;)g=g.then(Y[v++],Y[v++]);return g}A=c.length;let M=r;for(v=0;v<A;){const Y=c[v++],de=c[v++];try{M=Y(M)}catch(ae){de.call(this,ae);break}}try{g=dispatchRequest.call(this,M)}catch(Y){return Promise.reject(Y)}for(v=0,A=f.length;v<A;)g=g.then(f[v++],f[v++]);return g}getUri(e){e=mergeConfig(this.defaults,e);const r=buildFullPath(e.baseURL,e.url);return buildURL(r,e.params,e.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(r,o){return this.request(mergeConfig(o||{},{method:e,url:r,data:(o||{}).data}))}});utils$2.forEach(["post","put","patch"],function(e){function r(o){return function(a,l,c){return this.request(mergeConfig(c||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Axios.prototype[e]=r(),Axios.prototype[e+"Form"]=r(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const o=this;this.promise.then(s=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](s);o._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{o.subscribe(c),a=c}).then(s);return l.cancel=function(){o.unsubscribe(a)},l},e(function(a,l,c){o.reason||(o.reason=new CanceledError(a,l,c),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new CancelToken(function(s){e=s}),cancel:e}}}function spread(n){return function(r){return n.apply(null,r)}}function isAxiosError(n){return utils$2.isObject(n)&&n.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([n,e])=>{HttpStatusCode[e]=n});function createInstance(n){const e=new Axios(n),r=bind(Axios.prototype.request,e);return utils$2.extend(r,Axios.prototype,e,{allOwnKeys:!0}),utils$2.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return createInstance(mergeConfig(n,s))},r}const axios=createInstance(defaults$3);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=n=>formDataToJSON(utils$2.isHTMLForm(n)?new FormData(n):n);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const API_URLS={api_files:{url:"/api/files",method:"post"},api_aditor_file:{url:"/api/file",method:"post"},api_new_folder:{url:"/api/new_folder",method:"post"},api_new_file:{url:"/api/new_ai_file",method:"post"},api_update_file:{url:"/api/update_file",method:"post"},api_refresh:{url:"/api/refresh",method:"post"},api_delete_path:{url:"/api/delete_path",method:"post"},api_rename_path:{url:"/api/rename_path",method:"post"},api_chatgpt:{url:"/api/chatgpt",method:"post",timeout:6e4},api_config:{url:"/api/config",method:"post"},api_set_config:{url:"/api/set_config",method:"post"},api_draw_process:{url:"/api/sdapi/v1/progress",method:"post"},api_ai_draw:{url:"/api/sdapi/v1/magic_draw",method:"post",timeout:18e5},api_ai_txt2img:{url:"/api/sdapi/v1/magic_txt2img",method:"post",timeout:18e5},api_ai_voice:{url:"/api/vits/text2voice",method:"post",timeout:6e5},api_pdf2html:{url:"/api/pdf2html",method:"post",timeout:6e4},api_sd_progess:{url:"/api/sdapi/v1/progress",method:"get"},api_sd2_interrupt:{url:"/api/sdapi/v1/interrupt",method:"post"},api_qianfan_chat:{url:"/api/qianfan/chat",method:"post",timeout:6e4}},commonRequestProcess=(n,e)=>{const r=n.url.startsWith("/api")?n.url.slice(4):n.url,o=axios.create({timeout:n.timeout?n.timeout:1e4});return n.method=="get"?o({url:r,method:n.method,params:e}):o({url:r,method:n.method,data:e})},request={getFiles:n=>commonRequestProcess(API_URLS.api_files,n),getAditorFile:n=>commonRequestProcess(API_URLS.api_aditor_file,n),newFolder:n=>commonRequestProcess(API_URLS.api_new_folder,n),newFile:n=>commonRequestProcess(API_URLS.api_new_file,n),updateFile:n=>commonRequestProcess(API_URLS.api_update_file,n),refresh:n=>commonRequestProcess(API_URLS.api_refresh,n),deletePath:n=>commonRequestProcess(API_URLS.api_delete_path,n),renamePath:n=>commonRequestProcess(API_URLS.api_rename_path,n),chatgpt:n=>commonRequestProcess(API_URLS.api_chatgpt,n),getConfig:n=>commonRequestProcess(API_URLS.api_config,n),setConfig:n=>commonRequestProcess(API_URLS.api_set_config,n),drawProcess:n=>commonRequestProcess(API_URLS.api_draw_process,n),aiDraw:n=>commonRequestProcess(API_URLS.api_ai_draw,n),aiTxt2Img:n=>commonRequestProcess(API_URLS.api_ai_txt2img,n),sdProgress:n=>commonRequestProcess(API_URLS.api_sd_progess,n),sd2Interrupt:n=>commonRequestProcess(API_URLS.api_sd2_interrupt,n),aiVoice:n=>commonRequestProcess(API_URLS.api_ai_voice,n),pdf2html:n=>commonRequestProcess(API_URLS.api_pdf2html,n),qianfanChat:n=>commonRequestProcess(API_URLS.api_qianfan_chat,n)},urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nanoid=(n=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(n));for(;n--;)e+=urlAlphabet[r[n]&63];return e};class SourceLocation{constructor(e,r,o){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=o}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new SourceLocation(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Token{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Token(r,SourceLocation.range(this,e))}}class ParseError{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var o="KaTeX parse error: "+e,s,a,l=r&&r.loc;if(l&&l.start<=l.end){var c=l.lexer.input;s=l.start,a=l.end,s===c.length?o+=" at end of input: ":o+=" at position "+(s+1)+": ";var d=c.slice(s,a).replace(/[^]/g,"$&̲"),f;s>15?f="…"+c.slice(s-15,s):f=c.slice(0,s);var g;a+15<c.length?g=c.slice(a,a+15)+"…":g=c.slice(a),o+=f+d+g}var v=new Error(o);return v.name="ParseError",v.__proto__=ParseError.prototype,v.position=s,s!=null&&a!=null&&(v.length=a-s),v.rawMessage=e,v}}ParseError.prototype.__proto__=Error.prototype;var contains$1=function(e,r){return e.indexOf(r)!==-1},deflt=function(e,r){return e===void 0?r:e},uppercase=/([A-Z])/g,hyphenate=function(e){return e.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(n){return String(n).replace(ESCAPE_REGEX,e=>ESCAPE_LOOKUP[e])}var getBaseElem=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},isCharacterBox=function(e){var r=getBaseElem(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},assert=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},protocolFromUrl=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},utils={contains:contains$1,deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(n){if(n.default)return n.default;var e=n.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(r)){var o=SETTINGS_SCHEMA[r];this[r]=e[r]!==void 0?o.processor?o.processor(e[r]):e[r]:getDefaultValue(o)}}reportNonstrict(e,r,o){var s=this.strict;if(typeof s=="function"&&(s=s(e,r,o)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),o);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,o){var s=this.strict;if(typeof s=="function")try{s=s(e,r,o)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=utils.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var o=typeof this.trust=="function"?this.trust(e):this.trust;return!!o}}class Style{constructor(e,r,o){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=o}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D$1=0,Dc=1,T$1=2,Tc=3,S$2=4,Sc=5,SS=6,SSc=7,styles=[new Style(D$1,0,!1),new Style(Dc,0,!0),new Style(T$1,1,!1),new Style(Tc,1,!0),new Style(S$2,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S$2,Sc,S$2,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T$1,Tc,S$2,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D$1,Dc,T$1,Tc,T$1,Tc,T$1,Tc],Style$1={DISPLAY:styles[D$1],TEXT:styles[T$1],SCRIPT:styles[S$2],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(n){for(var e=0;e<scriptData.length;e++)for(var r=scriptData[e],o=0;o<r.blocks.length;o++){var s=r.blocks[o];if(n>=s[0]&&n<=s[1])return r.name}return null}var allBlocks=[];scriptData.forEach(n=>n.blocks.forEach(e=>allBlocks.push(...e)));function supportedCodepoint(n){for(var e=0;e<allBlocks.length;e+=2)if(n>=allBlocks[e]&&n<=allBlocks[e+1])return!0;return!1}var hLinePad=80,sqrtMain=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},sqrtSize1=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},sqrtSize2=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},sqrtSize3=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},sqrtSize4=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},phasePath=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},sqrtTall=function(e,r,o){var s=o-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},sqrtPath=function(e,r,o){r=1e3*r;var s="";switch(e){case"sqrtMain":s=sqrtMain(r,hLinePad);break;case"sqrtSize1":s=sqrtSize1(r,hLinePad);break;case"sqrtSize2":s=sqrtSize2(r,hLinePad);break;case"sqrtSize3":s=sqrtSize3(r,hLinePad);break;case"sqrtSize4":s=sqrtSize4(r,hLinePad);break;case"sqrtTall":s=sqrtTall(r,hLinePad,o)}return s},innerPath=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return utils.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function setFontMetrics(n,e){fontMetricsData[n]=e}function getCharacterMetrics(n,e,r){if(!fontMetricsData[e])throw new Error("Font metrics not found for font: "+e+".");var o=n.charCodeAt(0),s=fontMetricsData[e][o];if(!s&&n[0]in extraCharacterMap&&(o=extraCharacterMap[n[0]].charCodeAt(0),s=fontMetricsData[e][o]),!s&&r==="text"&&supportedCodepoint(o)&&(s=fontMetricsData[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!fontMetricsBySizeIndex[e]){var r=fontMetricsBySizeIndex[e]={cssEmPerMu:sigmasAndXis.quad[e]/18};for(var o in sigmasAndXis)sigmasAndXis.hasOwnProperty(o)&&(r[o]=sigmasAndXis[o][e])}return fontMetricsBySizeIndex[e]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(e,r){return r.size<2?e:sizeStyleMap[e-1][r.size-1]};class Options{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Options.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);return new Options(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:sizeAtStyle(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:sizeMultipliers[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=sizeAtStyle(Options.BASESIZE,e);return this.size===r&&this.textSize===Options.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(e){return typeof e!="string"&&(e=e.unit),e in ptPerUnit||e in relativeUnit||e==="ex"},calculateSize=function(e,r){var o;if(e.unit in ptPerUnit)o=ptPerUnit[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")o=r.fontMetrics().cssEmPerMu;else{var s;if(r.style.isTight()?s=r.havingStyle(r.style.text()):s=r,e.unit==="ex")o=s.fontMetrics().xHeight;else if(e.unit==="em")o=s.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+e.unit+"'");s!==r&&(o*=s.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*o,r.maxSize)},makeEm=function(e){return+e.toFixed(4)+"em"},createClass=function(e){return e.filter(r=>r).join(" ")},initNode=function(e,r,o){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=o||{},r){r.style.isTight()&&this.classes.push("mtight");var s=r.getColor();s&&(this.style.color=s)}},toNode=function(e){var r=document.createElement(e);r.className=createClass(this.classes);for(var o in this.style)this.style.hasOwnProperty(o)&&(r.style[o]=this.style[o]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&r.setAttribute(s,this.attributes[s]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},toMarkup=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+utils.escape(createClass(this.classes))+'"');var o="";for(var s in this.style)this.style.hasOwnProperty(s)&&(o+=utils.hyphenate(s)+":"+this.style[s]+";");o&&(r+=' style="'+utils.escape(o)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(r+=" "+a+'="'+utils.escape(this.attributes[a])+'"');r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+e+">",r};let Span$1=class{constructor(e,r,o,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,e,o,s),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return utils.contains(this.classes,e)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}};class Anchor{constructor(e,r,o,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,r,s),this.children=o||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return utils.contains(this.classes,e)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(e,r,o){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=o}hasClass(e){return utils.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=utils.hyphenate(o)+":"+this.style[o]+";");return r&&(e+=' style="'+utils.escape(r)+'"'),e+="'/>",e}}var iCombinations={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class SymbolNode{constructor(e,r,o,s,a,l,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=o||0,this.italic=s||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var f=scriptFromCodepoint(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(e){return utils.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=createClass(this.classes));for(var o in this.style)this.style.hasOwnProperty(o)&&(r=r||document.createElement("span"),r.style[o]=this.style[o]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=utils.escape(createClass(this.classes)),r+='"');var o="";this.italic>0&&(o+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(o+=utils.hyphenate(s)+":"+this.style[s]+";");o&&(e=!0,r+=' style="'+utils.escape(o)+'"');var a=utils.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class SvgNode{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&r.setAttribute(o,this.attributes[o]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+utils.escape(this.attributes[r])+'"');e+=">";for(var o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e+="</svg>",e}}class PathNode{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",path[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&r.setAttribute(o,this.attributes[o]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+utils.escape(this.attributes[r])+'"');return e+="/>",e}}function assertSymbolDomNode(n){if(n instanceof SymbolNode)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function assertSpan(n){if(n instanceof Span$1)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(n,e,r,o,s,a){symbols[n][s]={font:e,group:r,replace:o},a&&o&&(symbols[n][o]=symbols[n][s])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"≡","\\equiv",!0);defineSymbol(math,main,rel,"≺","\\prec",!0);defineSymbol(math,main,rel,"≻","\\succ",!0);defineSymbol(math,main,rel,"∼","\\sim",!0);defineSymbol(math,main,rel,"⊥","\\perp");defineSymbol(math,main,rel,"⪯","\\preceq",!0);defineSymbol(math,main,rel,"⪰","\\succeq",!0);defineSymbol(math,main,rel,"≃","\\simeq",!0);defineSymbol(math,main,rel,"∣","\\mid",!0);defineSymbol(math,main,rel,"≪","\\ll",!0);defineSymbol(math,main,rel,"≫","\\gg",!0);defineSymbol(math,main,rel,"≍","\\asymp",!0);defineSymbol(math,main,rel,"∥","\\parallel");defineSymbol(math,main,rel,"⋈","\\bowtie",!0);defineSymbol(math,main,rel,"⌣","\\smile",!0);defineSymbol(math,main,rel,"⊑","\\sqsubseteq",!0);defineSymbol(math,main,rel,"⊒","\\sqsupseteq",!0);defineSymbol(math,main,rel,"≐","\\doteq",!0);defineSymbol(math,main,rel,"⌢","\\frown",!0);defineSymbol(math,main,rel,"∋","\\ni",!0);defineSymbol(math,main,rel,"∝","\\propto",!0);defineSymbol(math,main,rel,"⊢","\\vdash",!0);defineSymbol(math,main,rel,"⊣","\\dashv",!0);defineSymbol(math,main,rel,"∋","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"⋅","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text,main,textord,"&","\\&");defineSymbol(math,main,textord,"ℵ","\\aleph",!0);defineSymbol(math,main,textord,"∀","\\forall",!0);defineSymbol(math,main,textord,"ℏ","\\hbar",!0);defineSymbol(math,main,textord,"∃","\\exists",!0);defineSymbol(math,main,textord,"∇","\\nabla",!0);defineSymbol(math,main,textord,"♭","\\flat",!0);defineSymbol(math,main,textord,"ℓ","\\ell",!0);defineSymbol(math,main,textord,"♮","\\natural",!0);defineSymbol(math,main,textord,"♣","\\clubsuit",!0);defineSymbol(math,main,textord,"℘","\\wp",!0);defineSymbol(math,main,textord,"♯","\\sharp",!0);defineSymbol(math,main,textord,"♢","\\diamondsuit",!0);defineSymbol(math,main,textord,"ℜ","\\Re",!0);defineSymbol(math,main,textord,"♡","\\heartsuit",!0);defineSymbol(math,main,textord,"ℑ","\\Im",!0);defineSymbol(math,main,textord,"♠","\\spadesuit",!0);defineSymbol(math,main,textord,"§","\\S",!0);defineSymbol(text,main,textord,"§","\\S");defineSymbol(math,main,textord,"¶","\\P",!0);defineSymbol(text,main,textord,"¶","\\P");defineSymbol(math,main,textord,"†","\\dag");defineSymbol(text,main,textord,"†","\\dag");defineSymbol(text,main,textord,"†","\\textdagger");defineSymbol(math,main,textord,"‡","\\ddag");defineSymbol(text,main,textord,"‡","\\ddag");defineSymbol(text,main,textord,"‡","\\textdaggerdbl");defineSymbol(math,main,close,"⎱","\\rmoustache",!0);defineSymbol(math,main,open,"⎰","\\lmoustache",!0);defineSymbol(math,main,close,"⟯","\\rgroup",!0);defineSymbol(math,main,open,"⟮","\\lgroup",!0);defineSymbol(math,main,bin,"∓","\\mp",!0);defineSymbol(math,main,bin,"⊖","\\ominus",!0);defineSymbol(math,main,bin,"⊎","\\uplus",!0);defineSymbol(math,main,bin,"⊓","\\sqcap",!0);defineSymbol(math,main,bin,"∗","\\ast");defineSymbol(math,main,bin,"⊔","\\sqcup",!0);defineSymbol(math,main,bin,"◯","\\bigcirc",!0);defineSymbol(math,main,bin,"∙","\\bullet",!0);defineSymbol(math,main,bin,"‡","\\ddagger");defineSymbol(math,main,bin,"≀","\\wr",!0);defineSymbol(math,main,bin,"⨿","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"⟵","\\longleftarrow",!0);defineSymbol(math,main,rel,"⇐","\\Leftarrow",!0);defineSymbol(math,main,rel,"⟸","\\Longleftarrow",!0);defineSymbol(math,main,rel,"⟶","\\longrightarrow",!0);defineSymbol(math,main,rel,"⇒","\\Rightarrow",!0);defineSymbol(math,main,rel,"⟹","\\Longrightarrow",!0);defineSymbol(math,main,rel,"↔","\\leftrightarrow",!0);defineSymbol(math,main,rel,"⟷","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"⇔","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"⟺","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"↦","\\mapsto",!0);defineSymbol(math,main,rel,"⟼","\\longmapsto",!0);defineSymbol(math,main,rel,"↗","\\nearrow",!0);defineSymbol(math,main,rel,"↩","\\hookleftarrow",!0);defineSymbol(math,main,rel,"↪","\\hookrightarrow",!0);defineSymbol(math,main,rel,"↘","\\searrow",!0);defineSymbol(math,main,rel,"↼","\\leftharpoonup",!0);defineSymbol(math,main,rel,"⇀","\\rightharpoonup",!0);defineSymbol(math,main,rel,"↙","\\swarrow",!0);defineSymbol(math,main,rel,"↽","\\leftharpoondown",!0);defineSymbol(math,main,rel,"⇁","\\rightharpoondown",!0);defineSymbol(math,main,rel,"↖","\\nwarrow",!0);defineSymbol(math,main,rel,"⇌","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"≮","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"⪇","\\lneq",!0);defineSymbol(math,ams,rel,"≨","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"⋦","\\lnsim",!0);defineSymbol(math,ams,rel,"⪉","\\lnapprox",!0);defineSymbol(math,ams,rel,"⊀","\\nprec",!0);defineSymbol(math,ams,rel,"⋠","\\npreceq",!0);defineSymbol(math,ams,rel,"⋨","\\precnsim",!0);defineSymbol(math,ams,rel,"⪹","\\precnapprox",!0);defineSymbol(math,ams,rel,"≁","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"∤","\\nmid",!0);defineSymbol(math,ams,rel,"⊬","\\nvdash",!0);defineSymbol(math,ams,rel,"⊭","\\nvDash",!0);defineSymbol(math,ams,rel,"⋪","\\ntriangleleft");defineSymbol(math,ams,rel,"⋬","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"⊊","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"⫋","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"≯","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"⪈","\\gneq",!0);defineSymbol(math,ams,rel,"≩","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"⋧","\\gnsim",!0);defineSymbol(math,ams,rel,"⪊","\\gnapprox",!0);defineSymbol(math,ams,rel,"⊁","\\nsucc",!0);defineSymbol(math,ams,rel,"⋡","\\nsucceq",!0);defineSymbol(math,ams,rel,"⋩","\\succnsim",!0);defineSymbol(math,ams,rel,"⪺","\\succnapprox",!0);defineSymbol(math,ams,rel,"≆","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"∦","\\nparallel",!0);defineSymbol(math,ams,rel,"⊯","\\nVDash",!0);defineSymbol(math,ams,rel,"⋫","\\ntriangleright");defineSymbol(math,ams,rel,"⋭","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"⊋","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"⫌","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"⊮","\\nVdash",!0);defineSymbol(math,ams,rel,"⪵","\\precneqq",!0);defineSymbol(math,ams,rel,"⪶","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"⊴","\\unlhd");defineSymbol(math,ams,bin,"⊵","\\unrhd");defineSymbol(math,ams,rel,"↚","\\nleftarrow",!0);defineSymbol(math,ams,rel,"↛","\\nrightarrow",!0);defineSymbol(math,ams,rel,"⇍","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"⇏","\\nRightarrow",!0);defineSymbol(math,ams,rel,"↮","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"⇎","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"△","\\vartriangle");defineSymbol(math,ams,textord,"ℏ","\\hslash");defineSymbol(math,ams,textord,"▽","\\triangledown");defineSymbol(math,ams,textord,"◊","\\lozenge");defineSymbol(math,ams,textord,"Ⓢ","\\circledS");defineSymbol(math,ams,textord,"®","\\circledR");defineSymbol(text,ams,textord,"®","\\circledR");defineSymbol(math,ams,textord,"∡","\\measuredangle",!0);defineSymbol(math,ams,textord,"∄","\\nexists");defineSymbol(math,ams,textord,"℧","\\mho");defineSymbol(math,ams,textord,"Ⅎ","\\Finv",!0);defineSymbol(math,ams,textord,"⅁","\\Game",!0);defineSymbol(math,ams,textord,"‵","\\backprime");defineSymbol(math,ams,textord,"▲","\\blacktriangle");defineSymbol(math,ams,textord,"▼","\\blacktriangledown");defineSymbol(math,ams,textord,"■","\\blacksquare");defineSymbol(math,ams,textord,"⧫","\\blacklozenge");defineSymbol(math,ams,textord,"★","\\bigstar");defineSymbol(math,ams,textord,"∢","\\sphericalangle",!0);defineSymbol(math,ams,textord,"∁","\\complement",!0);defineSymbol(math,ams,textord,"ð","\\eth",!0);defineSymbol(text,main,textord,"ð","ð");defineSymbol(math,ams,textord,"╱","\\diagup");defineSymbol(math,ams,textord,"╲","\\diagdown");defineSymbol(math,ams,textord,"□","\\square");defineSymbol(math,ams,textord,"□","\\Box");defineSymbol(math,ams,textord,"◊","\\Diamond");defineSymbol(math,ams,textord,"¥","\\yen",!0);defineSymbol(text,ams,textord,"¥","\\yen",!0);defineSymbol(math,ams,textord,"✓","\\checkmark",!0);defineSymbol(text,ams,textord,"✓","\\checkmark");defineSymbol(math,ams,textord,"ℶ","\\beth",!0);defineSymbol(math,ams,textord,"ℸ","\\daleth",!0);defineSymbol(math,ams,textord,"ℷ","\\gimel",!0);defineSymbol(math,ams,textord,"ϝ","\\digamma",!0);defineSymbol(math,ams,textord,"ϰ","\\varkappa");defineSymbol(math,ams,open,"┌","\\@ulcorner",!0);defineSymbol(math,ams,close,"┐","\\@urcorner",!0);defineSymbol(math,ams,open,"└","\\@llcorner",!0);defineSymbol(math,ams,close,"┘","\\@lrcorner",!0);defineSymbol(math,ams,rel,"≦","\\leqq",!0);defineSymbol(math,ams,rel,"⩽","\\leqslant",!0);defineSymbol(math,ams,rel,"⪕","\\eqslantless",!0);defineSymbol(math,ams,rel,"≲","\\lesssim",!0);defineSymbol(math,ams,rel,"⪅","\\lessapprox",!0);defineSymbol(math,ams,rel,"≊","\\approxeq",!0);defineSymbol(math,ams,bin,"⋖","\\lessdot");defineSymbol(math,ams,rel,"⋘","\\lll",!0);defineSymbol(math,ams,rel,"≶","\\lessgtr",!0);defineSymbol(math,ams,rel,"⋚","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"⪋","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"≑","\\doteqdot");defineSymbol(math,ams,rel,"≓","\\risingdotseq",!0);defineSymbol(math,ams,rel,"≒","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"∽","\\backsim",!0);defineSymbol(math,ams,rel,"⋍","\\backsimeq",!0);defineSymbol(math,ams,rel,"⫅","\\subseteqq",!0);defineSymbol(math,ams,rel,"⋐","\\Subset",!0);defineSymbol(math,ams,rel,"⊏","\\sqsubset",!0);defineSymbol(math,ams,rel,"≼","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"⋞","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"≾","\\precsim",!0);defineSymbol(math,ams,rel,"⪷","\\precapprox",!0);defineSymbol(math,ams,rel,"⊲","\\vartriangleleft");defineSymbol(math,ams,rel,"⊴","\\trianglelefteq");defineSymbol(math,ams,rel,"⊨","\\vDash",!0);defineSymbol(math,ams,rel,"⊪","\\Vvdash",!0);defineSymbol(math,ams,rel,"⌣","\\smallsmile");defineSymbol(math,ams,rel,"⌢","\\smallfrown");defineSymbol(math,ams,rel,"≏","\\bumpeq",!0);defineSymbol(math,ams,rel,"≎","\\Bumpeq",!0);defineSymbol(math,ams,rel,"≧","\\geqq",!0);defineSymbol(math,ams,rel,"⩾","\\geqslant",!0);defineSymbol(math,ams,rel,"⪖","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"≳","\\gtrsim",!0);defineSymbol(math,ams,rel,"⪆","\\gtrapprox",!0);defineSymbol(math,ams,bin,"⋗","\\gtrdot");defineSymbol(math,ams,rel,"⋙","\\ggg",!0);defineSymbol(math,ams,rel,"≷","\\gtrless",!0);defineSymbol(math,ams,rel,"⋛","\\gtreqless",!0);defineSymbol(math,ams,rel,"⪌","\\gtreqqless",!0);defineSymbol(math,ams,rel,"≖","\\eqcirc",!0);defineSymbol(math,ams,rel,"≗","\\circeq",!0);defineSymbol(math,ams,rel,"≜","\\triangleq",!0);defineSymbol(math,ams,rel,"∼","\\thicksim");defineSymbol(math,ams,rel,"≈","\\thickapprox");defineSymbol(math,ams,rel,"⫆","\\supseteqq",!0);defineSymbol(math,ams,rel,"⋑","\\Supset",!0);defineSymbol(math,ams,rel,"⊐","\\sqsupset",!0);defineSymbol(math,ams,rel,"≽","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"⋟","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"≿","\\succsim",!0);defineSymbol(math,ams,rel,"⪸","\\succapprox",!0);defineSymbol(math,ams,rel,"⊳","\\vartriangleright");defineSymbol(math,ams,rel,"⊵","\\trianglerighteq");defineSymbol(math,ams,rel,"⊩","\\Vdash",!0);defineSymbol(math,ams,rel,"∣","\\shortmid");defineSymbol(math,ams,rel,"∥","\\shortparallel");defineSymbol(math,ams,rel,"≬","\\between",!0);defineSymbol(math,ams,rel,"⋔","\\pitchfork",!0);defineSymbol(math,ams,rel,"∝","\\varpropto");defineSymbol(math,ams,rel,"◀","\\blacktriangleleft");defineSymbol(math,ams,rel,"∴","\\therefore",!0);defineSymbol(math,ams,rel,"∍","\\backepsilon");defineSymbol(math,ams,rel,"▶","\\blacktriangleright");defineSymbol(math,ams,rel,"∵","\\because",!0);defineSymbol(math,ams,rel,"⋘","\\llless");defineSymbol(math,ams,rel,"⋙","\\gggtr");defineSymbol(math,ams,bin,"⊲","\\lhd");defineSymbol(math,ams,bin,"⊳","\\rhd");defineSymbol(math,ams,rel,"≂","\\eqsim",!0);defineSymbol(math,main,rel,"⋈","\\Join");defineSymbol(math,ams,rel,"≑","\\Doteq",!0);defineSymbol(math,ams,bin,"∔","\\dotplus",!0);defineSymbol(math,ams,bin,"∖","\\smallsetminus");defineSymbol(math,ams,bin,"⋒","\\Cap",!0);defineSymbol(math,ams,bin,"⋓","\\Cup",!0);defineSymbol(math,ams,bin,"⩞","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"⊟","\\boxminus",!0);defineSymbol(math,ams,bin,"⊞","\\boxplus",!0);defineSymbol(math,ams,bin,"⋇","\\divideontimes",!0);defineSymbol(math,ams,bin,"⋉","\\ltimes",!0);defineSymbol(math,ams,bin,"⋊","\\rtimes",!0);defineSymbol(math,ams,bin,"⋋","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"⋌","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"⋏","\\curlywedge",!0);defineSymbol(math,ams,bin,"⋎","\\curlyvee",!0);defineSymbol(math,ams,bin,"⊝","\\circleddash",!0);defineSymbol(math,ams,bin,"⊛","\\circledast",!0);defineSymbol(math,ams,bin,"⋅","\\centerdot");defineSymbol(math,ams,bin,"⊺","\\intercal",!0);defineSymbol(math,ams,bin,"⋒","\\doublecap");defineSymbol(math,ams,bin,"⋓","\\doublecup");defineSymbol(math,ams,bin,"⊠","\\boxtimes",!0);defineSymbol(math,ams,rel,"⇢","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"⇠","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"⇇","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"⇆","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"⇚","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"↞","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"↢","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"↫","\\looparrowleft",!0);defineSymbol(math,ams,rel,"⇋","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"↶","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"↺","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"↰","\\Lsh",!0);defineSymbol(math,ams,rel,"⇈","\\upuparrows",!0);defineSymbol(math,ams,rel,"↿","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"⇃","\\downharpoonleft",!0);defineSymbol(math,main,rel,"⊶","\\origof",!0);defineSymbol(math,main,rel,"⊷","\\imageof",!0);defineSymbol(math,ams,rel,"⊸","\\multimap",!0);defineSymbol(math,ams,rel,"↭","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"⇉","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"⇄","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"↠","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"↣","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"↬","\\looparrowright",!0);defineSymbol(math,ams,rel,"↷","\\curvearrowright",!0);defineSymbol(math,ams,rel,"↻","\\circlearrowright",!0);defineSymbol(math,ams,rel,"↱","\\Rsh",!0);defineSymbol(math,ams,rel,"⇊","\\downdownarrows",!0);defineSymbol(math,ams,rel,"↾","\\upharpoonright",!0);defineSymbol(math,ams,rel,"⇂","\\downharpoonright",!0);defineSymbol(math,ams,rel,"⇝","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"⇝","\\leadsto");defineSymbol(math,ams,rel,"⇛","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"↾","\\restriction");defineSymbol(math,main,textord,"‘","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"∠","\\angle",!0);defineSymbol(math,main,textord,"∞","\\infty",!0);defineSymbol(math,main,textord,"′","\\prime");defineSymbol(math,main,textord,"△","\\triangle");defineSymbol(math,main,textord,"Γ","\\Gamma",!0);defineSymbol(math,main,textord,"Δ","\\Delta",!0);defineSymbol(math,main,textord,"Θ","\\Theta",!0);defineSymbol(math,main,textord,"Λ","\\Lambda",!0);defineSymbol(math,main,textord,"Ξ","\\Xi",!0);defineSymbol(math,main,textord,"Π","\\Pi",!0);defineSymbol(math,main,textord,"Σ","\\Sigma",!0);defineSymbol(math,main,textord,"Υ","\\Upsilon",!0);defineSymbol(math,main,textord,"Φ","\\Phi",!0);defineSymbol(math,main,textord,"Ψ","\\Psi",!0);defineSymbol(math,main,textord,"Ω","\\Omega",!0);defineSymbol(math,main,textord,"A","Α");defineSymbol(math,main,textord,"B","Β");defineSymbol(math,main,textord,"E","Ε");defineSymbol(math,main,textord,"Z","Ζ");defineSymbol(math,main,textord,"H","Η");defineSymbol(math,main,textord,"I","Ι");defineSymbol(math,main,textord,"K","Κ");defineSymbol(math,main,textord,"M","Μ");defineSymbol(math,main,textord,"N","Ν");defineSymbol(math,main,textord,"O","Ο");defineSymbol(math,main,textord,"P","Ρ");defineSymbol(math,main,textord,"T","Τ");defineSymbol(math,main,textord,"X","Χ");defineSymbol(math,main,textord,"¬","\\neg",!0);defineSymbol(math,main,textord,"¬","\\lnot");defineSymbol(math,main,textord,"⊤","\\top");defineSymbol(math,main,textord,"⊥","\\bot");defineSymbol(math,main,textord,"∅","\\emptyset");defineSymbol(math,ams,textord,"∅","\\varnothing");defineSymbol(math,main,mathord,"α","\\alpha",!0);defineSymbol(math,main,mathord,"β","\\beta",!0);defineSymbol(math,main,mathord,"γ","\\gamma",!0);defineSymbol(math,main,mathord,"δ","\\delta",!0);defineSymbol(math,main,mathord,"ϵ","\\epsilon",!0);defineSymbol(math,main,mathord,"ζ","\\zeta",!0);defineSymbol(math,main,mathord,"η","\\eta",!0);defineSymbol(math,main,mathord,"θ","\\theta",!0);defineSymbol(math,main,mathord,"ι","\\iota",!0);defineSymbol(math,main,mathord,"κ","\\kappa",!0);defineSymbol(math,main,mathord,"λ","\\lambda",!0);defineSymbol(math,main,mathord,"μ","\\mu",!0);defineSymbol(math,main,mathord,"ν","\\nu",!0);defineSymbol(math,main,mathord,"ξ","\\xi",!0);defineSymbol(math,main,mathord,"ο","\\omicron",!0);defineSymbol(math,main,mathord,"π","\\pi",!0);defineSymbol(math,main,mathord,"ρ","\\rho",!0);defineSymbol(math,main,mathord,"σ","\\sigma",!0);defineSymbol(math,main,mathord,"τ","\\tau",!0);defineSymbol(math,main,mathord,"υ","\\upsilon",!0);defineSymbol(math,main,mathord,"ϕ","\\phi",!0);defineSymbol(math,main,mathord,"χ","\\chi",!0);defineSymbol(math,main,mathord,"ψ","\\psi",!0);defineSymbol(math,main,mathord,"ω","\\omega",!0);defineSymbol(math,main,mathord,"ε","\\varepsilon",!0);defineSymbol(math,main,mathord,"ϑ","\\vartheta",!0);defineSymbol(math,main,mathord,"ϖ","\\varpi",!0);defineSymbol(math,main,mathord,"ϱ","\\varrho",!0);defineSymbol(math,main,mathord,"ς","\\varsigma",!0);defineSymbol(math,main,mathord,"φ","\\varphi",!0);defineSymbol(math,main,bin,"∗","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"−","-",!0);defineSymbol(math,main,bin,"⋅","\\cdot",!0);defineSymbol(math,main,bin,"∘","\\circ",!0);defineSymbol(math,main,bin,"÷","\\div",!0);defineSymbol(math,main,bin,"±","\\pm",!0);defineSymbol(math,main,bin,"×","\\times",!0);defineSymbol(math,main,bin,"∩","\\cap",!0);defineSymbol(math,main,bin,"∪","\\cup",!0);defineSymbol(math,main,bin,"∖","\\setminus",!0);defineSymbol(math,main,bin,"∧","\\land");defineSymbol(math,main,bin,"∨","\\lor");defineSymbol(math,main,bin,"∧","\\wedge",!0);defineSymbol(math,main,bin,"∨","\\vee",!0);defineSymbol(math,main,textord,"√","\\surd");defineSymbol(math,main,open,"⟨","\\langle",!0);defineSymbol(math,main,open,"∣","\\lvert");defineSymbol(math,main,open,"∥","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"⟩","\\rangle",!0);defineSymbol(math,main,close,"∣","\\rvert");defineSymbol(math,main,close,"∥","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"≈","\\approx",!0);defineSymbol(math,main,rel,"≅","\\cong",!0);defineSymbol(math,main,rel,"≥","\\ge");defineSymbol(math,main,rel,"≥","\\geq",!0);defineSymbol(math,main,rel,"←","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"∈","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"⊂","\\subset",!0);defineSymbol(math,main,rel,"⊃","\\supset",!0);defineSymbol(math,main,rel,"⊆","\\subseteq",!0);defineSymbol(math,main,rel,"⊇","\\supseteq",!0);defineSymbol(math,ams,rel,"⊈","\\nsubseteq",!0);defineSymbol(math,ams,rel,"⊉","\\nsupseteq",!0);defineSymbol(math,main,rel,"⊨","\\models");defineSymbol(math,main,rel,"←","\\leftarrow",!0);defineSymbol(math,main,rel,"≤","\\le");defineSymbol(math,main,rel,"≤","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"→","\\rightarrow",!0);defineSymbol(math,main,rel,"→","\\to");defineSymbol(math,ams,rel,"≱","\\ngeq",!0);defineSymbol(math,ams,rel,"≰","\\nleq",!0);defineSymbol(math,main,spacing," ","\\ ");defineSymbol(math,main,spacing," ","\\space");defineSymbol(math,main,spacing," ","\\nobreakspace");defineSymbol(text,main,spacing," ","\\ ");defineSymbol(text,main,spacing," "," ");defineSymbol(text,main,spacing," ","\\space");defineSymbol(text,main,spacing," ","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"⊼","\\barwedge",!0);defineSymbol(math,ams,bin,"⊻","\\veebar",!0);defineSymbol(math,main,bin,"⊙","\\odot",!0);defineSymbol(math,main,bin,"⊕","\\oplus",!0);defineSymbol(math,main,bin,"⊗","\\otimes",!0);defineSymbol(math,main,textord,"∂","\\partial",!0);defineSymbol(math,main,bin,"⊘","\\oslash",!0);defineSymbol(math,ams,bin,"⊚","\\circledcirc",!0);defineSymbol(math,ams,bin,"⊡","\\boxdot",!0);defineSymbol(math,main,bin,"△","\\bigtriangleup");defineSymbol(math,main,bin,"▽","\\bigtriangledown");defineSymbol(math,main,bin,"†","\\dagger");defineSymbol(math,main,bin,"⋄","\\diamond");defineSymbol(math,main,bin,"⋆","\\star");defineSymbol(math,main,bin,"◃","\\triangleleft");defineSymbol(math,main,bin,"▹","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text,main,textord,"{","\\{");defineSymbol(text,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text,main,textord,"}","\\}");defineSymbol(text,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text,main,textord,"<","\\textless",!0);defineSymbol(text,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"⌊","\\lfloor",!0);defineSymbol(math,main,close,"⌋","\\rfloor",!0);defineSymbol(math,main,open,"⌈","\\lceil",!0);defineSymbol(math,main,close,"⌉","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"∣","|");defineSymbol(math,main,textord,"∣","\\vert");defineSymbol(text,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"∥","\\|");defineSymbol(math,main,textord,"∥","\\Vert");defineSymbol(text,main,textord,"∥","\\textbardbl");defineSymbol(text,main,textord,"~","\\textasciitilde");defineSymbol(text,main,textord,"\\","\\textbackslash");defineSymbol(text,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"↑","\\uparrow",!0);defineSymbol(math,main,rel,"⇑","\\Uparrow",!0);defineSymbol(math,main,rel,"↓","\\downarrow",!0);defineSymbol(math,main,rel,"⇓","\\Downarrow",!0);defineSymbol(math,main,rel,"↕","\\updownarrow",!0);defineSymbol(math,main,rel,"⇕","\\Updownarrow",!0);defineSymbol(math,main,op,"∐","\\coprod");defineSymbol(math,main,op,"⋁","\\bigvee");defineSymbol(math,main,op,"⋀","\\bigwedge");defineSymbol(math,main,op,"⨄","\\biguplus");defineSymbol(math,main,op,"⋂","\\bigcap");defineSymbol(math,main,op,"⋃","\\bigcup");defineSymbol(math,main,op,"∫","\\int");defineSymbol(math,main,op,"∫","\\intop");defineSymbol(math,main,op,"∬","\\iint");defineSymbol(math,main,op,"∭","\\iiint");defineSymbol(math,main,op,"∏","\\prod");defineSymbol(math,main,op,"∑","\\sum");defineSymbol(math,main,op,"⨂","\\bigotimes");defineSymbol(math,main,op,"⨁","\\bigoplus");defineSymbol(math,main,op,"⨀","\\bigodot");defineSymbol(math,main,op,"∮","\\oint");defineSymbol(math,main,op,"∯","\\oiint");defineSymbol(math,main,op,"∰","\\oiiint");defineSymbol(math,main,op,"⨆","\\bigsqcup");defineSymbol(math,main,op,"∫","\\smallint");defineSymbol(text,main,inner,"…","\\textellipsis");defineSymbol(math,main,inner,"…","\\mathellipsis");defineSymbol(text,main,inner,"…","\\ldots",!0);defineSymbol(math,main,inner,"…","\\ldots",!0);defineSymbol(math,main,inner,"⋯","\\@cdots",!0);defineSymbol(math,main,inner,"⋱","\\ddots",!0);defineSymbol(math,main,textord,"⋮","\\varvdots");defineSymbol(math,main,accent,"ˊ","\\acute");defineSymbol(math,main,accent,"ˋ","\\grave");defineSymbol(math,main,accent,"¨","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"ˉ","\\bar");defineSymbol(math,main,accent,"˘","\\breve");defineSymbol(math,main,accent,"ˇ","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"⃗","\\vec");defineSymbol(math,main,accent,"˙","\\dot");defineSymbol(math,main,accent,"˚","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"ı","ı");defineSymbol(math,main,textord,"ȷ","ȷ");defineSymbol(text,main,textord,"ı","\\i",!0);defineSymbol(text,main,textord,"ȷ","\\j",!0);defineSymbol(text,main,textord,"ß","\\ss",!0);defineSymbol(text,main,textord,"æ","\\ae",!0);defineSymbol(text,main,textord,"œ","\\oe",!0);defineSymbol(text,main,textord,"ø","\\o",!0);defineSymbol(text,main,textord,"Æ","\\AE",!0);defineSymbol(text,main,textord,"Œ","\\OE",!0);defineSymbol(text,main,textord,"Ø","\\O",!0);defineSymbol(text,main,accent,"ˊ","\\'");defineSymbol(text,main,accent,"ˋ","\\`");defineSymbol(text,main,accent,"ˆ","\\^");defineSymbol(text,main,accent,"˜","\\~");defineSymbol(text,main,accent,"ˉ","\\=");defineSymbol(text,main,accent,"˘","\\u");defineSymbol(text,main,accent,"˙","\\.");defineSymbol(text,main,accent,"¸","\\c");defineSymbol(text,main,accent,"˚","\\r");defineSymbol(text,main,accent,"ˇ","\\v");defineSymbol(text,main,accent,"¨",'\\"');defineSymbol(text,main,accent,"˝","\\H");defineSymbol(text,main,accent,"◯","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"–","--",!0);defineSymbol(text,main,textord,"–","\\textendash");defineSymbol(text,main,textord,"—","---",!0);defineSymbol(text,main,textord,"—","\\textemdash");defineSymbol(text,main,textord,"‘","`",!0);defineSymbol(text,main,textord,"‘","\\textquoteleft");defineSymbol(text,main,textord,"’","'",!0);defineSymbol(text,main,textord,"’","\\textquoteright");defineSymbol(text,main,textord,"“","``",!0);defineSymbol(text,main,textord,"“","\\textquotedblleft");defineSymbol(text,main,textord,"”","''",!0);defineSymbol(text,main,textord,"”","\\textquotedblright");defineSymbol(math,main,textord,"°","\\degree",!0);defineSymbol(text,main,textord,"°","\\degree");defineSymbol(text,main,textord,"°","\\textdegree",!0);defineSymbol(math,main,textord,"£","\\pounds");defineSymbol(math,main,textord,"£","\\mathsterling",!0);defineSymbol(text,main,textord,"£","\\pounds");defineSymbol(text,main,textord,"£","\\textsterling",!0);defineSymbol(math,ams,textord,"✠","\\maltese");defineSymbol(text,ams,textord,"✠","\\maltese");var mathTextSymbols='0123456789/@."';for(var i$1=0;i$1<mathTextSymbols.length;i$1++){var ch=mathTextSymbols.charAt(i$1);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","ℂ");defineSymbol(text,ams,textord,"C","ℂ");defineSymbol(math,ams,textord,"H","ℍ");defineSymbol(text,ams,textord,"H","ℍ");defineSymbol(math,ams,textord,"N","ℕ");defineSymbol(text,ams,textord,"N","ℕ");defineSymbol(math,ams,textord,"P","ℙ");defineSymbol(text,ams,textord,"P","ℙ");defineSymbol(math,ams,textord,"Q","ℚ");defineSymbol(text,ams,textord,"Q","ℚ");defineSymbol(math,ams,textord,"R","ℝ");defineSymbol(text,ams,textord,"R","ℝ");defineSymbol(math,ams,textord,"Z","ℤ");defineSymbol(text,ams,textord,"Z","ℤ");defineSymbol(math,main,mathord,"h","ℎ");defineSymbol(text,main,mathord,"h","ℎ");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar="𝕜";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}var extraLatin="ÐÞþ";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(e,r){var o=e.charCodeAt(0),s=e.charCodeAt(1),a=(o-55296)*1024+(s-56320)+65536,l=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[wideLatinLetterData[c][2],wideLatinLetterData[c][l]]}else if(120782<=a&&a<=120831){var d=Math.floor((a-120782)/10);return[wideNumeralData[d][2],wideNumeralData[d][l]]}else{if(a===120485||a===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][l]];if(120486<a&&a<120782)return["",""];throw new ParseError("Unsupported character: "+e)}},lookupSymbol=function(e,r,o){return symbols[o][e]&&symbols[o][e].replace&&(e=symbols[o][e].replace),{value:e,metrics:getCharacterMetrics(e,r,o)}},makeSymbol=function(e,r,o,s,a){var l=lookupSymbol(e,r,o),c=l.metrics;e=l.value;var d;if(c){var f=c.italic;(o==="text"||s&&s.font==="mathit")&&(f=0),d=new SymbolNode(e,c.height,c.depth,f,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+o+"'")),d=new SymbolNode(e,0,0,0,0,0,a);if(s){d.maxFontSize=s.sizeMultiplier,s.style.isTight()&&d.classes.push("mtight");var g=s.getColor();g&&(d.style.color=g)}return d},mathsym=function(e,r,o,s){return s===void 0&&(s=[]),o.font==="boldsymbol"&&lookupSymbol(e,"Main-Bold",r).metrics?makeSymbol(e,"Main-Bold",r,o,s.concat(["mathbf"])):e==="\\"||symbols[r][e].font==="main"?makeSymbol(e,"Main-Regular",r,o,s):makeSymbol(e,"AMS-Regular",r,o,s.concat(["amsrm"]))},boldsymbol=function(e,r,o,s,a){return a!=="textord"&&lookupSymbol(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(e,r,o){var s=e.mode,a=e.text,l=["mord"],c=s==="math"||s==="text"&&r.font,d=c?r.font:r.fontFamily,f="",g="";if(a.charCodeAt(0)===55349&&([f,g]=wideCharacterFont(a,s)),f.length>0)return makeSymbol(a,f,s,r,l.concat(g));if(d){var v,A;if(d==="boldsymbol"){var M=boldsymbol(a,s,r,l,o);v=M.fontName,A=[M.fontClass]}else c?(v=fontMap[d].fontName,A=[d]):(v=retrieveTextFontName(d,r.fontWeight,r.fontShape),A=[d,r.fontWeight,r.fontShape]);if(lookupSymbol(a,v,s).metrics)return makeSymbol(a,v,s,r,l.concat(A));if(ligatures.hasOwnProperty(a)&&v.slice(0,10)==="Typewriter"){for(var Y=[],de=0;de<a.length;de++)Y.push(makeSymbol(a[de],v,s,r,l.concat(A)));return makeFragment(Y)}}if(o==="mathord")return makeSymbol(a,"Math-Italic",s,r,l.concat(["mathnormal"]));if(o==="textord"){var ae=symbols[s][a]&&symbols[s][a].font;if(ae==="ams"){var ze=retrieveTextFontName("amsrm",r.fontWeight,r.fontShape);return makeSymbol(a,ze,s,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if(ae==="main"||!ae){var qe=retrieveTextFontName("textrm",r.fontWeight,r.fontShape);return makeSymbol(a,qe,s,r,l.concat(r.fontWeight,r.fontShape))}else{var Ue=retrieveTextFontName(ae,r.fontWeight,r.fontShape);return makeSymbol(a,Ue,s,r,l.concat(Ue,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+o+" in makeOrd")},canCombine=(n,e)=>{if(createClass(n.classes)!==createClass(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var r=n.classes[0];if(r==="mbin"||r==="mord")return!1}for(var o in n.style)if(n.style.hasOwnProperty(o)&&n.style[o]!==e.style[o])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&n.style[s]!==e.style[s])return!1;return!0},tryCombineChars=n=>{for(var e=0;e<n.length-1;e++){var r=n[e],o=n[e+1];r instanceof SymbolNode&&o instanceof SymbolNode&&canCombine(r,o)&&(r.text+=o.text,r.height=Math.max(r.height,o.height),r.depth=Math.max(r.depth,o.depth),r.italic=o.italic,n.splice(e+1,1),e--)}return n},sizeElementFromChildren=function(e){for(var r=0,o=0,s=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>r&&(r=l.height),l.depth>o&&(o=l.depth),l.maxFontSize>s&&(s=l.maxFontSize)}e.height=r,e.depth=o,e.maxFontSize=s},makeSpan$2=function(e,r,o,s){var a=new Span$1(e,r,o,s);return sizeElementFromChildren(a),a},makeSvgSpan=(n,e,r,o)=>new Span$1(n,e,r,o),makeLineSpan=function(e,r,o){var s=makeSpan$2([e],[],r);return s.height=Math.max(o||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),s.style.borderBottomWidth=makeEm(s.height),s.maxFontSize=1,s},makeAnchor=function(e,r,o,s){var a=new Anchor(e,r,o,s);return sizeElementFromChildren(a),a},makeFragment=function(e){var r=new DocumentFragment(e);return sizeElementFromChildren(r),r},wrapFragment=function(e,r){return e instanceof DocumentFragment?makeSpan$2([],[e],r):e},getVListChildrenAndDepth=function(e){if(e.positionType==="individualShift"){for(var r=e.children,o=[r[0]],s=-r[0].shift-r[0].elem.depth,a=s,l=1;l<r.length;l++){var c=-r[l].shift-a-r[l].elem.depth,d=c-(r[l-1].elem.height+r[l-1].elem.depth);a=a+c,o.push({type:"kern",size:d}),o.push(r[l])}return{children:o,depth:s}}var f;if(e.positionType==="top"){for(var g=e.positionData,v=0;v<e.children.length;v++){var A=e.children[v];g-=A.type==="kern"?A.size:A.elem.height+A.elem.depth}f=g}else if(e.positionType==="bottom")f=-e.positionData;else{var M=e.children[0];if(M.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-M.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-M.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},makeVList=function(e,r){for(var{children:o,depth:s}=getVListChildrenAndDepth(e),a=0,l=0;l<o.length;l++){var c=o[l];if(c.type==="elem"){var d=c.elem;a=Math.max(a,d.maxFontSize,d.height)}}a+=2;var f=makeSpan$2(["pstrut"],[]);f.style.height=makeEm(a);for(var g=[],v=s,A=s,M=s,Y=0;Y<o.length;Y++){var de=o[Y];if(de.type==="kern")M+=de.size;else{var ae=de.elem,ze=de.wrapperClasses||[],qe=de.wrapperStyle||{},Ue=makeSpan$2(ze,[f,ae],void 0,qe);Ue.style.top=makeEm(-a-M-ae.depth),de.marginLeft&&(Ue.style.marginLeft=de.marginLeft),de.marginRight&&(Ue.style.marginRight=de.marginRight),g.push(Ue),M+=ae.height+ae.depth}v=Math.min(v,M),A=Math.max(A,M)}var hn=makeSpan$2(["vlist"],g);hn.style.height=makeEm(A);var On;if(v<0){var vn=makeSpan$2([],[]),bn=makeSpan$2(["vlist"],[vn]);bn.style.height=makeEm(-v);var wn=makeSpan$2(["vlist-s"],[new SymbolNode("​")]);On=[makeSpan$2(["vlist-r"],[hn,wn]),makeSpan$2(["vlist-r"],[bn])]}else On=[makeSpan$2(["vlist-r"],[hn])];var Cn=makeSpan$2(["vlist-t"],On);return On.length===2&&Cn.classes.push("vlist-t2"),Cn.height=A,Cn.depth=-v,Cn},makeGlue=(n,e)=>{var r=makeSpan$2(["mspace"],[],e),o=calculateSize(n,e);return r.style.marginRight=makeEm(o),r},retrieveTextFontName=function(e,r,o){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var a;return r==="textbf"&&o==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",s+"-"+a},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(e,r){var[o,s,a]=svgData[e],l=new PathNode(o),c=new SvgNode([l],{width:makeEm(s),height:makeEm(a),style:"width:"+makeEm(s),viewBox:"0 0 "+1e3*s+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),d=makeSvgSpan(["overlay"],[c],r);return d.height=a,d.style.height=makeEm(a),d.style.width=makeEm(s),d},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(n){for(var{type:e,names:r,props:o,handler:s,htmlBuilder:a,mathmlBuilder:l}=n,c={type:e,numArgs:o.numArgs,argTypes:o.argTypes,allowedInArgument:!!o.allowedInArgument,allowedInText:!!o.allowedInText,allowedInMath:o.allowedInMath===void 0?!0:o.allowedInMath,numOptionalArgs:o.numOptionalArgs||0,infix:!!o.infix,primitive:!!o.primitive,handler:s},d=0;d<r.length;++d)_functions[r[d]]=c;e&&(a&&(_htmlGroupBuilders[e]=a),l&&(_mathmlGroupBuilders[e]=l))}function defineFunctionBuilders(n){var{type:e,htmlBuilder:r,mathmlBuilder:o}=n;defineFunction({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:o})}var normalizeArgument=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ordargument=function(e){return e.type==="ordgroup"?e.body:[e]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(e,r,o,s){s===void 0&&(s=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=buildGroup$1(e[l],r);if(c instanceof DocumentFragment){var d=c.children;a.push(...d)}else a.push(c)}if(buildCommon.tryCombineChars(a),!o)return a;var f=r;if(e.length===1){var g=e[0];g.type==="sizing"?f=r.havingSize(g.size):g.type==="styling"&&(f=r.havingStyle(styleMap$1[g.style]))}var v=makeSpan$1([s[0]||"leftmost"],[],r),A=makeSpan$1([s[1]||"rightmost"],[],r),M=o==="root";return traverseNonSpaceNodes(a,(Y,de)=>{var ae=de.classes[0],ze=Y.classes[0];ae==="mbin"&&utils.contains(binRightCanceller,ze)?de.classes[0]="mord":ze==="mbin"&&utils.contains(binLeftCanceller,ae)&&(Y.classes[0]="mord")},{node:v},A,M),traverseNonSpaceNodes(a,(Y,de)=>{var ae=getTypeOfDomTree(de),ze=getTypeOfDomTree(Y),qe=ae&&ze?Y.hasClass("mtight")?tightSpacings[ae][ze]:spacings[ae][ze]:null;if(qe)return buildCommon.makeGlue(qe,f)},{node:v},A,M),a},traverseNonSpaceNodes=function n(e,r,o,s,a){s&&e.push(s);for(var l=0;l<e.length;l++){var c=e[l],d=checkPartialGroup(c);if(d){n(d.children,r,o,null,a);continue}var f=!c.hasClass("mspace");if(f){var g=r(c,o.node);g&&(o.insertAfter?o.insertAfter(g):(e.unshift(g),l++))}f?o.node=c:a&&c.hasClass("newline")&&(o.node=makeSpan$1(["leftmost"])),o.insertAfter=(v=>A=>{e.splice(v+1,0,A),l++})(l)}s&&e.pop()},checkPartialGroup=function(e){return e instanceof DocumentFragment||e instanceof Anchor||e instanceof Span$1&&e.hasClass("enclosing")?e:null},getOutermostNode=function n(e,r){var o=checkPartialGroup(e);if(o){var s=o.children;if(s.length){if(r==="right")return n(s[s.length-1],"right");if(r==="left")return n(s[0],"left")}}return e},getTypeOfDomTree=function(e,r){return e?(r&&(e=getOutermostNode(e,r)),DomEnum[e.classes[0]]||null):null},makeNullDelimiter=function(e,r){var o=["nulldelimiter"].concat(e.baseSizingClasses());return makeSpan$1(r.concat(o))},buildGroup$1=function(e,r,o){if(!e)return makeSpan$1();if(_htmlGroupBuilders[e.type]){var s=_htmlGroupBuilders[e.type](e,r);if(o&&r.size!==o.size){s=makeSpan$1(r.sizingClasses(o),[s],r);var a=r.sizeMultiplier/o.sizeMultiplier;s.height*=a,s.depth*=a}return s}else throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildHTMLUnbreakable(n,e){var r=makeSpan$1(["base"],n,e),o=makeSpan$1(["strut"]);return o.style.height=makeEm(r.height+r.depth),r.depth&&(o.style.verticalAlign=makeEm(-r.depth)),r.children.unshift(o),r}function buildHTML(n,e){var r=null;n.length===1&&n[0].type==="tag"&&(r=n[0].tag,n=n[0].body);var o=buildExpression$1(n,e,"root"),s;o.length===2&&o[1].hasClass("tag")&&(s=o.pop());for(var a=[],l=[],c=0;c<o.length;c++)if(l.push(o[c]),o[c].hasClass("mbin")||o[c].hasClass("mrel")||o[c].hasClass("allowbreak")){for(var d=!1;c<o.length-1&&o[c+1].hasClass("mspace")&&!o[c+1].hasClass("newline");)c++,l.push(o[c]),o[c].hasClass("nobreak")&&(d=!0);d||(a.push(buildHTMLUnbreakable(l,e)),l=[])}else o[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(buildHTMLUnbreakable(l,e)),l=[]),a.push(o[c]));l.length>0&&a.push(buildHTMLUnbreakable(l,e));var f;r?(f=buildHTMLUnbreakable(buildExpression$1(r,e,!0)),f.classes=["tag"],a.push(f)):s&&a.push(s);var g=makeSpan$1(["katex-html"],a);if(g.setAttribute("aria-hidden","true"),f){var v=f.children[0];v.style.height=makeEm(g.height+g.depth),g.depth&&(v.style.verticalAlign=makeEm(-g.depth))}return g}function newDocumentFragment(n){return new DocumentFragment(n)}class MathNode{constructor(e,r,o){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=o||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=createClass(this.classes));for(var o=0;o<this.children.length;o++)e.appendChild(this.children[o].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=utils.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+utils.escape(createClass(this.classes))+'"'),e+=">";for(var o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}let TextNode$1=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}};class SpaceNode{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",makeEm(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode:TextNode$1,SpaceNode,newDocumentFragment},makeText=function(e,r,o){return symbols[r][e]&&symbols[r][e].replace&&e.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(e)&&o&&(o.fontFamily&&o.fontFamily.slice(4,6)==="tt"||o.font&&o.font.slice(4,6)==="tt"))&&(e=symbols[r][e].replace),new mathMLTree.TextNode(e)},makeRow=function(e){return e.length===1?e[0]:new mathMLTree.MathNode("mrow",e)},getVariant=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var o=r.font;if(!o||o==="mathnormal")return null;var s=e.mode;if(o==="mathit")return"italic";if(o==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(o==="mathbf")return"bold";if(o==="mathbb")return"double-struck";if(o==="mathfrak")return"fraktur";if(o==="mathscr"||o==="mathcal")return"script";if(o==="mathsf")return"sans-serif";if(o==="mathtt")return"monospace";var a=e.text;if(utils.contains(["\\imath","\\jmath"],a))return null;symbols[s][a]&&symbols[s][a].replace&&(a=symbols[s][a].replace);var l=buildCommon.fontMap[o].fontName;return getCharacterMetrics(a,l,s)?buildCommon.fontMap[o].variant:null},buildExpression=function(e,r,o){if(e.length===1){var s=buildGroup(e[0],r);return o&&s instanceof MathNode&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var a=[],l,c=0;c<e.length;c++){var d=buildGroup(e[c],r);if(d instanceof MathNode&&l instanceof MathNode){if(d.type==="mtext"&&l.type==="mtext"&&d.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...d.children);continue}else if(d.type==="mn"&&l.type==="mn"){l.children.push(...d.children);continue}else if(d.type==="mi"&&d.children.length===1&&l.type==="mn"){var f=d.children[0];if(f instanceof TextNode$1&&f.text==="."){l.children.push(...d.children);continue}}else if(l.type==="mi"&&l.children.length===1){var g=l.children[0];if(g instanceof TextNode$1&&g.text==="̸"&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var v=d.children[0];v instanceof TextNode$1&&v.text.length>0&&(v.text=v.text.slice(0,1)+"̸"+v.text.slice(1),a.pop())}}}a.push(d),l=d}return a},buildExpressionRow=function(e,r,o){return makeRow(buildExpression(e,r,o))},buildGroup=function(e,r){if(!e)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[e.type]){var o=_mathmlGroupBuilders[e.type](e,r);return o}else throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildMathML(n,e,r,o,s){var a=buildExpression(n,r),l;a.length===1&&a[0]instanceof MathNode&&utils.contains(["mrow","mtable"],a[0].type)?l=a[0]:l=new mathMLTree.MathNode("mrow",a);var c=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var d=new mathMLTree.MathNode("semantics",[l,c]),f=new mathMLTree.MathNode("math",[d]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),o&&f.setAttribute("display","block");var g=s?"katex":"katex-mathml";return buildCommon.makeSpan([g],[f])}var optionsFromSettings=function(e){return new Options({style:e.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},displayWrap=function(e,r){if(r.displayMode){var o=["katex-display"];r.leqno&&o.push("leqno"),r.fleqn&&o.push("fleqn"),e=buildCommon.makeSpan(o,[e])}return e},buildTree$1=function(e,r,o){var s=optionsFromSettings(o),a;if(o.output==="mathml")return buildMathML(e,r,s,o.displayMode,!0);if(o.output==="html"){var l=buildHTML(e,s);a=buildCommon.makeSpan(["katex"],[l])}else{var c=buildMathML(e,r,s,o.displayMode,!1),d=buildHTML(e,s);a=buildCommon.makeSpan(["katex"],[c,d])}return displayWrap(a,o)},buildHTMLTree=function(e,r,o){var s=optionsFromSettings(o),a=buildHTML(e,s),l=buildCommon.makeSpan(["katex"],[a]);return displayWrap(l,o)},stretchyCodePoint={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},mathMLnode=function(e){var r=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(e){return e.type==="ordgroup"?e.body.length:1},svgSpan=function(e,r){function o(){var c=4e5,d=e.label.slice(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],d)){var f=e,g=groupLength(f.base),v,A,M;if(g>5)d==="widehat"||d==="widecheck"?(v=420,c=2364,M=.42,A=d+"4"):(v=312,c=2340,M=.34,A="tilde4");else{var Y=[1,1,2,2,3,3][g];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][Y],v=[0,239,300,360,420][Y],M=[0,.24,.3,.3,.36,.42][Y],A=d+Y):(c=[0,600,1033,2339,2340][Y],v=[0,260,286,306,312][Y],M=[0,.26,.286,.3,.306,.34][Y],A="tilde"+Y)}var de=new PathNode(A),ae=new SvgNode([de],{width:"100%",height:makeEm(M),viewBox:"0 0 "+c+" "+v,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[ae],r),minWidth:0,height:M}}else{var ze=[],qe=katexImagesData[d],[Ue,hn,On]=qe,vn=On/1e3,bn=Ue.length,wn,Cn;if(bn===1){var En=qe[3];wn=["hide-tail"],Cn=[En]}else if(bn===2)wn=["halfarrow-left","halfarrow-right"],Cn=["xMinYMin","xMaxYMin"];else if(bn===3)wn=["brace-left","brace-center","brace-right"],Cn=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+bn+" children.");for(var _n=0;_n<bn;_n++){var Bn=new PathNode(Ue[_n]),jn=new SvgNode([Bn],{width:"400em",height:makeEm(vn),viewBox:"0 0 "+c+" "+On,preserveAspectRatio:Cn[_n]+" slice"}),Un=buildCommon.makeSvgSpan([wn[_n]],[jn],r);if(bn===1)return{span:Un,minWidth:hn,height:vn};Un.style.height=makeEm(vn),ze.push(Un)}return{span:buildCommon.makeSpan(["stretchy"],ze,r),minWidth:hn,height:vn}}}var{span:s,minWidth:a,height:l}=o();return s.height=l,s.style.height=makeEm(l),a>0&&(s.style.minWidth=makeEm(a)),s},encloseSpan=function(e,r,o,s,a){var l,c=e.height+e.depth+o+s;if(/fbox|color|angl/.test(r)){if(l=buildCommon.makeSpan(["stretchy",r],[],a),r==="fbox"){var d=a.color&&a.getColor();d&&(l.style.borderColor=d)}}else{var f=[];/^[bx]cancel$/.test(r)&&f.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&f.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var g=new SvgNode(f,{width:"100%",height:makeEm(c)});l=buildCommon.makeSvgSpan([],[g],a)}return l.height=c,l.style.height=makeEm(c),l},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function assertSymbolNodeType(n){var e=checkSymbolNodeType(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function checkSymbolNodeType(n){return n&&(n.type==="atom"||NON_ATOMS.hasOwnProperty(n.type))?n:null}var htmlBuilder$a=(n,e)=>{var r,o,s;n&&n.type==="supsub"?(o=assertNodeType(n.base,"accent"),r=o.base,n.base=r,s=assertSpan(buildGroup$1(n,e)),n.base=o):(o=assertNodeType(n,"accent"),r=o.base);var a=buildGroup$1(r,e.havingCrampedStyle()),l=o.isShifty&&utils.isCharacterBox(r),c=0;if(l){var d=utils.getBaseElem(r),f=buildGroup$1(d,e.havingCrampedStyle());c=assertSymbolDomNode(f).skew}var g=o.label==="\\c",v=g?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),A;if(o.isStretchy)A=stretchy.svgSpan(o,e),A=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:A,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+makeEm(2*c)+")",marginLeft:makeEm(2*c)}:void 0}]},e);else{var M,Y;o.label==="\\vec"?(M=buildCommon.staticSvg("vec",e),Y=buildCommon.svgData.vec[1]):(M=buildCommon.makeOrd({mode:o.mode,text:o.label},e,"textord"),M=assertSymbolDomNode(M),M.italic=0,Y=M.width,g&&(v+=M.depth)),A=buildCommon.makeSpan(["accent-body"],[M]);var de=o.label==="\\textcircled";de&&(A.classes.push("accent-full"),v=a.height);var ae=c;de||(ae-=Y/2),A.style.left=makeEm(ae),o.label==="\\textcircled"&&(A.style.top=".2em"),A=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-v},{type:"elem",elem:A}]},e)}var ze=buildCommon.makeSpan(["mord","accent"],[A],e);return s?(s.children[0]=ze,s.height=Math.max(ze.height,s.height),s.classes[0]="mord",s):ze},mathmlBuilder$9=(n,e)=>{var r=n.isStretchy?stretchy.mathMLnode(n.label):new mathMLTree.MathNode("mo",[makeText(n.label,n.mode)]),o=new mathMLTree.MathNode("mover",[buildGroup(n.base,e),r]);return o.setAttribute("accent","true"),o},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var r=normalizeArgument(e[0]),o=!NON_STRETCHY_ACCENT_REGEX.test(n.funcName),s=!o||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:o,isShifty:s,base:r}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var r=e[0],o=n.parser.mode;return o==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),o="text"),{type:"accent",mode:o,label:n.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0];return{type:"accentUnder",mode:r.mode,label:o,base:s}},htmlBuilder:(n,e)=>{var r=buildGroup$1(n.base,e),o=stretchy.svgSpan(n,e),s=n.label==="\\utilde"?.12:0,a=buildCommon.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:o,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:r}]},e);return buildCommon.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(n,e)=>{var r=stretchy.mathMLnode(n.label),o=new mathMLTree.MathNode("munder",[buildGroup(n.base,e),r]);return o.setAttribute("accentunder","true"),o}});var paddedNode=n=>{var e=new mathMLTree.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,r){var{parser:o,funcName:s}=n;return{type:"xArrow",mode:o.mode,label:s,body:e[0],below:r[0]}},htmlBuilder(n,e){var r=e.style,o=e.havingStyle(r.sup()),s=buildCommon.wrapFragment(buildGroup$1(n.body,o,e),e),a=n.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(a+"-arrow-pad");var l;n.below&&(o=e.havingStyle(r.sub()),l=buildCommon.wrapFragment(buildGroup$1(n.below,o,e),e),l.classes.push(a+"-arrow-pad"));var c=stretchy.svgSpan(n,e),d=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(s.depth>.25||n.label==="\\xleftequilibrium")&&(f-=s.depth);var g;if(l){var v=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;g=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:f},{type:"elem",elem:c,shift:d},{type:"elem",elem:l,shift:v}]},e)}else g=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:f},{type:"elem",elem:c,shift:d}]},e);return g.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[g],e)},mathmlBuilder(n,e){var r=stretchy.mathMLnode(n.label);r.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var o;if(n.body){var s=paddedNode(buildGroup(n.body,e));if(n.below){var a=paddedNode(buildGroup(n.below,e));o=new mathMLTree.MathNode("munderover",[r,a,s])}else o=new mathMLTree.MathNode("mover",[r,s])}else if(n.below){var l=paddedNode(buildGroup(n.below,e));o=new mathMLTree.MathNode("munder",[r,l])}else o=paddedNode(),o=new mathMLTree.MathNode("mover",[r,o]);return o}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(n,e){var r=buildExpression$1(n.body,e,!0);return makeSpan([n.mclass],r,e)}function mathmlBuilder$8(n,e){var r,o=buildExpression(n.body,e);return n.mclass==="minner"?r=new mathMLTree.MathNode("mpadded",o):n.mclass==="mord"?n.isCharacterBox?(r=o[0],r.type="mi"):r=new mathMLTree.MathNode("mi",o):(n.isCharacterBox?(r=o[0],r.type="mo"):r=new mathMLTree.MathNode("mo",o),n.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):n.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):n.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:r,funcName:o}=n,s=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+o.slice(5),body:ordargument(s),isCharacterBox:utils.isCharacterBox(s)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:r}=n;return{type:"mclass",mode:r.mode,mclass:binrelClass(e[0]),body:ordargument(e[1]),isCharacterBox:utils.isCharacterBox(e[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:r,funcName:o}=n,s=e[1],a=e[0],l;o!=="\\stackrel"?l=binrelClass(s):l="mrel";var c={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:o!=="\\stackrel",body:ordargument(s)},d={type:"supsub",mode:a.mode,base:c,sup:o==="\\underset"?null:a,sub:o==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:l,body:[d],isCharacterBox:utils.isCharacterBox(d)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:r}=n;return{type:"pmb",mode:r.mode,mclass:binrelClass(e[0]),body:ordargument(e[0])}},htmlBuilder(n,e){var r=buildExpression$1(n.body,e,!0),o=buildCommon.makeSpan([n.mclass],r,e);return o.style.textShadow="0.02em 0.01em 0.04px",o},mathmlBuilder(n,e){var r=buildExpression(n.body,e),o=new mathMLTree.MathNode("mstyle",r);return o.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),o}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=n=>n.type==="textord"&&n.text==="@",isLabelEnd=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function cdArrow(n,e,r){var o=cdArrowFunctionName[n];switch(o){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(o,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:o,mode:"math",family:"rel"},l=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[s,l,c]};return r.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var r=n.fetch().text;if(r==="&"||r==="\\\\")n.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var o=[],s=[o],a=0;a<e.length;a++){for(var l=e[a],c=newCell(),d=0;d<l.length;d++)if(!isStartOfArrow(l[d]))c.body.push(l[d]);else{o.push(c),d+=1;var f=assertSymbolNodeType(l[d]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var v=0;v<2;v++){for(var A=!0,M=d+1;M<l.length;M++){if(isLabelEnd(l[M],f)){A=!1,d=M;break}if(isStartOfArrow(l[M]))throw new ParseError("Missing a "+f+" character to complete a CD arrow.",l[M]);g[v].body.push(l[M])}if(A)throw new ParseError("Missing a "+f+" character to complete a CD arrow.",l[d])}else throw new ParseError('Expected one of "<>AV=|." after @',l[d]);var Y=cdArrow(f,g,n),de={type:"styling",body:[Y],mode:"math",style:"display"};o.push(de),c=newCell()}a%2===0?o.push(c):o.shift(),o=[],s.push(o)}n.gullet.endGroup(),n.gullet.endGroup();var ae=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:ae,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:r,funcName:o}=n;return{type:"cdlabel",mode:r.mode,side:o.slice(4),label:e[0]}},htmlBuilder(n,e){var r=e.havingStyle(e.style.sup()),o=buildCommon.wrapFragment(buildGroup$1(n.label,r,e),e);return o.classes.push("cd-label-"+n.side),o.style.bottom=makeEm(.8-o.depth),o.height=0,o.depth=0,o},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mrow",[buildGroup(n.label,e)]);return r=new mathMLTree.MathNode("mpadded",[r]),r.setAttribute("width","0"),n.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new mathMLTree.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:r}=n;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(n,e){var r=buildCommon.wrapFragment(buildGroup$1(n.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(n,e){return new mathMLTree.MathNode("mrow",[buildGroup(n.fragment,e)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:r}=n,o=assertNodeType(e[0],"ordgroup"),s=o.body,a="",l=0;l<s.length;l++){var c=assertNodeType(s[l],"textord");a+=c.text}var d=parseInt(a),f;if(isNaN(d))throw new ParseError("\\@char has non-numeric argument "+a);if(d<0||d>=1114111)throw new ParseError("\\@char with invalid code point "+a);return d<=65535?f=String.fromCharCode(d):(d-=65536,f=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:r.mode,text:f}}});var htmlBuilder$8=(n,e)=>{var r=buildExpression$1(n.body,e.withColor(n.color),!1);return buildCommon.makeFragment(r)},mathmlBuilder$7=(n,e)=>{var r=buildExpression(n.body,e.withColor(n.color)),o=new mathMLTree.MathNode("mstyle",r);return o.setAttribute("mathcolor",n.color),o};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:r}=n,o=assertNodeType(e[0],"color-token").color,s=e[1];return{type:"color",mode:r.mode,color:o,body:ordargument(s)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:r,breakOnTokenText:o}=n,s=assertNodeType(e[0],"color-token").color;r.gullet.macros.set("\\current@color",s);var a=r.parseExpression(!0,o);return{type:"color",mode:r.mode,color:s,body:a}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,r){var{parser:o}=n,s=o.gullet.future().text==="["?o.parseSizeGroup(!0):null,a=!o.settings.displayMode||!o.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:o.mode,newLine:a,size:s&&assertNodeType(s,"size").value}},htmlBuilder(n,e){var r=buildCommon.makeSpan(["mspace"],[],e);return n.newLine&&(r.classes.push("newline"),n.size&&(r.style.marginTop=makeEm(calculateSize(n.size,e)))),r},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mspace");return n.newLine&&(r.setAttribute("linebreak","newline"),n.size&&r.setAttribute("height",makeEm(calculateSize(n.size,e)))),r}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ParseError("Expected a control sequence",n);return e},getRHS=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},letCommand=(n,e,r,o)=>{var s=n.gullet.macros.get(r.text);s==null&&(r.noexpand=!0,s={tokens:[r],numArgs:0,unexpandable:!n.gullet.isExpandable(r.text)}),n.gullet.macros.set(e,s,o)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:r}=n;e.consumeSpaces();var o=e.fetch();if(globalMap[o.text])return(r==="\\global"||r==="\\\\globallong")&&(o.text=globalMap[o.text]),assertNodeType(e.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",o)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:r}=n,o=e.gullet.popToken(),s=o.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new ParseError("Expected a control sequence",o);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(o=e.gullet.popToken(),o.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(o=e.gullet.popToken(),!/^[1-9]$/.test(o.text))throw new ParseError('Invalid argument number "'+o.text+'"');if(parseInt(o.text)!==a+1)throw new ParseError('Argument number "'+o.text+'" out of order');a++,c.push([])}else{if(o.text==="EOF")throw new ParseError("Expected a macro definition");c[a].push(o.text)}var{tokens:d}=e.gullet.consumeArg();return l&&d.unshift(l),(r==="\\edef"||r==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(s,{tokens:d,numArgs:a,delimiters:c},r===globalMap[r]),{type:"internal",mode:e.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:r}=n,o=checkControlSequence(e.gullet.popToken());e.gullet.consumeSpaces();var s=getRHS(e);return letCommand(e,o,s,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:r}=n,o=checkControlSequence(e.gullet.popToken()),s=e.gullet.popToken(),a=e.gullet.popToken();return letCommand(e,o,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var getMetrics=function(e,r,o){var s=symbols.math[e]&&symbols.math[e].replace,a=getCharacterMetrics(s||e,r,o);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},styleWrap=function(e,r,o,s){var a=o.havingBaseStyle(r),l=buildCommon.makeSpan(s.concat(a.sizingClasses(o)),[e],o),c=a.sizeMultiplier/o.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},centerSpan=function(e,r,o){var s=r.havingBaseStyle(o),a=(1-r.sizeMultiplier/s.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=makeEm(a),e.height-=a,e.depth+=a},makeSmallDelim=function(e,r,o,s,a,l){var c=buildCommon.makeSymbol(e,"Main-Regular",a,s),d=styleWrap(c,r,s,l);return o&&centerSpan(d,s,r),d},mathrmSize=function(e,r,o,s){return buildCommon.makeSymbol(e,"Size"+r+"-Regular",o,s)},makeLargeDelim=function(e,r,o,s,a,l){var c=mathrmSize(e,r,a,s),d=styleWrap(buildCommon.makeSpan(["delimsizing","size"+r],[c],s),Style$1.TEXT,s,l);return o&&centerSpan(d,s,Style$1.TEXT),d},makeGlyphSpan=function(e,r,o){var s;r==="Size1-Regular"?s="delim-size1":s="delim-size4";var a=buildCommon.makeSpan(["delimsizinginner",s],[buildCommon.makeSpan([],[buildCommon.makeSymbol(e,r,o)])]);return{type:"elem",elem:a}},makeInner=function(e,r,o){var s=fontMetricsData["Size4-Regular"][e.charCodeAt(0)]?fontMetricsData["Size4-Regular"][e.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][e.charCodeAt(0)][4],a=new PathNode("inner",innerPath(e,Math.round(1e3*r))),l=new SvgNode([a],{width:makeEm(s),height:makeEm(r),style:"width:"+makeEm(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=buildCommon.makeSvgSpan([],[l],o);return c.height=r,c.style.height=makeEm(r),c.style.width=makeEm(s),{type:"elem",elem:c}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(e,r,o,s,a,l){var c,d,f,g,v="",A=0;c=f=g=e,d=null;var M="Size1-Regular";e==="\\uparrow"?f=g="⏐":e==="\\Uparrow"?f=g="‖":e==="\\downarrow"?c=f="⏐":e==="\\Downarrow"?c=f="‖":e==="\\updownarrow"?(c="\\uparrow",f="⏐",g="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="‖",g="\\Downarrow"):utils.contains(verts,e)?(f="∣",v="vert",A=333):utils.contains(doubleVerts,e)?(f="∥",v="doublevert",A=556):e==="["||e==="\\lbrack"?(c="⎡",f="⎢",g="⎣",M="Size4-Regular",v="lbrack",A=667):e==="]"||e==="\\rbrack"?(c="⎤",f="⎥",g="⎦",M="Size4-Regular",v="rbrack",A=667):e==="\\lfloor"||e==="⌊"?(f=c="⎢",g="⎣",M="Size4-Regular",v="lfloor",A=667):e==="\\lceil"||e==="⌈"?(c="⎡",f=g="⎢",M="Size4-Regular",v="lceil",A=667):e==="\\rfloor"||e==="⌋"?(f=c="⎥",g="⎦",M="Size4-Regular",v="rfloor",A=667):e==="\\rceil"||e==="⌉"?(c="⎤",f=g="⎥",M="Size4-Regular",v="rceil",A=667):e==="("||e==="\\lparen"?(c="⎛",f="⎜",g="⎝",M="Size4-Regular",v="lparen",A=875):e===")"||e==="\\rparen"?(c="⎞",f="⎟",g="⎠",M="Size4-Regular",v="rparen",A=875):e==="\\{"||e==="\\lbrace"?(c="⎧",d="⎨",g="⎩",f="⎪",M="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="⎫",d="⎬",g="⎭",f="⎪",M="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(c="⎧",g="⎩",f="⎪",M="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(c="⎫",g="⎭",f="⎪",M="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(c="⎧",g="⎭",f="⎪",M="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(c="⎫",g="⎩",f="⎪",M="Size4-Regular");var Y=getMetrics(c,M,a),de=Y.height+Y.depth,ae=getMetrics(f,M,a),ze=ae.height+ae.depth,qe=getMetrics(g,M,a),Ue=qe.height+qe.depth,hn=0,On=1;if(d!==null){var vn=getMetrics(d,M,a);hn=vn.height+vn.depth,On=2}var bn=de+Ue+hn,wn=Math.max(0,Math.ceil((r-bn)/(On*ze))),Cn=bn+wn*On*ze,En=s.fontMetrics().axisHeight;o&&(En*=s.sizeMultiplier);var _n=Cn/2-En,Bn=[];if(v.length>0){var jn=Cn-de-Ue,Un=Math.round(Cn*1e3),Rn=tallDelim(v,Math.round(jn*1e3)),Wn=new PathNode(v,Rn),$n=(A/1e3).toFixed(3)+"em",Xn=(Un/1e3).toFixed(3)+"em",xn=new SvgNode([Wn],{width:$n,height:Xn,viewBox:"0 0 "+A+" "+Un}),Mn=buildCommon.makeSvgSpan([],[xn],s);Mn.height=Un/1e3,Mn.style.width=$n,Mn.style.height=Xn,Bn.push({type:"elem",elem:Mn})}else{if(Bn.push(makeGlyphSpan(g,M,a)),Bn.push(lap),d===null){var Qn=Cn-de-Ue+2*lapInEms;Bn.push(makeInner(f,Qn,s))}else{var Nn=(Cn-de-Ue-hn)/2+2*lapInEms;Bn.push(makeInner(f,Nn,s)),Bn.push(lap),Bn.push(makeGlyphSpan(d,M,a)),Bn.push(lap),Bn.push(makeInner(f,Nn,s))}Bn.push(lap),Bn.push(makeGlyphSpan(c,M,a))}var Hn=s.havingBaseStyle(Style$1.TEXT),Dn=buildCommon.makeVList({positionType:"bottom",positionData:_n,children:Bn},Hn);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[Dn],Hn),Style$1.TEXT,s,l)},vbPad=80,emPad=.08,sqrtSvg=function(e,r,o,s,a){var l=sqrtPath(e,s,o),c=new PathNode(e,l),d=new SvgNode([c],{width:"400em",height:makeEm(r),viewBox:"0 0 400000 "+o,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[d],a)},makeSqrtImage=function(e,r){var o=r.havingBaseSizing(),s=traverseSequence("\\surd",e*o.sizeMultiplier,stackLargeDelimiterSequence,o),a=o.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,d=0,f=0,g=0,v;return s.type==="small"?(g=1e3+1e3*l+vbPad,e<1?a=1:e<1.4&&(a=.7),d=(1+l+emPad)/a,f=(1+l)/a,c=sqrtSvg("sqrtMain",d,g,l,r),c.style.minWidth="0.853em",v=.833/a):s.type==="large"?(g=(1e3+vbPad)*sizeToMaxHeight[s.size],f=(sizeToMaxHeight[s.size]+l)/a,d=(sizeToMaxHeight[s.size]+l+emPad)/a,c=sqrtSvg("sqrtSize"+s.size,d,g,l,r),c.style.minWidth="1.02em",v=1/a):(d=e+l+emPad,f=e+l,g=Math.floor(1e3*e+l)+vbPad,c=sqrtSvg("sqrtTall",d,g,l,r),c.style.minWidth="0.742em",v=1.056),c.height=f,c.style.height=makeEm(d),{span:c,advanceWidth:v,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*a}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(e,r,o,s,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),utils.contains(stackLargeDelimiters,e)||utils.contains(stackNeverDelimiters,e))return makeLargeDelim(e,r,!1,o,s,a);if(utils.contains(stackAlwaysDelimiters,e))return makeStackedDelim(e,sizeToMaxHeight[r],!1,o,s,a);throw new ParseError("Illegal delimiter: '"+e+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},traverseSequence=function(e,r,o,s){for(var a=Math.min(2,3-s.style.size),l=a;l<o.length&&o[l].type!=="stack";l++){var c=getMetrics(e,delimTypeToFont(o[l]),"math"),d=c.height+c.depth;if(o[l].type==="small"){var f=s.havingBaseStyle(o[l].style);d*=f.sizeMultiplier}if(d>r)return o[l]}return o[o.length-1]},makeCustomSizedDelim=function(e,r,o,s,a,l){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var c;utils.contains(stackNeverDelimiters,e)?c=stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,e)?c=stackLargeDelimiterSequence:c=stackAlwaysDelimiterSequence;var d=traverseSequence(e,r,c,s);return d.type==="small"?makeSmallDelim(e,d.style,o,s,a,l):d.type==="large"?makeLargeDelim(e,d.size,o,s,a,l):makeStackedDelim(e,r,o,s,a,l)},makeLeftRightDelim=function(e,r,o,s,a,l){var c=s.fontMetrics().axisHeight*s.sizeMultiplier,d=901,f=5/s.fontMetrics().ptPerEm,g=Math.max(r-c,o+c),v=Math.max(g/500*d,2*g-f);return makeCustomSizedDelim(e,v,!0,s,a,l)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(n,e){var r=checkSymbolNodeType(n);if(r&&utils.contains(delimiters,r.text))return r;throw r?new ParseError("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",n):new ParseError("Invalid delimiter type '"+n.type+"'",n)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var r=checkDelimiter(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:delimiterSizes[n.funcName].size,mclass:delimiterSizes[n.funcName].mclass,delim:r.text}},htmlBuilder:(n,e)=>n.delim==="."?buildCommon.makeSpan([n.mclass]):delimiter.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(makeText(n.delim,n.mode));var r=new mathMLTree.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var o=makeEm(delimiter.sizeToMaxHeight[n.size]);return r.setAttribute("minsize",o),r.setAttribute("maxsize",o),r}});function assertParsed(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var r=n.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:checkDelimiter(e[0],n).text,color:r}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var r=checkDelimiter(e[0],n),o=n.parser;++o.leftrightDepth;var s=o.parseExpression(!1);--o.leftrightDepth,o.expect("\\right",!1);var a=assertNodeType(o.parseFunction(),"leftright-right");return{type:"leftright",mode:o.mode,body:s,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(n,e)=>{assertParsed(n);for(var r=buildExpression$1(n.body,e,!0,["mopen","mclose"]),o=0,s=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(o=Math.max(r[l].height,o),s=Math.max(r[l].depth,s));o*=e.sizeMultiplier,s*=e.sizeMultiplier;var c;if(n.left==="."?c=makeNullDelimiter(e,["mopen"]):c=delimiter.leftRightDelim(n.left,o,s,e,n.mode,["mopen"]),r.unshift(c),a)for(var d=1;d<r.length;d++){var f=r[d],g=f.isMiddle;g&&(r[d]=delimiter.leftRightDelim(g.delim,o,s,g.options,n.mode,[]))}var v;if(n.right===".")v=makeNullDelimiter(e,["mclose"]);else{var A=n.rightColor?e.withColor(n.rightColor):e;v=delimiter.leftRightDelim(n.right,o,s,A,n.mode,["mclose"])}return r.push(v),buildCommon.makeSpan(["minner"],r,e)},mathmlBuilder:(n,e)=>{assertParsed(n);var r=buildExpression(n.body,e);if(n.left!=="."){var o=new mathMLTree.MathNode("mo",[makeText(n.left,n.mode)]);o.setAttribute("fence","true"),r.unshift(o)}if(n.right!=="."){var s=new mathMLTree.MathNode("mo",[makeText(n.right,n.mode)]);s.setAttribute("fence","true"),n.rightColor&&s.setAttribute("mathcolor",n.rightColor),r.push(s)}return makeRow(r)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var r=checkDelimiter(e[0],n);if(!n.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",r);return{type:"middle",mode:n.parser.mode,delim:r.text}},htmlBuilder:(n,e)=>{var r;if(n.delim===".")r=makeNullDelimiter(e,[]);else{r=delimiter.sizedDelim(n.delim,1,e,n.mode,[]);var o={delim:n.delim,options:e};r.isMiddle=o}return r},mathmlBuilder:(n,e)=>{var r=n.delim==="\\vert"||n.delim==="|"?makeText("|","text"):makeText(n.delim,n.mode),o=new mathMLTree.MathNode("mo",[r]);return o.setAttribute("fence","true"),o.setAttribute("lspace","0.05em"),o.setAttribute("rspace","0.05em"),o}});var htmlBuilder$7=(n,e)=>{var r=buildCommon.wrapFragment(buildGroup$1(n.body,e),e),o=n.label.slice(1),s=e.sizeMultiplier,a,l=0,c=utils.isCharacterBox(n.body);if(o==="sout")a=buildCommon.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if(o==="phase"){var d=calculateSize({number:.6,unit:"pt"},e),f=calculateSize({number:.35,unit:"ex"},e),g=e.havingBaseSizing();s=s/g.sizeMultiplier;var v=r.height+r.depth+d+f;r.style.paddingLeft=makeEm(v/2+d);var A=Math.floor(1e3*v*s),M=phasePath(A),Y=new SvgNode([new PathNode("phase",M)],{width:"400em",height:makeEm(A/1e3),viewBox:"0 0 400000 "+A,preserveAspectRatio:"xMinYMin slice"});a=buildCommon.makeSvgSpan(["hide-tail"],[Y],e),a.style.height=makeEm(v),l=r.depth+d+f}else{/cancel/.test(o)?c||r.classes.push("cancel-pad"):o==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var de=0,ae=0,ze=0;/box/.test(o)?(ze=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),de=e.fontMetrics().fboxsep+(o==="colorbox"?0:ze),ae=de):o==="angl"?(ze=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),de=4*ze,ae=Math.max(0,.25-r.depth)):(de=c?.2:0,ae=de),a=stretchy.encloseSpan(r,o,de,ae,e),/fbox|boxed|fcolorbox/.test(o)?(a.style.borderStyle="solid",a.style.borderWidth=makeEm(ze)):o==="angl"&&ze!==.049&&(a.style.borderTopWidth=makeEm(ze),a.style.borderRightWidth=makeEm(ze)),l=r.depth+ae,n.backgroundColor&&(a.style.backgroundColor=n.backgroundColor,n.borderColor&&(a.style.borderColor=n.borderColor))}var qe;if(n.backgroundColor)qe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:r,shift:0}]},e);else{var Ue=/cancel|phase/.test(o)?["svg-align"]:[];qe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:Ue}]},e)}return/cancel/.test(o)&&(qe.height=r.height,qe.depth=r.depth),/cancel/.test(o)&&!c?buildCommon.makeSpan(["mord","cancel-lap"],[qe],e):buildCommon.makeSpan(["mord"],[qe],e)},mathmlBuilder$6=(n,e)=>{var r=0,o=new mathMLTree.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(n.body,e)]);switch(n.label){case"\\cancel":o.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":o.setAttribute("notation","downdiagonalstrike");break;case"\\phase":o.setAttribute("notation","phasorangle");break;case"\\sout":o.setAttribute("notation","horizontalstrike");break;case"\\fbox":o.setAttribute("notation","box");break;case"\\angl":o.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,o.setAttribute("width","+"+2*r+"pt"),o.setAttribute("height","+"+2*r+"pt"),o.setAttribute("lspace",r+"pt"),o.setAttribute("voffset",r+"pt"),n.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);o.setAttribute("style","border: "+s+"em solid "+String(n.borderColor))}break;case"\\xcancel":o.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&o.setAttribute("mathbackground",n.backgroundColor),o};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,r){var{parser:o,funcName:s}=n,a=assertNodeType(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:o.mode,label:s,backgroundColor:a,body:l}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,r){var{parser:o,funcName:s}=n,a=assertNodeType(e[0],"color-token").color,l=assertNodeType(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:o.mode,label:s,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:r}=n;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:r,funcName:o}=n,s=e[0];return{type:"enclose",mode:r.mode,label:o,body:s}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:r}=n;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var _environments={};function defineEnvironment(n){for(var{type:e,names:r,props:o,handler:s,htmlBuilder:a,mathmlBuilder:l}=n,c={type:e,numArgs:o.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},d=0;d<r.length;++d)_environments[r[d]]=c;a&&(_htmlGroupBuilders[e]=a),l&&(_mathmlGroupBuilders[e]=l)}var _macros={};function defineMacro(n,e){_macros[n]=e}function getHLines(n){var e=[];n.consumeSpaces();var r=n.fetch().text;for(r==="\\relax"&&(n.consume(),n.consumeSpaces(),r=n.fetch().text);r==="\\hline"||r==="\\hdashline";)n.consume(),e.push(r==="\\hdashline"),n.consumeSpaces(),r=n.fetch().text;return e}var validateAmsEnvironmentContext=n=>{var e=n.parser.settings;if(!e.displayMode)throw new ParseError("{"+n.envName+"} can be used only in display mode.")};function getAutoTag(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function parseArray(n,e,r){var{hskipBeforeAndAfter:o,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:d,singleRow:f,emptySingleRow:g,maxNumCols:v,leqno:A}=e;if(n.gullet.beginGroup(),f||n.gullet.macros.set("\\cr","\\\\\\relax"),!l){var M=n.gullet.expandMacroAsText("\\arraystretch");if(M==null)l=1;else if(l=parseFloat(M),!l||l<0)throw new ParseError("Invalid \\arraystretch: "+M)}n.gullet.beginGroup();var Y=[],de=[Y],ae=[],ze=[],qe=d!=null?[]:void 0;function Ue(){d&&n.gullet.macros.set("\\@eqnsw","1",!0)}function hn(){qe&&(n.gullet.macros.get("\\df@tag")?(qe.push(n.subparse([new Token("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):qe.push(!!d&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(Ue(),ze.push(getHLines(n));;){var On=n.parseExpression(!1,f?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),On={type:"ordgroup",mode:n.mode,body:On},r&&(On={type:"styling",mode:n.mode,style:r,body:[On]}),Y.push(On);var vn=n.fetch().text;if(vn==="&"){if(v&&Y.length===v){if(f||c)throw new ParseError("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(vn==="\\end"){hn(),Y.length===1&&On.type==="styling"&&On.body[0].body.length===0&&(de.length>1||!g)&&de.pop(),ze.length<de.length+1&&ze.push([]);break}else if(vn==="\\\\"){n.consume();var bn=void 0;n.gullet.future().text!==" "&&(bn=n.parseSizeGroup(!0)),ae.push(bn?bn.value:null),hn(),ze.push(getHLines(n)),Y=[],de.push(Y),Ue()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:s,arraystretch:l,body:de,cols:a,rowGaps:ae,hskipBeforeAndAfter:o,hLinesBeforeRow:ze,colSeparationType:c,tags:qe,leqno:A}}function dCellStyle(n){return n.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function(e,r){var o,s,a=e.body.length,l=e.hLinesBeforeRow,c=0,d=new Array(a),f=[],g=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),v=1/r.fontMetrics().ptPerEm,A=5*v;if(e.colSeparationType&&e.colSeparationType==="small"){var M=r.havingStyle(Style$1.SCRIPT).sizeMultiplier;A=.2778*(M/r.sizeMultiplier)}var Y=e.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},r):12*v,de=3*v,ae=e.arraystretch*Y,ze=.7*ae,qe=.3*ae,Ue=0;function hn(Zn){for(var Jn=0;Jn<Zn.length;++Jn)Jn>0&&(Ue+=.25),f.push({pos:Ue,isDashed:Zn[Jn]})}for(hn(l[0]),o=0;o<e.body.length;++o){var On=e.body[o],vn=ze,bn=qe;c<On.length&&(c=On.length);var wn=new Array(On.length);for(s=0;s<On.length;++s){var Cn=buildGroup$1(On[s],r);bn<Cn.depth&&(bn=Cn.depth),vn<Cn.height&&(vn=Cn.height),wn[s]=Cn}var En=e.rowGaps[o],_n=0;En&&(_n=calculateSize(En,r),_n>0&&(_n+=qe,bn<_n&&(bn=_n),_n=0)),e.addJot&&(bn+=de),wn.height=vn,wn.depth=bn,Ue+=vn,wn.pos=Ue,Ue+=bn+_n,d[o]=wn,hn(l[o+1])}var Bn=Ue/2+r.fontMetrics().axisHeight,jn=e.cols||[],Un=[],Rn,Wn,$n=[];if(e.tags&&e.tags.some(Zn=>Zn))for(o=0;o<a;++o){var Xn=d[o],xn=Xn.pos-Bn,Mn=e.tags[o],Qn=void 0;Mn===!0?Qn=buildCommon.makeSpan(["eqn-num"],[],r):Mn===!1?Qn=buildCommon.makeSpan([],[],r):Qn=buildCommon.makeSpan([],buildExpression$1(Mn,r,!0),r),Qn.depth=Xn.depth,Qn.height=Xn.height,$n.push({type:"elem",elem:Qn,shift:xn})}for(s=0,Wn=0;s<c||Wn<jn.length;++s,++Wn){for(var Nn=jn[Wn]||{},Hn=!0;Nn.type==="separator";){if(Hn||(Rn=buildCommon.makeSpan(["arraycolsep"],[]),Rn.style.width=makeEm(r.fontMetrics().doubleRuleSep),Un.push(Rn)),Nn.separator==="|"||Nn.separator===":"){var Dn=Nn.separator==="|"?"solid":"dashed",An=buildCommon.makeSpan(["vertical-separator"],[],r);An.style.height=makeEm(Ue),An.style.borderRightWidth=makeEm(g),An.style.borderRightStyle=Dn,An.style.margin="0 "+makeEm(-g/2);var Ln=Ue-Bn;Ln&&(An.style.verticalAlign=makeEm(-Ln)),Un.push(An)}else throw new ParseError("Invalid separator type: "+Nn.separator);Wn++,Nn=jn[Wn]||{},Hn=!1}if(!(s>=c)){var Yn=void 0;(s>0||e.hskipBeforeAndAfter)&&(Yn=utils.deflt(Nn.pregap,A),Yn!==0&&(Rn=buildCommon.makeSpan(["arraycolsep"],[]),Rn.style.width=makeEm(Yn),Un.push(Rn)));var er=[];for(o=0;o<a;++o){var tr=d[o],Gn=tr[s];if(Gn){var ir=tr.pos-Bn;Gn.depth=tr.depth,Gn.height=tr.height,er.push({type:"elem",elem:Gn,shift:ir})}}er=buildCommon.makeVList({positionType:"individualShift",children:er},r),er=buildCommon.makeSpan(["col-align-"+(Nn.align||"c")],[er]),Un.push(er),(s<c-1||e.hskipBeforeAndAfter)&&(Yn=utils.deflt(Nn.postgap,A),Yn!==0&&(Rn=buildCommon.makeSpan(["arraycolsep"],[]),Rn.style.width=makeEm(Yn),Un.push(Rn)))}}if(d=buildCommon.makeSpan(["mtable"],Un),f.length>0){for(var cr=buildCommon.makeLineSpan("hline",r,g),Tn=buildCommon.makeLineSpan("hdashline",r,g),Pn=[{type:"elem",elem:d,shift:0}];f.length>0;){var Vn=f.pop(),Fn=Vn.pos-Bn;Vn.isDashed?Pn.push({type:"elem",elem:Tn,shift:Fn}):Pn.push({type:"elem",elem:cr,shift:Fn})}d=buildCommon.makeVList({positionType:"individualShift",children:Pn},r)}if($n.length===0)return buildCommon.makeSpan(["mord"],[d],r);var zn=buildCommon.makeVList({positionType:"individualShift",children:$n},r);return zn=buildCommon.makeSpan(["tag"],[zn],r),buildCommon.makeFragment([d,zn])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(e,r){for(var o=[],s=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),a=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],d=[],f=0;f<c.length;f++)d.push(new mathMLTree.MathNode("mtd",[buildGroup(c[f],r)]));e.tags&&e.tags[l]&&(d.unshift(s),d.push(s),e.leqno?d.unshift(a):d.push(a)),o.push(new mathMLTree.MathNode("mtr",d))}var g=new mathMLTree.MathNode("mtable",o),v=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);g.setAttribute("rowspacing",makeEm(v));var A="",M="";if(e.cols&&e.cols.length>0){var Y=e.cols,de="",ae=!1,ze=0,qe=Y.length;Y[0].type==="separator"&&(A+="top ",ze=1),Y[Y.length-1].type==="separator"&&(A+="bottom ",qe-=1);for(var Ue=ze;Ue<qe;Ue++)Y[Ue].type==="align"?(M+=alignMap[Y[Ue].align],ae&&(de+="none "),ae=!0):Y[Ue].type==="separator"&&ae&&(de+=Y[Ue].separator==="|"?"solid ":"dashed ",ae=!1);g.setAttribute("columnalign",M.trim()),/[sd]/.test(de)&&g.setAttribute("columnlines",de.trim())}if(e.colSeparationType==="align"){for(var hn=e.cols||[],On="",vn=1;vn<hn.length;vn++)On+=vn%2?"0em ":"1em ";g.setAttribute("columnspacing",On.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?g.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?g.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");var bn="",wn=e.hLinesBeforeRow;A+=wn[0].length>0?"left ":"",A+=wn[wn.length-1].length>0?"right ":"";for(var Cn=1;Cn<wn.length-1;Cn++)bn+=wn[Cn].length===0?"none ":wn[Cn][0]?"dashed ":"solid ";return/[sd]/.test(bn)&&g.setAttribute("rowlines",bn.trim()),A!==""&&(g=new mathMLTree.MathNode("menclose",[g]),g.setAttribute("notation",A.trim())),e.arraystretch&&e.arraystretch<1&&(g=new mathMLTree.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1")),g},alignedHandler=function(e,r){e.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(e);var o=[],s=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=parseArray(e.parser,{cols:o,addJot:!0,autoTag:a?void 0:getAutoTag(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,d=0,f={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var g="",v=0;v<r[0].body.length;v++){var A=assertNodeType(r[0].body[v],"textord");g+=A.text}c=Number(g),d=c*2}var M=!d;l.body.forEach(function(ze){for(var qe=1;qe<ze.length;qe+=2){var Ue=assertNodeType(ze[qe],"styling"),hn=assertNodeType(Ue.body[0],"ordgroup");hn.body.unshift(f)}if(M)d<ze.length&&(d=ze.length);else{var On=ze.length/2;if(c<On)throw new ParseError("Too many math in a row: "+("expected "+c+", but got "+On),ze[0])}});for(var Y=0;Y<d;++Y){var de="r",ae=0;Y%2===1?de="l":Y>0&&M&&(ae=1),o[Y]={type:"align",align:de,pregap:ae,postgap:0}}return l.colSeparationType=M?"align":"alignat",l};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var r=checkSymbolNodeType(e[0]),o=r?[e[0]]:assertNodeType(e[0],"ordgroup").body,s=o.map(function(l){var c=assertSymbolNodeType(l),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+d,l)}),a={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return parseArray(n.parser,a,dCellStyle(n.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],r="c",o={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(n.envName.charAt(n.envName.length-1)==="*"){var s=n.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),r=s.fetch().text,"lcr".indexOf(r)===-1)throw new ParseError("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),o.cols=[{type:"align",align:r}]}}var a=parseArray(n.parser,o,dCellStyle(n.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:r}),e?{type:"leftright",mode:n.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},r=parseArray(n.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var r=checkSymbolNodeType(e[0]),o=r?[e[0]]:assertNodeType(e[0],"ordgroup").body,s=o.map(function(l){var c=assertSymbolNodeType(l),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new ParseError("Unknown column alignment: "+d,l)});if(s.length>1)throw new ParseError("{subarray} can contain only one column");var a={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=parseArray(n.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return a},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=parseArray(n.parser,e,dCellStyle(n.envName));return{type:"leftright",mode:n.mode,body:[r],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){utils.contains(["gather","gather*"],n.envName)&&validateAmsEnvironmentContext(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return parseArray(n.parser,e,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){validateAmsEnvironmentContext(n);var e={autoTag:getAutoTag(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return parseArray(n.parser,e,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(n){return validateAmsEnvironmentContext(n),parseCD(n.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new ParseError(n.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:r,funcName:o}=n,s=e[0];if(s.type!=="ordgroup")throw new ParseError("Invalid environment name",s);for(var a="",l=0;l<s.body.length;++l)a+=assertNodeType(s.body[l],"textord").text;if(o==="\\begin"){if(!environments.hasOwnProperty(a))throw new ParseError("No such environment: "+a,s);var c=environments[a],{args:d,optArgs:f}=r.parseArguments("\\begin{"+a+"}",c),g={mode:r.mode,envName:a,parser:r},v=c.handler(g,d,f);r.expect("\\end",!1);var A=r.nextToken,M=assertNodeType(r.parseFunction(),"environment");if(M.name!==a)throw new ParseError("Mismatch: \\begin{"+a+"} matched by \\end{"+M.name+"}",A);return v}return{type:"environment",mode:r.mode,name:a,nameGroup:s}}});var htmlBuilder$5=(n,e)=>{var r=n.font,o=e.withFont(r);return buildGroup$1(n.body,o)},mathmlBuilder$4=(n,e)=>{var r=n.font,o=e.withFont(r);return buildGroup(n.body,o)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=normalizeArgument(e[0]),a=o;return a in fontAliases&&(a=fontAliases[a]),{type:"font",mode:r.mode,font:a.slice(1),body:s}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:r}=n,o=e[0],s=utils.isCharacterBox(o);return{type:"mclass",mode:r.mode,mclass:binrelClass(o),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:o}],isCharacterBox:s}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:r,funcName:o,breakOnTokenText:s}=n,{mode:a}=r,l=r.parseExpression(!0,s),c="math"+o.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(n,e)=>{var r=e;return n==="display"?r=r.id>=Style$1.SCRIPT.id?r.text():Style$1.DISPLAY:n==="text"&&r.size===Style$1.DISPLAY.size?r=Style$1.TEXT:n==="script"?r=Style$1.SCRIPT:n==="scriptscript"&&(r=Style$1.SCRIPTSCRIPT),r},htmlBuilder$4=(n,e)=>{var r=adjustStyle(n.size,e.style),o=r.fracNum(),s=r.fracDen(),a;a=e.havingStyle(o);var l=buildGroup$1(n.numer,a,e);if(n.continued){var c=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<d?d:l.depth}a=e.havingStyle(s);var f=buildGroup$1(n.denom,a,e),g,v,A;n.hasBarLine?(n.barSize?(v=calculateSize(n.barSize,e),g=buildCommon.makeLineSpan("frac-line",e,v)):g=buildCommon.makeLineSpan("frac-line",e),v=g.height,A=g.height):(g=null,v=0,A=e.fontMetrics().defaultRuleThickness);var M,Y,de;r.size===Style$1.DISPLAY.size||n.size==="display"?(M=e.fontMetrics().num1,v>0?Y=3*A:Y=7*A,de=e.fontMetrics().denom1):(v>0?(M=e.fontMetrics().num2,Y=A):(M=e.fontMetrics().num3,Y=3*A),de=e.fontMetrics().denom2);var ae;if(g){var qe=e.fontMetrics().axisHeight;M-l.depth-(qe+.5*v)<Y&&(M+=Y-(M-l.depth-(qe+.5*v))),qe-.5*v-(f.height-de)<Y&&(de+=Y-(qe-.5*v-(f.height-de)));var Ue=-(qe-.5*v);ae=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:de},{type:"elem",elem:g,shift:Ue},{type:"elem",elem:l,shift:-M}]},e)}else{var ze=M-l.depth-(f.height-de);ze<Y&&(M+=.5*(Y-ze),de+=.5*(Y-ze)),ae=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:de},{type:"elem",elem:l,shift:-M}]},e)}a=e.havingStyle(r),ae.height*=a.sizeMultiplier/e.sizeMultiplier,ae.depth*=a.sizeMultiplier/e.sizeMultiplier;var hn;r.size===Style$1.DISPLAY.size?hn=e.fontMetrics().delim1:r.size===Style$1.SCRIPTSCRIPT.size?hn=e.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:hn=e.fontMetrics().delim2;var On,vn;return n.leftDelim==null?On=makeNullDelimiter(e,["mopen"]):On=delimiter.customSizedDelim(n.leftDelim,hn,!0,e.havingStyle(r),n.mode,["mopen"]),n.continued?vn=buildCommon.makeSpan([]):n.rightDelim==null?vn=makeNullDelimiter(e,["mclose"]):vn=delimiter.customSizedDelim(n.rightDelim,hn,!0,e.havingStyle(r),n.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(a.sizingClasses(e)),[On,buildCommon.makeSpan(["mfrac"],[ae]),vn],e)},mathmlBuilder$3=(n,e)=>{var r=new mathMLTree.MathNode("mfrac",[buildGroup(n.numer,e),buildGroup(n.denom,e)]);if(!n.hasBarLine)r.setAttribute("linethickness","0px");else if(n.barSize){var o=calculateSize(n.barSize,e);r.setAttribute("linethickness",makeEm(o))}var s=adjustStyle(n.size,e.style);if(s.size!==e.style.size){r=new mathMLTree.MathNode("mstyle",[r]);var a=s.size===Style$1.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var l=[];if(n.leftDelim!=null){var c=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(n.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(r),n.rightDelim!=null){var d=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(n.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),l.push(d)}return makeRow(l)}return r};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0],a=e[1],l,c=null,d=null,f="auto";switch(o){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",d=")";break;case"\\\\bracefrac":l=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":l=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:a,hasBarLine:l,leftDelim:c,rightDelim:d,size:f,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:s,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:r,token:o}=n,s;switch(r){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:o}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:r}=n,o=e[4],s=e[5],a=normalizeArgument(e[0]),l=a.type==="atom"&&a.family==="open"?delimFromValue(a.text):null,c=normalizeArgument(e[1]),d=c.type==="atom"&&c.family==="close"?delimFromValue(c.text):null,f=assertNodeType(e[2],"size"),g,v=null;f.isBlank?g=!0:(v=f.value,g=v.number>0);var A="auto",M=e[3];if(M.type==="ordgroup"){if(M.body.length>0){var Y=assertNodeType(M.body[0],"textord");A=stylArray[Number(Y.text)]}}else M=assertNodeType(M,"textord"),A=stylArray[Number(M.text)];return{type:"genfrac",mode:r.mode,numer:o,denom:s,continued:!1,hasBarLine:g,barSize:v,leftDelim:l,rightDelim:d,size:A}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:r,funcName:o,token:s}=n;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(e[0],"size").value,token:s}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0],a=assert(assertNodeType(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:s,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(n,e)=>{var r=e.style,o,s;n.type==="supsub"?(o=n.sup?buildGroup$1(n.sup,e.havingStyle(r.sup()),e):buildGroup$1(n.sub,e.havingStyle(r.sub()),e),s=assertNodeType(n.base,"horizBrace")):s=assertNodeType(n,"horizBrace");var a=buildGroup$1(s.base,e.havingBaseStyle(Style$1.DISPLAY)),l=stretchy.svgSpan(s,e),c;if(s.isOver?(c=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=buildCommon.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),o){var d=buildCommon.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e);s.isOver?c=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:o}]},e):c=buildCommon.makeVList({positionType:"bottom",positionData:d.depth+.2+o.height+o.depth,children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return buildCommon.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e)},mathmlBuilder$2=(n,e)=>{var r=stretchy.mathMLnode(n.label);return new mathMLTree.MathNode(n.isOver?"mover":"munder",[buildGroup(n.base,e),r])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:r,funcName:o}=n;return{type:"horizBrace",mode:r.mode,label:o,isOver:/^\\over/.test(o),base:e[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:r}=n,o=e[1],s=assertNodeType(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:r.mode,href:s,body:ordargument(o)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var r=buildExpression$1(n.body,e,!1);return buildCommon.makeAnchor(n.href,[],r,e)},mathmlBuilder:(n,e)=>{var r=buildExpressionRow(n.body,e);return r instanceof MathNode||(r=new MathNode("mrow",[r])),r.setAttribute("href",n.href),r}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:r}=n,o=assertNodeType(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:o}))return r.formatUnsupportedCmd("\\url");for(var s=[],a=0;a<o.length;a++){var l=o[a];l==="~"&&(l="\\textasciitilde"),s.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:r.mode,font:"\\texttt",body:s};return{type:"href",mode:r.mode,href:o,body:ordargument(c)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:r}=n;return{type:"hbox",mode:r.mode,body:ordargument(e[0])}},htmlBuilder(n,e){var r=buildExpression$1(n.body,e,!1);return buildCommon.makeFragment(r)},mathmlBuilder(n,e){return new mathMLTree.MathNode("mrow",buildExpression(n.body,e))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:r,funcName:o,token:s}=n,a=assertNodeType(e[0],"raw").string,l=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(o){case"\\htmlClass":d.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":d.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":d.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),g=0;g<f.length;g++){var v=f[g].split("=");if(v.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");d["data-"+v[0].trim()]=v[1].trim()}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:d,body:ordargument(l)}:r.formatUnsupportedCmd(o)},htmlBuilder:(n,e)=>{var r=buildExpression$1(n.body,e,!1),o=["enclosing"];n.attributes.class&&o.push(...n.attributes.class.trim().split(/\s+/));var s=buildCommon.makeSpan(o,r,e);for(var a in n.attributes)a!=="class"&&n.attributes.hasOwnProperty(a)&&s.setAttribute(a,n.attributes[a]);return s},mathmlBuilder:(n,e)=>buildExpressionRow(n.body,e)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:r}=n;return{type:"htmlmathml",mode:r.mode,html:ordargument(e[0]),mathml:ordargument(e[1])}},htmlBuilder:(n,e)=>{var r=buildExpression$1(n.html,e,!1);return buildCommon.makeFragment(r)},mathmlBuilder:(n,e)=>buildExpressionRow(n.mathml,e)});var sizeData=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new ParseError("Invalid size: '"+e+"' in \\includegraphics");var o={number:+(r[1]+r[2]),unit:r[3]};if(!validUnit(o))throw new ParseError("Invalid unit: '"+o.unit+"' in \\includegraphics.");return o};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,r)=>{var{parser:o}=n,s={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(r[0])for(var d=assertNodeType(r[0],"raw").string,f=d.split(","),g=0;g<f.length;g++){var v=f[g].split("=");if(v.length===2){var A=v[1].trim();switch(v[0].trim()){case"alt":c=A;break;case"width":s=sizeData(A);break;case"height":a=sizeData(A);break;case"totalheight":l=sizeData(A);break;default:throw new ParseError("Invalid key: '"+v[0]+"' in \\includegraphics.")}}}var M=assertNodeType(e[0],"url").url;return c===""&&(c=M,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),o.settings.isTrusted({command:"\\includegraphics",url:M})?{type:"includegraphics",mode:o.mode,alt:c,width:s,height:a,totalheight:l,src:M}:o.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var r=calculateSize(n.height,e),o=0;n.totalheight.number>0&&(o=calculateSize(n.totalheight,e)-r);var s=0;n.width.number>0&&(s=calculateSize(n.width,e));var a={height:makeEm(r+o)};s>0&&(a.width=makeEm(s)),o>0&&(a.verticalAlign=makeEm(-o));var l=new Img(n.src,n.alt,a);return l.height=r,l.depth=o,l},mathmlBuilder:(n,e)=>{var r=new mathMLTree.MathNode("mglyph",[]);r.setAttribute("alt",n.alt);var o=calculateSize(n.height,e),s=0;if(n.totalheight.number>0&&(s=calculateSize(n.totalheight,e)-o,r.setAttribute("valign",makeEm(-s))),r.setAttribute("height",makeEm(o+s)),n.width.number>0){var a=calculateSize(n.width,e);r.setAttribute("width",makeEm(a))}return r.setAttribute("src",n.src),r}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:r,funcName:o}=n,s=assertNodeType(e[0],"size");if(r.settings.strict){var a=o[1]==="m",l=s.value.unit==="mu";a?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" supports only mu units, "+("not "+s.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:s.value}},htmlBuilder(n,e){return buildCommon.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var r=calculateSize(n.dimension,e);return new mathMLTree.SpaceNode(r)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0];return{type:"lap",mode:r.mode,alignment:o.slice(5),body:s}},htmlBuilder:(n,e)=>{var r;n.alignment==="clap"?(r=buildCommon.makeSpan([],[buildGroup$1(n.body,e)]),r=buildCommon.makeSpan(["inner"],[r],e)):r=buildCommon.makeSpan(["inner"],[buildGroup$1(n.body,e)]);var o=buildCommon.makeSpan(["fix"],[]),s=buildCommon.makeSpan([n.alignment],[r,o],e),a=buildCommon.makeSpan(["strut"]);return a.style.height=makeEm(s.height+s.depth),s.depth&&(a.style.verticalAlign=makeEm(-s.depth)),s.children.unshift(a),s=buildCommon.makeSpan(["thinbox"],[s],e),buildCommon.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(n,e)=>{var r=new mathMLTree.MathNode("mpadded",[buildGroup(n.body,e)]);if(n.alignment!=="rlap"){var o=n.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",o+"width")}return r.setAttribute("width","0px"),r}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:r,parser:o}=n,s=o.mode;o.switchMode("math");var a=r==="\\("?"\\)":"$",l=o.parseExpression(!1,a);return o.expect(a),o.switchMode(s),{type:"styling",mode:o.mode,style:"text",body:l}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new ParseError("Mismatched "+n.funcName)}});var chooseMathStyle=(n,e)=>{switch(e.style.size){case Style$1.DISPLAY.size:return n.display;case Style$1.TEXT.size:return n.text;case Style$1.SCRIPT.size:return n.script;case Style$1.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:r}=n;return{type:"mathchoice",mode:r.mode,display:ordargument(e[0]),text:ordargument(e[1]),script:ordargument(e[2]),scriptscript:ordargument(e[3])}},htmlBuilder:(n,e)=>{var r=chooseMathStyle(n,e),o=buildExpression$1(r,e,!1);return buildCommon.makeFragment(o)},mathmlBuilder:(n,e)=>{var r=chooseMathStyle(n,e);return buildExpressionRow(r,e)}});var assembleSupSub=(n,e,r,o,s,a,l)=>{n=buildCommon.makeSpan([],[n]);var c=r&&utils.isCharacterBox(r),d,f;if(e){var g=buildGroup$1(e,o.havingStyle(s.sup()),o);f={elem:g,kern:Math.max(o.fontMetrics().bigOpSpacing1,o.fontMetrics().bigOpSpacing3-g.depth)}}if(r){var v=buildGroup$1(r,o.havingStyle(s.sub()),o);d={elem:v,kern:Math.max(o.fontMetrics().bigOpSpacing2,o.fontMetrics().bigOpSpacing4-v.height)}}var A;if(f&&d){var M=o.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+n.depth+l;A=buildCommon.makeVList({positionType:"bottom",positionData:M,children:[{type:"kern",size:o.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:makeEm(-a)},{type:"kern",size:d.kern},{type:"elem",elem:n},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:makeEm(a)},{type:"kern",size:o.fontMetrics().bigOpSpacing5}]},o)}else if(d){var Y=n.height-l;A=buildCommon.makeVList({positionType:"top",positionData:Y,children:[{type:"kern",size:o.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:makeEm(-a)},{type:"kern",size:d.kern},{type:"elem",elem:n}]},o)}else if(f){var de=n.depth+l;A=buildCommon.makeVList({positionType:"bottom",positionData:de,children:[{type:"elem",elem:n},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:makeEm(a)},{type:"kern",size:o.fontMetrics().bigOpSpacing5}]},o)}else return n;var ae=[A];if(d&&a!==0&&!c){var ze=buildCommon.makeSpan(["mspace"],[],o);ze.style.marginRight=makeEm(a),ae.unshift(ze)}return buildCommon.makeSpan(["mop","op-limits"],ae,o)},noSuccessor=["\\smallint"],htmlBuilder$2=(n,e)=>{var r,o,s=!1,a;n.type==="supsub"?(r=n.sup,o=n.sub,a=assertNodeType(n.base,"op"),s=!0):a=assertNodeType(n,"op");var l=e.style,c=!1;l.size===Style$1.DISPLAY.size&&a.symbol&&!utils.contains(noSuccessor,a.name)&&(c=!0);var d;if(a.symbol){var f=c?"Size2-Regular":"Size1-Regular",g="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(g=a.name.slice(1),a.name=g==="oiint"?"\\iint":"\\iiint"),d=buildCommon.makeSymbol(a.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),g.length>0){var v=d.italic,A=buildCommon.staticSvg(g+"Size"+(c?"2":"1"),e);d=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:A,shift:c?.08:0}]},e),a.name="\\"+g,d.classes.unshift("mop"),d.italic=v}}else if(a.body){var M=buildExpression$1(a.body,e,!0);M.length===1&&M[0]instanceof SymbolNode?(d=M[0],d.classes[0]="mop"):d=buildCommon.makeSpan(["mop"],M,e)}else{for(var Y=[],de=1;de<a.name.length;de++)Y.push(buildCommon.mathsym(a.name[de],a.mode,e));d=buildCommon.makeSpan(["mop"],Y,e)}var ae=0,ze=0;return(d instanceof SymbolNode||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(ae=(d.height-d.depth)/2-e.fontMetrics().axisHeight,ze=d.italic),s?assembleSupSub(d,r,o,e,l,ze,ae):(ae&&(d.style.position="relative",d.style.top=makeEm(ae)),d)},mathmlBuilder$1=(n,e)=>{var r;if(n.symbol)r=new MathNode("mo",[makeText(n.name,n.mode)]),utils.contains(noSuccessor,n.name)&&r.setAttribute("largeop","false");else if(n.body)r=new MathNode("mo",buildExpression(n.body,e));else{r=new MathNode("mi",[new TextNode$1(n.name.slice(1))]);var o=new MathNode("mo",[makeText("⁡","text")]);n.parentIsSupSub?r=new MathNode("mrow",[r,o]):r=newDocumentFragment([r,o])}return r},singleCharBigOps={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=o;return s.length===1&&(s=singleCharBigOps[s]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:r}=n,o=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(o)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:r}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:r}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(n){var{parser:e,funcName:r}=n,o=r;return o.length===1&&(o=singleCharIntegrals[o]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(n,e)=>{var r,o,s=!1,a;n.type==="supsub"?(r=n.sup,o=n.sub,a=assertNodeType(n.base,"operatorname"),s=!0):a=assertNodeType(n,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(v=>{var A=v.text;return typeof A=="string"?{type:"textord",mode:v.mode,text:A}:v}),d=buildExpression$1(c,e.withFont("mathrm"),!0),f=0;f<d.length;f++){var g=d[f];g instanceof SymbolNode&&(g.text=g.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=buildCommon.makeSpan(["mop"],d,e)}else l=buildCommon.makeSpan(["mop"],[],e);return s?assembleSupSub(l,r,o,e,e.style,0,0):l},mathmlBuilder=(n,e)=>{for(var r=buildExpression(n.body,e.withFont("mathrm")),o=!0,s=0;s<r.length;s++){var a=r[s];if(!(a instanceof mathMLTree.SpaceNode))if(a instanceof mathMLTree.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof mathMLTree.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):o=!1;break}default:o=!1}else o=!1}if(o){var c=r.map(g=>g.toText()).join("");r=[new mathMLTree.TextNode(c)]}var d=new mathMLTree.MathNode("mi",r);d.setAttribute("mathvariant","normal");var f=new mathMLTree.MathNode("mo",[makeText("⁡","text")]);return n.parentIsSupSub?new mathMLTree.MathNode("mrow",[d,f]):mathMLTree.newDocumentFragment([d,f])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:r,funcName:o}=n,s=e[0];return{type:"operatorname",mode:r.mode,body:ordargument(s),alwaysHandleSupSub:o==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?buildCommon.makeFragment(buildExpression$1(n.body,e,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(n.body,e,!0),e)},mathmlBuilder(n,e){return buildExpressionRow(n.body,e,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:r}=n,o=e[0];return{type:"overline",mode:r.mode,body:o}},htmlBuilder(n,e){var r=buildGroup$1(n.body,e.havingCrampedStyle()),o=buildCommon.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,a=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:o},{type:"kern",size:s}]},e);return buildCommon.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);r.setAttribute("stretchy","true");var o=new mathMLTree.MathNode("mover",[buildGroup(n.body,e),r]);return o.setAttribute("accent","true"),o}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:r}=n,o=e[0];return{type:"phantom",mode:r.mode,body:ordargument(o)}},htmlBuilder:(n,e)=>{var r=buildExpression$1(n.body,e.withPhantom(),!1);return buildCommon.makeFragment(r)},mathmlBuilder:(n,e)=>{var r=buildExpression(n.body,e);return new mathMLTree.MathNode("mphantom",r)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:r}=n,o=e[0];return{type:"hphantom",mode:r.mode,body:o}},htmlBuilder:(n,e)=>{var r=buildCommon.makeSpan([],[buildGroup$1(n.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var o=0;o<r.children.length;o++)r.children[o].height=0,r.children[o].depth=0;return r=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),buildCommon.makeSpan(["mord"],[r],e)},mathmlBuilder:(n,e)=>{var r=buildExpression(ordargument(n.body),e),o=new mathMLTree.MathNode("mphantom",r),s=new mathMLTree.MathNode("mpadded",[o]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:r}=n,o=e[0];return{type:"vphantom",mode:r.mode,body:o}},htmlBuilder:(n,e)=>{var r=buildCommon.makeSpan(["inner"],[buildGroup$1(n.body,e.withPhantom())]),o=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[r,o],e)},mathmlBuilder:(n,e)=>{var r=buildExpression(ordargument(n.body),e),o=new mathMLTree.MathNode("mphantom",r),s=new mathMLTree.MathNode("mpadded",[o]);return s.setAttribute("width","0px"),s}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:r}=n,o=assertNodeType(e[0],"size").value,s=e[1];return{type:"raisebox",mode:r.mode,dy:o,body:s}},htmlBuilder(n,e){var r=buildGroup$1(n.body,e),o=calculateSize(n.dy,e);return buildCommon.makeVList({positionType:"shift",positionData:-o,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mpadded",[buildGroup(n.body,e)]),o=n.dy.number+n.dy.unit;return r.setAttribute("voffset",o),r}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(n,e,r){var{parser:o}=n,s=r[0],a=assertNodeType(e[0],"size"),l=assertNodeType(e[1],"size");return{type:"rule",mode:o.mode,shift:s&&assertNodeType(s,"size").value,width:a.value,height:l.value}},htmlBuilder(n,e){var r=buildCommon.makeSpan(["mord","rule"],[],e),o=calculateSize(n.width,e),s=calculateSize(n.height,e),a=n.shift?calculateSize(n.shift,e):0;return r.style.borderRightWidth=makeEm(o),r.style.borderTopWidth=makeEm(s),r.style.bottom=makeEm(a),r.width=o,r.height=s+a,r.depth=-a,r.maxFontSize=s*1.125*e.sizeMultiplier,r},mathmlBuilder(n,e){var r=calculateSize(n.width,e),o=calculateSize(n.height,e),s=n.shift?calculateSize(n.shift,e):0,a=e.color&&e.getColor()||"black",l=new mathMLTree.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",makeEm(r)),l.setAttribute("height",makeEm(o));var c=new mathMLTree.MathNode("mpadded",[l]);return s>=0?c.setAttribute("height",makeEm(s)):(c.setAttribute("height",makeEm(s)),c.setAttribute("depth",makeEm(-s))),c.setAttribute("voffset",makeEm(s)),c}});function sizingGroup(n,e,r){for(var o=buildExpression$1(n,e,!1),s=e.sizeMultiplier/r.sizeMultiplier,a=0;a<o.length;a++){var l=o[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(o[a].classes,e.sizingClasses(r)):o[a].classes[l+1]==="reset-size"+e.size&&(o[a].classes[l+1]="reset-size"+r.size),o[a].height*=s,o[a].depth*=s}return buildCommon.makeFragment(o)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(n,e)=>{var r=e.havingSize(n.size);return sizingGroup(n.body,r,e)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:r,funcName:o,parser:s}=n,a=s.parseExpression(!1,r);return{type:"sizing",mode:s.mode,size:sizeFuncs.indexOf(o)+1,body:a}},htmlBuilder,mathmlBuilder:(n,e)=>{var r=e.havingSize(n.size),o=buildExpression(n.body,r),s=new mathMLTree.MathNode("mstyle",o);return s.setAttribute("mathsize",makeEm(r.sizeMultiplier)),s}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,r)=>{var{parser:o}=n,s=!1,a=!1,l=r[0]&&assertNodeType(r[0],"ordgroup");if(l)for(var c="",d=0;d<l.body.length;++d){var f=l.body[d];if(c=f.text,c==="t")s=!0;else if(c==="b")a=!0;else{s=!1,a=!1;break}}else s=!0,a=!0;var g=e[0];return{type:"smash",mode:o.mode,body:g,smashHeight:s,smashDepth:a}},htmlBuilder:(n,e)=>{var r=buildCommon.makeSpan([],[buildGroup$1(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return r;if(n.smashHeight&&(r.height=0,r.children))for(var o=0;o<r.children.length;o++)r.children[o].height=0;if(n.smashDepth&&(r.depth=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].depth=0;var a=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return buildCommon.makeSpan(["mord"],[a],e)},mathmlBuilder:(n,e)=>{var r=new mathMLTree.MathNode("mpadded",[buildGroup(n.body,e)]);return n.smashHeight&&r.setAttribute("height","0px"),n.smashDepth&&r.setAttribute("depth","0px"),r}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,r){var{parser:o}=n,s=r[0],a=e[0];return{type:"sqrt",mode:o.mode,body:a,index:s}},htmlBuilder(n,e){var r=buildGroup$1(n.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=buildCommon.wrapFragment(r,e);var o=e.fontMetrics(),s=o.defaultRuleThickness,a=s;e.style.id<Style$1.TEXT.id&&(a=e.fontMetrics().xHeight);var l=s+a/4,c=r.height+r.depth+l+s,{span:d,ruleWidth:f,advanceWidth:g}=delimiter.sqrtImage(c,e),v=d.height-f;v>r.height+r.depth+l&&(l=(l+v-r.height-r.depth)/2);var A=d.height-r.height-l-f;r.style.paddingLeft=makeEm(g);var M=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+A)},{type:"elem",elem:d},{type:"kern",size:f}]},e);if(n.index){var Y=e.havingStyle(Style$1.SCRIPTSCRIPT),de=buildGroup$1(n.index,Y,e),ae=.6*(M.height-M.depth),ze=buildCommon.makeVList({positionType:"shift",positionData:-ae,children:[{type:"elem",elem:de}]},e),qe=buildCommon.makeSpan(["root"],[ze]);return buildCommon.makeSpan(["mord","sqrt"],[qe,M],e)}else return buildCommon.makeSpan(["mord","sqrt"],[M],e)},mathmlBuilder(n,e){var{body:r,index:o}=n;return o?new mathMLTree.MathNode("mroot",[buildGroup(r,e),buildGroup(o,e)]):new mathMLTree.MathNode("msqrt",[buildGroup(r,e)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:r,funcName:o,parser:s}=n,a=s.parseExpression(!0,r),l=o.slice(1,o.length-5);return{type:"styling",mode:s.mode,style:l,body:a}},htmlBuilder(n,e){var r=styleMap[n.style],o=e.havingStyle(r).withFont("");return sizingGroup(n.body,o,e)},mathmlBuilder(n,e){var r=styleMap[n.style],o=e.havingStyle(r),s=buildExpression(n.body,o),a=new mathMLTree.MathNode("mstyle",s),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[n.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var htmlBuilderDelegate=function(e,r){var o=e.base;if(o)if(o.type==="op"){var s=o.limits&&(r.style.size===Style$1.DISPLAY.size||o.alwaysHandleSupSub);return s?htmlBuilder$2:null}else if(o.type==="operatorname"){var a=o.alwaysHandleSupSub&&(r.style.size===Style$1.DISPLAY.size||o.limits);return a?htmlBuilder$1:null}else{if(o.type==="accent")return utils.isCharacterBox(o.base)?htmlBuilder$a:null;if(o.type==="horizBrace"){var l=!e.sub;return l===o.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(n,e){var r=htmlBuilderDelegate(n,e);if(r)return r(n,e);var{base:o,sup:s,sub:a}=n,l=buildGroup$1(o,e),c,d,f=e.fontMetrics(),g=0,v=0,A=o&&utils.isCharacterBox(o);if(s){var M=e.havingStyle(e.style.sup());c=buildGroup$1(s,M,e),A||(g=l.height-M.fontMetrics().supDrop*M.sizeMultiplier/e.sizeMultiplier)}if(a){var Y=e.havingStyle(e.style.sub());d=buildGroup$1(a,Y,e),A||(v=l.depth+Y.fontMetrics().subDrop*Y.sizeMultiplier/e.sizeMultiplier)}var de;e.style===Style$1.DISPLAY?de=f.sup1:e.style.cramped?de=f.sup3:de=f.sup2;var ae=e.sizeMultiplier,ze=makeEm(.5/f.ptPerEm/ae),qe=null;if(d){var Ue=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(l instanceof SymbolNode||Ue)&&(qe=makeEm(-l.italic))}var hn;if(c&&d){g=Math.max(g,de,c.depth+.25*f.xHeight),v=Math.max(v,f.sub2);var On=f.defaultRuleThickness,vn=4*On;if(g-c.depth-(d.height-v)<vn){v=vn-(g-c.depth)+d.height;var bn=.8*f.xHeight-(g-c.depth);bn>0&&(g+=bn,v-=bn)}var wn=[{type:"elem",elem:d,shift:v,marginRight:ze,marginLeft:qe},{type:"elem",elem:c,shift:-g,marginRight:ze}];hn=buildCommon.makeVList({positionType:"individualShift",children:wn},e)}else if(d){v=Math.max(v,f.sub1,d.height-.8*f.xHeight);var Cn=[{type:"elem",elem:d,marginLeft:qe,marginRight:ze}];hn=buildCommon.makeVList({positionType:"shift",positionData:v,children:Cn},e)}else if(c)g=Math.max(g,de,c.depth+.25*f.xHeight),hn=buildCommon.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:c,marginRight:ze}]},e);else throw new Error("supsub must have either sup or sub.");var En=getTypeOfDomTree(l,"right")||"mord";return buildCommon.makeSpan([En],[l,buildCommon.makeSpan(["msupsub"],[hn])],e)},mathmlBuilder(n,e){var r=!1,o,s;n.base&&n.base.type==="horizBrace"&&(s=!!n.sup,s===n.base.isOver&&(r=!0,o=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var a=[buildGroup(n.base,e)];n.sub&&a.push(buildGroup(n.sub,e)),n.sup&&a.push(buildGroup(n.sup,e));var l;if(r)l=o?"mover":"munder";else if(n.sub)if(n.sup){var f=n.base;f&&f.type==="op"&&f.limits&&e.style===Style$1.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===Style$1.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var d=n.base;d&&d.type==="op"&&d.limits&&(e.style===Style$1.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===Style$1.DISPLAY)?l="munder":l="msub"}else{var c=n.base;c&&c.type==="op"&&c.limits&&(e.style===Style$1.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Style$1.DISPLAY)?l="mover":l="msup"}return new mathMLTree.MathNode(l,a)}});defineFunctionBuilders({type:"atom",htmlBuilder(n,e){return buildCommon.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mo",[makeText(n.text,n.mode)]);if(n.family==="bin"){var o=getVariant(n,e);o==="bold-italic"&&r.setAttribute("mathvariant",o)}else n.family==="punct"?r.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&r.setAttribute("stretchy","false");return r}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(n,e){return buildCommon.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mi",[makeText(n.text,n.mode,e)]),o=getVariant(n,e)||"italic";return o!==defaultVariant[r.type]&&r.setAttribute("mathvariant",o),r}});defineFunctionBuilders({type:"textord",htmlBuilder(n,e){return buildCommon.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var r=makeText(n.text,n.mode,e),o=getVariant(n,e)||"normal",s;return n.mode==="text"?s=new mathMLTree.MathNode("mtext",[r]):/[0-9]/.test(n.text)?s=new mathMLTree.MathNode("mn",[r]):n.text==="\\prime"?s=new mathMLTree.MathNode("mo",[r]):s=new mathMLTree.MathNode("mi",[r]),o!==defaultVariant[s.type]&&s.setAttribute("mathvariant",o),s}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(n,e){if(regularSpace.hasOwnProperty(n.text)){var r=regularSpace[n.text].className||"";if(n.mode==="text"){var o=buildCommon.makeOrd(n,e,"textord");return o.classes.push(r),o}else return buildCommon.makeSpan(["mspace",r],[buildCommon.mathsym(n.text,n.mode,e)],e)}else{if(cssSpace.hasOwnProperty(n.text))return buildCommon.makeSpan(["mspace",cssSpace[n.text]],[],e);throw new ParseError('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var r;if(regularSpace.hasOwnProperty(n.text))r=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode(" ")]);else{if(cssSpace.hasOwnProperty(n.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+n.text+'"')}return r}});var pad=()=>{var n=new mathMLTree.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};defineFunctionBuilders({type:"tag",mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(n.body,e)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(n.tag,e)])])]);return r.setAttribute("width","100%"),r}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(n,e)=>{var r=n.font;return r?textFontFamilies[r]?e.withTextFontFamily(textFontFamilies[r]):textFontWeights[r]?e.withTextFontWeight(textFontWeights[r]):e.withTextFontShape(textFontShapes[r]):e};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:r,funcName:o}=n,s=e[0];return{type:"text",mode:r.mode,body:ordargument(s),font:o}},htmlBuilder(n,e){var r=optionsWithFont(n,e),o=buildExpression$1(n.body,r,!0);return buildCommon.makeSpan(["mord","text"],o,r)},mathmlBuilder(n,e){var r=optionsWithFont(n,e);return buildExpressionRow(n.body,r)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:r}=n;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(n,e){var r=buildGroup$1(n.body,e),o=buildCommon.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,a=buildCommon.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:s},{type:"elem",elem:o},{type:"kern",size:3*s},{type:"elem",elem:r}]},e);return buildCommon.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(n,e){var r=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);r.setAttribute("stretchy","true");var o=new mathMLTree.MathNode("munder",[buildGroup(n.body,e),r]);return o.setAttribute("accentunder","true"),o}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:r}=n;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(n,e){var r=buildGroup$1(n.body,e),o=e.fontMetrics().axisHeight,s=.5*(r.height-o-(r.depth+o));return buildCommon.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(n,e){return new mathMLTree.MathNode("mpadded",[buildGroup(n.body,e)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,r){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var r=makeVerb(n),o=[],s=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var l=r[a];l==="~"&&(l="\\textasciitilde"),o.push(buildCommon.makeSymbol(l,"Typewriter-Regular",n.mode,s,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(s.sizingClasses(e)),buildCommon.tryCombineChars(o),s)},mathmlBuilder(n,e){var r=new mathMLTree.TextNode(makeVerb(n)),o=new mathMLTree.MathNode("mtext",[r]);return o.setAttribute("mathvariant","monospace"),o}});var makeVerb=n=>n.body.replace(/ /g,n.star?"␣":" "),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[̀-ͯ]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Token("EOF",new SourceLocation(this,r,r));var o=this.tokenRegex.exec(e);if(o===null||o.index!==r)throw new ParseError("Unexpected character: '"+e[r]+"'",new Token(e[r],new SourceLocation(this,r,r+1)));var s=o[6]||o[3]||(o[2]?"\\ ":" ");if(this.catcodes[s]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Token(s,new SourceLocation(this,r,this.tokenRegex.lastIndex))}}class Namespace{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,o){if(o===void 0&&(o=!1),o){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var macros=_macros;defineMacro("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});defineMacro("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});defineMacro("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});defineMacro("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});defineMacro("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var r=n.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(n){var e=n.popToken(),r,o="";if(e.text==="'")r=8,e=n.popToken();else if(e.text==='"')r=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")o=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ParseError("\\char` missing argument");o=e.text.charCodeAt(0)}else r=10;if(r){if(o=digitToNumber[e.text],o==null||o>=r)throw new ParseError("Invalid base-"+r+" digit "+e.text);for(var s;(s=digitToNumber[n.future().text])!=null&&s<r;)o*=r,o+=s,n.popToken()}return"\\@char{"+o+"}"});var newcommand=(n,e,r)=>{var o=n.consumeArg().tokens;if(o.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var s=o[0].text,a=n.isDefined(s);if(a&&!e)throw new ParseError("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!r)throw new ParseError("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(o=n.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var c="",d=n.expandNextToken();d.text!=="]"&&d.text!=="EOF";)c+=d.text,d=n.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+c);l=parseInt(c),o=n.consumeArg().tokens}return n.macros.set(s,{tokens:o,numArgs:l}),""};defineMacro("\\newcommand",n=>newcommand(n,!1,!0));defineMacro("\\renewcommand",n=>newcommand(n,!0,!1));defineMacro("\\providecommand",n=>newcommand(n,!0,!0));defineMacro("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});defineMacro("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});defineMacro("\\show",n=>{var e=n.popToken(),r=e.text;return console.log(e,n.macros.get(r),functions[r],symbols.math[r],symbols.text[r]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");defineMacro("ℬ","\\mathscr{B}");defineMacro("ℰ","\\mathscr{E}");defineMacro("ℱ","\\mathscr{F}");defineMacro("ℋ","\\mathscr{H}");defineMacro("ℐ","\\mathscr{I}");defineMacro("ℒ","\\mathscr{L}");defineMacro("ℳ","\\mathscr{M}");defineMacro("ℛ","\\mathscr{R}");defineMacro("ℭ","\\mathfrak{C}");defineMacro("ℌ","\\mathfrak{H}");defineMacro("ℨ","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("·","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");defineMacro("\\ne","\\neq");defineMacro("≠","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");defineMacro("∉","\\notin");defineMacro("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");defineMacro("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");defineMacro("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");defineMacro("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");defineMacro("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");defineMacro("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");defineMacro("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");defineMacro("⟂","\\perp");defineMacro("‼","\\mathclose{!\\mkern-0.8mu!}");defineMacro("∌","\\notni");defineMacro("⌜","\\ulcorner");defineMacro("⌝","\\urcorner");defineMacro("⌞","\\llcorner");defineMacro("⌟","\\lrcorner");defineMacro("©","\\copyright");defineMacro("®","\\textregistered");defineMacro("️","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");defineMacro("⋮","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(n){var e="\\dotso",r=n.expandAfterFuture().text;return r in dotsByToken?e=dotsByToken[r]:(r.slice(0,4)==="\\not"||r in symbols.math&&utils.contains(["bin","rel"],symbols.math[r].group))&&(e="\\dotsb"),e});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(n){var e=n.future().text;return e in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(n){var e=n.future().text;return e in spaceAfterDots&&e!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(n){var e=n.future().text;return e in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("∷","\\dblcolon");defineMacro("∹","\\eqcolon");defineMacro("≔","\\coloneqq");defineMacro("≕","\\eqqcolon");defineMacro("⩴","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{≰}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");defineMacro("\\imath","\\html@mathml{\\@imath}{ı}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{ȷ}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");defineMacro("⟦","\\llbracket");defineMacro("⟧","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");defineMacro("⦃","\\lBrace");defineMacro("⦄","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");defineMacro("⦵","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=n=>e=>{var r=e.consumeArg().tokens,o=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var d=v=>A=>{n&&(A.macros.set("|",l),s.length&&A.macros.set("\\|",c));var M=v;if(!v&&s.length){var Y=A.future();Y.text==="|"&&(A.popToken(),M=!0)}return{tokens:M?s:o,numArgs:0}};e.macros.set("|",d(!1)),s.length&&e.macros.set("\\|",d(!0));var f=e.consumeArg().tokens,g=e.expandTokens([...a,...f,...r]);return e.macros.endGroup(),{tokens:g.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(e,r,o){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Namespace(macros,r.macros),this.mode=o,this.stack=[]}feed(e){this.lexer=new Lexer(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,o,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:s,end:o}=this.consumeArg(["]"])}else({tokens:s,start:r,end:o}=this.consumeArg());return this.pushToken(new Token("EOF",o.loc)),this.pushTokens(s),r.range(o,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],o=e&&e.length>0;o||this.consumeSpaces();var s=this.future(),a,l=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new ParseError("Extra }",a)}else if(a.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(e&&o?e[c]:"}")+"'",a);if(e&&o)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(l!==0||o);return s.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:s,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var o=r[0],s=0;s<o.length;s++){var a=this.popToken();if(o[s]!==a.text)throw new ParseError("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(r&&r[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),o=r.text,s=r.noexpand?null:this._getExpansion(o);if(s==null||e&&s.unexpandable){if(e&&s==null&&o[0]==="\\"&&!this.isDefined(o))throw new ParseError("Undefined control sequence: "+o);return this.pushToken(r),!1}this.countExpansion(1);var a=s.tokens,l=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var d=a[c];if(d.text==="#"){if(c===0)throw new ParseError("Incomplete placeholder at end of macro body",d);if(d=a[--c],d.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(d.text))a.splice(c,2,...l[+d.text-1]);else throw new ParseError("Not a valid argument number",d)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Token(e)]):void 0}expandTokens(e){var r=[],o=this.stack.length;for(this.pushTokens(e);this.stack.length>o;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),r.push(s)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(o=>o.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var o=this.lexer.catcodes[e];if(o!=null&&o!==13)return}var s=typeof r=="function"?r(this):r;if(typeof s=="string"){var a=0;if(s.indexOf("#")!==-1)for(var l=s.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new Lexer(s,this.settings),d=[],f=c.lex();f.text!=="EOF";)d.push(f),f=c.lex();d.reverse();var g={tokens:d,numArgs:a};return g}return s}isDefined(e){return this.macros.has(e)||functions.hasOwnProperty(e)||symbols.math.hasOwnProperty(e)||symbols.text.hasOwnProperty(e)||implicitCommands.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:functions.hasOwnProperty(e)&&!functions[e].primitive}}var unicodeSubRegEx=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,uSubsAndSups=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),unicodeAccents={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},unicodeSymbols={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let Parser$1=class Xi{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new ParseError("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(e);var o=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,o}parseExpression(e,r){for(var o=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(Xi.endOfExpression.indexOf(s.text)!==-1||r&&s.text===r||e&&functions[s.text]&&functions[s.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;o.push(a)}return this.mode==="text"&&this.formLigatures(o),this.handleInfixNodes(o)}handleInfixNodes(e){for(var r=-1,o,s=0;s<e.length;s++)if(e[s].type==="infix"){if(r!==-1)throw new ParseError("only one infix operator per group",e[s].token);r=s,o=e[s].replaceWith}if(r!==-1&&o){var a,l,c=e.slice(0,r),d=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?l=d[0]:l={type:"ordgroup",mode:this.mode,body:d};var f;return o==="\\\\abovefrac"?f=this.callFunction(o,[a,e[r],l],[]):f=this.callFunction(o,[a,l],[]),[f]}else return e}handleSupSubscript(e){var r=this.fetch(),o=r.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(e);if(!s)throw new ParseError("Expected group after '"+o+"'",r);return s}formatUnsupportedCmd(e){for(var r=[],o=0;o<e.length;o++)r.push({type:"textord",mode:"text",text:e[o]});var s={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var o,s;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var l=a.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(o)throw new ParseError("Double superscript",a);o=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(s)throw new ParseError("Double subscript",a);s=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(o)throw new ParseError("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),o={type:"ordgroup",mode:this.mode,body:d}}else if(uSubsAndSups[a.text]){var f=unicodeSubRegEx.test(a.text),g=[];for(g.push(new Token(uSubsAndSups[a.text])),this.consume();;){var v=this.fetch().text;if(!uSubsAndSups[v]||unicodeSubRegEx.test(v)!==f)break;g.unshift(new Token(uSubsAndSups[v])),this.consume()}var A=this.subparse(g);f?s={type:"ordgroup",mode:"math",body:A}:o={type:"ordgroup",mode:"math",body:A}}else break}return o||s?{type:"supsub",mode:this.mode,base:r,sup:o,sub:s}:r}parseFunction(e,r){var o=this.fetch(),s=o.text,a=functions[s];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new ParseError("Got function '"+s+"' with no arguments"+(r?" as "+r:""),o);if(this.mode==="text"&&!a.allowedInText)throw new ParseError("Can't use function '"+s+"' in text mode",o);if(this.mode==="math"&&a.allowedInMath===!1)throw new ParseError("Can't use function '"+s+"' in math mode",o);var{args:l,optArgs:c}=this.parseArguments(s,a);return this.callFunction(s,l,c,o,e)}callFunction(e,r,o,s,a){var l={funcName:e,parser:this,token:s,breakOnTokenText:a},c=functions[e];if(c&&c.handler)return c.handler(l,r,o);throw new ParseError("No function handler for "+e)}parseArguments(e,r){var o=r.numArgs+r.numOptionalArgs;if(o===0)return{args:[],optArgs:[]};for(var s=[],a=[],l=0;l<o;l++){var c=r.argTypes&&r.argTypes[l],d=l<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,d);if(d)a.push(f);else if(f!=null)s.push(f);else throw new ParseError("Null argument, please report this as a bug")}return{args:s,optArgs:a}}parseGroupOfType(e,r,o){switch(r){case"color":return this.parseColorGroup(o);case"size":return this.parseSizeGroup(o);case"url":return this.parseUrlGroup(o);case"math":case"text":return this.parseArgumentGroup(o,r);case"hbox":{var s=this.parseArgumentGroup(o,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",o);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(o)throw new ParseError("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new ParseError("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(o);default:throw new ParseError("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var o=this.gullet.scanArgument(r);if(o==null)return null;for(var s="",a;(a=this.fetch()).text!=="EOF";)s+=a.text,this.consume();return this.consume(),o.text=s,o}parseRegexGroup(e,r){for(var o=this.fetch(),s=o,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)s=l,a+=s.text,this.consume();if(a==="")throw new ParseError("Invalid "+r+": '"+o.text+"'",o);return o.range(s,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var o=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!o)throw new ParseError("Invalid color: '"+r.text+"'",r);var s=o[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var r,o=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",o=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!s)throw new ParseError("Invalid size: '"+r.text+"'",r);var a={number:+(s[1]+s[2]),unit:s[3]};if(!validUnit(a))throw new ParseError("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:o}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var o=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:o}}parseArgumentGroup(e,r){var o=this.gullet.scanArgument(e);if(o==null)return null;var s=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:o.loc,body:a};return r&&this.switchMode(s),l}parseGroup(e,r){var o=this.fetch(),s=o.text,a;if(s==="{"||s==="\\begingroup"){this.consume();var l=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),d=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(o,d),body:c,semisimple:s==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&s[0]==="\\"&&!implicitCommands.hasOwnProperty(s)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+s,o);a=this.formatUnsupportedCmd(s),this.consume()}return a}formLigatures(e){for(var r=e.length-1,o=0;o<r;++o){var s=e[o],a=s.text;a==="-"&&e[o+1].text==="-"&&(o+1<r&&e[o+2].text==="-"?(e.splice(o,3,{type:"textord",mode:"text",loc:SourceLocation.range(s,e[o+2]),text:"---"}),r-=2):(e.splice(o,2,{type:"textord",mode:"text",loc:SourceLocation.range(s,e[o+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[o+1].text===a&&(e.splice(o,2,{type:"textord",mode:"text",loc:SourceLocation.range(s,e[o+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var o=r.slice(5),s=o.charAt(0)==="*";if(s&&(o=o.slice(1)),o.length<2||o.charAt(0)!==o.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return o=o.slice(1,-1),{type:"verb",mode:"text",body:o,star:s}}unicodeSymbols.hasOwnProperty(r[0])&&!symbols[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=unicodeSymbols[r[0]]+r.slice(1));var a=combiningDiacriticalMarksEndRegex.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var l;if(symbols[this.mode][r]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=symbols[this.mode][r].group,d=SourceLocation.range(e),f;if(ATOMS.hasOwnProperty(c)){var g=c;f={type:"atom",mode:this.mode,family:g,loc:d,text:r}}else f={type:c,mode:this.mode,loc:d,text:r};l=f}else if(r.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:SourceLocation.range(e),text:r};else return null;if(this.consume(),a)for(var v=0;v<a[0].length;v++){var A=a[0][v];if(!unicodeAccents[A])throw new ParseError("Unknown accent ' "+A+"'",e);var M=unicodeAccents[A][this.mode]||unicodeAccents[A].text;if(!M)throw new ParseError("Accent "+A+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:SourceLocation.range(e),label:M,isStretchy:!1,isShifty:!0,base:l}}return l}};Parser$1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var o=new Parser$1(e,r);delete o.gullet.macros.current["\\df@tag"];var s=o.parse();if(delete o.gullet.macros.current["\\current@color"],delete o.gullet.macros.current["\\color"],o.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new ParseError("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:o.subparse([new Token("\\df@tag")])}]}return s},render=function(e,r,o){r.textContent="";var s=renderToDomTree(e,o).toNode();r.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(e,r){var o=renderToDomTree(e,r).toMarkup();return o},generateParseTree=function(e,r){var o=new Settings(r);return parseTree(e,o)},renderError=function(e,r,o){if(o.throwOnError||!(e instanceof ParseError))throw e;var s=buildCommon.makeSpan(["katex-error"],[new SymbolNode(r)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+o.errorColor),s},renderToDomTree=function(e,r){var o=new Settings(r);try{var s=parseTree(e,o);return buildTree$1(s,e,o)}catch(a){return renderError(a,e,o)}},renderToHTMLTree=function(e,r){var o=new Settings(r);try{var s=parseTree(e,o);return buildHTMLTree(s,e,o)}catch(a){return renderError(a,e,o)}},katex={version:"0.16.10",render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree:{Span:Span$1,Anchor,SymbolNode,SvgNode,PathNode,LineNode}},$e=Object.defineProperty,Me=(n,e,r)=>e in n?$e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,m=(n,e,r)=>(Me(n,typeof e!="symbol"?e+"":e,r),r);class Xe{constructor(e){m(this,"currentLevel"),this.currentLevel=e}setLevel(e){this.currentLevel=e}debug(...e){this.currentLevel<=0&&console.debug(...e)}log(...e){this.currentLevel<=1&&console.log(...e)}warn(...e){this.currentLevel<=2&&console.warn(...e)}error(...e){this.currentLevel<=3&&console.error(...e)}}const y$1=new Xe(0);var b=(n=>(n.fontWeight="fontWeight",n.fontStyle="fontStyle",n.underline="underline",n.lineThrough="lineThrough",n.color="color",n.backgroundColor="backgroundColor",n.textAlign="textAlign",n))(b||{}),u=(n=>(n.Child="child",n.Leaf="leaf",n.BlockLeaf="blockLeaf",n))(u||{});class W{constructor(e,r,o,s,a={},l,c){m(this,"id"),m(this,"virtualId"),m(this,"name"),m(this,"type"),m(this,"start"),m(this,"end"),m(this,"_text"),m(this,"_style",{}),m(this,"data"),m(this,"children",[]),m(this,"validStyleList",[]),m(this,"exportNodeConfig",{}),m(this,"behavior"),m(this,"_assets"),this.id=nanoid(),this.virtualId=nanoid(),this.name=e,this.start=0,this.end=0,this.data=s,this.type=r,a.validStyleList?this.validStyleList=JSON.parse(JSON.stringify(a.validStyleList)):this.validStyleList=Object.values(b),"secondaryType"in a&&a.secondaryType==="leaf"?this.behavior=new fe(this):"secondaryType"in a&&a.secondaryType==="blockLeaf"?this.behavior=new Ze(this):this.type==="leaf"?this.behavior=new fe(this):this.behavior=new Qe(this),this.style=o,this.exportNodeConfig=a,this._text=l,this._assets=c}get text(){return"text"in this.exportNodeConfig?this.exportNodeConfig.text(this):this._text?this._text:""}set text(e){e==null?this._text="":this._text=e}get assets(){return this._assets}set assets(e){this._assets=e}get style(){const e={};return"backgroundColor"in this._style&&this._style.backgroundColor&&(e["background-color"]=this._style.backgroundColor),"color"in this._style&&this._style.color&&(e.color=this._style.color),"fontWeight"in this._style&&this._style.fontWeight&&(e["font-weight"]="bold"),"fontStyle"in this._style&&this._style.fontStyle&&(e["font-style"]="italic"),"underline"in this._style&&"lineThrough"in this._style?this._style.underline&&this._style.lineThrough?e["text-decoration"]="underline line-through":this._style.underline?e["text-decoration"]="underline":this._style.lineThrough&&(e["text-decoration"]="line-through"):"underline"in this._style?this._style.underline&&(e["text-decoration"]="underline"):"lineThrough"in this._style&&this._style.lineThrough&&(e["text-decoration"]="line-through"),"textAlign"in this._style&&this._style.textAlign&&(e["text-align"]=this._style.textAlign),e}set style(e){if(!(e==null||e==null))for(const r in e){const o=e[r];if(r=="color"){const s=he(o);this.setStyle("color",s)}else if(r=="background-color"){const s=he(o);this.setStyle("backgroundColor",s)}else if(r=="font-weight")this.setStyle("fontWeight",st(o));else if(r=="text-decoration"){const s=nt(o);this.setStyle("underline",s.underline),this.setStyle("lineThrough",s.lineThrough)}else r=="text-align"?this.setStyle("textAlign",it(o)):r=="font-style"&&this.setStyle("fontStyle",rt(o))}}setStyle(e,r){e==null||r==null||this.validStyleList.includes(e)&&et(e,r)&&(this._style[e]=r)}get originStyle(){return this._style}isRoot(){return this.start===0}randomVirtualId(){this.virtualId=nanoid()}addAsset(e){var r;(r=this._assets)==null||r.push(e)}delAssetByKey(e){var r;this._assets=(r=this._assets)==null?void 0:r.filter(o=>o.key!==e)}findAssetByKey(e){var r;return(r=this._assets)==null?void 0:r.find(o=>o.key===e)}secondType(){return"secondaryType"in this.exportNodeConfig&&this.exportNodeConfig.secondaryType?this.exportNodeConfig.secondaryType:this.type}calPosition(e=0){this.type==="child"?(this.start=e+1,this.children.forEach((r,o)=>{const s=o===0?this.start:this.children[o-1].end;r.calPosition(s)}),this.children.length>0?this.end=this.children[this.children.length-1].end+1:this.end=this.start+1):(this.start=e+1,this.end=this.start+this.length()+1)}addChild(e){this.children.push(e)}delete(e,r){if("delete"in this.exportNodeConfig)return this.exportNodeConfig.delete(this,e,r);this.behavior.delete(e,r)}insertText(e,r,o){return"insertText"in this.exportNodeConfig?this.exportNodeConfig.insertText(e,this,r,o):this.behavior.insertText(e,r,o)}insertNode(e,r){if(this.type==="child"){const o=this.children.findIndex((s,a)=>s.start<=r&&s.end>=r);if(this.name==="aditor"){if(e.type==="child"&&o>-1)return this.children.splice(o+1,0,e),e}else if(o>-1)return this.children.splice(o+1,0,e),e;return null}else return null}merge(e){if(this.type==="child")e.name==e.name?(this.children=this.children.concat(e.children),e.children=[]):y$1.warn("can not merge node of two different child node");else return}selfMerge(e,r,o){if(this.name==="aditor"){if(e>this.end||r<this.start)return;for(let s=0;s<this.children.length-1;s++)this.children[s].selfMerge(e,r,o)}else if(this.type==="child"){if(e>this.end||r<this.start)return;const s=c=>c==null?"@undefined":c===!1?"@False":c===!0?"@True":c,a=(c,d)=>{if(c.name==="aditorText"&&d.name==="aditorText"){const f=c.validStyleList.concat(d.validStyleList),g=[...new Set(f)];for(let v=0;v<g.length;v++){const A=g[v];if(s(c.originStyle[A])!=s(d.originStyle[A]))return!1}return!0}else return!1};let l=0;for(;l<this.children.length-1;){const c=this.children[l],d=this.children[l+1];if(a(c,d)){for(let f of o)f.startNode&&f.startNode.start==d.start&&(f.startNode=c,f.startOffset+=c.length()),f.endNode&&f.endNode.start==d.start&&(f.endNode=c,f.endOffset+=c.length());this.children[l].text+=this.children[l+1].text,this.children.splice(l+1,1)}else l++}}else return}split(e){return"split"in this.exportNodeConfig?this.exportNodeConfig.split(this,e):this.behavior.split(e)}getTextByRange(e,r){if("getTextByRange"in this.exportNodeConfig)return this.exportNodeConfig.getTextByRange(this,e,r);if(this.type==="child")return this.start>r||this.end<e?"":`
`;if(this.start>r||this.end<e)return"";if(this.text){let o=e-this.start,s=r-this.start;return o<0&&(o=0),s>this.text.length&&(s=this.text.length),this.text.slice(o,s)}else return""}length(){return"length"in this.exportNodeConfig?this.exportNodeConfig.length(this):this.behavior.length()}isEmpty(){return"isEmpty"in this.exportNodeConfig?this.exportNodeConfig.isEmpty(this):this.behavior.isEmpty()}moveSelNearlyNode(){return"moveSelNearlyNode"in this.exportNodeConfig?this.exportNodeConfig.moveSelNearlyNode():this.behavior.moveSelNearlyNode()}dfsDeepestRightEnd(){return this.type==="child"?this.children.length===0?this.end:this.children[this.children.length-1].dfsDeepestRightEnd():this.end}dfsDeepestRightEndNode(){return this.type==="child"?this.children.length===0?this:this.children[this.children.length-1].dfsDeepestRightEndNode():this}dfsDeepestLeftStart(){return this.type==="child"?this.children.length===0?this.start:this.children[0].dfsDeepestLeftStart():this.start}dfsDeepestLeftStartNode(){return this.type==="child"?this.children.length===0?this:this.children[0].dfsDeepestLeftStartNode():this}copy(){const e=o=>{if(typeof o!="object")return o;if(o===null)return null;if(o===void 0)return;if(o instanceof Array)return o.map(a=>e(a));const s={};return Object.keys(o).forEach(a=>{s[a]=e(o[a])}),s},r=new W(this.name,this.type,{},{},this.exportNodeConfig,this.text,[]);return Object.keys(this).forEach(o=>{["_style","data","_assets"].includes(o)&&(r[o]=e(this[o]))}),r}toAditorJSON(){let e={id:this.id,virtualId:this.virtualId,name:this.name,type:this.type,start:this.start,end:this.end,text:this.text,style:JSON.parse(JSON.stringify(this.style)),data:JSON.parse(JSON.stringify(this.data)),children:this.children.map(r=>r.toAditorJSON())};return this.assets&&(e.assets=this._assets),e}toJSON(){let e={name:this.name,type:this.type,text:this.text,style:JSON.parse(JSON.stringify(this.style)),data:JSON.parse(JSON.stringify(this.data)),children:JSON.parse(JSON.stringify(this.children))};return this.assets&&(e.assets=this._assets),e}toJSONbyPos(e,r){let o={name:this.name,type:this.type,text:this.getTextByRange(e,r),style:JSON.parse(JSON.stringify(this.style)),data:JSON.parse(JSON.stringify(this.data)),children:JSON.parse(JSON.stringify(this.children))};return this.assets&&(o.assets=this._assets),o}}class re{constructor(e){m(this,"node"),this.node=e}}class Qe extends re{constructor(e){super(e)}length(){return this.node.children.length}delete(e,r){this.node.start>r||this.node.end<e||(this.node.children=this.node.children.filter(o=>!(o.start>e&&o.dfsDeepestRightEnd()-1<=r)))}isEmpty(){if(this.node.children.length===0)return!0;for(let e=0;e<this.node.children.length;e++)if(!this.node.children[e].isEmpty())return!1;return!0}moveSelNearlyNode(){return!1}split(e){if(this.node.start>e||this.node.end<e)return[null,null];if(this.node.start===e){const r=this.node.copy();return r.children=this.node.children,this.node.children=[],[this.node,r]}else{let r=!1;const o=[],s=[];this.node.children.forEach(l=>{const c=l.split(e);c[0]&&c[1]&&r==!1?(r=!0,o.push(c[0]),s.push(c[1])):r?s.push(l):r||o.push(l)}),this.node.children=o;const a=this.node.copy();return a.children=s,[this.node,a]}}insertText(e,r,o){if(this.node.children.length===0){let s=x$1("aditorText",{},{},r);return this.node.addChild(s),s}else return o===this.node.start?this.node.children[0].insertText(e,r,o):this.node.children[this.node.children.length-1].insertText(e,r,o)}}class fe extends re{constructor(e){super(e)}length(){return this.node.text.length}delete(e,r){let o=e-this.node.start,s=r-this.node.start;o<0&&(o=0),s>this.node.text.length&&(s=this.node.text.length),this.node.text=this.node.text.slice(0,o)+this.node.text.slice(s)}isEmpty(){return this.node.text.length===0||this.node.text===void 0||this.node.text===null}moveSelNearlyNode(){return!1}split(e){if(this.node.start>e||this.node.end<e)return[null,null];let r=e-this.node.start,o=this.node.end-this.node.start;r<0&&(r=0),o>this.node.text.length&&(o=this.node.text.length);let s=this.node.text.slice(r,o);this.node.text=this.node.text.slice(0,r)+this.node.text.slice(o);const a=this.node.copy();return a.text=s,[this.node,a]}insertText(e,r,o){let s=o-this.node.start;return s<0&&(s=0),this.node.text=this.node.text.slice(0,s)+r+this.node.text.slice(s),this.node}}class Ze extends re{constructor(e){super(e)}length(){return 1}delete(e,r){e!=r&&this.node.start>=e&&this.node.start<r&&("dataKeyName"in this.node.exportNodeConfig?this.node.data[this.node.exportNodeConfig.dataKeyName]="":y$1.warn("[delete]please specify dataKeyName in exportNodeConfig"))}isEmpty(){return"dataKeyName"in this.node.exportNodeConfig?this.node.data[this.node.exportNodeConfig.dataKeyName]==="":(y$1.warn("[isEmpty]please specify dataKeyName in exportNodeConfig"),!1)}moveSelNearlyNode(){return!0}split(e){return e==this.node.start?[x$1("aditorText",{},{},""),this.node]:[null,null]}insertText(e,r,o){let s;const a=e.findNodeParentNodeByPos(this.node.start);if(a&&(s=a.children.indexOf(this.node),s!=null)){o!=this.node.start&&s++;const l=x$1("aditorText",{},{},r);return a.children.splice(s,0,l),l}return this.node}}const ue={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",feldspar:"#D19275",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslateblue:"#8470FF",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",violetred:"#D02090",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32",transparent:"#00000000"};function he(n){return n=n.replace(/\s/g,"").toLowerCase(),n.startsWith("#")?Pe(n):n.startsWith("rgb")?n:Ve(n)}function Pe(n){if(n=n.trim(),n.startsWith("#")){const e=n.split("#")[1],r=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);if(e.length===8){const a=parseInt(e.slice(6,8),16);return"rgba("+r+","+o+","+s+","+a+")"}else return"rgb("+r+","+o+","+s+")"}else return n}function Ve(n){return n=n.replace(/\s/g,"").toLowerCase(),ue[n]?Pe(ue[n]):"rgb(0, 0, 0)"}function et(n,e){return e==null||e==null?!1:n=="color"||n=="backgroundColor"?tt(e):n=="fontWeight"||n=="underline"||n=="lineThrough"?typeof e=="boolean":n=="textAlign"?["left","center","right"].includes(e):n=="fontStyle"?typeof e=="boolean":!1}function tt(n){const e=n.replace(/\s/g,"").toLowerCase(),r=/^rgba?\((\d{1,3},\s*){3}(\d{1,3}|\d{1}(\.\d+)?)\)$/,o=/^rgba?\((\d{1,3},\s*){2}(\d{1,3}|\d{1}(\.\d+)?)\)$/;return r.test(e)||o.test(e)}function st(n){const e=["normal","lighter","100","200","300","400"],r=["bold","bolder","500","600","700","800","900"];return n==null||n==null||e.includes(n)?!1:!!r.includes(n)}function nt(n){if(n==null||n==null)return{underline:!1,lineThrough:!1};const e=n.split(" "),r=new Set(e);return r.has("none")?{underline:!1,lineThrough:!1}:r.has("underline")&&r.has("line-through")?{underline:!0,lineThrough:!0}:r.has("line-through")?{underline:!1,lineThrough:!0}:r.has("underline")?{underline:!0,lineThrough:!1}:{underline:!1,lineThrough:!1}}function it(n){return["left","center","right"].includes(n)?n:"left"}function rt(n){return n=="italic"}function De(n,e,r){const o=r[n.name];if(!o)throw new Error(`Component ${n.name} not found`);if(n.type===u.Leaf)return h$1(o,{aNode:n,docView:e,key:n.virtualId,aditorId:`_aditor-${n.start}`,selstart:n.start,vid:n.virtualId});if(n.type===u.Child)return h$1(o,{aNode:n,docView:e,key:n.virtualId,aditorId:`_aditor-${n.start}`,selstart:n.start,vid:n.virtualId},()=>n.children.map(s=>De(s,e,r)));throw new Error("Component must be leaf or child node")}class oe{constructor(){m(this,"root"),m(this,"sels",new le)}loadSels(e){this.sels=e}loadJSON2ANode(e){const r=H([e])[0];r.calPosition(-1),this.root=reactive(r)}copySelf(){const e=new oe,r=o=>{if(o instanceof W){const s=x$1(o.name,o.style,o.data,o.text,o.assets);for(let a in s)if(o.hasOwnProperty(a)){if(a==="originStyle"||a==="behavior"||a==="exportNodeConfig")continue;s[a]=r(o[a])}return s}else if(Array.isArray(o)){const s=[];for(let a in o)s.push(r(o[a]));return s}else if(typeof o=="object"){const s={};for(let a in o)s[a]=r(o[a]);return s}else return o};return e.root=r(toRaw(this.root)),e.root=toRaw(e.root),e.loadSels(this.sels.copy()),e}vsels2Nodesels(e){const r=[];for(let o of e){let{start:s,end:a,startOffset:l,endOffset:c}=o,d=this.findNodeByPos(s),f=this.findNodeByPos(a);if(d==null||f==null){y$1.warn("vsels2Nodesels fail: startNode or endNode is null");continue}for(;d.type===u.Child&&l<d.children.length;)d=d.children[l],l=0;for(;f.type===u.Child&&c<f.children.length;)f=f.children[c],c=0;d.type===u.Child&&l>=d.children.length&&(l=d.length()),f.type===u.Child&&c>=f.children.length&&(c=f.length()),r.push({startNode:d,startOffset:l,endNode:f,endOffset:c})}return r}nodesel2globalpos(e){if(e==null)return{start:0,end:0};if(e.startNode==null||e.endNode==null)return{start:0,end:0};let r=e.startNode.start,o=e.endNode.start;return e.startNode.type===u.Child&&(e.startOffset>=e.startNode.children.length?r=e.startNode.end:r=e.startNode.children[e.startOffset].start),e.endNode.type===u.Child&&(e.endOffset>=e.endNode.children.length?o=e.endNode.end:o=e.endNode.children[e.endOffset].start),e.startNode.type===u.Leaf&&(r+=e.startOffset<e.startNode.length()?e.startOffset:e.startNode.length()),e.endNode.type===u.Leaf&&(o+=e.endOffset<e.endNode.length()?e.endOffset:e.endNode.length()),{start:r,end:o}}deleteNodeByPos(e){const{start:r,end:o}=this.nodesel2globalpos(e),s=(a,l,c)=>{if(!(a.start>c||a.end<l)){a.type===u.Child&&a.children.forEach(d=>s(d,l,c)),a.delete(l,c);return}};s(this.root,r,o)}insertTextByPos(e,r){const{start:o}=this.nodesel2globalpos(r),s=this.findNodeByPos(o);return s!=null?{insertNode:s.insertText(this,e,o),offset:r.startOffset+e.length}:{insertNode:null,offset:0}}insertNodeByPos(e,r){const{start:o}=this.nodesel2globalpos(r),s=this.findNodeByPos(o);if(s==null)return y$1.error(`[insertNodeByPos]targetNode start:${o} is null`),null;const a=s?this.findNodeParentNodeByPos(s.start):null,l=a?this.findNodeParentNodeByPos(a.start):null,c=s.insertNode(e,o);if(c==null){const d=a?a.insertNode(e,o):null;return d??(l?l.insertNode(e,o):null)??(y$1.error(`[insertNodeByPos]insert node ${e.name} failed`),null)}else return c}updateSelectionNodeAttributes(e,r){const{start:o,end:s}=this.nodesel2globalpos(e),a=this.findNodeByPos(o),l=this.findNodeByPos(s);if(a==null||l==null)return null;if(r==null)return y$1.warn("unknow update style method, only support 'default', 'single_add', 'single_remove'"),null;const c={startNode:a,startOffset:e.startOffset,endNode:l,endOffset:e.endOffset},d=(f,g,v)=>{if(f.start>v||f.end<g)return[f];if(f.type===u.Child){const A=[];return f.children.forEach(M=>{const Y=d(M,g,v);Y!=null&&A.push(...Y)}),f.children=A,[r(f,this)]}else if(f.type===u.Leaf){const A=[];if(g>f.start&&v<f.end){const M=f.split(v)[1];let Y=f.split(g)[1];return Y!=null&&Y.type===u.Leaf&&(Y=r(Y,this),a.id===f.id&&(c.startNode=Y,c.startOffset=0),l.id===f.id&&(c.endNode=Y,c.endOffset=Y.length())),f&&!f.isEmpty()&&A.push(f),Y&&!Y.isEmpty()&&A.push(Y),M&&!M.isEmpty()&&A.push(M),A}else if(g>f.start&&g<f.end){let M=f.split(g)[1];return M!=null&&M.type===u.Leaf&&(M=r(M,this),a.id===f.id&&(c.startNode=M,c.startOffset=0),l.id===f.id&&(c.endNode=M,c.endOffset=M.length())),f&&!f.isEmpty()&&A.push(f),M&&!M.isEmpty()&&A.push(M),A}else if(v>f.start&&v<f.end){let M=f.split(v)[1];return M&&M.type===u.Leaf&&(f=r(f,this),l.id===f.id&&(c.endNode=f,c.endOffset=f.length())),f&&!f.isEmpty()&&A.push(f),M&&!M.isEmpty()&&A.push(M),A}else return[r(f,this)]}return null};return d(this.root,o,s),c}updateNodeDataByPos(e,r,o){const s=this.findNodeByPos(e);if(s==null){y$1.warn("targetNode is null");return}s.data[r]=o}mergeNode(e,r){if(!(e==null||r==null)&&!(e.type===u.Leaf&&r.type===u.Leaf))if(e.type===u.Child&&r.type===u.Child)if(e.start!=r.start){const o=this.findNodeParentNodeByPos(r.start);if(o==null){y$1.warn("Merge fail, parentNode is null");return}e.merge(r),o.children=o.children.filter(s=>s.id!=r.id)}else y$1.warn("Merge fail, nodeA and nodeB has same start");else e.type===u.Child&&r.type===u.Leaf||(e==null||r==null?y$1.warn("Can't merge undefined node"):e.type===u.Leaf&&r.type===u.Child?y$1.warn("Can't merge AditorNode to AditorLeafNode"):y$1.warn("Merge fail, unknow situation"))}findNodeByPos(e){const r=(o,s)=>{if(o.start==s||o.end==s)return o;if(o.type===u.Leaf)return s>=o.start&&s<=o.end?o:null;if(o.type===u.Child){if(o.start>s||o.end<s)return null;for(let a in o.children){const l=o.children[a],c=r(l,s);if(c!=null)return c}return null}else return null};return r(this.root,e)}findLastNodeByNode(e){const r=o=>{if(o.type===u.Child){if(o.children.length==0)return o;const s=o.children[o.children.length-1];return r(s)}else return o};return r(e)}findNodeParentNodeByPos(e){let r=null;const o=(s,a)=>{if(s.type===u.Leaf)return a>=s.start&&a<=s.end;if(s.type===u.Child){for(let l in s.children){const c=s.children[l],d=o(c,a);if(d&&r==null)return r=s,!0;if(d)return!0}return a>=s.start&&a<=s.end}return!1};return o(this.root,e),r}findDeepestLeftNodeByNode(e){const r=o=>{if(o.type===u.Child){if(o.children.length==0)return o;const s=o.children[0];return r(s)}else return o};return r(e)}findDeepestRightNodeByNode(e){const r=o=>{if(o.type===u.Child){if(o.children.length==0)return o;const s=o.children[o.children.length-1];return r(s)}else return o};return r(e)}findNearestLeftNodeByNode(e){let r=0,o=e;for(;o&&o.start<=e.start&&o.end>=e.end;)r++,o=this.findNodeByPos(e.start-r);return e.start-r>0?o:null}findNearestRightNodeByNode(e){let r=0,o=e;for(;o&&o.start<=e.start&&o.end>=e.end;)r++,o=this.findNodeByPos(e.end+r);return e.end+r<this.root.end?o:null}dfsFindLCANode(e,r){if(e==null||r==null)return y$1.warn("nodeA or nodeB is null"),null;const o=[],s=[],a=(c,d,f)=>{if(f.push(c),d.start==c.start)return f.push(c),!0;if(c.type===u.Child){for(let g in c.children){const v=c.children[g];if(d.start>=v.start&&d.start<=v.end&&a(v,d,f))return!0}return f.pop(),!1}else return f.pop(),!1};a(this.root,e,o),a(this.root,r,s);let l=0;for(;l<o.length&&l<s.length&&o[l].start==s[l].start;)l++;return l>0?[o[l-1],o[l],s[l]]:null}findNodeRootIndexByPos(e){return((r,o)=>{if(r.start==o)return 0;if(r.type===u.Leaf)return-1;if(r.type===u.Child){for(let s in r.children){const a=r.children[s];if(a.start<=o&&a.end>=o)return Number(s)}return-1}return-1})(this.root,e)}deleteEmptyNode(e,r,o){const s=(a,l,c,d)=>a.start>c||a.end<l?!1:(a.type===u.Child&&a.children.forEach(f=>s(f,l,c)),a.type===u.Leaf&&a.text==""?(a.delete(l,c),!0):!1);return s(this.root,e,r)}traverseNode(e){const r=(o,s)=>{o.type===u.Child&&o.children.forEach(a=>r(a,o)),e(o,s)};r(this.root,this.root)}traverseNodeByPos(e,r,o){const s=(a,l,c,d)=>{if(a.start>d)return!1;if(a.end<c)return!0;if(a.type===u.Child){for(const f of a.children)if(!s(f,a,c,d))return!1}return o(a,l),!0};s(this.root,this.root,e,r)}globalPos2NodePos(e){const{start:r,end:o}=e;if(r===0||r==null||o===0||o==null)return null;y$1.log("get",r,"|",o,"pos to node pos");let s=null,a=null,l=null,c=null;return s=this.findNodeByPos(r),a=this.findNodeByPos(o),s==null||a==null?null:(l=r-s.start,c=o-a.start,{start:s.start,startOffset:l,end:a.start,endOffset:c})}selectionPos2JSON(e,r){const o=(s,a,l)=>{if(s.start>l||s.end<a)return[];if(s.type===u.Child)if(s.start<a||s.end>l){const c=[];return s.children.forEach(d=>{const f=o(d,a,l);f.length>0&&c.push(...f)}),c}else return[s.toJSONbyPos(a,l)];else return[s.toJSONbyPos(a,l)]};return o(this.root,e,r)}replaceNode(e,r,o=null){if(e.id===r.id)return!1;if(o==null)return y$1.warn("parentNode is null"),!1;const s=o.children.findIndex(a=>a.id===e.id);return o.children.splice(s,1,r),!0}calPosition(){this.root.calPosition(-1)}exportJSON(){return this.root.toJSON()}}function H(n){const e=r=>{const o=x$1(r.name,r.style,r.data,r.text);return o.type===u.Child&&r.children&&(o.children=r.children.map(s=>e(s))),o};return n.map(r=>e(r))}function X(n){const e=n.split(/\r\n|\n|\r/g);if(e.length>=1){const r=[x$1("aditorText",{},{},e[0])];for(let o=1;o<e.length;o++){const s=x$1("aditorParagraph",{},{},"");s.children=[x$1("aditorText",{},{},e[o])],r.push(s)}return r}else return[x$1("aditorText",{},{},n)]}var U$1=(n=>(n.keydown="keydown",n.keyup="keyup",n.keypress="keypress",n.click="click",n.mousedown="mousedown",n.mouseleave="mouseleave",n.mouseup="mouseup",n.blur="blur",n.mouseover="mouseover",n.mousewheel="mousewheel",n.compositionstart="compositionstart",n.compositionend="compositionend",n.input="input",n.drag="drag",n.dragstart="dragstart",n.dragend="dragend",n.drop="drop",n.paste="paste",n))(U$1||{}),ot=(n=>(n.DELETE_SELECTIONS="deleteSelections",n.INSERT_SELECTIONS="insertSelections",n.REPLCAE_SELECTIONS="replaceSelections",n.BACKSPACE_SELECTIONS="backspaceSelections",n.ENTER_SELECTIONS="enterSelections",n.INSERT_NODES_SELECTIONS="insertNodesSelections",n.INSERT_NODES_SELECTIONS_AT_ROOT="insertNodesSelectionsAtRoot",n.UPDATE_SELECTIONS="updateSelections",n.INSERT_DROP_ELEMENT="insertDropElement",n))(ot||{});function lt$1(){let n={};for(let e in U$1)n[e]=()=>{};return n}class dt{constructor(){m(this,"docState"),m(this,"vNode"),m(this,"rootHTML"),m(this,"docSysEventHandlers",ft()),m(this,"boundDocSysEvents",new Map),m(this,"sysEventHandlers",lt$1()),m(this,"boundSysEvents",new Map),m(this,"stringResource2NodeCallback",null),m(this,"isComposing",!1),m(this,"composingTimeout",-1),m(this,"isTripleClick",!1),m(this,"docStateHistory",[]),m(this,"docStateIndex",0),m(this,"updateStateHooks",[])}init(e,r){this.docState=e,this.vNode=r}get rootVid(){return this.docState.root.virtualId}_bindDocSysEvent(e){this.rootHTML=e;for(const r of Object.values(U$1))if(r in this.docSysEventHandlers){const o=s=>this.docSysEventHandlers[r](s,this.docState,this);r==="mousewheel"?e.addEventListener("mousewheel",o,{passive:!0}):e.addEventListener(r,o),this.boundDocSysEvents.has(r)||this.boundDocSysEvents.set(r,{element:e,handler:o})}}_unbindDocSysEvent(e){for(const[r]of Object.entries(this.docSysEventHandlers)){const o=this.boundDocSysEvents.get(r);e.removeEventListener(r,o==null?void 0:o.handler)}}bindSysEvent(e,r){for(const o of Object.values(U$1))if(o in r){const s=a=>r[o](a,this.docState,this);o==="mousewheel"?e.addEventListener("mousewheel",s,{passive:!0}):e.addEventListener(o,s),this.boundSysEvents.has(o)||this.boundSysEvents.set(o,[]),this.boundSysEvents.get(o).push({element:e,handler:s})}}unbindSysEvent(e){for(const[r]of Object.entries(this.sysEventHandlers)){const o=this.boundSysEvents.get(r);if(o)for(const{element:s,handler:a}of o)s===e&&e.removeEventListener(r,a)}}bindViewEventHook(e,r){let o=null;e==="afterUpdateState"&&(o=this.updateStateHooks),o&&o.push(r)}unbindViewEventHook(e,r){let o=null;if(e==="afterUpdateState"&&(o=this.updateStateHooks),o){const s=o.indexOf(r);s!==-1&&o.splice(s,1)}}bindStringResource2NodeCallback(e){this.stringResource2NodeCallback=e}unbindStringResource2NodeCallback(){this.stringResource2NodeCallback=null}dispatchViewEvent(e,r,o,s,a={}){const l=s.copySelf(),c=l.vsels2Nodesels(o);if(y$1.debug("dispatch vsels:",o[0]),c.length===0){y$1.warn("vselsNode is empty, so don't dispatch event");return}for(const f of c)if(f.startNode==null||f.endNode==null||f.startNode==null||f.endNode==null){y$1.warn("vselsNode is empty, so don't dispatch event");return}r==="deleteSelections"?this.deleteSelections(c,l):r==="replaceSelections"?this.replaceSelections(c,l,a):r==="backspaceSelections"?this.backspaceSelections(c,l):r==="enterSelections"?this.enterSelections(c,l):r==="insertNodesSelections"?this.insertNodesSelections(c,l,a):r==="updateSelections"?this.updateSelections(c,l,a):r==="insertDropElement"?this.insertDropElement(e,c,l,a):r==="insertNodesSelectionsAtRoot"&&this.insertNodesSelectionsAtRoot(c,l,a),l.calPosition(),this._dispatchStartNodeEmptyCheck(c,l);const d=["deleteSelections","replaceSelections","backspaceSelections","enterSelections"];c.forEach(f=>{var g,v,A,M,Y,de;const ae=f.startNode?l.findNodeParentNodeByPos(f.startNode.start):null;ae&&ae.selfMerge(ae.start,ae.end,[f]),d.indexOf(r)!==-1&&(((g=f.startNode)==null?void 0:g.start)!=0&&((v=f.startNode)==null||v.randomVirtualId()),((A=f.startNode)==null?void 0:A.id)!==((M=f.endNode)==null?void 0:M.id)&&((Y=f.endNode)==null?void 0:Y.start)!=0&&((de=f.endNode)==null||de.randomVirtualId()))}),l.calPosition(),ht(l.root.virtualId,l),pt(c,l),l.sels.setSelectionsByNodeSelection(c),this.updateDocState(s,l),y$1.debug("stay sels: ",c[0]),nextTick(()=>{if("setSelection"in a&&a.setSelection===!1){s.sels.selections=[];return}Z(this,s.sels.selections)})}updateDocState(e,r){this.swapPropertiesToRaw(e.root,r.root),this.swapPropertiesExceptRoot(e,r),this.callUpdateStateHooks(r,e),this.saveHistory(e.copySelf())}callUpdateStateHooks(e,r,o={name:"normal"}){for(const s of this.updateStateHooks)s(e,r,o)}_dispatchStartNodeEmptyCheck(e,r){var o;for(const s of e)if((o=s.startNode)!=null&&o.isEmpty()){const a=r.findNodeParentNodeByPos(s.startNode.start);if(a){const l=a.children.findIndex(c=>{var d;return c.id===((d=s.startNode)==null?void 0:d.id)});if(l!==-1)if(l-1>=0){const c=a.children[l-1];c.isEmpty()||(a.children.splice(l,1),s.startNode=c,s.startOffset=c.length(),s.endNode=s.startNode,s.endOffset=s.startOffset)}else if(l+1<a.children.length){const c=a.children[l+1];c.isEmpty()||(a.children.splice(l,1),s.startNode=c,s.startOffset=0,s.endNode=s.startNode,s.endOffset=s.startOffset)}else if(s.startNode.secondType()===u.BlockLeaf){const c=r.findNodeParentNodeByPos(a==null?void 0:a.start);if(c){const d=c.children.findIndex(f=>f.id===a.id);d!==-1&&(c.children.splice(d,1),s.startNode=c,s.startOffset=c.length(),s.endNode=s.startNode,s.endOffset=s.startOffset)}}else{const c=x$1("aditorText",{},{},"");a.children.splice(l,0,c),a.children.splice(l+1,1),s.startNode=c,s.startOffset=0,s.endNode=s.startNode,s.endOffset=s.startOffset}}}r.calPosition()}deleteSelections(e,r){for(const o of e){if(o.startNode==null||o.endNode==null)continue;const s=r.dfsFindLCANode(o.startNode,o.endNode);r.deleteNodeByPos(o),s!=null&&s.length>=3&&r.mergeNode(s[1],s[2]),r.calPosition()}for(const o of e)o.endNode=o.startNode,o.endOffset=o.startOffset}replaceSelections(e,r,o={}){if("text"in o){for(const s of e){if(s.startNode==null||s.endNode==null)continue;const a=r.dfsFindLCANode(s.startNode,s.endNode);r.deleteNodeByPos(s),a!=null&&a.length>=3&&r.mergeNode(a[1],a[2]);const{insertNode:l,offset:c}=r.insertTextByPos(o.text,s);l!=null&&(s.startNode=l,s.endNode=l,s.startOffset=c,s.endOffset=s.startOffset),r.calPosition()}for(const s of e)s.endNode=s.startNode,s.endOffset=s.startOffset}}backspaceSelections(e,r){for(const o of e){if(o.startNode==null||o.endNode==null)continue;if(o.startNode.start+o.startOffset===o.endNode.start+o.endOffset){const a=(d,f)=>{var g,v;const A=d-1;if(A<=0)return null;const M=r.findNodeByPos(A);if(M==null)return null;if(M.id===f.id)if(M.secondType()===u.BlockLeaf){const Y=(g=r.findNearestLeftNodeByNode(M))==null?void 0:g.dfsDeepestRightEndNode();return Y?{node:Y,offset:Y.length()}:null}else return{node:M,offset:A-M.start};else{const Y=(v=r.findNearestLeftNodeByNode(f))==null?void 0:v.dfsDeepestRightEndNode();return Y?Y.secondType()===u.BlockLeaf?M.start<f.start?{node:Y,offset:0}:{node:Y,offset:Y.length()}:{node:Y,offset:Y.length()}:null}},{start:l}=r.nodesel2globalpos(o),c=a(l,o.startNode);c!=null&&(o.startNode=c.node,o.startOffset=c.offset)}const s=r.dfsFindLCANode(o.startNode,o.endNode);r.deleteNodeByPos(o),s!=null&&s.length>=3&&r.mergeNode(s[1],s[2]),r.calPosition()}for(const o of e)o.endNode=o.startNode,o.endOffset=o.startOffset}enterSelections(e,r){for(const o of e){if(o.startNode==null||o.endNode==null)continue;const s=r.dfsFindLCANode(o.startNode,o.endNode);r.deleteNodeByPos(o),s!=null&&s.length>=3&&r.mergeNode(s[1],s[2]),r.calPosition(),o.endNode=o.startNode,o.endOffset=o.startOffset}for(const o of e){if(o.startNode==null||o.endNode==null)continue;const s=r.findNodeParentNodeByPos(o.startNode.start);if(s==null)continue;const a=r.findNodeParentNodeByPos(s.start);if(a==null){if(s.isRoot()){const l=s.children.findIndex(f=>{var g;return((g=o.startNode)==null?void 0:g.id)===f.id});console.log(l);const c=x$1("aditorParagraph",{},{}),d=x$1("aditorText",{},{},"");c.children.push(d),r.root.children.splice(l+1,0,c),r.calPosition(),o.startNode=d,o.startOffset=0,o.endNode=o.startNode,o.endOffset=o.startOffset}}else{const l=a.children.findIndex(d=>d.id===s.id);let c=s.split(o.startNode.start+o.startOffset)[1];if(c!=null&&c.type===u.Child){if(c.isEmpty()){const d=x$1("aditorParagraph",{},{}),f=x$1("aditorText",{},{},"");d.children.push(f),c=d}a.children.splice(l+1,0,c),r.calPosition(),o.startNode=c.dfsDeepestLeftStartNode(),o.startOffset=0,o.endNode=o.startNode,o.endOffset=o.startOffset}}}}insertNodesSelections(e,r,o={}){var s;for(const a of e){if(a.startNode==null||a.endNode==null)continue;const l=r.dfsFindLCANode(a.startNode,a.endNode);r.deleteNodeByPos(a),l!=null&&l.length>=3&&r.mergeNode(l[1],l[2]),r.calPosition(),a.endNode=a.startNode,a.endOffset=a.startOffset}for(const a of e){if(a.startNode==null||a.endNode==null)continue;const l=r.findNodeParentNodeByPos(a.startNode.start);if(l==null)continue;const c=r.findNodeParentNodeByPos(l.start);if(c==null)continue;const d=c.children.findIndex(M=>M.id===l.id),f=l.split(a.startNode.start+a.startOffset)[1];f&&(f.isEmpty()||c.children.splice(d+1,0,f)),r.calPosition();let g,v,A=-1;if(g=r.findNodeParentNodeByPos(a.startNode.start),g)a.startNode.type===u.Leaf?(v=r.findNodeParentNodeByPos(g.start),A=v==null?void 0:v.children.findIndex(M=>M.id===(g==null?void 0:g.id))):(v=g,A=v.children.findIndex(M=>{var Y;return M.id===((Y=a.startNode)==null?void 0:Y.id)}));else return;if(A==null||A<0||v==null)return;{const M=o==null?void 0:o.nodeList;let Y=!0,de=0;for(let ae=0;ae<M.length;ae++){const ze=M[ae];if(Y&&a.startNode&&a.startNode.type===u.Leaf&&ze.type===u.Leaf)g.children.push(ze);else if(ae===M.length-1&&f&&!f.isEmpty()&&f.type===u.Child&&ze.type===u.Leaf)f.children.unshift(ze);else{if(Y=!1,ze.type!==u.Child){const qe=x$1("aditorParagraph",{},{});qe.children.push(ze),v.children.splice(A+1+de,0,qe)}else v.children.splice(A+1+de,0,ze);de++}ae===M.length-1&&(a.startNode=ze.dfsDeepestRightEndNode(),a.startOffset=((s=a.startNode)==null?void 0:s.length())||0,a.endNode=a.startNode,a.endOffset=a.startOffset)}if(f&&!f.isEmpty()&&f.type===u.Child&&M.every(ae=>ae.type===u.Leaf)){for(let ze=0;ze<f.children.length;ze++)g.children.push(f.children[ze]);const ae=v.children.findIndex(ze=>ze.id===f.id);ae>=0&&v.children.splice(ae,1)}r.calPosition()}}}insertNodesSelectionsAtRoot(e,r,o={}){for(const s of e){if(s.startNode==null||s.endNode==null||s.endNode.isRoot())continue;const a=r.findNodeRootIndexByPos(s.endNode.start),l=o==null?void 0:o.nodeList;if(l&&l.length>0)for(let c=0;c<l.length;c++){const d=l[c];if(d.type!==u.Child){const f=x$1("aditorParagraph",{},{});f.children.push(d),r.root.children.splice(a+1,0,f)}else r.root.children.splice(a+1,0,d)}}}updateSelections(e,r,o={}){for(const s of e){if(s.startNode==null||s.endNode==null)continue;const a=r.updateSelectionNodeAttributes(s,o==null?void 0:o.callback);a&&a.startNode&&a.endNode&&(s.startNode=a.startNode,s.startOffset=a.startOffset,s.endNode=a.endNode,s.endOffset=a.endOffset),r.calPosition();const l=r.dfsFindLCANode(s.startNode,s.endNode);l!=null&&l[0]!=null&&l[0]!=null&&l[0].selfMerge(l[0].start,l[0].end,[s]),r.calPosition()}}insertDropElement(e,r,o,s={}){const a=r[0];if(a.startNode==null||a.endNode==null)return;const l=o.findNodeParentNodeByPos(a.startNode.start);if(l==null)return;const c=l.children.findIndex(f=>{var g;return f.id===((g=a.startNode)==null?void 0:g.id)});let d=a.startNode.split(o.nodesel2globalpos(a).start)[1];if(d!=null&&d.type===u.Child){if(d.isEmpty()){const f=x$1("aditorParagraph",{},{}),g=x$1("aditorText",{},{},"");f.children.push(g),d=f}l.children.splice(c+1,0,d),o.calPosition(),a.startNode=d.dfsDeepestLeftStartNode(),a.startOffset=0,a.endNode=a.startNode,a.endOffset=a.startOffset}for(const f of s==null?void 0:s.files){const g=f.split(";")[0].split(":")[1];if(["image/png","image/jpeg","image/gif","image/bmp","image/webp","image/tiff","image/jpg"].includes(g)){const v=x$1("aditorImage",{},{src:f},"");d==null||d.children.splice(0,0,v)}else y$1.warn('not support "',g,'" file type')}}saveHistory(e){this.docStateHistory=this.docStateHistory.slice(0,this.docStateIndex+1),this.docStateHistory.push(e),this.docStateIndex=this.docStateHistory.length-1}undo(){if(this.docStateIndex>0){this.docStateIndex--;const e=this.docStateHistory[this.docStateIndex].copySelf();this.swapPropertiesToRaw(this.docState.root,e.root),this.swapPropertiesExceptRoot(this.docState,e),this.callUpdateStateHooks(e,this.docState,{name:"undo"}),nextTick(()=>Z(this,this.docState.sels.selections))}}redo(){if(this.docStateIndex<this.docStateHistory.length-1){this.docStateIndex++;const e=this.docStateHistory[this.docStateIndex].copySelf();this.swapPropertiesToRaw(this.docState.root,e.root),this.swapPropertiesExceptRoot(this.docState,e),this.callUpdateStateHooks(e,this.docState,{name:"redo"}),nextTick(()=>Z(this,this.docState.sels.selections))}}updateSelection(){this.docState.sels.updateSelections(),this.isTripleClick&&ut(this.docState.sels.selections,this.docState)}setProperties(e,r){Object.keys(r).forEach(o=>{e[o]=r[o]})}setPropertiesExceptRoot(e,r){Object.keys(r).forEach(o=>{o!=="root"&&(e[o]=r[o])})}swapPropertiesToRaw(e,r){Object.keys(r).forEach(o=>{if(typeof r[o]=="object"){let s=toRaw(e[o]);e[o]=r[o],r[o]=s}else{let s=e[o];e[o]=r[o],r[o]=s}})}swapPropertiesExceptRoot(e,r){Object.keys(r).forEach(o=>{if(o!=="root"){let s=e[o];e[o]=r[o],r[o]=s}})}}function at(n,e,r){const o=n.docState,s=o.copySelf(),a=s.findNodeByPos(e);if(a){const l=Object.assign({},a.data,r);a.data=l}s.calPosition(),n.updateDocState(o,s)}async function pe(n){var e,r;if(n instanceof DragEvent&&n.dataTransfer==null)return null;const o=n instanceof DragEvent?(e=n.dataTransfer)==null?void 0:e.items:(r=n.clipboardData)==null?void 0:r.items;if(o==null)return null;const s=[],a=[];for(let f of o)if(f.kind==="file"){const g=f.getAsFile(),v=(g==null?void 0:g.name)||"",A=(g==null?void 0:g.size)||0;if(g){const M=new FileReader;M.readAsDataURL(g);let Y=new Promise(de=>{M.onload=()=>{s.push({name:v,size:A,src:M.result}),de(!0)}});a.push(Y)}}const l=await Promise.all(a).then(()=>s).catch(f=>(y$1.warn(f),[])),c=[],d=[];if(l.length<1){for(let f of o)if(f.kind==="string"&&f.type==="text/uri-list"){let g=new Promise(v=>{let A="",M=0;try{const Y=f.getAsFile();A=(Y==null?void 0:Y.name)||"",M=(Y==null?void 0:Y.size)||0}catch(Y){y$1.warn("get file name error",Y),A=""}f.getAsString(async Y=>{const de=await ct(Y);if(de){let ae=!0;s.forEach(ze=>{ze.src===de&&(ae=!1)}),ae&&d.push({name:A,size:M,src:de})}v(!0)})});c.push(g)}return await Promise.all(c).then(()=>d).catch(f=>(y$1.warn(f),[]))}else return l}async function ct(n){try{const e=await(await fetch(n)).blob();return new Promise((r,o)=>{const s=new FileReader;s.onloadend=()=>r(s.result),s.onerror=o,s.readAsDataURL(e)})}catch(e){return y$1.error(e),null}}function ge(n,e){const r=[];if(e==null)return r;for(const o of e){const s=o.src,a=o.size;if(typeof s!="string")continue;const l=s.split(";")[0].split(":")[1],c=o.name,d=["image/png","image/jpeg","image/gif","image/bmp","image/webp","image/tiff","image/jpg"];if(n.stringResource2NodeCallback&&typeof n.stringResource2NodeCallback=="function"){const f=n.stringResource2NodeCallback(n,s,c,a,l);if(f){r.push(f);continue}}if(d.includes(l)){const f=x$1("aditorImage",{},{src:s},"");r.push(f)}else y$1.warn('not support "',l,'" file type')}return r}function K(n){const e=[],r=o=>{if(o.type===u.Child){const s=[];o.children.forEach(a=>{const l=r(a);l&&s.push(l)}),o.children=s}return o.isEmpty()?null:o};return n.forEach(o=>{const s=r(o);s&&e.push(s)}),e}let F$1=0,w$1=0;function ft(){return{keydown:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;const o=n.ctrlKey;n.shiftKey;const s=n.altKey;if(r.isComposing||n.key=="Process"){n.preventDefault();return}if(r.updateSelection(),!(n.key=="ArrowUp"||n.key=="ArrowDown"||n.key=="ArrowLeft"||n.key=="ArrowRight"))if(n.key=="Backspace"||n.key=="Delete"){n.preventDefault(),r.dispatchViewEvent(n,"backspaceSelections",e.sels.selections,e);return}else if(n.key=="Enter"){n.preventDefault(),r.dispatchViewEvent(n,"enterSelections",e.sels.selections,e);return}else{if(o&&n.key==="v")return;if(o&&n.key==="x"){ye(),Ne(e,e.sels.selections),setTimeout(()=>r.dispatchViewEvent(n,"backspaceSelections",e.sels.selections,e),10);return}else if(o&&n.key==="c"){ye(),Ne(e,e.sels.selections);return}else if(o&&n.key==="s"){n.preventDefault();return}else{if(o&&n.key==="a")return;if(o&&n.key==="z"){n.preventDefault(),r.undo();return}else if(o&&n.key==="y"){n.preventDefault(),r.redo();return}else{if(n.key==="F5")return;if(!o&&!s&&(Q.keyCodeAlphabet.includes(n.keyCode)||Q.keyCodeNumber.includes(n.keyCode)||Object.prototype.hasOwnProperty.call(Q.keyCodeSymbol,n.keyCode))){r.dispatchViewEvent(n,"replaceSelections",e.sels.selections,e,{text:n.key}),n.preventDefault();return}}}}},keyup:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;n.preventDefault()},keypress:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;n.preventDefault()},click:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;n.preventDefault()},mousedown:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;F$1++,F$1===1?(r.isTripleClick=!1,r.updateSelection(),w$1=setTimeout(function(){F$1=0},400)):F$1===2?(r.isTripleClick=!1,r.updateSelection(),clearTimeout(w$1),w$1=setTimeout(function(){F$1=0},500)):F$1===3?(r.isTripleClick=!0,setTimeout(()=>{r.updateSelection()},50),clearTimeout(w$1),w$1=setTimeout(function(){F$1=0},300)):F$1>=4?(r.isTripleClick=!0,clearTimeout(w$1),w$1=setTimeout(function(){F$1=0},300)):r.updateSelection()},mouseup:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;r.updateSelection()},mouseleave:()=>{},blur:()=>{},mouseover:()=>{},mousewheel:()=>{},compositionstart:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;r.isComposing==!1&&(r.isComposing=!0,r.updateSelection())},compositionend:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;r.isComposing==!0&&(r.composingTimeout=window.setTimeout(()=>{r.dispatchViewEvent(n,"replaceSelections",e.sels.selections,e,{text:n.data}),r.isComposing=!1},20)),n.preventDefault()},input:(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;n.preventDefault()},drag:(n,e,r)=>{},dragstart:(n,e,r)=>{},dragend(n,e,r){},drop:async(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;n.preventDefault(),n.stopPropagation();const o=e.sels.getCurDOMBlockStartByNode(n.target);if(o==null)return;const s=[{start:o,startOffset:0,end:o,endOffset:0}],a=await pe(n),l=ge(r,a);r.dispatchViewEvent(n,"insertNodesSelectionsAtRoot",s,e,{nodeList:l})},paste:async(n,e,r)=>{if(k(n.target,r.rootHTML))return!1;r.updateSelection(),n.preventDefault(),n.stopPropagation();const o=await pe(n);if(o!=null&&o.length>0){const s=ge(r,o);r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:s})}else{if(!navigator.clipboard){te("GLOBAL_PASTE_ADITOR").then(s=>{const a=H(s),l=K(a);l.forEach(c=>c.selfMerge(0,Number.MAX_SAFE_INTEGER,[])),r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:l})}).catch(s=>{y$1.error("indexDB get error: ",s)});return}navigator.clipboard.read().then(s=>{s.forEach(a=>{const l=a.types.find(c=>c==="text/html");l?a.getType(l).then(c=>{c.text().then(d=>{te("GLOBAL_PASTE_STR").then(f=>{if(d===f)te("GLOBAL_PASTE_ADITOR").then(g=>{if(g){const v=H(g),A=K(v);A.forEach(M=>M.selfMerge(0,Number.MAX_SAFE_INTEGER,[])),r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:A})}else{if(!d.trim().startsWith("<")||!d.trim().endsWith(">")){const Y=X(d);r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:Y});return}const v=se(d),A=H(v),M=K(A);M.forEach(Y=>Y.selfMerge(0,Number.MAX_SAFE_INTEGER,[])),r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:M})}}).catch(g=>{y$1.error("indexDB get error: ",g)});else{if(!d.trim().startsWith("<")||!d.trim().endsWith(">")){const M=X(d);r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:M});return}const g=se(d),v=H(g),A=K(v);A.forEach(M=>M.selfMerge(0,Number.MAX_SAFE_INTEGER,[])),r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:A})}}).catch(f=>{y$1.error("indexDB get error: ",f)})})}):a.getType(a.types[0]).then(c=>{c.text().then(d=>{const f=X(d);r.dispatchViewEvent(n,"insertNodesSelections",e.sels.selections,e,{nodeList:f})})})})})}}}}function ut(n,e){for(const r of n)if(r.start&&r.end&&r.start!==r.end&&r.endOffset===0){const o=e.findNodeRootIndexByPos(r.start),s=e.findNodeRootIndexByPos(r.end);if(o!=-1&&s!=-1){const a=e.root.children[o],l=e.root.children[s];if(a&&l){const c=r.start-1,d=e.findNodeByPos(c);if(d){const f=d.dfsDeepestRightEndNode();f&&(r.end=f.start,r.endOffset=f.length())}}}}}function ht(n,e){const r=document.getElementById(n);if(r==null||r==null){y$1.warn("[compositionDiffFixAditorStatesNode] domRoot is null");return}const o=[],s=a=>{if(a.nodeType==1){const l=a.getAttribute("vid");l&&o.push(l)}a.childNodes.forEach(l=>s(l))};s(r),e.traverseNode((a,l)=>{a.id&&!o.includes(a.virtualId)&&a.virtualId!=n&&(a.randomVirtualId(),l.virtualId!=n&&l.randomVirtualId())})}function pt(n,e){const r=e.root.children[e.root.children.length-1];if(e.root.children.length==0){const o=x$1("aditorParagraph",{},{}),s=x$1("aditorText",{},{},"");o.children.push(s),e.root.children.push(o)}else if(r&&r.name!=="aditorParagraph"){const o=x$1("aditorParagraph",{},{}),s=x$1("aditorText",{},{},"");o.children.push(s),e.root.children.push(o)}else if(r&&r.dfsDeepestRightEndNode().name!=="aditorText"){const o=x$1("aditorParagraph",{},{}),s=x$1("aditorText",{},{},"");o.children.push(s),e.root.children.push(o)}e.calPosition()}function k(n,e){if(!e.contains(n)||n==null)return!1;let r=500,o=n;for(;o!=e&&r-- >0;){if(o.getAttribute("aditor-ignore-event")!==null&&o.getAttribute("aditor-ignore-event")!==void 0)return!0;if(o=o.parentNode,o==null)return!1}return!1}const Q={keyCodeAlphabet:[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],keyCodeNumber:[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],keyCodeSymbol:{32:" ",106:"*",107:"+",109:"-",110:".",111:"/",189:"-_",190:".>",191:"/?",192:"`~",186:";:",187:"=+",188:",<",219:"[{",220:"\\|",221:"]}",222:'"'},keyEnter:[108,13],KEY_UP:38,KEY_LEFT:37,KEY_DOWN:40,KEY_RIGHT:39,KEY_DELETE:8};function ye(){navigator.clipboard.read().then(n=>{n.forEach(e=>{const r=e.types.find(o=>o==="text/html");r?e.getType(r).then(o=>{o.text().then(s=>{ne("GLOBAL_PASTE_STR",s)})}):e.getType(e.types[0]).then(o=>{o.text().then(s=>{ne("GLOBAL_PASTE_STR",s)})})})})}function Ne(n,e){const r=n.copySelf(),o=r.vsels2Nodesels(e),s=[];let a=[];for(const l of o){const c=r.nodesel2globalpos(l);s.push(c)}if(s.length<1){const l=gt();l&&(a=se(l))}else for(const l of s){const c=r.selectionPos2JSON(l.start,l.end);a=a.concat(c)}ne("GLOBAL_PASTE_ADITOR",a)}function gt(){const n=window.getSelection(),e=n==null?void 0:n.getRangeAt(0),r=e==null?void 0:e.cloneContents(),o=document.createElement("div");return r==null?null:(o.appendChild(r),o.style.display="none",o.outerHTML)}class le{constructor(){m(this,"selections",[]),m(this,"lastSelections",[])}updateSelections(){this.lastSelections=this.selections,this.selections=me()}setSelectionsByNodeSelection(e){this.lastSelections=this.selections,this.selections=[],e.forEach(r=>{if(r.startNode==null||r.endNode==null)return;const o={start:r.startNode.start,startOffset:r.startOffset,end:r.endNode.start,endOffset:r.endOffset};this.selections.push(o)})}getCurDOMSelection(){return me()}getCurDOMBlockStartByNode(e){let r=null;const o=s=>{if(s==null||s==null||s.nodeType!==1&&s.nodeType!==3)return null;const a=s.getAttribute("id"),l=s.getAttribute("vid");return a&&l&&a===l?s:(o(s.parentNode)&&(r=s),null)};if(o(e),r==null)return null;{const s=parseInt(r.getAttribute("aditorid").split("-")[1]);return isNaN(s)?null:s}}copy(){const e=new le;return e.selections=this.selections.map(r=>({start:r.start,startOffset:r.startOffset,end:r.end,endOffset:r.endOffset})),e.lastSelections=this.lastSelections.map(r=>({start:r.start,startOffset:r.startOffset,end:r.end,endOffset:r.endOffset})),e}}function me(){let n=window.getSelection(),e=[],r=[];if(n&&n.rangeCount>0)for(let o=0;o<n.rangeCount;o++)e.push(n.getRangeAt(o));for(let o in e){const s=e[o],{startContainer:a,endContainer:l,startOffset:c,endOffset:d}=s,f=yt(a,l,c,d);f!=null&&f!=null&&r.push(f)}return r}function Z(n,e){let r=window.getSelection();r==null||r.removeAllRanges(),e.forEach(o=>{var s,a;const{start:l,end:c,startOffset:d,endOffset:f}=o;let g=ve(n.docState.root.virtualId,l);g!=null&&g.childNodes&&g.childNodes.length>0&&g.childNodes[0].nodeType===3&&(g=g.childNodes[0]);let v=ve(n.docState.root.virtualId,c);if(v!=null&&v.childNodes&&v.childNodes.length>0&&v.childNodes[0].nodeType===3&&(v=v.childNodes[0]),v&&g){const A=document.createRange();try{let M=0;g.nodeType===3?M=(s=g.textContent)==null?void 0:s.length:g.nodeType===1&&(M=g.childNodes.length);let Y=0;v.nodeType===3?Y=(a=v.textContent)==null?void 0:a.length:v.nodeType===1&&(Y=v.childNodes.length),A.setStart(g,d>M?M:d),A.setEnd(v,f>Y?Y:f),r==null||r.addRange(A)}catch(M){y$1.warn("set Selection failed, because:"),y$1.warn(M),y$1.log("DOM details: set startNode: ",g,"startOffset: ",d,"endNode: ",v,"endOffset: ",f)}}else y$1.log("set Selection failed, because startNode or endNode is null")})}function ve(n,e){const r=document.getElementById(n),o=r==null?void 0:r.querySelector('[selstart="'+e+'"]');if(o)return o!=null&&o.childNodes[0]?o==null?void 0:o.childNodes[0]:o;{const s=r==null?void 0:r.querySelector('[aditorid="_aditor-'+e+'"]');return(s==null?void 0:s.childNodes[0])||s}}function yt(n,e,r,o){const{start:s,offset:a}=Se(n,r),{start:l,offset:c}=Se(e,o);return s==null||l==null||a==null||c==null?(y$1.warn(`start or end is null, start: ${s}, end: ${l}, startOffset: ${a}, endOffset: ${c}`),null):{start:s,startOffset:a,end:l,endOffset:c}}function Se(n,e){const r=n.nodeType,o=n.parentNode;let s=null,a=null;if(n.nodeType===3)if(o!=null){const l=V(o,e);s=l.start,a=l.offset}else y$1.error(`Text node ${n} has no parentNode`);else if(n.nodeType===1){const l=(A,M)=>{M>=A.length&&(M=A.length-1);let Y=1e4,de=M,ae=M,ze=null,qe=null;for(;(de>=0||ae<A.length)&&Y-- >0;){if(de>=0&&(ze=A[de],ze&&ze.nodeType===1)){const Ue=ze.getAttribute("aditorid");if(Ue&&j$1(Ue))return{node:ze,offset:1}}if(ae<A.length&&(qe=A[ae],qe&&qe.nodeType===1)){const Ue=qe.getAttribute("aditorid");if(Ue&&j$1(Ue))return{node:qe,offset:0}}de--,ae++}return{node:null,offset:0}},c=n.childNodes,d=Array.from(c).filter(A=>A.nodeType===1&&j$1(A.getAttribute("aditorid"))),{node:f,offset:g}=l(c,e);if(f==null)return e===0?V(n,0):{start:s,offset:a};e=d.indexOf(f)+g;const v=V(n,e);s=v.start,a=v.offset}else y$1.error(`Unknown nodeType ${r}, node details: ${n}`);return{start:s,offset:a}}function j$1(n){if(n==null||n==null)return!1;if(n.startsWith("_aditor-"))return!0}function V(n,e){const r=l=>{const c=parseInt(l.split("-")[1]);return c!=null&&c!=null?isNaN(c)?(y$1.error(`aditorId not valid: ${l}`),null):c:(y$1.error(`aditorId not valid: ${l}`),null)};let o=null,s=e,a=n.getAttribute("selstart");if(a!=null&&a!=null&&isNaN(parseInt(a))&&(a=null),a)o=parseInt(a);else{let l=n.getAttribute("aditorid");j$1(l)&&(o=r(l))}return n.getAttribute("seloffset")&&(s=parseInt(n.getAttribute("seloffset"))),{start:o,offset:s}}function Nt(n){var e,r;const o=a=>{let l=a;for(;l&&(l==null?void 0:l.isContentEditable)===!1;)l=l==null?void 0:l.previousElementSibling;return l},s=n.target;if(s.getAttribute("sys_sel_fix")==="true"){let a=s==null?void 0:s.previousElementSibling;for((a==null||a==null)&&(a=s==null?void 0:s.parentElement);a&&(a==null?void 0:a.isContentEditable)===!1;){const l=o(a);l==null||l==null?a=a.parentElement:a=l}if(a){const l=window.getSelection();if(l==null)return;if(a.nodeType===1){const c=a.lastChild;if(c){const d=document.createRange();d.setStart(l.anchorNode,l.anchorOffset),d.setEnd(c,(e=c.textContent)==null?void 0:e.length),l.removeAllRanges(),l.addRange(d)}}else if(a.nodeType===3){const c=document.createRange();c.setStart(l.anchorNode,l.anchorOffset),c.setEnd(a,(r=a.textContent)==null?void 0:r.length),l.removeAllRanges(),l.addRange(c)}else y$1.warn("unknow node type")}}}let xe=!1;xe===!1&&(document.addEventListener("mouseup",Nt),xe=!0);const Be=["p","h1","h2","h3","h4","h5","h6","div"],Ie=["span","strong","em","u","s","sub","sup","text"],mt=["a"],vt=["img"],St=["table"],xt=["code","pre"],Ee=[6,5,2,3,4],J={},q={6:(n,e)=>{y$1.log("Get <code> tag, but no parser hook for it.")},5:(n,e)=>{y$1.log("Get <table> tag, but no parser hook for it.")},2:(n,e)=>{const r=e.textContent;return{name:"aditorLink",type:u.Leaf,style:n.style,data:{href:n.attr.href},text:r==""?"链接":r||"",children:[]}},3:(n,e)=>({name:"aditorImage",type:u.Leaf,style:n.style,data:{src:n.attr.src},text:"",children:[]}),4:(n,e)=>{y$1.log("Get <katex> tag, but no parser hook for it.")}};function Et(n,e){const r={code:6,img:3,image:3,link:2,katex:4,table:5};if(!(n in r)){y$1.warn(`Hook for ${n} is not registered, register it now.`);return}J[r[n]]=e}const Ce=(n,e)=>Ee.includes(n)?Ee.find(r=>r==n):Re(e),Re=n=>Be.includes(n.name)?0:Ie.includes(n.name)?1:mt.includes(n.name)?2:vt.includes(n.name)?3:St.includes(n.name)?5:xt.includes(n.name)?6:7;function se(n){return bt(Ct(n))}function Ct(n){return new DOMParser().parseFromString(n,"text/html").body}function bt(n){const e=[],r=[7],o=[],s=[];let a=n;const l=f=>{var g,v,A;let M,Y,de,ae,ze,qe,Ue,hn;if(f.nodeType==3)M="text",Y={},de=((g=f.textContent)==null?void 0:g.trim())||"",ae={},ze=e[e.length-1]?e[e.length-1]:{name:"",text:"",style:{},attr:{}},qe=r[r.length-1],Ue={name:M,text:de,style:Object.assign({},ze.style,Y),attr:Object.assign({},ze.attr,ae)},hn=Ce(qe,Ue);else if(f.nodeType==1)M=f.tagName.toLowerCase(),Y=Ot(f.getAttribute("style")),de="",ae=kt(f),ze=e[e.length-1]?e[e.length-1]:{name:"",text:"",style:{},attr:{}},qe=r[r.length-1],Ue={name:M,text:de,style:Object.assign({},ze.style,Y),attr:Object.assign({},ze.attr,ae)},hn=Ce(qe,Ue);else return;if(r.push(hn),e.push(Ue),hn==7)o.push(o[o.length-1]);else if(hn==0){const On=ee(Ue,f);On?(o.push(On),s.push(On)):o.push(o[o.length-1])}else if(hn==1){const On=ee(Ue,f),vn=o[o.length-1];On&&vn&&vn.type==u.Child?((v=vn.children)==null||v.push(On),o.push(vn)):On?(o.push(On),s.push(On)):o.push(o[o.length-1])}else{const On=ee(Ue,f),vn=o[o.length-1];On&&vn&&vn.type==u.Child?((A=vn.children)==null||A.push(On),o.push(vn)):On?(o.push(On),s.push(On)):o.push(o[o.length-1]),o.pop(),r.pop(),e.pop();return}for(let On=0;On<f.childNodes.length;On++)l(f.childNodes[On]);o.pop(),r.pop(),e.pop()};l(a);const c=f=>f.type==u.Leaf?Object.values(f.data).every(g=>g===""||typeof g=="object"&&Object.keys(g).length===0)&&((f==null?void 0:f.text)==null||f.text===""):f.children&&f.children.length===0?!0:f.children?f.children.every(g=>c(g)):!0,d=[];for(let f=0;f<s.length;f++)c(s[f])||d.push(s[f]);return d}const kt=n=>{const e={};for(let r=0;r<n.attributes.length;r++){const o=n.attributes[r];o.name!="style"&&(e[o.name]=o.value)}return e};function Ot(n){if(!n)return{};const e={},r=n.split(";");for(let o=0;o<r.length;o++){const s=r[o].trim();if(s){const[a,l]=s.split(":").map(c=>c.trim());e[a]=l}}return e}function ee(n,e){var r,o;if(Be.includes(n.name))return n.text!==""?{name:"aditorParagraph",type:u.Child,style:n.style,data:{},text:"",children:[{name:"aditorText",type:u.Leaf,style:n.style,data:{},text:n.text,children:[]}]}:{name:"aditorParagraph",type:u.Child,style:n.style,data:{},children:[],text:""};if(Ie.includes(n.name))return n.text===""||n.text===void 0?void 0:{name:"aditorText",type:u.Leaf,style:n.style,data:{},text:n.text,children:[]};{const s=Re(n);if(s in J)return(r=J[s])==null?void 0:r.call(J,n,e);if(s in q)return(o=q[s])==null?void 0:o.call(q,n,e);y$1.log("unregistered node type",n.name);return}}const _e=async()=>new Promise((n,e)=>{const r=indexedDB.open("myDB",1);r.onerror=()=>e(r.error),r.onsuccess=()=>n(r.result),r.onupgradeneeded=o=>{o.target.result.createObjectStore("myStore")}}),ne=async(n,e)=>{const r=await _e();return new Promise((o,s)=>{const a=r.transaction("myStore","readwrite").objectStore("myStore").put(e,n);a.onerror=()=>s(a.error),a.onsuccess=()=>o()})},te=async n=>{const e=await _e();return new Promise((r,o)=>{const s=e.transaction("myStore","readonly").objectStore("myStore").get(n);s.onerror=()=>o(s.error),s.onsuccess=()=>r(s.result)})},Ft={},Tt=defineComponent({name:"aditor",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},emits:["save"],setup(n,{emit:e}){const r=ref(),o=n.aNode.virtualId;return onMounted(()=>{n.docView._bindDocSysEvent(r.value),n.docView.bindSysEvent(r.value,{keydown(s,a,l){s.key==="s"&&s.ctrlKey&&e("save",l)}})}),onBeforeUnmount(()=>{n.docView._unbindDocSysEvent(r.value),n.docView.unbindSysEvent(r.value)}),{aditorRef:r,aid:o}},config:Ft}),_=(n,e)=>{const r=n.__vccOpts||n;for(const[o,s]of e)r[o]=s;return r},At=["id"];function Lt(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{id:n.aid,class:"aditor",ref:"aditorRef",contenteditable:"true"},[renderSlot(n.$slots,"default",{},void 0,!0)],8,At)}const be=_(Tt,[["render",Lt],["__scopeId","data-v-ed0999e2"]]),wt={validStyleList:[b.textAlign]},Pt=defineComponent({name:"aditorParagraph",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(){return{}},config:wt}),Dt={key:0};function Bt(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{style:normalizeStyle(n.aNode.style)},[renderSlot(n.$slots,"default"),n.aNode.children.length==1&&n.aNode.children[0].length()==0?(openBlock(),createElementBlock("br",Dt)):createCommentVNode("",!0)],4)}const ke=_(Pt,[["render",Bt]]),It={validStyleList:[b.fontWeight,b.fontStyle,b.underline,b.lineThrough,b.color,b.backgroundColor]},Rt=defineComponent({name:"aditorText",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(){return{}},config:It});function _t(n,e,r,o,s,a){return openBlock(),createElementBlock("span",{style:normalizeStyle(n.aNode.style)},toDisplayString(n.aNode.text?n.aNode.text:"​"),5)}const Oe=_(Rt,[["render",_t]]),$t={defaultData:{href:"http://localhost"},validStyleList:[b.fontStyle,b.lineThrough,b.underline,b.fontWeight]},Mt=defineComponent({name:"aditorLink",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=computed(()=>{var r;return(r=n.aNode.data)!=null&&r.href?n.aNode.data.href:""});return{href:e,openLink:()=>{window.open(e.value,"_blank")}}},config:$t}),Ht=["href"];function Jt(n,e,r,o,s,a){return openBlock(),createElementBlock("a",{onClick:e[0]||(e[0]=withModifiers((...l)=>n.openLink&&n.openLink(...l),["stop"])),style:normalizeStyle(n.aNode.style),class:"aditor-link",href:n.href,target:"_blank","aditor-link":""},toDisplayString(n.aNode.text?n.aNode.text:"​"),13,Ht)}const Fe=_(Mt,[["render",Jt],["__scopeId","data-v-e3597d53"]]),Kt={secondaryType:u.BlockLeaf,defaultData:{katex:"y=x",isBlock:!1},dataKeyName:"katex",validStyleList:[],text:n=>{var e;return((e=n.data)==null?void 0:e.katex)||""},getTextByRange(n,e,r){var o;if(n.start<r&&n.end>e)return((o=n.data)==null?void 0:o.katex)||""}},qt=defineComponent({name:"aditorKatex",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},data(){return{}},setup(n){const e=ref(null),r=ref(!1),o=ref(null),s=ref(""),a=ref(null),l=ref(!1);let c="";const d=()=>{at(n.docView,n.aNode.start,{displayMode:l.value,katex:s.value})},f=()=>{r.value=!0,c=s.value,nextTick(()=>{a.value&&a.value.focus()})},g=()=>{r.value=!1,c!==s.value&&d()},v=ae=>{const ze=ae.relatedTarget;if(ze&&e.value&&e.value.contains(ze)){a.value&&a.value.focus();return}r.value=!1,c!==s.value&&d()},A=(ae,ze)=>katex.renderToString(ae,{throwOnError:!1,output:"mathml",displayMode:ze}),M=()=>{l.value=!1,d()},Y=()=>{l.value=!0,d()},de=()=>{r.value=!1,d()};return watch(()=>n.aNode.data,ae=>{const ze=ae.katex,qe=ae.displayMode;o.value=A(ze,qe),s.value=ze,l.value=qe}),o.value=A(toRaw(n.aNode.data.katex),toRaw(n.aNode.data.displayMode)),s.value=toRaw(n.aNode.data.katex),l.value=toRaw(n.aNode.data.displayMode),{aditorKatexRef:e,isEditing:r,katexMathml:o,katexContent:s,inputRef:a,displayMode:l,renderKatex:A,onClick:f,onEnter:g,onBlur:v,clickInline:M,clickBlock:Y,clickSave:de}},config:Kt}),Gt=["innerHTML"],jt={class:"edit-menu",tabindex:"0"},Ut={class:"edit-content"};function Wt(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{ref:"aditorKatexRef",class:normalizeClass(n.displayMode?"aditor-katex-block":"aditor-katex"),contenteditable:"false","aditor-ignore-event":""},[withDirectives(createBaseVNode("div",{innerHTML:n.katexMathml,onClick:e[0]||(e[0]=(...l)=>n.onClick&&n.onClick(...l))},null,8,Gt),[[vShow,!n.isEditing]]),withDirectives(createBaseVNode("div",{class:normalizeClass(n.displayMode?"edit-box-block":"edit-box")},[createBaseVNode("div",jt,[createBaseVNode("button",{class:normalizeClass({"button-on":!n.displayMode}),onClick:e[1]||(e[1]=(...l)=>n.clickInline&&n.clickInline(...l))},"行内显示",2),createBaseVNode("button",{class:normalizeClass({"button-on":n.displayMode}),onClick:e[2]||(e[2]=(...l)=>n.clickBlock&&n.clickBlock(...l))},"整行显示",2)]),createBaseVNode("div",Ut,[withDirectives(createBaseVNode("textarea",{class:normalizeClass(n.displayMode?"edit-textarea-block":"edit-textarea"),ref:"inputRef","onUpdate:modelValue":e[3]||(e[3]=l=>n.katexContent=l),onKeydown:e[4]||(e[4]=withKeys((...l)=>n.onEnter&&n.onEnter(...l),["enter"])),onBlur:e[5]||(e[5]=(...l)=>n.onBlur&&n.onBlur(...l))},null,34),[[vModelText,n.katexContent]])])],2),[[vShow,n.isEditing]])],2)}const Te=_(qt,[["render",Wt],["__scopeId","data-v-9d076124"]]),zt={secondaryType:u.BlockLeaf,dataKeyName:"src"},Yt=defineComponent({name:"aditorImage",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(){return{}},config:zt}),Xt={contenteditable:"false"},Qt=["src"];function Zt(n,e,r,o,s,a){return openBlock(),createElementBlock("span",Xt,[createBaseVNode("img",{style:{"max-width":"500px","max-height":"300px"},contenteditable:"true",src:n.aNode.data.src,draggable:"true"},null,8,Qt)])}const Ae=_(Yt,[["render",Zt]]),Vt="vue-aditor",es="0.1.0",ts={name:"jerry1.zhu",email:"jerryzhulinkun@gmail.com"},ss="",ns="dist/aditor.es.js",is="dist/aditor.es.js",rs=["dist","README.md"],os="module",ls={dev:"vite",build:"vue-tsc && vite build",preview:"vite preview"},ds={katex:"^0.16.9",nanoid:"^5.0.4",vue:"^3.4.19"},as={"@vitejs/plugin-vue":"^5.0.4",typescript:"^5.2.2",vite:"^5.1.4","vite-plugin-dts":"^3.7.3","vue-tsc":"^1.8.27"},cs={name:Vt,version:es,author:ts,description:ss,main:ns,module:is,files:rs,type:os,scripts:ls,dependencies:ds,devDependencies:as},fs=cs.version,L={};function x$1(n,e,r,o="",s){if(n==="aditor"&&("version"in r||(r.version=fs)),n in L&&"defaultData"in L[n].config&&(r=Object.assign({},L[n].config.defaultData,r)),n in L)return new W(n,L[n].aNodeType,e,r,L[n].config,o,s);throw new Error(`Component ${n} is not registered`)}function $(n,e,r,o={}){if(n===void 0)throw new Error("Component name is required");"config"in r||(r.config={}),r.config=Object.assign({},r.config,o),r.aNodeType=e,r.config.hookElementTag&&Et(r.config.hookElementTag,r.config.hookCallback),L[n]=r}$(be.name,u.Child,be);$(ke.name,u.Child,ke);$(Oe.name,u.Leaf,Oe);$(Fe.name,u.Leaf,Fe);$(Te.name,u.Leaf,Te);$(Ae.name,u.Leaf,Ae);function Ns(n){const e=new dt,r=new oe;r.loadJSON2ANode(n);const o=De(r.root,e,L);return e.init(r,o),e.saveHistory(r.copySelf()),e}const version="0.0.7",FIXED_ROOT="所有笔记",defaultProps={children:"children",label:"label",path:"path",isLeaf:"isLeaf"},state$1=reactive({elTreeRef:{},activeView:null,root:{},openedNodes:[],openedNode:{},lastContextMenuNode:{}});function _makeFolderData(n,e){return n.endsWith(".ai")&&(n=n.replace(/[^/]+$/,"")),e.type=="folder"?{label:e.name,path:n+"/"+e.name,isChanged:!1,children:[],isLeaf:!1}:{label:e.name,path:n+"/"+e.name,isChanged:!1,isLeaf:!0}}async function _getFiles(n){return await request.getFiles({path:n}).then(e=>e.data.status?e.data.files.map(r=>_makeFolderData(n,r)):[]).catch(e=>(console.warn(e),[]))}async function loadNode(n,e){if(n.level==0)state$1.root=n,e([{label:FIXED_ROOT,path:FIXED_ROOT,isChanged:!1,isLeaf:!1}]);else if(!n.isLeaf){let r=await _getFiles(n.data.path);e(r)}}async function _updateKeyChildren(n,e){const r=state$1.elTreeRef.getNode(n);if(r.data.isLeaf){const o=r.parent.key;state$1.elTreeRef.updateKeyChildren(o,e),state$1.elTreeRef.setCurrentKey(o)}else state$1.elTreeRef.updateKeyChildren(n,e)}function nodeClickHandler(n,e,r,o){e.isLeaf&&e.data.isLeaf&&setOpenedDoc(n.path)}function setOpenedDoc(n){state$1.openedNodes.some(e=>e.data.path==n)?(state$1.openedNode=state$1.openedNodes.find(e=>e.data.path==n)||{},state$1.elTreeRef.setCurrentKey(n)):request.getAditorFile({path:n}).then(e=>{if(e.data.status){const r=state$1.elTreeRef.getNode(n);state$1.openedNodes.push(r),r.data.docJson=e.data.doc,r.data.isChanged=!1,state$1.openedNode=state$1.openedNodes.find(o=>o.data.path==n)||{},state$1.elTreeRef.setCurrentKey(n)}else console.warn(e.data.message)}).catch(e=>{console.warn(e)})}const openedNodePath=computed({get(){var n;return(n=state$1.openedNode)!=null&&n.data?state$1.openedNode.data.path:""},set(n){setOpenedDoc(n)}});function mountElTreeRef(n){state$1.elTreeRef=n}function closeOpenedDoc(n){var e,r;(r=(e=state$1.openedNode)==null?void 0:e.data)!=null&&r.path&&(state$1.openedNode.data.path==n&&state$1.openedNodes.forEach((o,s)=>{var a,l;o.data.path===n&&(state$1.openedNode=state$1.openedNodes[s+1]||state$1.openedNodes[s-1]||{},(l=(a=state$1.openedNode)==null?void 0:a.data)!=null&&l.path&&setOpenedDoc(state$1.openedNode.data.path))}),state$1.openedNodes=state$1.openedNodes.filter(o=>o.data.path!=n))}async function newFolder(n){const e=state$1.elTreeRef.getCurrentKey(),r=fixPath(e),o=await request.newFolder({path:r,name:n}).then(s=>{var a;return s.data.status?!0:(console.warn((a=s.data)==null?void 0:a.message),!1)}).catch(s=>(console.warn(s),!1));if(o){const s=await _getFiles(e);_updateKeyChildren(e,s)}return o}async function newFile(n){n.endsWith(".ai")||(n=n+".ai");const e=state$1.elTreeRef.getCurrentKey();let r=fixPath(e);const o=await request.newFile({path:r,name:n,version:fs,egbenz_version:version}).then(s=>{var a;return s.data.status?!0:(console.warn((a=s.data)==null?void 0:a.message),!1)}).catch(s=>(console.warn(s),!1));if(o){const s=await _getFiles(e);_updateKeyChildren(e,s)}return o}async function refreshFolder(){const n=state$1.elTreeRef.getCurrentKey(),e=getExpandedNode(state$1.elTreeRef);request.refresh({paths:e}).then(r=>{if(r.data.status){for(let o in r.data.folders){const s=r.data.folders[o].files.map(a=>_makeFolderData(r.data.folders[o].path,a));_updateKeyChildren(r.data.folders[o].path,s)}try{state$1.elTreeRef.setCurrentKey(n)}catch(o){console.warn(o)}}else console.warn(r.data.message)}).catch(r=>{console.warn(r)})}async function renamePath(n,e){var a,l,c;const r=(a=n==null?void 0:n.data)==null?void 0:a.path;if(!r)return!1;const o=fixPath(r),s=await request.renamePath({path:o,name:e}).then(d=>{var f;return d.data.status?!0:(console.warn((f=d.data)==null?void 0:f.message),!1)}).catch(d=>(console.warn(d),!1));if(s){const d=state$1.elTreeRef.getNode(r).parent.key,f=await _getFiles(d);_updateKeyChildren(d,f)}return((c=(l=state$1.openedNode)==null?void 0:l.data)==null?void 0:c.path)==r&&(state$1.openedNode.data.label=e,state$1.openedNode.data.path=r.replace(/[^/]+$/,e)),s}async function deletePath(n){var o;const e=(o=n==null?void 0:n.data)==null?void 0:o.path;if(!e)return!1;const r=await request.deletePath({path:e}).then(s=>{var a;return s.data.status?!0:(console.warn((a=s.data)==null?void 0:a.message),!1)}).catch(s=>(console.warn(s),!1));if(r){const s=state$1.elTreeRef.getNode(e).parent.key,a=await _getFiles(s);_updateKeyChildren(s,a)}return closeOpenedDoc(e),r}async function updateFile(n,e){const r=e.docState.exportJSON();if(await request.updateFile({path:n,doc:r}).then(s=>{var a;return s.data.status?!0:(console.warn((a=s.data)==null?void 0:a.message),!1)})){const s=state$1.openedNodes.find(a=>a.data.path==n);s&&(s.data.isChanged=!1,request.getAditorFile({path:n}).then(a=>{a.data.status?s.data.docJson=a.data.doc:console.warn(a.data.message)}).catch(a=>{console.warn(a)}))}}function getExpandedNode(n){var a,l;let e=1e5;if(((l=(a=n==null?void 0:n.root)==null?void 0:a.constructor)==null?void 0:l.name)!=="_Node")return[];const r=n.root,o=[],s=[r];for(;s.length>0&&e-- >0;){const c=s.pop();c&&c.expanded&&o.push(c.data.path),c&&c.childNodes&&s.push(...c.childNodes)}return o.shift(),o.reverse(),o}function updateContextMenuNode(n){state$1.lastContextMenuNode=n}function afterUpdateView(n,e){const r=state$1.openedNodes.find(l=>l.data.path==n);if(!r)return;let o=!1;const s=(l,c)=>{if(Array.isArray(l)){if(l.length!==c.length){o=!0;return}}else if(typeof l=="object"&&l!==null&&l!==void 0&&c!==null&&c!==void 0&&Object.keys(l).length!==Object.keys(c).length){o=!0;return}if((Array.isArray(l)||typeof l=="object")&&l!==null&&l!==void 0&&c!==null&&c!==void 0)for(let d in l){if(o)return;s(l[d],c[d])}else{l!==c&&(o=!0);return}},a=(l,c)=>{if((l.name!==c.name||l.type!==c.type||l.children.length!==c.children.length||l.text!==c.text)&&(o=!0),s(l.data,c.data),!o)for(let d=0;d<l.children.length;d++){if(o)return;a(l.children[d],c.children[d])}};a(toRaw(r.data.docJson),toRaw(e.root)),r.data.isChanged=o}const fixPath=n=>n==FIXED_ROOT?FIXED_ROOT+"/":n,explorerState={state:state$1,loadNode,nodeClickHandler,setOpenedDoc,openedNodePath,mountElTreeRef,closeOpenedDoc,newFolder,newFile,refreshFolder,renamePath,deletePath,updateFile,updateContextMenuNode,afterUpdateView},_withScopeId$5=n=>(pushScopeId("data-v-64c26e0d"),n=n(),popScopeId(),n),_hoisted_1$R={class:"explorer-body"},_hoisted_2$O={class:"exporer-head"},_hoisted_3$M=_withScopeId$5(()=>createBaseVNode("span",{class:"head-content"},"Egbenz",-1)),_hoisted_4$6={class:"head-options"},_hoisted_5$6={class:"exporer-content"},_hoisted_6$5={class:"custom-tree-node"},_hoisted_7$5={style:{"margin-bottom":"10px"}},_hoisted_8$5={style:{display:"flex","justify-content":"flex-end"}},_sfc_main$d=defineComponent({__name:"Explorer",setup(n){const e=ref(),r=ref(),o=reactive({dialogInputVisible:!1,dialogInputString:"",dialogClickCallback:explorerState.newFolder,dialogTitle:"新建文件夹"}),s=async c=>{await o.dialogClickCallback(c)&&(o.dialogInputVisible=!1)},a=(c,d,f)=>{r.value.clickButtonManual(c),explorerState.updateContextMenuNode(f)},l=c=>{var d;if(!(e.value&&((d=e.value)==null?void 0:d.getCurrentKey())==null)){if(c==="newFolder")o.dialogClickCallback=explorerState.newFolder,o.dialogInputString="",o.dialogTitle="新建文件夹";else if(c==="newFile")o.dialogClickCallback=explorerState.newFile,o.dialogInputString="",o.dialogTitle="新建文件";else if(c==="delete")o.dialogClickCallback=()=>explorerState.deletePath(explorerState.state.lastContextMenuNode),o.dialogInputString="",o.dialogTitle="确认删除文件?";else if(c==="rename")o.dialogClickCallback=f=>explorerState.renamePath(explorerState.state.lastContextMenuNode,f),o.dialogInputString=explorerState.state.lastContextMenuNode.label,o.dialogTitle="重命名";else return;o.dialogInputVisible=!0}};return onMounted(()=>{explorerState.mountElTreeRef(e.value)}),(c,d)=>{const f=ElButton,g=ElButtonGroup$1,v=ElIcon,A=ElTree,M=ElScrollbar,Y=ElInput,de=ElDialog;return openBlock(),createElementBlock("div",_hoisted_1$R,[createVNode(Contextmenu,{ref_key:"contextmenuRef",ref:r,onDeletePath:d[0]||(d[0]=ae=>l("delete")),onRenamePath:d[1]||(d[1]=ae=>l("rename"))},null,512),createBaseVNode("div",_hoisted_2$O,[_hoisted_3$M,createBaseVNode("span",_hoisted_4$6,[createVNode(g,null,{default:withCtx(()=>[createVNode(f,{size:"small",icon:unref(document_add_default),onClick:d[2]||(d[2]=ae=>l("newFile"))},null,8,["icon"]),createVNode(f,{size:"small",icon:unref(folder_add_default),onClick:d[3]||(d[3]=ae=>l("newFolder"))},null,8,["icon"]),createVNode(f,{size:"small",icon:unref(refresh_left_default),onClick:unref(explorerState).refreshFolder},null,8,["icon","onClick"])]),_:1})])]),createBaseVNode("div",_hoisted_5$6,[createVNode(M,null,{default:withCtx(()=>[createVNode(A,{ref_key:"elTreeRef",ref:e,lazy:"","auto-expand-parent":"","highlight-current":"","node-key":"path",indent:8,props:unref(defaultProps),load:unref(explorerState).loadNode,onNodeContextmenu:a,onNodeClick:unref(explorerState).nodeClickHandler},{default:withCtx(({node:ae,data:ze})=>[createBaseVNode("span",_hoisted_6$5,[ze.isLeaf?(openBlock(),createBlock(v,{key:0,size:"14px",style:{"margin-right":"5px","margin-left":"-18px"}},{default:withCtx(()=>[createVNode(unref(document_default))]),_:1})):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(ae.label),1)])]),_:1},8,["props","load","onNodeClick"])]),_:1})]),createVNode(de,{modelValue:o.dialogInputVisible,"onUpdate:modelValue":d[7]||(d[7]=ae=>o.dialogInputVisible=ae),title:o.dialogTitle},{default:withCtx(()=>[createBaseVNode("div",null,[withDirectives(createBaseVNode("div",_hoisted_7$5,[createVNode(Y,{modelValue:o.dialogInputString,"onUpdate:modelValue":d[4]||(d[4]=ae=>o.dialogInputString=ae)},null,8,["modelValue"])],512),[[vShow,o.dialogTitle!="确认删除文件?"]]),createBaseVNode("div",_hoisted_8$5,[createVNode(f,{type:"primary",onClick:d[5]||(d[5]=ae=>s(o.dialogInputString))},{default:withCtx(()=>[createTextVNode("确认")]),_:1}),createVNode(f,{onClick:d[6]||(d[6]=ae=>o.dialogInputVisible=!1)},{default:withCtx(()=>[createTextVNode("取消")]),_:1})])])]),_:1},8,["modelValue","title"])])}}}),Explorer=_export_sfc(_sfc_main$d,[["__scopeId","data-v-64c26e0d"]]),_sfc_main$c=defineComponent({__name:"Breadcrumb",props:{openedNodePath:{type:String,default:()=>["所有笔记"]}},setup(n){const e=n,r=computed(()=>e.openedNodePath.split("/"));return(o,s)=>{const a=ElBreadcrumbItem,l=ElBreadcrumb;return openBlock(),createBlock(l,{"separator-icon":unref(arrow_right_default)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(c,d)=>(openBlock(),createBlock(a,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c),1)]),_:2},1024))),256))]),_:1},8,["separator-icon"])}}}),_hoisted_1$Q={class:"editor-main"},_sfc_main$b=defineComponent({__name:"Editor",props:{docJson:{type:Object,required:!0},path:{type:String,required:!0},setAditorViews:{type:Function,required:!0},updateFile:{type:Function,required:!0}},setup(n){var o;const e=n;let r=null;try{r=Ns(e.docJson),r.bindStringResource2NodeCallback((s,a,l,c,d)=>d==="application/pdf"?x$1("aditorPDF",{},{name:l,size:c,href:a}):null),e.setAditorViews(e.path,r)}catch(s){if(s.message.includes("Component")){const l="你打开的文件需要安装"+((o=s.message.match(/Component (.*) is not registered/))==null?void 0:o[1])+"组件才能正常使用,请安装有该组件的Egbenz版本";ElMessage({showClose:!0,duration:0,message:l,type:"warning"})}}return(s,a)=>(openBlock(),createElementBlock("div",_hoisted_1$Q,[unref(r)&&unref(r).vNode?(openBlock(),createBlock(resolveDynamicComponent(unref(r).vNode),{key:0,onSave:n.updateFile,ref:"aditorRef"},null,40,["onSave"])):createCommentVNode("",!0)]))}}),Editor=_export_sfc(_sfc_main$b,[["__scopeId","data-v-48519ea2"]]),_hoisted_1$P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$N=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M11.883 3.007L12 3a1 1 0 0 1 .993.883L13 4v7h7a1 1 0 0 1 .993.883L21 12a1 1 0 0 1-.883.993L20 13h-7v7a1 1 0 0 1-.883.993L12 21a1 1 0 0 1-.993-.883L11 20v-7H4a1 1 0 0 1-.993-.883L3 12a1 1 0 0 1 .883-.993L4 11h7V4a1 1 0 0 1 .883-.993L12 3l-.117.007z",fill:"currentColor"})],-1),_hoisted_3$L=[_hoisted_2$N],AddIcon=defineComponent({name:"Add24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$P,_hoisted_3$L)}}),_hoisted_1$O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$M=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M1.999 12c0 5.523 4.477 10 10 10s10-4.477 10-10s-4.477-10-10-10s-10 4.477-10 10zm14.53-.28a.75.75 0 0 1 .073.976l-.072.085l-4.001 4a.75.75 0 0 1-.977.073l-.084-.073l-4-4.001a.75.75 0 0 1 .977-1.133l.084.072l2.72 2.722V7.75a.75.75 0 0 1 .649-.744L11.999 7a.75.75 0 0 1 .743.648l.007.102v6.69l2.72-2.72a.75.75 0 0 1 .977-.073l.084.073z",fill:"currentColor"})],-1),_hoisted_3$K=[_hoisted_2$M],ArrowDownIcon=defineComponent({name:"ArrowCircleDown24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$O,_hoisted_3$K)}}),_hoisted_1$N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$L=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M22.001 12c0-5.523-4.477-10-10-10s-10 4.477-10 10s4.477 10 10 10s10-4.477 10-10zm-14.53.28a.75.75 0 0 1-.073-.976l.072-.085l4.001-4a.75.75 0 0 1 .977-.073l.084.073l4 4.001a.75.75 0 0 1-.977 1.133l-.084-.072l-2.72-2.722v6.691a.75.75 0 0 1-.649.744l-.101.006a.75.75 0 0 1-.743-.648l-.007-.102V9.56l-2.72 2.72a.75.75 0 0 1-.977.073l-.084-.073z",fill:"currentColor"})],-1),_hoisted_3$J=[_hoisted_2$L],ArrowUpIcon=defineComponent({name:"ArrowCircleUp24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$N,_hoisted_3$J)}}),_hoisted_1$M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$K=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M15.457 6.457a1 1 0 0 1-1.414 0L13 5.414V8.25a1 1 0 1 1-2 0V5.414L9.957 6.457a1 1 0 0 1-1.414-1.414l2.75-2.75a1 1 0 0 1 1.414 0l2.75 2.75a1 1 0 0 1 0 1.414zm-9 7.586a1 1 0 1 1-1.414 1.414l-2.75-2.75a1 1 0 0 1 0-1.414l2.75-2.75a1 1 0 0 1 1.414 1.414L5.414 11H8.25a1 1 0 1 1 0 2H5.414l1.043 1.043zm12.5 1.414a1 1 0 0 1-1.414-1.414L18.586 13H15.75a1 1 0 1 1 0-2h2.836l-1.043-1.043a1 1 0 0 1 1.414-1.414l2.75 2.75a1 1 0 0 1 0 1.414l-2.75 2.75zM11 18.586V15.75a1 1 0 1 1 2 0v2.836l1.043-1.043a1 1 0 0 1 1.414 1.414l-2.75 2.75a1 1 0 0 1-1.414 0l-2.75-2.75a1 1 0 1 1 1.414-1.414L11 18.586z",fill:"currentColor"})],-1),_hoisted_3$I=[_hoisted_2$K],MoveIcon=defineComponent({name:"ArrowMove24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$M,_hoisted_3$I)}}),_hoisted_1$L={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$J=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M18 4.25a.75.75 0 0 0-1.5 0v11a.75.75 0 0 0 1.5 0v-11zm-14.5 0a.75.75 0 0 0-1.5 0v11a.75.75 0 0 0 1.5 0v-11zm1.72 6.03l2 2a.75.75 0 0 0 1.06-1.06l-.72-.72h4.88l-.72.72a.75.75 0 1 0 1.06 1.06l2-2a.75.75 0 0 0 0-1.06l-2-2a.75.75 0 1 0-1.06 1.06l.72.72H7.56l.72-.72a.75.75 0 0 0-1.06-1.06l-2 2a.75.75 0 0 0 0 1.06z",fill:"currentColor"})],-1),_hoisted_3$H=[_hoisted_2$J],AutoFitWidthIcon=defineComponent({name:"AutoFitWidth20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$L,_hoisted_3$H)}}),_hoisted_1$K={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$I=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M13.594 4.723a3 3 0 0 1 .948.947l2.872 4.58H21.5a1 1 0 0 1 0 2l-2.75-.002a5 5 0 1 1-4-1.999h.303l-.284-.452l-1.922-3.064a1 1 0 0 0-1.626-.095l-.068.095L3.597 18.78a1 1 0 0 1-1.75-.96l.056-.103L9.459 5.67a3 3 0 0 1 4.135-.947zm1.156 7.527a3 3 0 1 0 0 6a3 3 0 0 0 0-6z",fill:"currentColor"})],-1),_hoisted_3$G=[_hoisted_2$I],GPTTransIcon=defineComponent({name:"Autocorrect24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$K,_hoisted_3$G)}}),_hoisted_1$J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$H=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M6 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9.5a.5.5 0 0 0 0-1H6a1 1 0 0 1-1-1h10a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2H6zm2.76 4.409A.907.907 0 0 0 8.5 7a.5.5 0 0 1-1 0c0-.365.14-.869.54-1.284C8.45 5.29 9.09 5 10 5c.91 0 1.55.289 1.96.716c.4.415.54.919.54 1.284c0 1.046-.73 1.547-1.277 1.819a7.991 7.991 0 0 1-.392.179l-.011.005a5.748 5.748 0 0 0-.32.146V10a.5.5 0 0 1-1 .001V9c0-.248.128-.426.243-.535c.109-.102.24-.175.345-.228c.102-.052.218-.102.324-.147l.022-.01c.118-.051.232-.1.343-.156c.453-.226.723-.47.723-.924a.907.907 0 0 0-.26-.591C11.05 6.21 10.69 6 10 6s-1.05.211-1.24.409zM10 13a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5z",fill:"currentColor"})],-1),_hoisted_3$F=[_hoisted_2$H],GPTWhyIcon=defineComponent({name:"BookQuestionMark20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$J,_hoisted_3$F)}}),_hoisted_1$I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$G=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M6.636 2.287A1 1 0 0 0 5 3.059v13.998c0 .927 1.15 1.355 1.756.655l3.524-4.073a1.5 1.5 0 0 1 1.134-.518h5.592c.938 0 1.36-1.176.636-1.772L6.636 2.287z",fill:"currentColor"})],-1),_hoisted_3$E=[_hoisted_2$G],CursorIcon=defineComponent({name:"Cursor20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$I,_hoisted_3$E)}}),_hoisted_1$H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$F=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M10 4h3a.5.5 0 0 1 0 1h-.553l-.752 6.776A2.5 2.5 0 0 1 9.21 14H6.79a2.5 2.5 0 0 1-2.485-2.224L3.552 5H3a.5.5 0 0 1 0-1h3a2 2 0 1 1 4 0zM8 3a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1zM6.5 7v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-1 0zM9 6.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-.5-.5z",fill:"currentColor"})],-1),_hoisted_3$D=[_hoisted_2$F],DeleteIcon=defineComponent({name:"Delete16Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$H,_hoisted_3$D)}}),_hoisted_1$G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},_hoisted_2$E=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M9 16a1 1 0 0 0-1 1v5a1 1 0 1 0 2 0v-1h.5a2.5 2.5 0 0 0 0-5H9zm1.5 3H10v-1h.5a.5.5 0 0 1 0 1zm3.5-2a1 1 0 0 1 1-1h.5a3.5 3.5 0 1 1 0 7H15a1 1 0 0 1-1-1v-5zm2 3.915a1.5 1.5 0 0 0 0-2.83v2.83zM20 22v-5a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-2v1h2a1 1 0 1 1 0 2h-2v1a1 1 0 1 1-2 0zM17 9V2H8a3 3 0 0 0-3 3v8a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2v1a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3v-1a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2v-1h-7a3 3 0 0 1-3-3zm10 6v9H5v-9h22zm-8-6V2.117a3 3 0 0 1 1.293.762l5.828 5.828A3 3 0 0 1 26.883 10H20a1 1 0 0 1-1-1z",fill:"currentColor"})],-1),_hoisted_3$C=[_hoisted_2$E],PDFIcon=defineComponent({name:"DocumentPdf32Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$G,_hoisted_3$C)}}),_hoisted_1$F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$D=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M3 6.25A3.25 3.25 0 0 1 6.25 3h11.5A3.25 3.25 0 0 1 21 6.25v4.762a3.278 3.278 0 0 0-2.61.95l-5.902 5.903a3.685 3.685 0 0 0-.931 1.57c-.345-.536-.87-.915-1.412-1.133c-.691-.278-1.385-.16-1.936.035a5.462 5.462 0 0 0-.729.326a.503.503 0 0 1-.089.07L5.694 19.77c-.467.275-.907.365-1.298.335a1.9 1.9 0 0 1-.9-.311C3.109 19.539 3 19.111 3 18.789V6.25zm16.1 6.42l-5.902 5.902a2.686 2.686 0 0 0-.707 1.247l-.428 1.712c-.354.17-.71.202-1.132.105c-.126-.03-.18-.175-.127-.293c.43-.962-.19-1.776-1.03-2.113c-.955-.385-2.226.515-3.292 1.268c-.592.42-1.12.793-1.496.876c-.525.117-1.162-.123-1.631-.38c-.209-.113-.487.072-.388.288c.242.529.731 1.133 1.71 1.255c.98.121 1.766-.347 2.55-.815c.583-.348 1.165-.696 1.826-.799c.085-.013.144.088.105.166c-.242.484-.356 1.37.218 1.818c.848.662 3.237.292 3.828.088c.049-.005.098-.014.148-.027l1.83-.457a2.684 2.684 0 0 0 1.248-.707l5.903-5.902A2.286 2.286 0 0 0 19.1 12.67z",fill:"currentColor"})],-1),_hoisted_3$B=[_hoisted_2$D],AIDrawIcon=defineComponent({name:"DrawShape24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$F,_hoisted_3$B)}}),_hoisted_1$E={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$C=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M13.94 5L19 10.06L9.062 20a2.25 2.25 0 0 1-.999.58l-5.116 1.395a.75.75 0 0 1-.92-.921l1.395-5.116a2.25 2.25 0 0 1 .58-.999L13.938 5zm7.09-2.03a3.578 3.578 0 0 1 0 5.06l-.97.97L15 3.94l.97-.97a3.578 3.578 0 0 1 5.06 0z",fill:"currentColor"})],-1),_hoisted_3$A=[_hoisted_2$C],SaveIcon=defineComponent({name:"Edit24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$E,_hoisted_3$A)}}),_hoisted_1$D={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$B=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12.75 1.996a.75.75 0 0 1 .738.89l-.026.097l-1.671 5.013h4.46a.75.75 0 0 1 .61 1.187l-.07.082l-11.995 12.5c-.509.531-1.376.087-1.287-.605l.018-.096l1.767-7.068H2.75a.75.75 0 0 1-.742-.86l.021-.096l3-10.5a.75.75 0 0 1 .612-.536l.11-.008h7zm5.394 9.373l.05.105l3.75 9.496a.75.75 0 0 1-1.351.643l-.044-.092l-.998-2.525h-4.11l-.996 2.525a.75.75 0 0 1-.876.453l-.097-.031a.75.75 0 0 1-.453-.876l.03-.097l3.75-9.496c.235-.595 1.043-.63 1.345-.105zm-.648 2.422l-1.463 3.705h2.926l-1.463-3.705z",fill:"currentColor"})],-1),_hoisted_3$z=[_hoisted_2$B],GPTAutoIcon=defineComponent({name:"FlashAuto24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$D,_hoisted_3$z)}}),_hoisted_1$C={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$A=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v2A1.5 1.5 0 0 0 3.5 7h2A1.5 1.5 0 0 0 7 5.5v-2A1.5 1.5 0 0 0 5.5 2h-2zm7 0A1.5 1.5 0 0 0 9 3.5v2A1.5 1.5 0 0 0 10.5 7h2A1.5 1.5 0 0 0 14 5.5v-2A1.5 1.5 0 0 0 12.5 2h-2zm-7 7A1.5 1.5 0 0 0 2 10.5v2A1.5 1.5 0 0 0 3.5 14h2A1.5 1.5 0 0 0 7 12.5v-2A1.5 1.5 0 0 0 5.5 9h-2zm7 0A1.5 1.5 0 0 0 9 10.5v2a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 12.5 9h-2z",fill:"currentColor"})],-1),_hoisted_3$y=[_hoisted_2$A],AIFunctionIcon=defineComponent({name:"Grid16Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$C,_hoisted_3$y)}}),_hoisted_1$B={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$z=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M5.75 4a1.75 1.75 0 1 1-3.5 0a1.75 1.75 0 0 1 3.5 0zm0 6a1.75 1.75 0 1 1-3.5 0a1.75 1.75 0 0 1 3.5 0zM4 17.75a1.75 1.75 0 1 0 0-3.5a1.75 1.75 0 0 0 0 3.5zM11.75 4a1.75 1.75 0 1 1-3.5 0a1.75 1.75 0 0 1 3.5 0zM10 11.75a1.75 1.75 0 1 0 0-3.5a1.75 1.75 0 0 0 0 3.5zM11.75 16a1.75 1.75 0 1 1-3.5 0a1.75 1.75 0 0 1 3.5 0zM16 5.75a1.75 1.75 0 1 0 0-3.5a1.75 1.75 0 0 0 0 3.5zM17.75 10a1.75 1.75 0 1 1-3.5 0a1.75 1.75 0 0 1 3.5 0zM16 17.75a1.75 1.75 0 1 0 0-3.5a1.75 1.75 0 0 0 0 3.5z",fill:"currentColor"})],-1),_hoisted_3$x=[_hoisted_2$z],GirdIcon=defineComponent({name:"GridDots20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$B,_hoisted_3$x)}}),_hoisted_1$A={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$y=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M4.5 2A2.5 2.5 0 0 0 2 4.5v7c0 .51.152.983.414 1.379l4.384-4.384a1.7 1.7 0 0 1 2.404 0l4.384 4.384c.262-.396.414-.87.414-1.379v-7A2.5 2.5 0 0 0 11.5 2h-7zm7 3.502a1.002 1.002 0 1 1-2.004 0a1.002 1.002 0 0 1 2.004 0zm1.379 8.084L8.495 9.202a.7.7 0 0 0-.99 0l-4.384 4.384c.396.262.87.414 1.379.414h7c.51 0 .983-.152 1.379-.414z",fill:"currentColor"})],-1),_hoisted_3$w=[_hoisted_2$y],Txt2ImgIcon=defineComponent({name:"Image16Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$A,_hoisted_3$w)}}),_hoisted_1$z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$x=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12 6.5a5.5 5.5 0 1 0-11 0a5.5 5.5 0 0 0 11 0zm-8-3v.551a3.5 3.5 0 1 1-.187 4.691C3.55 8.427 3.811 8 4.221 8c.176 0 .339.085.46.213A2.5 2.5 0 1 0 4.5 5H5.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0zm13.504 5.752a.752.752 0 1 0-1.504 0a.752.752 0 0 0 1.504 0zM13 6.5a6.5 6.5 0 0 1-9 6.002v6.248c0 .627.178 1.213.485 1.71l6.939-6.813l.135-.122a2.25 2.25 0 0 1 2.889.006l.128.117l6.939 6.811A3.235 3.235 0 0 0 22 18.75V7.25A3.25 3.25 0 0 0 18.75 4h-6.248c.32.77.498 1.614.498 2.5zm1.5 2.752a2.252 2.252 0 1 1 4.504 0a2.252 2.252 0 0 1-4.504 0zm-2.025 5.466l.083-.071a.75.75 0 0 1 .874-.007l.093.078l6.928 6.8A3.235 3.235 0 0 1 18.75 22H7.25a3.235 3.235 0 0 1-1.703-.481l6.928-6.801z",fill:"currentColor"})],-1),_hoisted_3$v=[_hoisted_2$x],Img2ImgIcon=defineComponent({name:"ImageArrowCounterclockwise24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$z,_hoisted_3$v)}}),_hoisted_1$y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$w=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M11.557 13.646l-.083.071l-6.927 6.8a3.234 3.234 0 0 0 1.703.481h4.914l.356-1.423c.162-.648.497-1.24.97-1.712l2.11-2.11l-2.075-2.036l-.094-.078a.75.75 0 0 0-.873.007zm4.946-5.394a.752.752 0 1 0-1.504 0a.752.752 0 0 0 1.504 0zm-.843 6.441l-2.085-2.046l-.128-.117a2.25 2.25 0 0 0-2.888-.006l-.136.123l-6.938 6.81A3.234 3.234 0 0 1 3 17.75v-11.5A3.25 3.25 0 0 1 6.25 3h11.499a3.25 3.25 0 0 1 3.25 3.25v4.761a3.279 3.279 0 0 0-2.608.95l-2.731 2.732zM13.5 8.252a2.252 2.252 0 1 0 4.503 0a2.252 2.252 0 0 0-4.504 0zm5.598 4.417l-5.901 5.901a2.685 2.685 0 0 0-.707 1.248l-.457 1.83c-.2.797.522 1.518 1.318 1.319l1.83-.458a2.685 2.685 0 0 0 1.248-.706L22.33 15.9a2.286 2.286 0 0 0-3.233-3.232z",fill:"currentColor"})],-1),_hoisted_3$u=[_hoisted_2$w],TransBrushIcon=defineComponent({name:"ImageEdit24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$y,_hoisted_3$u)}}),_hoisted_1$x={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$v=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M8.162 2.212a8.02 8.02 0 0 1 3.676 0a.75.75 0 0 1-.344 1.46a6.52 6.52 0 0 0-2.988 0a.75.75 0 0 1-.344-1.46zM6.825 3.437a.75.75 0 0 1-.242 1.033A6.538 6.538 0 0 0 4.47 6.583a.75.75 0 0 1-1.275-.79a8.037 8.037 0 0 1 2.598-2.598a.75.75 0 0 1 1.032.242zm6.35 0a.75.75 0 0 1 1.032-.242a8.039 8.039 0 0 1 2.598 2.598a.75.75 0 0 1-1.275.79a6.538 6.538 0 0 0-2.112-2.113a.75.75 0 0 1-.243-1.033zM3.114 7.604a.75.75 0 0 1 .558.902a6.52 6.52 0 0 0 0 2.988a.75.75 0 0 1-1.46.344a8.021 8.021 0 0 1 0-3.676a.75.75 0 0 1 .902-.558zm13.772 0a.75.75 0 0 1 .902.558a8.022 8.022 0 0 1 0 3.676a.75.75 0 0 1-1.46-.344a6.524 6.524 0 0 0 0-2.988a.75.75 0 0 1 .558-.902zm-13.449 5.57a.75.75 0 0 1 1.033.244a6.538 6.538 0 0 0 2.113 2.112a.75.75 0 1 1-.79 1.275a8.039 8.039 0 0 1-2.598-2.598a.75.75 0 0 1 .242-1.032zm13.673 1.262a.75.75 0 0 0-1.22-.872l-.003.004l-.017.022a8.492 8.492 0 0 1-.378.46c-.245.28-.594.643-1.027 1.013c-1.017-.73-2.34-1.313-3.965-1.313c-.752 0-1.388.244-1.84.677A2.173 2.173 0 0 0 7.987 16c0 .571.224 1.144.671 1.573c.453.433 1.088.677 1.841.677c1.532 0 2.868-.584 3.915-1.274l.055.054a8.362 8.362 0 0 1 1.285 1.67l.06.108l.012.024l.002.003c-.152-.266 0 .002 0 .002a.75.75 0 0 0 1.342-.672l-.001-.002v-.001l-.003-.005l-.007-.012l-.022-.043a8.583 8.583 0 0 0-.39-.643a9.89 9.89 0 0 0-1.136-1.406a11.79 11.79 0 0 0 1.363-1.44c.042-.052.074-.094.097-.125l.026-.036l.008-.01l.003-.004l.001-.002zm-6.61.814c1.027 0 1.91.304 2.65.743c-.784.443-1.683.757-2.65.757c-.422 0-.668-.131-.803-.26a.673.673 0 0 1-.21-.49c0-.179.07-.356.21-.49c.135-.129.38-.26.803-.26z",fill:"currentColor"})],-1),_hoisted_3$t=[_hoisted_2$v],LassoIcon=defineComponent({name:"Lasso20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$x,_hoisted_3$t)}}),_hoisted_1$w={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$u=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M9.5 4h1a3.5 3.5 0 0 1 .194 6.995l-.192.005l-1 .005a.5.5 0 0 1-.094-.992l.09-.008L10.5 10a2.5 2.5 0 0 0 .164-4.995L10.5 5h-1a.5.5 0 0 1-.09-.992L9.5 4h1h-1zm-4 0h1a.5.5 0 0 1 .09.992L6.5 5h-1a2.5 2.5 0 0 0-.164 4.995L5.5 10h1a.5.5 0 0 1 .09.992L6.5 11h-1a3.5 3.5 0 0 1-.192-6.995L5.5 4h1h-1zm0 3l5 .002a.5.5 0 0 1 .09.992l-.09.008L5.5 8a.5.5 0 0 1-.09-.992L5.5 7z",fill:"currentColor"})],-1),_hoisted_3$s=[_hoisted_2$u],LinkIcon=defineComponent({name:"Link16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$w,_hoisted_3$s)}}),_hoisted_1$v={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$t=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M9 5a1 1 0 0 1 .117 1.993L9 7H7a3 3 0 0 0-.176 5.995L7 13h2a1 1 0 0 1 .117 1.993L9 15H7a5 5 0 0 1-.217-9.995L7 5h2zm8 0a5 5 0 0 1 4.43 7.322a6.483 6.483 0 0 0-1.76-.951a3 3 0 0 0-2.493-4.366L17 7h-2a1 1 0 0 1-.117-1.993L15 5h2zM7 9h10a1 1 0 0 1 .117 1.993L17 11H7a1 1 0 0 1-.117-1.993L7 9zm16 8.5a5.5 5.5 0 1 1-11 0a5.5 5.5 0 0 1 11 0zm-7.146-2.354a.5.5 0 0 0-.708.708l1.647 1.646l-1.647 1.646a.5.5 0 0 0 .708.708l1.646-1.647l1.646 1.647a.5.5 0 0 0 .708-.708L18.207 17.5l1.647-1.646a.5.5 0 0 0-.708-.708L17.5 16.793l-1.646-1.647z",fill:"currentColor"})],-1),_hoisted_3$r=[_hoisted_2$t],UnlinkIcon=defineComponent({name:"LinkDismiss24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$v,_hoisted_3$r)}}),_hoisted_1$u={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$s=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12.187 4.14c-.964-.723-2.345-.07-2.398 1.134L9.712 7H12a1 1 0 1 1 0 2H9.623l-.393 8.85c-.13 2.931-3.593 4.41-5.801 2.479l-.087-.076a1 1 0 0 1 1.317-1.506l.087.076c.946.829 2.43.194 2.486-1.062L7.622 9H6a1 1 0 0 1 0-2h1.71l.08-1.815c.126-2.81 3.347-4.332 5.597-2.645l.213.16a1 1 0 1 1-1.2 1.6l-.213-.16zm.895 8.906a.5.5 0 0 1 .693.225l.813 1.727l-3.295 3.295a1 1 0 0 0 1.414 1.414l2.786-2.786l.78 1.657a2.5 2.5 0 0 0 3.853.864l.51-.42a1 1 0 1 0-1.272-1.543l-.51.42a.5.5 0 0 1-.771-.172l-1.087-2.309l2.711-2.711a1 1 0 1 0-1.414-1.414l-2.202 2.202l-.506-1.075a2.5 2.5 0 0 0-3.467-1.126l-.6.33a1 1 0 0 0 .964 1.752l.6-.33z",fill:"currentColor"})],-1),_hoisted_3$q=[_hoisted_2$s],MathIcon=defineComponent({name:"MathFormula24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$u,_hoisted_3$q)}}),_hoisted_1$t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$r=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M8 2a2.5 2.5 0 0 0-2.5 2.5V8a2.5 2.5 0 0 0 5 0V4.5A2.5 2.5 0 0 0 8 2zM4 7.5a.5.5 0 0 1 .5.5a3.5 3.5 0 1 0 7 0a.5.5 0 0 1 1 0a4.5 4.5 0 0 1-4 4.473V13.5a.5.5 0 0 1-1 0v-1.027A4.5 4.5 0 0 1 3.5 8a.5.5 0 0 1 .5-.5z",fill:"currentColor"})],-1),_hoisted_3$p=[_hoisted_2$r],Txt2AudioIcon=defineComponent({name:"Mic16Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$t,_hoisted_3$p)}}),_hoisted_1$s={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$q=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M8 1.002v2.5a.5.5 0 0 0 1 0v-2.5h1v3.494a.5.5 0 0 0 1 0V1.002h1.5V7h-9V1.002H8zM3.5 8v.5a2 2 0 0 0 2 2h1v2.999a1.5 1.5 0 0 0 3 0v-3h1a2 2 0 0 0 2-2V8h-9z",fill:"currentColor"})],-1),_hoisted_3$o=[_hoisted_2$q],PaintBrushIcon=defineComponent({name:"PaintBrush16Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$s,_hoisted_3$o)}}),_hoisted_1$r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$p=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12.5 2v3.252a.75.75 0 0 0 1.5 0V2h1v4.251a.75.75 0 0 0 1.5 0V2h1.75a.75.75 0 0 1 .75.75V11H5V2.75A.75.75 0 0 1 5.75 2h6.75zM5 12.5v1.752a2.25 2.25 0 0 0 2.25 2.25H10V20a2 2 0 1 0 4 0v-3.498h2.75a2.25 2.25 0 0 0 2.25-2.25V12.5H5z",fill:"currentColor"})],-1),_hoisted_3$n=[_hoisted_2$p],BrushIcon=defineComponent({name:"PaintBrush24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$r,_hoisted_3$n)}}),_hoisted_1$q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$o=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M17.754 14a2.249 2.249 0 0 1 2.249 2.25v.918a2.75 2.75 0 0 1-.513 1.598c-1.545 2.164-4.07 3.235-7.49 3.235c-3.421 0-5.944-1.072-7.486-3.236a2.75 2.75 0 0 1-.51-1.596v-.92A2.249 2.249 0 0 1 6.251 14h11.502zM12 2.005a5 5 0 1 1 0 10a5 5 0 0 1 0-10z",fill:"currentColor"})],-1),_hoisted_3$m=[_hoisted_2$o],UserIcon=defineComponent({name:"Person24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$q,_hoisted_3$m)}}),_hoisted_1$p={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$n=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12zm8.856-3.845A1.25 1.25 0 0 0 9 9.248v5.504a1.25 1.25 0 0 0 1.856 1.093l5.757-3.189a.75.75 0 0 0 0-1.312l-5.757-3.189z",fill:"currentColor"})],-1),_hoisted_3$l=[_hoisted_2$n],RunIcon=defineComponent({name:"PlayCircle24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$p,_hoisted_3$l)}}),_hoisted_1$o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 10 10"},_hoisted_2$m=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M6.854 3.146a.5.5 0 0 1 0 .708L5.707 5l1.147 1.146a.5.5 0 1 1-.708.708L5 5.707L3.854 6.854a.5.5 0 1 1-.708-.708L4.293 5L3.146 3.854a.5.5 0 1 1 .708-.708L5 4.293l1.146-1.147a.5.5 0 0 1 .708 0zM0 5a5 5 0 1 1 10 0A5 5 0 0 1 0 5zm5-4a4 4 0 1 0 0 8a4 4 0 0 0 0-8z",fill:"currentColor"})],-1),_hoisted_3$k=[_hoisted_2$m],CloseIcon=defineComponent({name:"PresenceOffline10Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$o,_hoisted_3$k)}}),_hoisted_1$n={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$l=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12.815 12.197l-7.532 1.255a.5.5 0 0 0-.386.318L2.3 20.728c-.248.64.421 1.25 1.035.942l18-9a.75.75 0 0 0 0-1.341l-18-9c-.614-.307-1.283.303-1.035.942l2.598 6.958a.5.5 0 0 0 .386.318l7.532 1.255a.2.2 0 0 1 0 .395z",fill:"currentColor"})],-1),_hoisted_3$j=[_hoisted_2$l],AssistantIcon=defineComponent({name:"Send24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$n,_hoisted_3$j)}}),_hoisted_1$m={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$k=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M12.013 2.25c.734.008 1.465.093 2.181.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.928 1.116l1.4-.615a.75.75 0 0 1 .85.174a9.793 9.793 0 0 1 2.204 3.792a.75.75 0 0 1-.271.825l-1.242.916a1.38 1.38 0 0 0 .001 2.226l1.243.915a.75.75 0 0 1 .271.826a9.798 9.798 0 0 1-2.203 3.792a.75.75 0 0 1-.849.175l-1.406-.617a1.38 1.38 0 0 0-1.927 1.114l-.169 1.526a.75.75 0 0 1-.572.647a9.518 9.518 0 0 1-4.405 0a.75.75 0 0 1-.572-.647l-.17-1.524a1.382 1.382 0 0 0-1.924-1.11l-1.407.616a.75.75 0 0 1-.849-.175a9.798 9.798 0 0 1-2.203-3.796a.75.75 0 0 1 .271-.826l1.244-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.272-.826a9.793 9.793 0 0 1 2.205-3.792a.75.75 0 0 1 .849-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.718-.159 1.45-.243 2.202-.252zM12 9a3 3 0 1 0 0 6a3 3 0 0 0 0-6z",fill:"currentColor"})],-1),_hoisted_3$i=[_hoisted_2$k],SettingIcon=defineComponent({name:"Settings24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$m,_hoisted_3$i)}}),_hoisted_1$l={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$j=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M4 4.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 4.25zm-2 5a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.25zm4.75 4.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5z",fill:"currentColor"})],-1),_hoisted_3$h=[_hoisted_2$j],AlignCenterIcon=defineComponent({name:"TextAlignCenter20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$l,_hoisted_3$h)}}),_hoisted_1$k={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$i=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M2 4.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.25zm0 5a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.25zm.75 4.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5z",fill:"currentColor"})],-1),_hoisted_3$g=[_hoisted_2$i],AlignLeftIcon=defineComponent({name:"TextAlignLeft20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$k,_hoisted_3$g)}}),_hoisted_1$j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$h=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M4 3.1C4 2.5 4.5 2 5.1 2h3c2.1 0 3.4 1.4 3.4 3.4c0 .9-.3 2-.7 2.6c.8.6 1.4 1.2 1.4 2.5c0 2.7-2.1 3.5-3.6 3.5H5.1c-.6 0-1.1-.5-1.1-1.1V3.1zM6 9v3h2.4c.7 0 1.5-.5 1.5-1.5S9.1 9 8.4 9H6zm0-2h2.2c.9 0 1.5-.7 1.5-1.5S9.1 4 8.3 4H6v3z",fill:"currentColor"})],-1),_hoisted_3$f=[_hoisted_2$h],BoldIcon=defineComponent({name:"TextBold16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$j,_hoisted_3$f)}}),_hoisted_1$i={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$g=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M8.46 1.303a.5.5 0 0 0-.92 0l-3 7a.5.5 0 1 0 .92.394L6.187 7h3.626l.728 1.697a.5.5 0 1 0 .919-.394l-3-7zM9.385 6h-2.77L8 2.77L9.385 6zM3.5 10A1.5 1.5 0 0 0 2 11.5v2A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5v-2a1.5 1.5 0 0 0-1.5-1.5h-9zM3 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-2z",fill:"currentColor"})],-1),_hoisted_3$e=[_hoisted_2$g],ColorIcon=defineComponent({name:"TextColor16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$i,_hoisted_3$e)}}),_hoisted_1$h={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$f=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M20.537 17.934l.023.07c.115.346.169.7.169 1.05c0 .808-.305 1.58-.92 2.166a2.928 2.928 0 0 1-2.07.846a3.01 3.01 0 0 1-1.682-.512l-.081-.054l-.076-.062a3.47 3.47 0 0 1-.942-1.23l-.016-.034l-.863-2.046H9.947l-.811 1.97a2.937 2.937 0 0 1-1.1 1.433a2.91 2.91 0 0 1-1.694.535c-.647 0-1.465-.175-2.118-.828c-.616-.616-.828-1.39-.828-2.074c0-.253.047-.534.072-.681l.037-.224L9.21 4.434l.008-.02a3.179 3.179 0 0 1 1.127-1.38a2.884 2.884 0 0 1 1.883-.498a3.04 3.04 0 0 1 1.582.51c.554.37.925.886 1.132 1.452l5.595 13.436zM13.075 5.216a.997.997 0 0 0-.215-.371a.901.901 0 0 0-.16-.135a1.047 1.047 0 0 0-.593-.176a.89.89 0 0 0-.638.154a1.182 1.182 0 0 0-.418.528L5.44 18.812c-.03.176-.045.293-.045.352c0 .278.081.498.242.66c.162.161.396.242.704.242a.911.911 0 0 0 .55-.176a.91.91 0 0 0 .31-.351c.025-.049.046-.1.064-.155l1.342-3.256h6.798l1.364 3.234c.103.22.235.396.396.528c.177.117.367.176.572.176a.931.931 0 0 0 .683-.286a.948.948 0 0 0 .308-.726c0-.147-.023-.286-.066-.418l-5.588-13.42zm-1.079 2.75l2.574 6.16H9.444l2.552-6.16z",fill:"currentColor"})],-1),_hoisted_3$d=[_hoisted_2$f],TextColorIcon=defineComponent({name:"TextEffects24Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$h,_hoisted_3$d)}}),_hoisted_1$g={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$e=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M16.573 3.823a.75.75 0 0 0-1.058.53c-.255 1.138-1.308 2.608-2.681 3.523a.75.75 0 1 0 .832 1.248A8.769 8.769 0 0 0 15.5 7.47V15.5a.75.75 0 0 0 1.5 0V4.516a.75.75 0 0 0-.427-.693zM3.5 4.5a.75.75 0 1 0-1.5 0v11a.75.75 0 0 0 1.5 0v-5h5v5a.75.75 0 0 0 1.5 0v-11a.75.75 0 1 0-1.5 0V9h-5V4.5z",fill:"currentColor"})],-1),_hoisted_3$c=[_hoisted_2$e],H1Icon=defineComponent({name:"TextHeader120Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$g,_hoisted_3$c)}}),_hoisted_1$f={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$d=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M3.5 4.5a.75.75 0 0 0-1.5 0v11a.75.75 0 0 0 1.5 0v-5h5v5a.75.75 0 0 0 1.5 0v-11a.75.75 0 0 0-1.5 0V9h-5V4.5zm11.25.75c-1.292 0-2.25 1.124-2.25 2.25a.75.75 0 0 1-1.5 0c0-1.874 1.551-3.75 3.75-3.75c1.403 0 2.475.793 2.973 1.915c.49 1.106.41 2.488-.33 3.72c-.385.643-.958 1.16-1.527 1.607c-.265.209-.545.414-.816.613l-.067.049c-.295.217-.582.43-.858.65c-.892.715-1.569 1.449-1.794 2.446h4.919a.75.75 0 0 1 0 1.5H11.5a.75.75 0 0 1-.75-.75c0-2.099 1.226-3.396 2.437-4.366c.303-.243.614-.473.909-.69l.062-.045c.276-.202.535-.393.78-.586c.534-.42.929-.799 1.169-1.199c.51-.85.52-1.718.244-2.341c-.27-.608-.822-1.023-1.601-1.023z",fill:"currentColor"})],-1),_hoisted_3$b=[_hoisted_2$d],H2Icon=defineComponent({name:"TextHeader220Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$f,_hoisted_3$b)}}),_hoisted_1$e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$c=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M3.5 4.5a.75.75 0 0 0-1.5 0v11a.75.75 0 0 0 1.5 0v-5h5v5a.75.75 0 0 0 1.5 0v-11a.75.75 0 0 0-1.5 0V9h-5V4.5zm8.97 1.958c.086-.295.216-.573.467-.784c.245-.206.693-.424 1.563-.424c.777 0 1.257.3 1.555.648c.32.374.445.825.445 1.102c0 .356-.091.92-.448 1.38c-.327.423-.965.87-2.302.87a.75.75 0 0 0 0 1.5c.446 0 1.198.11 1.81.42c.59.298.94.711.94 1.33c0 .84-.258 1.385-.593 1.72c-.338.338-.824.53-1.407.53c-.68 0-1.152-.116-1.458-.3c-.275-.164-.47-.414-.557-.847a.75.75 0 1 0-1.47.294c.163.817.593 1.442 1.255 1.84c.632.379 1.41.513 2.23.513c.917 0 1.806-.308 2.468-.97c.665-.665 1.032-1.62 1.032-2.78c0-1.234-.695-2.034-1.481-2.512c.283-.201.522-.434.72-.689C17.868 8.485 18 7.551 18 7c0-.63-.25-1.428-.805-2.077c-.577-.675-1.472-1.173-2.695-1.173c-1.13 0-1.95.29-2.528.776c-.571.48-.816 1.078-.942 1.516a.75.75 0 0 0 1.44.416z",fill:"currentColor"})],-1),_hoisted_3$a=[_hoisted_2$c],H3Icon=defineComponent({name:"TextHeader320Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$e,_hoisted_3$a)}}),_hoisted_1$d={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$b=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M13 2H7a.5.5 0 0 0 0 1h2.474L5.656 13H3a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H6.726l3.818-10H13a.5.5 0 0 0 0-1z",fill:"currentColor"})],-1),_hoisted_3$9=[_hoisted_2$b],ItalicIcon=defineComponent({name:"TextItalic16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$d,_hoisted_3$9)}}),_hoisted_1$c={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$a=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M5 5.1c0-.554.292-1.065.84-1.455C6.392 3.252 7.187 3 8.1 3c1.298 0 2.384.56 2.763 1.243a.5.5 0 0 0 .874-.486C11.117 2.64 9.602 2 8.1 2c-1.087 0-2.092.298-2.84.83C4.508 3.365 4 4.154 4 5.1c0 .72.3 1.375.79 1.9h1.722C5.552 6.593 5 5.83 5 5.1zM13.5 8a.5.5 0 0 1 0 1h-2.342c.517.504.842 1.149.842 1.9c0 .902-.515 1.688-1.255 2.229c-.743.543-1.749.871-2.845.871c-1.624 0-3.002-.65-3.716-1.723a.5.5 0 0 1 .832-.554C5.502 12.45 6.524 13 7.9 13c.904 0 1.698-.272 2.255-.679c.56-.409.845-.923.845-1.421c0-.775-.63-1.526-1.777-1.9H2.5a.5.5 0 0 1 0-1h11z",fill:"currentColor"})],-1),_hoisted_3$8=[_hoisted_2$a],StrikethroughIcon=defineComponent({name:"TextStrikethrough16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_3$8)}}),_hoisted_1$b={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_hoisted_2$9=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M4 3.75A.75.75 0 0 1 4.75 3h10a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V4.5h-3.5v11h1.25a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1 0-1.5H9v-11H5.5v.75a.75.75 0 0 1-1.5 0v-1.5z",fill:"currentColor"})],-1),_hoisted_3$7=[_hoisted_2$9],TextIcon=defineComponent({name:"TextT20Filled",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_3$7)}}),_hoisted_1$a={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},_hoisted_2$8=createBaseVNode("g",{fill:"none"},[createBaseVNode("path",{d:"M4.5 2a.5.5 0 0 1 .5.5V8c0 1.624 1.376 3 3 3s3-1.376 3-3V2.5a.5.5 0 0 1 1 0V8c0 2.176-1.824 4-4 4s-4-1.824-4-4V2.5a.5.5 0 0 1 .5-.5zM4 13.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z",fill:"currentColor"})],-1),_hoisted_3$6=[_hoisted_2$8],UnderlineIcon=defineComponent({name:"TextUnderline16Regular",render:function(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_3$6)}}),TEXT_COLOR$1={黑色:"rgb(0, 0, 0)",灰色:"rgb(100, 106, 115)",红色:"rgb(216, 57, 49)",橙色:"rgb(222, 120, 2)",黄色:"rgb(220, 155, 4)",绿色:"rgb(46, 161, 33)",蓝色:"rgb(36, 91, 219)",紫色:"rgb(100, 37, 208)"},BACKGROUND_COLOR$1={透明:"rgba(0, 0, 0, 0)",浅灰色:"rgb(242, 243, 245)",浅红色:"rgb(251, 191, 188)",浅橙色:"rgba(254, 212, 164, 0.8)",浅黄色:"rgba(255, 246, 122, 0.8)",浅绿色:"rgba(183, 237, 177, 0.8)",浅蓝色:"rgba(186, 206, 253, 0.7)",浅紫色:"rgba(205, 178, 250, 0.7)",中灰色:"rgba(222, 224, 227, 0.8)",灰色:"rgb(187, 191, 196)",红色:"rgb(247, 105, 100)",橙色:"rgb(255, 165, 61)",黄色:"rgb(255, 233, 40)",绿色:"rgb(98, 210, 86)",蓝色:"rgba(78, 131, 253, 0.55)",紫色:"rgba(147, 90, 246, 0.55)"};function getSelectionAttributes(n,e){const r={title:"正文",alignment:"左对齐",fontWeight:!1,lineThrough:!1,italic:!1,underline:!1,linkNum:0,linkValue:"",color:"黑色",backgroundColor:"透明"},o=[],s=[],a=[],l=[],c=[],d=[],f=[],g=[],v=[],A=(qe,Ue,hn,On,vn)=>{var bn,wn;qe.start>hn+vn||qe.end<Ue+On||(qe.start!=0?qe.type===u.Child?(qe.children.forEach(Cn=>{A(Cn,Ue,hn,On,vn)}),qe.name==="aditorTitleParagraph"&&((bn=qe.data)!=null&&bn.level)&&o.push(qe.data.level),qe.originStyle.textAlign&&s.push(qe.originStyle.textAlign)):qe.type===u.Leaf?(typeof qe.originStyle.fontWeight=="boolean"&&a.push(qe.originStyle.fontWeight),typeof qe.originStyle.underline=="boolean"&&l.push(qe.originStyle.underline),typeof qe.originStyle.lineThrough=="boolean"&&c.push(qe.originStyle.lineThrough),typeof qe.originStyle.fontStyle=="boolean"&&d.push(qe.originStyle.fontStyle),qe.originStyle.color&&f.push(qe.originStyle.color),qe.originStyle.backgroundColor&&g.push(qe.originStyle.backgroundColor),qe.name==="aditorLink"&&v.push((wn=qe.data)==null?void 0:wn.href)):console.warn("unknow node type"):qe.children.forEach(Cn=>{A(Cn,Ue,hn,On,vn)}))};e.forEach(qe=>{const{start:Ue,end:hn,startOffset:On,endOffset:vn}=qe;A(n.root,Ue,hn,On,vn)});const M=new Set(o),Y=new Set(s),de=new Set(f),ae=new Set(g),ze=new Set(v);if(M.size==1&&(r.title=o[0]=="1"?"一级":o[0]=="2"?"二级":o[0]=="3"?"三级":"正文"),Y.size==1&&(r.alignment=s[0]=="right"?"右对齐":s[0]=="center"?"居中对齐":"左对齐"),r.linkNum=ze.size,r.linkValue=ze.size==1?v[0]:"",r.fontWeight=a.includes(!0),r.underline=l.includes(!0),r.lineThrough=c.includes(!0),r.italic=d.includes(!0),de.size==1){const qe=f[0],Ue=Object.keys(TEXT_COLOR$1).find(hn=>TEXT_COLOR$1[hn].replace(/\s/g,"")==qe.replace(/\s/g,""));r.color=Ue||"黑色"}if(ae.size==1){const qe=g[0],Ue=Object.keys(BACKGROUND_COLOR$1).find(hn=>BACKGROUND_COLOR$1[hn].replace(/\s/g,"")==qe.replace(/\s/g,""));r.backgroundColor=Ue||"透明"}return r}function setSelectionAttributes({view:n,vsels:e,key:r,value:o,setSelection:s=!0}){const a=["font-weight","underline","line-through","italic","color","background-color","text-align"],l=["title"],c=["copy","cut","delete"],d=["insert_node"];if(r=toKebabCase(r),a.includes(r)){let f,g;if(r==="font-weight")f={key:b.fontWeight,value:o};else if(r==="underline")f={key:b.underline,value:o};else if(r==="line-through")f={key:b.lineThrough,value:o};else if(r==="italic")f={key:b.fontStyle,value:o};else if(r==="color")f={key:b.color,value:o};else if(r==="background-color")f={key:b.backgroundColor,value:o};else if(r==="text-align")f={key:b.textAlign,value:o};else{console.warn("Unknow style key");return}g=(v,A)=>(v.setStyle(f.key,f.value),v),n.dispatchViewEvent(new Event("click"),ot.UPDATE_SELECTIONS,e,n.docState,{callback:g,setSelection:s})}else if(l.includes(r)){let f;if(r==="title")f=(g,v)=>{if(g.type===u.Child){if(r==="title"&&["1","2","3"].includes(o)){const A=x$1("aditorTitleParagraph",g.style,{level:o});return A.children=g.children,A}else if(r==="title"&&o==="p"){const A=x$1("aditorParagraph",g.style,{},g.text);return A.children=g.children,A}}return g};else{console.warn("Unknow update method");return}n.dispatchViewEvent(new Event("click"),ot.UPDATE_SELECTIONS,e,n.docState,{callback:f,setSelection:s})}else if(r!=="cacheSelection"){if(r==="href"){if(o==null&&(o=""),typeof o!="string")return;let f;o=o.trim(),o===""?f=(g,v)=>g.name==="aditorLink"?x$1("aditorText",g.style,{},g.text):g:(/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/.test(o)||(o="http://"+o),f=(v,A)=>v.name==="aditorText"?x$1("aditorLink",v.style,{href:o},v.text):(v.name==="aditorLink"&&(v.data.href=o),v)),n.dispatchViewEvent(new Event("click"),ot.UPDATE_SELECTIONS,e,n.docState,{callback:f,setSelection:s})}else if(c.includes(r))r==="copy"?copySelection(n,e):r==="cut"?cutSelection(n,e):r==="delete"&&deleteSelection(n,e);else if(d.includes(r)){const f=[];e.forEach(g=>{const v=n.docState.findNodeRootIndexByPos(g.end),A=n.docState.root.children[v].dfsDeepestRightEndNode();v!==-1&&f.push({start:A.end,end:A.end,startOffset:A.length(),endOffset:A.length()})}),n.dispatchViewEvent(new Event("keydown"),ot.INSERT_NODES_SELECTIONS,f,n.docState,{nodeList:o})}}return n.docState.sels.selections}function copySelection(n,e){const r=[];e.forEach(o=>{const s=n.docState.findNodeByPos(o.start),a=n.docState.findNodeByPos(o.end),l=s==null?void 0:s.dfsDeepestLeftStartNode(),c=a==null?void 0:a.dfsDeepestRightEndNode();r.push({start:(l==null?void 0:l.start)||0,end:(c==null?void 0:c.start)||0,startOffset:0,endOffset:(c==null?void 0:c.length())||0})}),Z(n,r),document.execCommand("copy"),nextTick(()=>{var o;(o=window.getSelection())==null||o.removeAllRanges()})}function cutSelection(n,e){copySelection(n,e),deleteSelection(n,e)}function deleteSelection(n,e){const r=[];e.forEach(o=>{r.push({start:o.start,end:o.start,startOffset:0,endOffset:o.end})}),n.dispatchViewEvent(new Event("keydown"),ot.DELETE_SELECTIONS,e,n.docState,{setSelection:!1})}function toKebabCase(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mitt(n){return{all:n=n||new Map,on:function(e,r){var o=n.get(e);o?o.push(r):n.set(e,[r])},off:function(e,r){var o=n.get(e);o&&(r?o.splice(o.indexOf(r)>>>0,1):n.set(e,[]))},emit:function(e,r){var o=n.get(e);o&&o.slice().map(function(s){s(r)}),(o=n.get("*"))&&o.slice().map(function(s){s(e,r)})}}}const events=mitt();let globalAskingFlag=ref(!1);const insertInto=(n,e,r)=>{if(n==null||n==null||e==null||e==null)return null;if(r.forEach(o=>{(o.status==null||o.status==null)&&(o.status=!0)}),e.name==="aditorAIChat"){const o=e.data.msgs.length;return at(n,e.start,Object.assign(e.data,{msgs:e.data.msgs.concat(r)})),nextTick(()=>{const s=document.querySelectorAll(`[vid="${e.virtualId}"]`)[0],a=s==null?void 0:s.querySelector(".aditor-aichat-content");a==null||a.scrollTo(0,a.scrollHeight)}),o}else return null},deleteMsg=(n,e,r)=>{globalAskingFlag.value||_deleteMsg(n,e,r)},_deleteMsg=(n,e,r)=>{if(!(n==null||n==null)&&!(e==null||e==null))if(e.name==="aditorAIChat"){const o=e.data.msgs.filter((a,l)=>l!==r),s=Object.assign(e.data,{msgs:o});at(n,e.start,s)}else return},aiAsk=async(n,e,r,o)=>{var s;if(!(n==null||n==null)&&!(e==null||e==null)&&!globalAskingFlag.value){globalAskingFlag.value=!0;try{let a=null;if(e.name==="aditorAIChat"?a=e:a=(s=n.docState.findNearestRightNodeByNode(toRaw(e)))==null?void 0:s.dfsDeepestLeftStartNode(),a&&a.name==="aditorAIChat")insertInto(n,a,[o]);else{a=x$1("aditorAIChat",{},{msgs:[o]});const c=x$1("aditorParagraph",{},{});"children"in c&&c.children.push(a);const d=[{start:e.end,end:e.end,startOffset:0,endOffset:0}];n.dispatchViewEvent(new Event("keydown"),ot.INSERT_NODES_SELECTIONS_AT_ROOT,d,n.docState,{nodeList:[c]})}const l=insertInto(n,a,[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"正在请求..."}],status:!1}]);if(r==="gpt3.5"){const c=await _askGPT(a,o);l&&_deleteMsg(n,a,l),insertInto(n,a,c),globalAskingFlag.value=!1}else if(r==="sd2"){const c=await _askSD2(o.params);l&&_deleteMsg(n,a,l),insertInto(n,a,c),globalAskingFlag.value=!1}else if(r==="vits"){const c=await _askVits(o.params);l&&_deleteMsg(n,a,l),insertInto(n,a,c),globalAskingFlag.value=!1}else if(r==="qianfan"){const c=await _askQianfan(a,o);l&&_deleteMsg(n,a,l),insertInto(n,a,c),globalAskingFlag.value=!1}events.emit("hide-progress"),events.emit("stop-server-polling")}catch(a){globalAskingFlag.value=!1,events.emit("hide-progress"),events.emit("stop-server-polling"),console.warn("aiAsk error:",a)}}},_askGPT=async(n,e)=>{const r=[];toRaw(n).data.msgs.forEach(s=>{let a="";s.type==="text"&&s.data.forEach(l=>{l.type==="text"&&(a+=l.text)}),a&&a!=""&&r.push({role:s.role,content:a})});let o="";return e.data.forEach(s=>{s.type==="text"&&(o+=s.text)}),await request.chatgpt({text:o,history:r}).then(s=>s.data.contents).catch(s=>(console.warn("request error:",s),[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+s}]}]))},_askQianfan=async(n,e)=>{const r=[];toRaw(n).data.msgs.forEach(s=>{let a="";s.type==="text"&&s.data.forEach(l=>{l.type==="text"&&(a+=l.text)}),a&&a!=""&&r.push({role:s.role,content:a})});let o="";return e.data.forEach(s=>{s.type==="text"&&(o+=s.text)}),await request.qianfanChat({text:o,history:r}).then(s=>s.data.contents).catch(s=>(console.warn("request error:",s),[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+s}]}]))},_askSD2=async n=>{events.emit("show-progress");const e=async()=>await request.sdProgress().then(r=>{if(r.status==200){let o=r.data.progress?r.data.progress:0;return{status:!0,progress:Math.min(Math.ceil(o*100),100),msg:r.data.msg}}else return{status:!1,progress:0,msg:r.data.msg}}).catch(r=>({status:!1,progress:0,msg:r}));return events.emit("start-server-polling",{callback:e,interval:100}),n.fname==="txt2img"?await request.aiTxt2Img(n).then(r=>{var o;try{if(r.status==200&&((o=r.data.images)==null?void 0:o.length)>=1){const s=[];for(let a of r.data.images){let l=a.images[0];!l.startsWith("./")&&!l.startsWith("/")&&!l.startsWith("http")&&(l=l.startsWith("data:image/png;base64,")?l:"data:image/png;base64,"+l),s.push({type:"image",src:l})}return[{type:"image",name:"sd2",role:"assistant",data:s}]}return[{type:"text",name:"sd2",role:"assistant",data:[{type:"text",text:"没有完成绘画"}]}]}catch(s){return[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+s}]}]}}).catch(r=>(console.warn(r),[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+r}]}])):await request.aiDraw(n).then(r=>{var o;try{if(r.status==200&&((o=r.data.images)==null?void 0:o.length)>=1){const s=[];for(let a of r.data.images){let l=a.images[0];!l.startsWith("./")&&!l.startsWith("/")&&!l.startsWith("http")&&(l=l.startsWith("data:image/png;base64,")?l:"data:image/png;base64,"+l),s.push({type:"image",src:l})}return[{type:"image",name:"sd2",role:"assistant",data:s}]}return[{type:"text",name:"sd2",role:"assistant",data:[{type:"text",text:"没有完成绘画"}]}]}catch(s){return[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+s}]}]}}).catch(r=>(console.warn(r),[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+r}]}]))},_askVits=async n=>{let e=n==null?void 0:n.text;return e||(e="请提供文本"),await request.aiVoice({text:e}).then(r=>{try{return r.status==200&&r.data.status==="Success"?[{type:"audio",name:"vits",role:"assistant",data:[{type:"audio",src:"data:audio/wav;base64,"+r.data.audios}]}]:[{type:"text",name:"vits",role:"assistant",data:[{type:"text",text:"没有生成音频"}]}]}catch(o){return[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+o}]}]}}).catch(r=>(console.warn(r),[{type:"text",name:"system",role:"assistant",data:[{type:"text",text:"请求错误:"+r}]}]))},isAsking=computed(()=>globalAskingFlag),TEXT_COLOR={黑色:"rgb(0, 0, 0)",灰色:"rgb(100, 106, 115)",红色:"rgb(216, 57, 49)",橙色:"rgb(222, 120, 2)",黄色:"rgb(220, 155, 4)",绿色:"rgb(46, 161, 33)",蓝色:"rgb(36, 91, 219)",紫色:"rgb(100, 37, 208)"},BACKGROUND_COLOR={透明:"rgba(0, 0, 0, 0)",浅灰色:"rgb(242, 243, 245)",浅红色:"rgb(251, 191, 188)",浅橙色:"rgba(254, 212, 164, 0.8)",浅黄色:"rgba(255, 246, 122, 0.8)",浅绿色:"rgba(183, 237, 177, 0.8)",浅蓝色:"rgba(186, 206, 253, 0.7)",浅紫色:"rgba(205, 178, 250, 0.7)",中灰色:"rgba(222, 224, 227, 0.8)",灰色:"rgb(187, 191, 196)",红色:"rgb(247, 105, 100)",橙色:"rgb(255, 165, 61)",黄色:"rgb(255, 233, 40)",绿色:"rgb(98, 210, 86)",蓝色:"rgba(78, 131, 253, 0.55)",紫色:"rgba(147, 90, 246, 0.55)"};var TOOLBAR_TYPE=(n=>(n.command="command",n.prefix="prefix",n.link="link",n.none="none",n.keep="keep",n))(TOOLBAR_TYPE||{});class Command{constructor(e,r,o,s=null,a="style",l,c){pr(this,"name");pr(this,"_icon");pr(this,"label");pr(this,"_value");pr(this,"type");pr(this,"children");pr(this,"isHighlightHook");pr(this,"execute",async({key:e,value:r,setSelection:o})=>{const s=activeView();if(r!=null){if(typeof r=="object"&&"modelName"in r){const{modelName:a,componentName:l,fixPrompt:c}=r;if(a==null||l==null)return;const d=activeView();let f="";const{start:g,end:v}=d.docState.nodesel2globalpos(d.docState.vsels2Nodesels(vsels)[0]);d.docState.traverseNodeByPos(g,v,(M,Y)=>{f+=M.getTextByRange(g,v)}),f=f.replace(/^\n+|\n+$/g,"");const A=d.docState.findNodeByPos(v);c!=null&&typeof c=="string"&&c.length>0&&(f=c+`:
`+f),a==="gpt3.5"?aiAsk(d,A,a,{name:a,role:"user",type:"text",data:[{type:"text",text:f}]}):a==="vits"?aiAsk(d,A,a,{name:a,role:"user",type:"text",data:[{type:"text",text:`请帮我把下面文字转成语音:
`+f}],params:{text:f}}):a==="sd2"&&aiAsk(d,A,a,{name:a,role:"user",type:"text",data:[{type:"text",text:`请根据下面文字做画
`+f}],params:{width:800,height:600,fname:"txt2img",cfg_scale:7.5,n_iter:1,steps:20,seed:-1,prompt:f,negative_prompt:"(worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, (ugly:1.331), (duplicate:1.331), (morbid:1.21), (mutilated:1.21), (tranny:1.331), mutated hands, (poorly drawn hands:1.5), blurry, (bad anatomy:1.21), (bad proportions:1.331), extra limbs, (disfigured:1.331), (missing arms:1.331), (extra legs:1.331), (fused fingers:1.61051), (too many fingers:1.61051), (unclear eyes:1.331), lowers, bad hands, missing fingers, extra digit,bad hands, missing fingers, (((extra arms and legs)))"}})}else if(e!=="insert_node"){const a=setSelectionAttributes({view:activeView(),vsels,key:e,value:r,setSelection:o});nextTick(()=>{s instanceof dt&&(a==null?vsels=[]:(vsels=[],a.forEach(l=>{vsels.push({start:l.start,end:l.end,startOffset:l.startOffset,endOffset:l.endOffset})})),state.attrs=getSelectionAttributes(s.docState,vsels))})}else if(e=="insert_node"){const a=x$1(r,{},{});if(!a)return;const l=x$1("aditorParagraph",{},{});l.addChild(a);const c=setSelectionAttributes({view:activeView(),vsels,key:e,value:[l],setSelection:o});nextTick(()=>{s instanceof dt&&(c==null?vsels=[]:(vsels=[],c.forEach(d=>{vsels.push({start:d.start,end:d.end,startOffset:d.startOffset,endOffset:d.endOffset})})),state.attrs=getSelectionAttributes(s.docState,vsels))})}}});this.name=e,this._icon=r,this.label=o,this.type=a,this._value=s,this.children=l,this.isHighlightHook=c}get icon(){return this._icon==null?null:typeof this._icon=="function"?this._icon.call(this,state):typeof this._icon=="object"?h$1(this._icon):null}get highlight(){return this.isHighlightHook==null?!1:this.isHighlightHook.call(this,state)}get stateValue(){return this.name in state.attrs?state.attrs[this.name]:null}get value(){return this._value==null?null:this._value==="$stateValue"?!this.stateValue:typeof this._value=="function"?this._value.call(this,state,this):this._value}}const state=reactive({type:"none",displayState:"hide",_transfromState:"hide",colorVisible:!1,prefixMenuVisible:!1,position:{x:0,y:0},attrs:{title:"正文",alignment:"左对齐",fontWeight:!0,lineThrough:!0,italic:!0,underline:!0,linkNum:0,linkValue:"",color:"蓝色",backgroundColor:"浅红色"}});let activeView=()=>null,vsels=[];const commands=()=>state.type==="command"?defaultNormalCommands:state.type==="prefix"?defaultPrefixCommands:defaultNormalCommands,stateType=()=>state.type,setStateType=n=>{state.type=n},clickColorButton=()=>{state.colorVisible=!state.colorVisible},clickPrefixButton=()=>{state.prefixMenuVisible=!state.prefixMenuVisible},setDisplayState=n=>{state.displayState=n},fontColor=()=>TEXT_COLOR[state.attrs.color],backgroundColor=()=>BACKGROUND_COLOR[state.attrs.backgroundColor],setLinkValue=n=>{state.attrs.linkValue=n},executeSetLink=()=>{setSelectionAttributes({view:activeView(),vsels,key:"href",value:state.attrs.linkValue,setSelection:!0})},defaultNormalCommands=[new Command("gpt_explain",GPTWhyIcon,"解释",{modelName:"gpt3.5",componentName:"aditorAIChat",fixPrompt:"请帮我解释下面内容"},"style",[]),new Command("gpt_fix",GPTAutoIcon,"补全",{modelName:"gpt3.5",componentName:"aditorAIChat",fixPrompt:"请根据内容，帮我补全下面段落后面可能的内容"},"style",[]),new Command("gpt_translate",GPTTransIcon,"翻译",{modelName:"gpt3.5",componentName:"aditorAIChat",fixPrompt:"帮我翻译下面内容，如果内容没有提示翻译成什么语言，识别语种，翻译成中文，如果目标语言是中文，则翻译成英文"},"style",[]),new Command("txt2audio",Txt2AudioIcon,"转语音",{modelName:"vits",componentName:"aditorAIChat",fixPrompt:""},"style",[]),new Command("txt2img",Txt2ImgIcon,"转图片",{modelName:"sd2",componentName:"aditorAIChat",fixPrompt:""},"style",[]),new Command("format",AIFunctionIcon,"format","format","style",[new Command("fontWeight",BoldIcon,"加粗","$stateValue","style",[],function(n){return n.attrs.fontWeight}),new Command("lineThrough",StrikethroughIcon,"删除线","$stateValue","style",[],function(n){return n.attrs.lineThrough}),new Command("italic",ItalicIcon,"斜体","$stateValue","style",[],function(n){return n.attrs.italic}),new Command("underline",UnderlineIcon,"下划线","$stateValue","style",[],function(n){return n.attrs.underline})])],defaultPrefixCommands=[new Command("title",TextIcon,"正文","p","style",[],n=>n.attrs.title=="正文"),new Command("title",H1Icon,"标题1","1","style",[],n=>n.attrs.title=="一级"),new Command("title",H2Icon,"标题2","2","style",[],n=>n.attrs.title=="二级"),new Command("title",H3Icon,"标题3","3","style",[],n=>n.attrs.title=="三级"),new Command("textAlign",AlignLeftIcon,"左对齐","left","style",[],n=>n.attrs.alignment=="左对齐"),new Command("textAlign",AlignCenterIcon,"居中对齐","center","style",[],n=>n.attrs.alignment=="居中对齐"),new Command("textAlign",AlignCenterIcon,"右对齐","right","style",[],n=>n.attrs.alignment=="右对齐"),new Command("fontWeight",BoldIcon,"加粗","$stateValue","style",[],function(n){return n.attrs.fontWeight}),new Command("lineThrough",StrikethroughIcon,"删除线","$stateValue","style",[],function(n){return n.attrs.lineThrough}),new Command("italic",ItalicIcon,"斜体","$stateValue","style",[],function(n){return n.attrs.italic}),new Command("underline",UnderlineIcon,"下划线","$stateValue","style",[],function(n){return n.attrs.underline}),new Command("delete",DeleteIcon,"删除",!1,"operate",[],()=>!1),new Command("math",MathIcon,"公式","aditorKatex","add",[],()=>!1),new Command("setting",SettingIcon,"设置","aditorConfig","add",[],()=>!1),new Command("aiDraw",AIDrawIcon,"画布","aditorCanvas","add",[],()=>!1)],defaultColorCommands=Object.keys(TEXT_COLOR).map(n=>new Command("color",TextColorIcon,n,TEXT_COLOR[n],"style")),defaultBackgroundColorCommands=Object.keys(BACKGROUND_COLOR).map(n=>new Command("backgroundColor",null,n,BACKGROUND_COLOR[n],"style")),init=(n,e,r,o)=>{getToolbar=r,activeView=n,toolbarHTMLElements=e,prefixIsShow=o,Object.keys(eventListener).forEach(s=>{document.removeEventListener(s,eventListener[s]),document.addEventListener(s,eventListener[s])})};let getToolbar=()=>null,prefixIsShow=()=>!1;const _setPosition=(n,e)=>{state.position.x=n,state.position.y=e},_hookElement=(n,e)=>{var r;(r=n.parentNode)==null||r.removeChild(n),e.appendChild(n)},_getSelectionPosition=(n,e)=>{var vn,bn,wn,Cn;const r=En=>{let _n=0,Bn=0;for(;En;)_n+=En.offsetTop||0,Bn+=En.offsetLeft||0,En=En.offsetParent;return{top:_n,left:Bn}},o=En=>{if(En==null)return null;if(En.nodeType===Node.ELEMENT_NODE||En.nodeType===Node.TEXT_NODE)if(En.children&&En.children.length>0)for(let _n=En.children.length-1;_n>=0;_n--){const Bn=o(En.children[_n]);if(Bn)return Bn}else return En;return null},a=window.getSelection(),l=a==null?void 0:a.getRangeAt(0);if(l==null||l==null)return null;let c=a==null?void 0:a.anchorNode,d=a==null?void 0:a.anchorOffset,f=a==null?void 0:a.focusNode,g=a==null?void 0:a.focusOffset,v=!1;if(c==null||f==null||d==null||g==null)return console.warn("Can't get one of 'anchorNode, startNode, endNode, anchorOffset, startOffset'"),null;if(g==0&&c!=f){let En=100,_n=null;for(;_n==null&&f&&f.parentElement!=document.body&&En>0;){if(_n=(vn=f.parentElement)==null?void 0:vn.getAttribute("aditorid"),_n!=null){let Un=(bn=f.parentElement)==null?void 0:bn.getAttribute("vid"),Rn=(wn=f.parentElement)==null?void 0:wn.getAttribute("id");if((Un!=null||Rn!=null)&&Un==Rn)break;f=f.parentElement;break}En--}if(f==null)return null;const Bn=f.previousSibling,jn=o(Bn);if(jn==null)return null;jn.nodeType===Node.TEXT_NODE?f=jn.parentElement||jn:f=jn,g=((Cn=jn.textContent)==null?void 0:Cn.length)||0}if(c.nodeType===Node.TEXT_NODE&&(c=c.parentElement),f.nodeType===Node.TEXT_NODE&&(f=f.parentElement),c==null||f==null)return null;f===c?v=g>=d:v=(c==null?void 0:c.compareDocumentPosition(f))===Node.DOCUMENT_POSITION_FOLLOWING;const A=r(f),M=f.getBoundingClientRect(),Y=l.getClientRects(),de=[];if(g==0&&c!=f)for(let En=0;En<Y.length-1;En++)de.push(Y[En]);else de.push(...Y);const ae=v?de[de.length-1]:de[0],ze=v?ae==null?void 0:ae.width:0,qe=r(e);if(ae==null)return console.warn("Can't get lastRect, not move toolBar"),null;const hn=A.top+Math.abs(M.top-ae.top)+20,On=ae.left+ze-qe.left-40/2;return{top:hn,left:On}},_getSelectionPositionPrefix=(n,e)=>{const r=e.getElementsByClassName("aditor")[0];if(r==null)return null;const o=g=>{let v=0,A=0;for(;g;)v+=g.offsetTop||0,A+=g.offsetLeft||0,g=g.offsetParent;return{top:v,left:A}};let s=n.target,a=100;for(;s&&s.parentElement!=r&&s.parentElement!=document.body&&a>0;)s=s.parentElement,a--;if(s==null||a<=0)return console.warn("Can't get targetNode, not move toolBar"),null;if(s.getAttribute("aditorid")==null||s.getAttribute("aditorid")==null)return null;const l=o(s),c=o(e),d=l.top-c.top,f=l.left-c.left;return{top:d,left:f}},_getSelectionPositionLink=(n,e)=>{if(e.getElementsByClassName("aditor")[0]==null)return null;const o=f=>{let g=0,v=0;for(;f;)g+=f.offsetTop||0,v+=f.offsetLeft||0,f=f.offsetParent;return{top:g,left:v}};let s=n.target;if(s==null)return console.warn("Can't get targetNode, not move toolBar"),null;const a=o(s),l=o(e),c=a.top-l.top,d=a.left-l.left;return{top:c,left:d}},beforeEnter=()=>{},afterEnter=()=>{},beforeLeave=()=>{},afterLeave=()=>{},getSelectionType=()=>{const n=window.getSelection();if(n==null||(n==null?void 0:n.type)==="None")return"none";const e=n==null?void 0:n.getRangeAt(0),r=e==null?void 0:e.startContainer,o=e==null?void 0:e.startOffset,s=e==null?void 0:e.endContainer,a=e==null?void 0:e.endOffset;if(e){if(e.getBoundingClientRect().width<1)return"none"}else return"none";return r===null||o===null||s===null||a===null?"none":r===s&&o===a?"single":r!==s||o!==a?"range":"none"};let toolbarHTMLElements=()=>[];const getEventTargetBoundary=(n,e,r)=>{const o=window.getSelection();if(o==null||(o==null?void 0:o.type)==="None")return"outside";const s=n.target;if(s.getAttribute("aditor-link")!=null)return"link";{const f=s.parentElement;if(f&&f.getAttribute("aditor-link")!=null)return"link"}if(e.contains(s)){const f=activeView();return f&&f.docState.sels.getCurDOMBlockStartByNode(n.target)?"editor":"outside"}if(r.filter(f=>f==null?!1:f.contains(s)).length>0)return"toolbar";let l=s,c=1e3;for(;l!=null&&l!=document.body&&c>0;){if(l.getAttribute("e-boundary")==="toolbar")return"toolbar";l=l.parentElement,c--}const d=o==null?void 0:o.getRangeAt(0);if(d){const f=d.commonAncestorContainer;if(e.contains(f))return"editor"}return"outside"};let transformClock=null,mouseupLock=!1,keydownLock=!1;const _commandTransform=(n,e)=>{let r="keep",o=!1;return["mouseup"].includes(n.type)&&e==="editor"&&getSelectionType()!=="range"?(r="prefix",o=!0):["mouseup"].includes(n.type)&&["outside"].includes(e)||["keydown","keyup"].includes(n.type)?r="none":["mouseup"].includes(n.type)&&["editor","link"].includes(e)&&getSelectionType()==="range"&&(r="command",o=!0),{nextType:r,resetPosition:o}},_prefixTransform=(n,e)=>{let r="keep",o=!1;return["mouseover"].includes(n.type)&&e==="editor"?prefixIsShow()||(r="prefix",o=!0):["mouseup"].includes(n.type)&&["outside"].includes(e)||["keydown","keyup"].includes(n.type)&&e==="editor"?(r="none",prefixIsShow()&&["keydown","keyup"].includes(n.type)&&hidePrefixPopover()):["mouseup"].includes(n.type)&&["editor","link"].includes(e)&&getSelectionType()==="range"?(r="command",o=!0):["mouseup"].includes(n.type)&&e==="editor"&&getSelectionType()!=="range"?prefixIsShow()&&hidePrefixPopover():["mouseover"].includes(n.type)&&e==="link"&&(r="link",o=!0),{nextType:r,resetPosition:o}},_noneTransform=(n,e)=>{let r="keep",o=!1;return["mouseover","mouseup"].includes(n.type)&&e==="editor"?(r="prefix",o=!0):["mouseup"].includes(n.type)&&["editor","link"].includes(e)&&getSelectionType()==="range"?(r="command",o=!0):["mouseover"].includes(n.type)&&e==="link"&&(r="link",o=!0),{nextType:r,resetPosition:o}},_linkTransform=(n,e)=>{let r="keep",o=!1;return["mouseup"].includes(n.type)&&e==="editor"&&getSelectionType()!=="range"?(r="prefix",o=!0):["mouseup","keydown","keyup"].includes(n.type)&&["outside"].includes(e)?r="none":["mouseup"].includes(n.type)&&["editor","link"].includes(e)&&getSelectionType()==="range"&&(r="command",o=!0),{nextType:r,resetPosition:o}},transformMap={command:_commandTransform,prefix:_prefixTransform,none:_noneTransform,link:_linkTransform,keep:()=>({nextType:"keep",resetPosition:!1})},transform=(n,e)=>{if(mouseupLock||keydownLock)return;const r=toolbarHTMLElements(),o=document.getElementById(e.rootVid),s=getToolbar();if(!o||!s)return;const a=getEventTargetBoundary(n,o,r),l=stateType();let c=20;["mouseover"].includes(n.type)&&a==="outside"&&(c=500),["mouseover"].includes(n.type)&&a==="link"&&(c=600),["mouseup"].includes(n.type)&&(mouseupLock=!0,setTimeout(()=>{mouseupLock=!1},c)),["keydown"].includes(n.type)&&(keydownLock=!0,setTimeout(()=>{keydownLock=!1},100)),clearTimeout(transformClock),transformClock=setTimeout(()=>{var v;let d="keep",f=!1;const g=transformMap[l](n,a);if(d=g.nextType,f=g.resetPosition,d!=="keep"){if(d==="command"){e.updateSelection();const A=e.docState.sels.selections;if(A.length==0)return;vsels=A,state.attrs=getSelectionAttributes(e.docState,vsels)}else if(d==="prefix"){const A=e.docState.sels.getCurDOMBlockStartByNode(n.target);let M=[];if(A){const Y=e.docState.findNodeByPos(A);Y?M=[{start:Y.start,end:Y.start,startOffset:0,endOffset:Y.length()}]:M=[]}else M=[];if(M.length==0)return;vsels=M,state.attrs=getSelectionAttributes(e.docState,vsels)}else if(d==="link"){const A=(v=n==null?void 0:n.target)==null?void 0:v.getAttribute("selstart");let M=[];if(A){const Y=e.docState.findNodeByPos(parseInt(A));Y?M=[{start:Y.start,end:Y.start,startOffset:0,endOffset:Y.length()}]:M=[]}else M=[];if(M.length==0)return;vsels=M,state.attrs=getSelectionAttributes(e.docState,vsels)}d==="none"?hide(s):show(n,e,s,o,f,d)}},c)},show=(n,e,r,o,s,a)=>{if(s){let l=_getSelectionPosition;a==="prefix"?l=_getSelectionPositionPrefix:a==="link"&&(l=_getSelectionPositionLink);const c=l(n,o.parentElement);if(c==null)return;_setPosition(c.left,c.top)}setStateType(a),state.displayState==="show"&&setDisplayState("hide"),a!="command"&&hideCommandPopover(),a!="prefix"&&hidePrefixPopover(),nextTick(()=>{_hookElement(r,o),setDisplayState("show")})},hide=n=>{hideCommandPopover(),hidePrefixPopover(),_hookElement(n,document.body),_setPosition(-1e4,-1e4),setDisplayState("hide"),setStateType("none")},hideCommandPopover=()=>{state.colorVisible=!1},hidePrefixPopover=()=>{state.prefixMenuVisible=!1},eventListener={click:n=>{},mousedown:n=>{},mouseup:n=>{const e=activeView();e instanceof dt&&transform(n,e)},mouseover:n=>{const e=activeView();e instanceof dt&&transform(n,e)},keydown:n=>{const e=activeView();e instanceof dt&&transform(n,e)}},view={init,beforeEnter,afterEnter,beforeLeave,afterLeave,state:readonly(state),commands,fontColor,backgroundColor,colorCommands:defaultColorCommands,backgroundColorCommands:defaultBackgroundColorCommands,setStateType,setLinkValue,executeSetLink,clickColorButton,clickPrefixButton},_withScopeId$4=n=>(pushScopeId("data-v-101e4e80"),n=n(),popScopeId(),n),_hoisted_1$9=["onClick"],_hoisted_2$7={class:"item-container-icon"},_hoisted_3$5={class:"item-container-text"},_hoisted_4$5=_withScopeId$4(()=>createBaseVNode("div",null,"字体颜色",-1)),_hoisted_5$5=_withScopeId$4(()=>createBaseVNode("div",null,"背景颜色",-1)),_hoisted_6$4=_withScopeId$4(()=>createBaseVNode("div",{style:{width:"190px"}},"样式",-1)),_hoisted_7$4=["onClick"],_hoisted_8$4=_withScopeId$4(()=>createBaseVNode("div",{style:{width:"190px"}},"操作",-1)),_hoisted_9$3=["onClick"],_hoisted_10$3={class:"operate-row"},_hoisted_11$3={style:{"margin-left":"20px","line-height":"18px"}},_hoisted_12$2=_withScopeId$4(()=>createBaseVNode("div",{style:{width:"190px"}},"插入",-1)),_hoisted_13$2=["onClick"],_hoisted_14$2={class:"add-row"},_hoisted_15$2={style:{"margin-left":"20px","line-height":"18px"}},_hoisted_16$2={class:"toolbar-form-link","e-boundary":"toolbar"},_hoisted_17$2={class:"toolbar-link-button-group"},_sfc_main$a=defineComponent({__name:"EditorToolbarUpgrade",props:{getAditorView:{type:Function,required:!0}},setup(n){const e=n,r=computed(()=>view.state.displayState==="show"),o=computed(()=>view.state.type==="prefix"?"left-start":(view.state.type==="command","top")),s=computed({get:()=>view.state.attrs.linkValue,set:qe=>{view.setLinkValue(qe)}}),a=ref(null),l=ref(null),c=ref(null),d=ref(null),f=ref(null),g=ref(null),v=ref(null),A=ref(null),M=ref(null),Y=()=>{var qe,Ue,hn,On;return[(qe=l.value)==null?void 0:qe.$el,c.value,(Ue=M.value)==null?void 0:Ue.$el,(hn=d.value)==null?void 0:hn.$el,(On=v.value)==null?void 0:On.$el]},de=()=>{var qe;return(qe=f.value)==null?void 0:qe.$el},ae=()=>{if(c.value){const qe=c.value.parentElement;if(qe)return qe.style.display!=="none"}return!1},ze=computed(()=>({visibility:"hidden",zIndex:100,position:"absolute",left:view.state.position.x+"px",top:view.state.position.y+"px"}));return onMounted(()=>{view.init(e.getAditorView,Y,de,ae)}),(qe,Ue)=>{const hn=ElButton,On=ElIcon,vn=ElDropdownItem,bn=ElDropdownMenu,wn=ElDropdown,Cn=ElDivider,En=ElCol,_n=ElRow,Bn=ElSpace,jn=ElPopover,Un=ElCard,Rn=ElTooltip,Wn=ElPopoverDirective;return openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:a},[withDirectives(createVNode(hn,{ref_key:"toolbarButtonRef",ref:f,style:normalizeStyle(ze.value),class:"toolbar-button"},null,8,["style"]),[[Wn,g.value]]),createVNode(jn,{visible:r.value,ref_key:"toolbarRef",ref:g,trigger:"click","virtual-triggering":"",width:"auto",placement:o.value,"show-arrow":!1,"hide-after":0,"show-after":0,"popper-style":"padding:0px;min-width:20px",onBeforeEnter:unref(view).beforeEnter,onAfterEnter:unref(view).afterEnter,onBeforeLeave:unref(view).beforeLeave,onAfterLeave:unref(view).afterLeave},{default:withCtx(()=>[withDirectives(createVNode(Un,{ref_key:"form1Ref",ref:l,shadow:"never","body-style":"border:none",class:"toolbar-form-1"},{default:withCtx(()=>[createVNode(Bn,{wrap:"",size:0,class:"toolbar-space"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).commands(),($n,Xn)=>(openBlock(),createElementBlock(Fragment,{key:Xn},[$n.children&&$n.children.length>0?(openBlock(),createBlock(wn,{key:0,onCommand:$n.execute,trigger:"click"},{dropdown:withCtx(()=>[createVNode(bn,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList($n.children,(xn,Mn)=>(openBlock(),createBlock(vn,{"e-boundary":"toolbar",icon:xn.icon,style:{"font-size":"12px"},command:{key:xn.name,value:xn.value},class:normalizeClass({"toolbar-item-selected":xn.highlight})},{default:withCtx(()=>[createBaseVNode("div",null,toDisplayString(xn.label),1)]),_:2},1032,["icon","command","class"]))),256))]),_:2},1024)]),default:withCtx(()=>[createVNode(hn,{size:"small",text:""},{default:withCtx(()=>[createVNode(On,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($n.icon)))]),_:2},1024),createVNode(On,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1})]),_:2},1024)]),_:2},1032,["onCommand"])):$n.name!=="color"?(openBlock(),createElementBlock("div",{key:1,onClick:xn=>$n.execute({key:$n.name,value:$n.value}),class:normalizeClass(["item-container",{"toolbar-item-selected":$n.highlight}])},[createBaseVNode("div",_hoisted_2$7,[createVNode(On,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($n.icon)))]),_:2},1024)]),createBaseVNode("div",_hoisted_3$5,toDisplayString($n.label),1)],10,_hoisted_1$9)):createCommentVNode("",!0),Xn!=unref(view).commands().length-1?(openBlock(),createBlock(Cn,{key:2,style:{margin:"0px",padding:"0px"},direction:"vertical"})):createCommentVNode("",!0)],64))),128)),createVNode(Cn,{style:{margin:"0px",padding:"0px"},direction:"vertical"}),createBaseVNode("div",{class:"item-container",style:normalizeStyle({backgroundColor:unref(view).backgroundColor()}),ref_key:"colorButtonRef",ref:v,onClick:Ue[0]||(Ue[0]=(...$n)=>unref(view).clickColorButton&&unref(view).clickColorButton(...$n))},[createVNode(On,{color:unref(view).fontColor()},{default:withCtx(()=>[createVNode(unref(ColorIcon))]),_:1},8,["color"])],4),createVNode(Cn,{style:{margin:"0px",padding:"0px"},direction:"vertical"}),createBaseVNode("div",{class:"item-container",ref:"linkButtonRef",onClick:Ue[1]||(Ue[1]=()=>{unref(view).setStateType(unref(TOOLBAR_TYPE).link)})},[createVNode(On,null,{default:withCtx(()=>[createVNode(unref(LinkIcon))]),_:1})],512),createVNode(jn,{ref_key:"colorPopoverRef",ref:A,"virtual-ref":v.value,"virtual-triggering":"",width:320,"popper-style":"padding:0px;",visible:unref(view).state.colorVisible},{default:withCtx(()=>[createVNode(Bn,{style:{padding:"12px"},onMousedown:Ue[2]||(Ue[2]=withModifiers(()=>{},["stop","prevent"])),ref_key:"colorContentRef",ref:M,direction:"vertical",alignment:"left"},{default:withCtx(()=>[_hoisted_4$5,createBaseVNode("div",null,[createVNode(_n,{gutter:0,style:{width:"300px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).colorCommands,($n,Xn)=>(openBlock(),createBlock(En,{key:Xn,span:3},{default:withCtx(()=>[createVNode(hn,{onClick:xn=>$n.execute({key:$n.name,value:$n.value}),size:"small"},{default:withCtx(()=>[createVNode(On,{size:10,color:$n.value},{default:withCtx(()=>[createVNode(unref(TextColorIcon))]),_:2},1032,["color"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_hoisted_5$5,createBaseVNode("div",null,[createVNode(_n,{gutter:0,style:{width:"300px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).backgroundColorCommands,($n,Xn)=>(openBlock(),createBlock(En,{key:Xn,span:3,style:{"padding-bottom":"3px"}},{default:withCtx(()=>[createVNode(hn,{onClick:xn=>$n.execute({key:$n.name,value:$n.value}),size:"small",color:$n.value},{default:withCtx(()=>[createVNode(On,{size:8})]),_:2},1032,["onClick","color"])]),_:2},1024))),128))]),_:1})])]),_:1},512)]),_:1},8,["virtual-ref","visible"])]),_:1})]),_:1},512),[[vShow,unref(view).state.type==="command"]]),createVNode(jn,{placement:"left-start",width:216,visible:unref(view).state.prefixMenuVisible,"hide-after":0},{reference:withCtx(()=>[withDirectives(createVNode(hn,{ref_key:"form2ButtonRef",ref:d,"e-boundary":"toolbar",text:"",style:{height:"auto",padding:"6px 8px"},type:"success",onClick:unref(view).clickPrefixButton},{default:withCtx(()=>[createVNode(On,{"e-boundary":"toolbar"},{default:withCtx(()=>[createVNode(unref(GirdIcon),{"e-boundary":"toolbar"})]),_:1})]),_:1},8,["onClick"]),[[vShow,unref(view).state.type==="prefix"]])]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"form2Ref",ref:c,style:{width:"190px"}},[createVNode(Bn,{wrap:""},{default:withCtx(()=>[_hoisted_6$4,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).commands(),($n,Xn)=>(openBlock(),createElementBlock(Fragment,null,[$n.type==="style"?(openBlock(),createElementBlock("div",{key:0,onClick:xn=>$n.execute({key:$n.name,value:$n.value,setSelection:!1}),class:normalizeClass(["item-container-form2",{"toolbar-item-selected":$n.highlight}])},[createVNode(On,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($n.icon)))]),_:2},1024)],10,_hoisted_7$4)):createCommentVNode("",!0)],64))),256)),_hoisted_8$4,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).commands(),($n,Xn)=>(openBlock(),createElementBlock(Fragment,null,[$n.type==="operate"?(openBlock(),createElementBlock("div",{key:0,onClick:xn=>{var Mn,Qn;(Qn=(Mn=d.value)==null?void 0:Mn.$el)==null||Qn.click(),$n.execute({key:$n.name,value:$n.value,setSelection:!1})},style:{width:"190px"}},[createBaseVNode("div",_hoisted_10$3,[createVNode(On,{size:18},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($n.icon)))]),_:2},1024),createBaseVNode("div",_hoisted_11$3,toDisplayString($n.label),1)])],8,_hoisted_9$3)):createCommentVNode("",!0)],64))),256)),_hoisted_12$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(view).commands(),($n,Xn)=>(openBlock(),createElementBlock(Fragment,null,[$n.type==="add"?(openBlock(),createElementBlock("div",{key:0,onClick:xn=>{var Mn,Qn;(Qn=(Mn=d.value)==null?void 0:Mn.$el)==null||Qn.click(),$n.execute({key:"insert_node",value:$n.value,setSelection:!1})},style:{width:"190px"}},[createBaseVNode("div",_hoisted_14$2,[createVNode(On,{size:18},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($n.icon)))]),_:2},1024),createBaseVNode("div",_hoisted_15$2,toDisplayString($n.label),1)])],8,_hoisted_13$2)):createCommentVNode("",!0)],64))),256))]),_:1})],512)]),_:1},8,["visible"]),withDirectives(createBaseVNode("div",_hoisted_16$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ue[3]||(Ue[3]=$n=>s.value=$n),style:{width:"240px",border:"none",outline:"none","border-right":"1px solid #e4e7ed","font-size":"12px"},placeholder:"请输入链接"},null,512),[[vModelText,s.value]]),createBaseVNode("div",_hoisted_17$2,[createVNode(Rn,{"show-after":800,effect:"dark",content:"保存",placement:"bottom"},{default:withCtx(()=>[createBaseVNode("div",{onClick:Ue[4]||(Ue[4]=(...$n)=>unref(view).executeSetLink&&unref(view).executeSetLink(...$n)),class:"link-button"},[createVNode(On,{size:14},{default:withCtx(()=>[createVNode(unref(SaveIcon))]),_:1})])]),_:1}),createVNode(Rn,{"show-after":800,effect:"dark",content:"取消链接",placement:"bottom"},{default:withCtx(()=>[createBaseVNode("div",{onClick:Ue[5]||(Ue[5]=()=>{unref(view).setLinkValue(""),unref(view).executeSetLink()}),class:"link-button"},[createVNode(On,{size:14},{default:withCtx(()=>[createVNode(unref(UnlinkIcon))]),_:1})])]),_:1})])],512),[[vShow,unref(view).state.type===unref(TOOLBAR_TYPE).link]])]),_:1},8,["visible","placement","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],512)}}}),EditorToolbar=_export_sfc(_sfc_main$a,[["__scopeId","data-v-101e4e80"]]),_sfc_main$9={setup(){let n,e=!1,r=!1;const o=ref(0),s=ref(!1),a=async v=>{const{callback:A,interval:M}=v;clearTimeout(n),!(!e||r)&&(n=setTimeout(()=>{r=!0,A().then(Y=>{r=!1;const de=Y.progress;de&&g(de),e&&a(v)}).catch(Y=>{r=!1,console.error("失败",Y)})},M))},l=async v=>{e=!0,a(v)},c=()=>{clearTimeout(n),e=!1},d=()=>{s.value=!0},f=()=>{s.value=!1},g=v=>{o.value=v};return onMounted(()=>{events.on("show-progress",d),events.on("hide-progress",f),events.on("update-progress",g),events.on("start-server-polling",l),events.on("stop-server-polling",c)}),onUnmounted(()=>{events.off("show-progress",d),events.off("hide-progress",f),events.off("update-progress",g),events.off("start-server-polling",l),events.off("stop-server-polling",c)}),{progressValue:o,show:s}}};function _sfc_render$7(n,e,r,o,s,a){const l=ElProgress;return withDirectives((openBlock(),createBlock(l,{"show-text":!1,percentage:o.progressValue,class:"global-progress",striped:"","striped-flow":"",duration:50,"stroke-width":8},null,8,["percentage"])),[[vShow,o.show]])}const Progress=_export_sfc(_sfc_main$9,[["render",_sfc_render$7],["__scopeId","data-v-4dbc35e1"]]),globalState=reactive({screenWidth:window.innerWidth,isMobile:window.innerWidth<768,canvasMaxWidth:window.innerWidth<768?window.innerWidth*.9:window.innerWidth*.7,canvasFitWidth:window.innerWidth<768?window.innerWidth-40:window.innerWidth-280,asideWidth:280}),resizeScreenWidth=()=>{globalState.screenWidth=window.innerWidth,globalState.isMobile=window.innerWidth<768,globalState.canvasMaxWidth=globalState.isMobile?window.innerWidth*.9:window.innerWidth*.7,globalState.canvasFitWidth=window.innerWidth<768?window.innerWidth-40:window.innerWidth-320};window.addEventListener("resize",resizeScreenWidth);const _hoisted_1$8={class:"app"},_hoisted_2$6={class:"content-main"},_hoisted_3$4={class:"breadcrumb"},_hoisted_4$4=["onKeydown"],_hoisted_5$4={class:"content-empty"},_sfc_main$8=defineComponent({__name:"App",setup(n){y$1.setLevel(0);const e=ref(),r=ref([]),o=ref(null),s={},a=(f,g)=>{s[f]=g,g.bindViewEventHook("afterUpdateState",(v,A)=>explorerState.afterUpdateView(f,A))},l=()=>{const f=explorerState.openedNodePath.value;return s[f]},c=(f,g)=>{r.value[g]?r.value[g]=f:r.value.push(f)},d=f=>{const g=r.value[f];if(!g)return;let v=window.getSelection();if(!(v!=null&&v.rangeCount))return;let A=v.getRangeAt(0).getBoundingClientRect(),M=document.documentElement.clientHeight;A.top>M-81&&(g.scrollTop=g.scrollHeight)};return onMounted(()=>{e.value&&(e.value.style.width=`${globalState.canvasFitWidth}px`)}),(f,g)=>{const v=ElScrollbar,A=ElAside,M=ElTabPane,Y=ElTabs,de=ElContainer;return openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode(de,{class:"layout-container-demo"},{default:withCtx(()=>[createVNode(A,{width:unref(globalState).asideWidth+"px"},{default:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[createVNode(Explorer)]),_:1})]),_:1},8,["width"]),createVNode(de,{style:{width:"100%"}},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"contentRef",ref:e,class:"content"},[createVNode(Y,{modelValue:unref(explorerState).openedNodePath.value,"onUpdate:modelValue":g[0]||(g[0]=ae=>unref(explorerState).openedNodePath.value=ae),type:"card",closable:"",onTabRemove:unref(explorerState).closeOpenedDoc},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(explorerState).state.openedNodes,(ae,ze)=>(openBlock(),createBlock(M,{key:ae.data.path,label:(ae.data.isChanged?"*":"")+ae.data.label,name:ae.data.path},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$4,[createVNode(_sfc_main$c,{openedNodePath:unref(explorerState).openedNodePath.value},null,8,["openedNodePath"])]),createBaseVNode("div",{ref_for:!0,ref:qe=>c(qe,ze),class:"content-main-editor",onKeydown:qe=>d(ze)},[ae.data.docJson?(openBlock(),createBlock(Editor,{key:0,docJson:ae.data.docJson,path:ae.data.path,setAditorViews:a,updateFile:qe=>unref(explorerState).updateFile(ae.data.path,qe)},null,8,["docJson","path","updateFile"])):createCommentVNode("",!0)],40,_hoisted_4$4)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue","onTabRemove"]),createVNode(EditorToolbar,{getAditorView:l,ref_key:"toolBarRef",ref:o},null,512)],512),[[vShow,unref(explorerState).openedNodePath.value&&unref(explorerState).openedNodePath.value.length>0]]),withDirectives(createBaseVNode("div",_hoisted_5$4," Welcome ",512),[[vShow,unref(explorerState).openedNodePath.value==null||unref(explorerState).openedNodePath.value.length==0]])]),_:1})]),_:1}),createVNode(Progress)])}}}),App=_export_sfc(_sfc_main$8,[["__scopeId","data-v-7ea34d52"]]);var mock={exports:{}};(function(module,exports){(function(e,r){module.exports=r()})(commonjsGlobal,function(){return function(n){var e={};function r(o){if(e[o])return e[o].exports;var s=e[o]={exports:{},id:o,loaded:!1};return n[o].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}return r.m=n,r.c=e,r.p="",r(0)}([function(n,e,r){var o=r(1),s=r(3),a=r(5),l=r(20),c=r(23),d=r(25),f;typeof window<"u"&&(f=r(27));/*!
    Mock - 模拟请求 & 模拟数据
    https://github.com/nuysoft/Mock
    墨智 mozhi.gyy@taobao.com nuysoft@gmail.com
*/var g={Handler:o,Random:a,Util:s,XHR:f,RE:l,toJSONSchema:c,valid:d,heredoc:s.heredoc,setup:function(v){return f.setup(v)},_mocked:{}};g.version="1.0.1-beta3",f&&(f.Mock=g),g.mock=function(v,A,M){return arguments.length===1?o.gen(v):(arguments.length===2&&(M=A,A=void 0),f&&(window.XMLHttpRequest=f),g._mocked[v+(A||"")]={rurl:v,rtype:A,template:M},g)},n.exports=g},function(module,exports,__webpack_require__){var Constant=__webpack_require__(2),Util=__webpack_require__(3),Parser=__webpack_require__(4),Random=__webpack_require__(5),RE=__webpack_require__(20),Handler={extend:Util.extend};Handler.gen=function(n,e,r){e=e==null?"":e+"",r=r||{},r={path:r.path||[Constant.GUID],templatePath:r.templatePath||[Constant.GUID++],currentContext:r.currentContext,templateCurrentContext:r.templateCurrentContext||n,root:r.root||r.currentContext,templateRoot:r.templateRoot||r.templateCurrentContext||n};var o=Parser.parse(e),s=Util.type(n),a;return Handler[s]?(a=Handler[s]({type:s,template:n,name:e,parsedName:e&&e.replace(Constant.RE_KEY,"$1"),rule:o,context:r}),r.root||(r.root=a),a):n},Handler.extend({array:function(n){var e=[],r,o;if(n.template.length===0)return e;if(n.rule.parameters)if(n.rule.min===1&&n.rule.max===void 0)n.context.path.push(n.name),n.context.templatePath.push(n.name),e=Random.pick(Handler.gen(n.template,void 0,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template})),n.context.path.pop(),n.context.templatePath.pop();else if(n.rule.parameters[2])n.template.__order_index=n.template.__order_index||0,n.context.path.push(n.name),n.context.templatePath.push(n.name),e=Handler.gen(n.template,void 0,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template})[n.template.__order_index%n.template.length],n.template.__order_index+=+n.rule.parameters[2],n.context.path.pop(),n.context.templatePath.pop();else for(r=0;r<n.rule.count;r++)for(o=0;o<n.template.length;o++)n.context.path.push(e.length),n.context.templatePath.push(o),e.push(Handler.gen(n.template[o],e.length,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template})),n.context.path.pop(),n.context.templatePath.pop();else for(r=0;r<n.template.length;r++)n.context.path.push(r),n.context.templatePath.push(r),e.push(Handler.gen(n.template[r],r,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template})),n.context.path.pop(),n.context.templatePath.pop();return e},object:function(n){var e={},r,o,s,a,l,c;if(n.rule.min!=null)for(r=Util.keys(n.template),r=Random.shuffle(r),r=r.slice(0,n.rule.count),c=0;c<r.length;c++)s=r[c],a=s.replace(Constant.RE_KEY,"$1"),n.context.path.push(a),n.context.templatePath.push(s),e[a]=Handler.gen(n.template[s],s,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template}),n.context.path.pop(),n.context.templatePath.pop();else{r=[],o=[];for(s in n.template)(typeof n.template[s]=="function"?o:r).push(s);for(r=r.concat(o),c=0;c<r.length;c++)s=r[c],a=s.replace(Constant.RE_KEY,"$1"),n.context.path.push(a),n.context.templatePath.push(s),e[a]=Handler.gen(n.template[s],s,{path:n.context.path,templatePath:n.context.templatePath,currentContext:e,templateCurrentContext:n.template,root:n.context.root||e,templateRoot:n.context.templateRoot||n.template}),n.context.path.pop(),n.context.templatePath.pop(),l=s.match(Constant.RE_KEY),l&&l[2]&&Util.type(n.template[s])==="number"&&(n.template[s]+=parseInt(l[2],10))}return e},number:function(n){var e,r;if(n.rule.decimal){for(n.template+="",r=n.template.split("."),r[0]=n.rule.range?n.rule.count:r[0],r[1]=(r[1]||"").slice(0,n.rule.dcount);r[1].length<n.rule.dcount;)r[1]+=r[1].length<n.rule.dcount-1?Random.character("number"):Random.character("123456789");e=parseFloat(r.join("."),10)}else e=n.rule.range&&!n.rule.parameters[2]?n.rule.count:n.template;return e},boolean:function(n){var e;return e=n.rule.parameters?Random.bool(n.rule.min,n.rule.max,n.template):n.template,e},string:function(n){var e="",r,o,s,a;if(n.template.length){for(n.rule.count==null&&(e+=n.template),r=0;r<n.rule.count;r++)e+=n.template;for(o=e.match(Constant.RE_PLACEHOLDER)||[],r=0;r<o.length;r++){if(s=o[r],/^\\/.test(s)){o.splice(r--,1);continue}if(a=Handler.placeholder(s,n.context.currentContext,n.context.templateCurrentContext,n),o.length===1&&s===e&&typeof a!=typeof e){e=a;break}e=e.replace(s,a)}}else e=n.rule.range?Random.string(n.rule.count):n.template;return e},function:function(n){return n.template.call(n.context.currentContext,n)},regexp:function(n){var e="";n.rule.count==null&&(e+=n.template.source);for(var r=0;r<n.rule.count;r++)e+=n.template.source;return RE.Handler.gen(RE.Parser.parse(e))}}),Handler.extend({_all:function(){var n={};for(var e in Random)n[e.toLowerCase()]=e;return n},placeholder:function(placeholder,obj,templateContext,options){Constant.RE_PLACEHOLDER.exec("");var parts=Constant.RE_PLACEHOLDER.exec(placeholder),key=parts&&parts[1],lkey=key&&key.toLowerCase(),okey=this._all()[lkey],params=parts&&parts[2]||"",pathParts=this.splitPathToArray(key);try{params=eval("(function(){ return [].splice.call(arguments, 0 ) })("+params+")")}catch(n){params=parts[2].split(/,\s*/)}if(obj&&key in obj)return obj[key];if(key.charAt(0)==="/"||pathParts.length>1)return this.getValueByKeyPath(key,options);if(templateContext&&typeof templateContext=="object"&&key in templateContext&&placeholder!==templateContext[key])return templateContext[key]=Handler.gen(templateContext[key],key,{currentContext:obj,templateCurrentContext:templateContext}),templateContext[key];if(!(key in Random)&&!(lkey in Random)&&!(okey in Random))return placeholder;for(var i=0;i<params.length;i++)Constant.RE_PLACEHOLDER.exec(""),Constant.RE_PLACEHOLDER.test(params[i])&&(params[i]=Handler.placeholder(params[i],obj,templateContext,options));var handle=Random[key]||Random[lkey]||Random[okey];switch(Util.type(handle)){case"array":return Random.pick(handle);case"function":handle.options=options;var re=handle.apply(Random,params);return re===void 0&&(re=""),delete handle.options,re}},getValueByKeyPath:function(n,e){var r=n,o=this.splitPathToArray(n),s=[];n.charAt(0)==="/"?s=[e.context.path[0]].concat(this.normalizePath(o)):o.length>1&&(s=e.context.path.slice(0),s.pop(),s=this.normalizePath(s.concat(o)));try{n=o[o.length-1];for(var a=e.context.root,l=e.context.templateRoot,c=1;c<s.length-1;c++)a=a[s[c]],l=l[s[c]];if(a&&n in a)return a[n];if(l&&typeof l=="object"&&n in l&&r!==l[n])return l[n]=Handler.gen(l[n],n,{currentContext:a,templateCurrentContext:l}),l[n]}catch{}return"@"+o.join("/")},normalizePath:function(n){for(var e=[],r=0;r<n.length;r++)switch(n[r]){case"..":e.pop();break;case".":break;default:e.push(n[r])}return e},splitPathToArray:function(n){var e=n.split(/\/+/);return e[e.length-1]||(e=e.slice(0,-1)),e[0]||(e=e.slice(1)),e}}),module.exports=Handler},function(n,e){n.exports={GUID:1,RE_KEY:/(.+)\|(?:\+(\d+)|([\+\-]?\d+-?[\+\-]?\d*)?(?:\.(\d+-?\d*))?)/,RE_RANGE:/([\+\-]?\d+)-?([\+\-]?\d+)?/,RE_PLACEHOLDER:/\\*@([^@#%&()\?\s]+)(?:\((.*?)\))?/g}},function(n,e){var r={};r.extend=function(){var s=arguments[0]||{},a=1,l=arguments.length,c,d,f,g,v;for(l===1&&(s=this,a=0);a<l;a++)if(c=arguments[a],!!c)for(d in c)f=s[d],g=c[d],s!==g&&g!==void 0&&(r.isArray(g)||r.isObject(g)?(r.isArray(g)&&(v=f&&r.isArray(f)?f:[]),r.isObject(g)&&(v=f&&r.isObject(f)?f:{}),s[d]=r.extend(v,g)):s[d]=g);return s},r.each=function(s,a,l){var c,d;if(this.type(s)==="number")for(c=0;c<s;c++)a(c,c);else if(s.length===+s.length)for(c=0;c<s.length&&a.call(l,s[c],c,s)!==!1;c++);else for(d in s)if(a.call(l,s[d],d,s)===!1)break},r.type=function(s){return s==null?String(s):Object.prototype.toString.call(s).match(/\[object (\w+)\]/)[1].toLowerCase()},r.each("String Object Array RegExp Function".split(" "),function(o){r["is"+o]=function(s){return r.type(s)===o.toLowerCase()}}),r.isObjectOrArray=function(o){return r.isObject(o)||r.isArray(o)},r.isNumeric=function(o){return!isNaN(parseFloat(o))&&isFinite(o)},r.keys=function(o){var s=[];for(var a in o)o.hasOwnProperty(a)&&s.push(a);return s},r.values=function(o){var s=[];for(var a in o)o.hasOwnProperty(a)&&s.push(o[a]);return s},r.heredoc=function(s){return s.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},r.noop=function(){},n.exports=r},function(n,e,r){var o=r(2),s=r(5);n.exports={parse:function(a){a=a==null?"":a+"";var l=(a||"").match(o.RE_KEY),c=l&&l[3]&&l[3].match(o.RE_RANGE),d=c&&c[1]&&parseInt(c[1],10),f=c&&c[2]&&parseInt(c[2],10),g=c?c[2]?s.integer(d,f):parseInt(c[1],10):void 0,v=l&&l[4]&&l[4].match(o.RE_RANGE),A=v&&v[1]&&parseInt(v[1],10),M=v&&v[2]&&parseInt(v[2],10),Y=v?!v[2]&&parseInt(v[1],10)||s.integer(A,M):void 0,de={parameters:l,range:c,min:d,max:f,count:g,decimal:v,dmin:A,dmax:M,dcount:Y};for(var ae in de)if(de[ae]!=null)return de;return{}}}},function(n,e,r){var o=r(3),s={extend:o.extend};s.extend(r(6)),s.extend(r(7)),s.extend(r(8)),s.extend(r(10)),s.extend(r(13)),s.extend(r(15)),s.extend(r(16)),s.extend(r(17)),s.extend(r(14)),s.extend(r(19)),n.exports=s},function(n,e){n.exports={boolean:function(r,o,s){return s!==void 0?(r=typeof r<"u"&&!isNaN(r)?parseInt(r,10):1,o=typeof o<"u"&&!isNaN(o)?parseInt(o,10):1,Math.random()>1/(r+o)*r?!s:s):Math.random()>=.5},bool:function(r,o,s){return this.boolean(r,o,s)},natural:function(r,o){return r=typeof r<"u"?parseInt(r,10):0,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-r))+r},integer:function(r,o){return r=typeof r<"u"?parseInt(r,10):-9007199254740992,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-r))+r},int:function(r,o){return this.integer(r,o)},float:function(r,o,s,a){s=s===void 0?0:s,s=Math.max(Math.min(s,17),0),a=a===void 0?17:a,a=Math.max(Math.min(a,17),0);for(var l=this.integer(r,o)+".",c=0,d=this.natural(s,a);c<d;c++)l+=c<d-1?this.character("number"):this.character("123456789");return parseFloat(l,10)},character:function(r){var o={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return o.alpha=o.lower+o.upper,o.undefined=o.lower+o.upper+o.number+o.symbol,r=o[(""+r).toLowerCase()]||r,r.charAt(this.natural(0,r.length-1))},char:function(r){return this.character(r)},string:function(r,o,s){var a;switch(arguments.length){case 0:a=this.natural(3,7);break;case 1:a=r,r=void 0;break;case 2:typeof arguments[0]=="string"?a=o:(a=this.natural(r,o),r=void 0);break;case 3:a=this.natural(o,s);break}for(var l="",c=0;c<a;c++)l+=this.character(r);return l},str:function(){return this.string.apply(this,arguments)},range:function(r,o,s){arguments.length<=1&&(o=r||0,r=0),s=arguments[2]||1,r=+r,o=+o,s=+s;for(var a=Math.max(Math.ceil((o-r)/s),0),l=0,c=new Array(a);l<a;)c[l++]=r,r+=s;return c}}},function(n,e){var r={yyyy:"getFullYear",yy:function(o){return(""+o.getFullYear()).slice(2)},y:"yy",MM:function(o){var s=o.getMonth()+1;return s<10?"0"+s:s},M:function(o){return o.getMonth()+1},dd:function(o){var s=o.getDate();return s<10?"0"+s:s},d:"getDate",HH:function(o){var s=o.getHours();return s<10?"0"+s:s},H:"getHours",hh:function(o){var s=o.getHours()%12;return s<10?"0"+s:s},h:function(o){return o.getHours()%12},mm:function(o){var s=o.getMinutes();return s<10?"0"+s:s},m:"getMinutes",ss:function(o){var s=o.getSeconds();return s<10?"0"+s:s},s:"getSeconds",SS:function(o){var s=o.getMilliseconds();return s<10&&"00"+s||s<100&&"0"+s||s},S:"getMilliseconds",A:function(o){return o.getHours()<12?"AM":"PM"},a:function(o){return o.getHours()<12?"am":"pm"},T:"getTime"};n.exports={_patternLetters:r,_rformat:new RegExp(function(){var o=[];for(var s in r)o.push(s);return"("+o.join("|")+")"}(),"g"),_formatDate:function(o,s){return s.replace(this._rformat,function a(l,c){return typeof r[c]=="function"?r[c](o):r[c]in r?a(l,r[c]):o[r[c]]()})},_randomDate:function(o,s){return o=o===void 0?new Date(0):o,s=s===void 0?new Date:s,new Date(Math.random()*(s.getTime()-o.getTime()))},date:function(o){return o=o||"yyyy-MM-dd",this._formatDate(this._randomDate(),o)},time:function(o){return o=o||"HH:mm:ss",this._formatDate(this._randomDate(),o)},datetime:function(o){return o=o||"yyyy-MM-dd HH:mm:ss",this._formatDate(this._randomDate(),o)},now:function(o,s){arguments.length===1&&(/year|month|day|hour|minute|second|week/.test(o)||(s=o,o="")),o=(o||"").toLowerCase(),s=s||"yyyy-MM-dd HH:mm:ss";var a=new Date;switch(o){case"year":a.setMonth(0);case"month":a.setDate(1);case"week":case"day":a.setHours(0);case"hour":a.setMinutes(0);case"minute":a.setSeconds(0);case"second":a.setMilliseconds(0)}switch(o){case"week":a.setDate(a.getDate()-a.getDay())}return this._formatDate(a,s)}}},function(n,e,r){(function(o){o.exports={_adSize:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],_screenSize:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],_videoSize:["720x480","768x576","1280x720","1920x1080"],image:function(s,a,l,c,d){return arguments.length===4&&(d=c,c=void 0),arguments.length===3&&(d=l,l=void 0),s||(s=this.pick(this._adSize)),a&&~a.indexOf("#")&&(a=a.slice(1)),l&&~l.indexOf("#")&&(l=l.slice(1)),"http://dummyimage.com/"+s+(a?"/"+a:"")+(l?"/"+l:"")+(c?"."+c:"")+(d?"&text="+d:"")},img:function(){return this.image.apply(this,arguments)},_brandColors:{"4ormat":"#fb0a2a","500px":"#02adea","About.me (blue)":"#00405d","About.me (yellow)":"#ffcc33",Addvocate:"#ff6138",Adobe:"#ff0000",Aim:"#fcd20b",Amazon:"#e47911",Android:"#a4c639","Angie's List":"#7fbb00",AOL:"#0060a3",Atlassian:"#003366",Behance:"#053eff","Big Cartel":"#97b538",bitly:"#ee6123",Blogger:"#fc4f08",Boeing:"#0039a6","Booking.com":"#003580",Carbonmade:"#613854",Cheddar:"#ff7243","Code School":"#3d4944",Delicious:"#205cc0",Dell:"#3287c1",Designmoo:"#e54a4f",Deviantart:"#4e6252","Designer News":"#2d72da",Devour:"#fd0001",DEWALT:"#febd17","Disqus (blue)":"#59a3fc","Disqus (orange)":"#db7132",Dribbble:"#ea4c89",Dropbox:"#3d9ae8",Drupal:"#0c76ab",Dunked:"#2a323a",eBay:"#89c507",Ember:"#f05e1b",Engadget:"#00bdf6",Envato:"#528036",Etsy:"#eb6d20",Evernote:"#5ba525","Fab.com":"#dd0017",Facebook:"#3b5998",Firefox:"#e66000","Flickr (blue)":"#0063dc","Flickr (pink)":"#ff0084",Forrst:"#5b9a68",Foursquare:"#25a0ca",Garmin:"#007cc3",GetGlue:"#2d75a2",Gimmebar:"#f70078",GitHub:"#171515","Google Blue":"#0140ca","Google Green":"#16a61e","Google Red":"#dd1812","Google Yellow":"#fcca03","Google+":"#dd4b39",Grooveshark:"#f77f00",Groupon:"#82b548","Hacker News":"#ff6600",HelloWallet:"#0085ca","Heroku (light)":"#c7c5e6","Heroku (dark)":"#6567a5",HootSuite:"#003366",Houzz:"#73ba37",HTML5:"#ec6231",IKEA:"#ffcc33",IMDb:"#f3ce13",Instagram:"#3f729b",Intel:"#0071c5",Intuit:"#365ebf",Kickstarter:"#76cc1e",kippt:"#e03500",Kodery:"#00af81",LastFM:"#c3000d",LinkedIn:"#0e76a8",Livestream:"#cf0005",Lumo:"#576396",Mixpanel:"#a086d3",Meetup:"#e51937",Nokia:"#183693",NVIDIA:"#76b900",Opera:"#cc0f16",Path:"#e41f11","PayPal (dark)":"#1e477a","PayPal (light)":"#3b7bbf",Pinboard:"#0000e6",Pinterest:"#c8232c",PlayStation:"#665cbe",Pocket:"#ee4056",Prezi:"#318bff",Pusha:"#0f71b4",Quora:"#a82400","QUOTE.fm":"#66ceff",Rdio:"#008fd5",Readability:"#9c0000","Red Hat":"#cc0000",Resource:"#7eb400",Rockpack:"#0ba6ab",Roon:"#62b0d9",RSS:"#ee802f",Salesforce:"#1798c1",Samsung:"#0c4da2",Shopify:"#96bf48",Skype:"#00aff0",Snagajob:"#f47a20",Softonic:"#008ace",SoundCloud:"#ff7700","Space Box":"#f86960",Spotify:"#81b71a",Sprint:"#fee100",Squarespace:"#121212",StackOverflow:"#ef8236",Staples:"#cc0000","Status Chart":"#d7584f",Stripe:"#008cdd",StudyBlue:"#00afe1",StumbleUpon:"#f74425","T-Mobile":"#ea0a8e",Technorati:"#40a800","The Next Web":"#ef4423",Treehouse:"#5cb868",Trulia:"#5eab1f",Tumblr:"#34526f","Twitch.tv":"#6441a5",Twitter:"#00acee",TYPO3:"#ff8700",Ubuntu:"#dd4814",Ustream:"#3388ff",Verizon:"#ef1d1d",Vimeo:"#86c9ef",Vine:"#00a478",Virb:"#06afd8","Virgin Media":"#cc0000",Wooga:"#5b009c","WordPress (blue)":"#21759b","WordPress (orange)":"#d54e21","WordPress (grey)":"#464646",Wunderlist:"#2b88d9",XBOX:"#9bc848",XING:"#126567","Yahoo!":"#720e9e",Yandex:"#ffcc00",Yelp:"#c41200",YouTube:"#c4302b",Zalongo:"#5498dc",Zendesk:"#78a300",Zerply:"#9dcc7a",Zootool:"#5e8b1d"},_brandNames:function(){var s=[];for(var a in this._brandColors)s.push(a);return s},dataImage:function(s,a){var l;if(typeof document<"u")l=document.createElement("canvas");else{var c=o.require("canvas");l=new c}var d=l&&l.getContext&&l.getContext("2d");if(!l||!d)return"";s||(s=this.pick(this._adSize)),a=a!==void 0?a:s,s=s.split("x");var f=parseInt(s[0],10),g=parseInt(s[1],10),v=this._brandColors[this.pick(this._brandNames())],A="#FFF",M=14,Y="sans-serif";return l.width=f,l.height=g,d.textAlign="center",d.textBaseline="middle",d.fillStyle=v,d.fillRect(0,0,f,g),d.fillStyle=A,d.font="bold "+M+"px "+Y,d.fillText(a,f/2,g/2,f),l.toDataURL("image/png")}}}).call(e,r(9)(n))},function(n,e){n.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(n,e,r){var o=r(11),s=r(12);n.exports={color:function(a){return a||s[a]?s[a].nicer:this.hex()},hex:function(){var a=this._goldenRatioColor(),l=o.hsv2rgb(a),c=o.rgb2hex(l[0],l[1],l[2]);return c},rgb:function(){var a=this._goldenRatioColor(),l=o.hsv2rgb(a);return"rgb("+parseInt(l[0],10)+", "+parseInt(l[1],10)+", "+parseInt(l[2],10)+")"},rgba:function(){var a=this._goldenRatioColor(),l=o.hsv2rgb(a);return"rgba("+parseInt(l[0],10)+", "+parseInt(l[1],10)+", "+parseInt(l[2],10)+", "+Math.random().toFixed(2)+")"},hsl:function(){var a=this._goldenRatioColor(),l=o.hsv2hsl(a);return"hsl("+parseInt(l[0],10)+", "+parseInt(l[1],10)+", "+parseInt(l[2],10)+")"},_goldenRatioColor:function(a,l){return this._goldenRatio=.618033988749895,this._hue=this._hue||Math.random(),this._hue+=this._goldenRatio,this._hue%=1,typeof a!="number"&&(a=.5),typeof l!="number"&&(l=.95),[this._hue*360,a*100,l*100]}}},function(n,e){n.exports={rgb2hsl:function(o){var s=o[0]/255,a=o[1]/255,l=o[2]/255,c=Math.min(s,a,l),d=Math.max(s,a,l),f=d-c,g,v,A;return d==c?g=0:s==d?g=(a-l)/f:a==d?g=2+(l-s)/f:l==d&&(g=4+(s-a)/f),g=Math.min(g*60,360),g<0&&(g+=360),A=(c+d)/2,d==c?v=0:A<=.5?v=f/(d+c):v=f/(2-d-c),[g,v*100,A*100]},rgb2hsv:function(o){var s=o[0],a=o[1],l=o[2],c=Math.min(s,a,l),d=Math.max(s,a,l),f=d-c,g,v,A;return d===0?v=0:v=f/d*1e3/10,d==c?g=0:s==d?g=(a-l)/f:a==d?g=2+(l-s)/f:l==d&&(g=4+(s-a)/f),g=Math.min(g*60,360),g<0&&(g+=360),A=d/255*1e3/10,[g,v,A]},hsl2rgb:function(o){var s=o[0]/360,a=o[1]/100,l=o[2]/100,c,d,f,g,v;if(a===0)return v=l*255,[v,v,v];l<.5?d=l*(1+a):d=l+a-l*a,c=2*l-d,g=[0,0,0];for(var A=0;A<3;A++)f=s+1/3*-(A-1),f<0&&f++,f>1&&f--,6*f<1?v=c+(d-c)*6*f:2*f<1?v=d:3*f<2?v=c+(d-c)*(2/3-f)*6:v=c,g[A]=v*255;return g},hsl2hsv:function(o){var s=o[0],a=o[1]/100,l=o[2]/100,c,d;return l*=2,a*=l<=1?l:2-l,d=(l+a)/2,c=2*a/(l+a),[s,c*100,d*100]},hsv2rgb:function(o){var s=o[0]/60,a=o[1]/100,l=o[2]/100,c=Math.floor(s)%6,d=s-Math.floor(s),f=255*l*(1-a),g=255*l*(1-a*d),v=255*l*(1-a*(1-d));switch(l=255*l,c){case 0:return[l,v,f];case 1:return[g,l,f];case 2:return[f,l,v];case 3:return[f,g,l];case 4:return[v,f,l];case 5:return[l,f,g]}},hsv2hsl:function(o){var s=o[0],a=o[1]/100,l=o[2]/100,c,d;return d=(2-a)*l,c=a*l,c/=d<=1?d:2-d,d/=2,[s,c*100,d*100]},rgb2hex:function(r,o,s){return"#"+((256+r<<8|o)<<8|s).toString(16).slice(1)},hex2rgb:function(r){return r="0x"+r.slice(1).replace(r.length>4?r:/./g,"$&$&")|0,[r>>16,r>>8&255,r&255]}}},function(n,e){n.exports={navy:{value:"#000080",nicer:"#001F3F"},blue:{value:"#0000ff",nicer:"#0074D9"},aqua:{value:"#00ffff",nicer:"#7FDBFF"},teal:{value:"#008080",nicer:"#39CCCC"},olive:{value:"#008000",nicer:"#3D9970"},green:{value:"#008000",nicer:"#2ECC40"},lime:{value:"#00ff00",nicer:"#01FF70"},yellow:{value:"#ffff00",nicer:"#FFDC00"},orange:{value:"#ffa500",nicer:"#FF851B"},red:{value:"#ff0000",nicer:"#FF4136"},maroon:{value:"#800000",nicer:"#85144B"},fuchsia:{value:"#ff00ff",nicer:"#F012BE"},purple:{value:"#800080",nicer:"#B10DC9"},silver:{value:"#c0c0c0",nicer:"#DDDDDD"},gray:{value:"#808080",nicer:"#AAAAAA"},black:{value:"#000000",nicer:"#111111"},white:{value:"#FFFFFF",nicer:"#FFFFFF"}}},function(n,e,r){var o=r(6),s=r(14);function a(l,c,d,f){return d===void 0?o.natural(l,c):f===void 0?d:o.natural(parseInt(d,10),parseInt(f,10))}n.exports={paragraph:function(l,c){for(var d=a(3,7,l,c),f=[],g=0;g<d;g++)f.push(this.sentence());return f.join(" ")},cparagraph:function(l,c){for(var d=a(3,7,l,c),f=[],g=0;g<d;g++)f.push(this.csentence());return f.join("")},sentence:function(l,c){for(var d=a(12,18,l,c),f=[],g=0;g<d;g++)f.push(this.word());return s.capitalize(f.join(" "))+"."},csentence:function(l,c){for(var d=a(12,18,l,c),f=[],g=0;g<d;g++)f.push(this.cword());return f.join("")+"。"},word:function(l,c){for(var d=a(3,10,l,c),f="",g=0;g<d;g++)f+=o.character("lower");return f},cword:function(l,c,d){var f="的一是在不了有和人这中大为上个国我以要他时来用们生到作地于出就分对成会可主发年动同工也能下过子说产种面而方后多定行学法所民得经十三之进着等部度家电力里如水化高自二理起小物现实加量都两体制机当使点从业本去把性好应开它合还因由其些然前外天政四日那社义事平形相全表间样与关各重新线内数正心反你明看原又么利比或但质气第向道命此变条只没结解问意建月公无系军很情者最立代想已通并提直题党程展五果料象员革位入常文总次品式活设及管特件长求老头基资边流路级少图山统接知较将组见计别她手角期根论运农指几九区强放决西被干做必战先回则任取据处队南给色光门即保治北造百规热领七海口东导器压志世金增争济阶油思术极交受联什认六共权收证改清己美再采转更单风切打白教速花带安场身车例真务具万每目至达走积示议声报斗完类八离华名确才科张信马节话米整空元况今集温传土许步群广石记需段研界拉林律叫且究观越织装影算低持音众书布复容儿须际商非验连断深难近矿千周委素技备半办青省列习响约支般史感劳便团往酸历市克何除消构府称太准精值号率族维划选标写存候毛亲快效斯院查江型眼王按格养易置派层片始却专状育厂京识适属圆包火住调满县局照参红细引听该铁价严龙飞",g;switch(arguments.length){case 0:l=f,g=1;break;case 1:typeof arguments[0]=="string"?g=1:(g=l,l=f);break;case 2:typeof arguments[0]=="string"?g=c:(g=this.natural(l,c),l=f);break;case 3:g=this.natural(c,d);break}for(var v="",A=0;A<g;A++)v+=l.charAt(this.natural(0,l.length-1));return v},title:function(l,c){for(var d=a(3,7,l,c),f=[],g=0;g<d;g++)f.push(this.capitalize(this.word()));return f.join(" ")},ctitle:function(l,c){for(var d=a(3,7,l,c),f=[],g=0;g<d;g++)f.push(this.cword());return f.join("")}}},function(n,e,r){var o=r(3);n.exports={capitalize:function(s){return(s+"").charAt(0).toUpperCase()+(s+"").substr(1)},upper:function(s){return(s+"").toUpperCase()},lower:function(s){return(s+"").toLowerCase()},pick:function(a,l,c){return o.isArray(a)?(l===void 0&&(l=1),c===void 0&&(c=l)):(a=[].slice.call(arguments),l=1,c=1),l===1&&c===1?a[this.natural(0,a.length-1)]:this.shuffle(a,l,c)},shuffle:function(a,l,c){a=a||[];for(var d=a.slice(0),f=[],g=0,v=d.length,A=0;A<v;A++)g=this.natural(0,d.length-1),f.push(d[g]),d.splice(g,1);switch(arguments.length){case 0:case 1:return f;case 2:c=l;case 3:return l=parseInt(l,10),c=parseInt(c,10),f.slice(0,this.natural(l,c))}},order:function s(a){s.cache=s.cache||{},arguments.length>1&&(a=[].slice.call(arguments,0));var l=s.options,c=l.context.templatePath.join("."),d=s.cache[c]=s.cache[c]||{index:0,array:a};return d.array[d.index++%d.array.length]}}},function(n,e){n.exports={first:function(){var r=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(r)},last:function(){var r=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(r)},name:function(r){return this.first()+" "+(r?this.first()+" ":"")+this.last()},cfirst:function(){var r="王 李 张 刘 陈 杨 赵 黄 周 吴 徐 孙 胡 朱 高 林 何 郭 马 罗 梁 宋 郑 谢 韩 唐 冯 于 董 萧 程 曹 袁 邓 许 傅 沈 曾 彭 吕 苏 卢 蒋 蔡 贾 丁 魏 薛 叶 阎 余 潘 杜 戴 夏 锺 汪 田 任 姜 范 方 石 姚 谭 廖 邹 熊 金 陆 郝 孔 白 崔 康 毛 邱 秦 江 史 顾 侯 邵 孟 龙 万 段 雷 钱 汤 尹 黎 易 常 武 乔 贺 赖 龚 文".split(" ");return this.pick(r)},clast:function(){var r="伟 芳 娜 秀英 敏 静 丽 强 磊 军 洋 勇 艳 杰 娟 涛 明 超 秀兰 霞 平 刚 桂英".split(" ");return this.pick(r)},cname:function(){return this.cfirst()+this.clast()}}},function(n,e){n.exports={url:function(r,o){return(r||this.protocol())+"://"+(o||this.domain())+"/"+this.word()},protocol:function(){return this.pick("http ftp gopher mailto mid cid news nntp prospero telnet rlogin tn3270 wais".split(" "))},domain:function(r){return this.word()+"."+(r||this.tld())},tld:function(){return this.pick("com net org edu gov int mil cn com.cn net.cn gov.cn org.cn 中国 中国互联.公司 中国互联.网络 tel biz cc tv info name hk mobi asia cd travel pro museum coop aero ad ae af ag ai al am an ao aq ar as at au aw az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cf cg ch ci ck cl cm cn co cq cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh es et ev fi fj fk fm fo fr ga gb gd ge gf gh gi gl gm gn gp gr gt gu gw gy hk hm hn hr ht hu id ie il in io iq ir is it jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md mg mh ml mm mn mo mp mq mr ms mt mv mw mx my mz na nc ne nf ng ni nl no np nr nt nu nz om qa pa pe pf pg ph pk pl pm pn pr pt pw py re ro ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr st su sy sz tc td tf tg th tj tk tm tn to tp tr tt tv tw tz ua ug uk us uy va vc ve vg vn vu wf ws ye yu za zm zr zw".split(" "))},email:function(r){return this.character("lower")+"."+this.word()+"@"+(r||this.word()+"."+this.tld())},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)}}},function(n,e,r){var o=r(18),s=["东北","华北","华东","华中","华南","西南","西北"];n.exports={region:function(){return this.pick(s)},province:function(){return this.pick(o).name},city:function(a){var l=this.pick(o),c=this.pick(l.children);return a?[l.name,c.name].join(" "):c.name},county:function(a){var l=this.pick(o),c=this.pick(l.children),d=this.pick(c.children)||{name:"-"};return a?[l.name,c.name,d.name].join(" "):d.name},zip:function(a){for(var l="",c=0;c<(a||6);c++)l+=this.natural(0,9);return l}}},function(n,e){var r={11e4:"北京",110100:"北京市",110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110228:"密云县",110229:"延庆县",110230:"其它区",12e4:"天津",120100:"天津市",120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120221:"宁河县",120223:"静海县",120225:"蓟县",120226:"其它区",13e4:"河北省",130100:"石家庄市",130102:"长安区",130103:"桥东区",130104:"桥西区",130105:"新华区",130107:"井陉矿区",130108:"裕华区",130121:"井陉县",130123:"正定县",130124:"栾城县",130125:"行唐县",130126:"灵寿县",130127:"高邑县",130128:"深泽县",130129:"赞皇县",130130:"无极县",130131:"平山县",130132:"元氏县",130133:"赵县",130181:"辛集市",130182:"藁城市",130183:"晋州市",130184:"新乐市",130185:"鹿泉市",130186:"其它区",130200:"唐山市",130202:"路南区",130203:"路北区",130204:"古冶区",130205:"开平区",130207:"丰南区",130208:"丰润区",130223:"滦县",130224:"滦南县",130225:"乐亭县",130227:"迁西县",130229:"玉田县",130230:"曹妃甸区",130281:"遵化市",130283:"迁安市",130284:"其它区",130300:"秦皇岛市",130302:"海港区",130303:"山海关区",130304:"北戴河区",130321:"青龙满族自治县",130322:"昌黎县",130323:"抚宁县",130324:"卢龙县",130398:"其它区",130400:"邯郸市",130402:"邯山区",130403:"丛台区",130404:"复兴区",130406:"峰峰矿区",130421:"邯郸县",130423:"临漳县",130424:"成安县",130425:"大名县",130426:"涉县",130427:"磁县",130428:"肥乡县",130429:"永年县",130430:"邱县",130431:"鸡泽县",130432:"广平县",130433:"馆陶县",130434:"魏县",130435:"曲周县",130481:"武安市",130482:"其它区",130500:"邢台市",130502:"桥东区",130503:"桥西区",130521:"邢台县",130522:"临城县",130523:"内丘县",130524:"柏乡县",130525:"隆尧县",130526:"任县",130527:"南和县",130528:"宁晋县",130529:"巨鹿县",130530:"新河县",130531:"广宗县",130532:"平乡县",130533:"威县",130534:"清河县",130535:"临西县",130581:"南宫市",130582:"沙河市",130583:"其它区",130600:"保定市",130602:"新市区",130603:"北市区",130604:"南市区",130621:"满城县",130622:"清苑县",130623:"涞水县",130624:"阜平县",130625:"徐水县",130626:"定兴县",130627:"唐县",130628:"高阳县",130629:"容城县",130630:"涞源县",130631:"望都县",130632:"安新县",130633:"易县",130634:"曲阳县",130635:"蠡县",130636:"顺平县",130637:"博野县",130638:"雄县",130681:"涿州市",130682:"定州市",130683:"安国市",130684:"高碑店市",130699:"其它区",130700:"张家口市",130702:"桥东区",130703:"桥西区",130705:"宣化区",130706:"下花园区",130721:"宣化县",130722:"张北县",130723:"康保县",130724:"沽源县",130725:"尚义县",130726:"蔚县",130727:"阳原县",130728:"怀安县",130729:"万全县",130730:"怀来县",130731:"涿鹿县",130732:"赤城县",130733:"崇礼县",130734:"其它区",130800:"承德市",130802:"双桥区",130803:"双滦区",130804:"鹰手营子矿区",130821:"承德县",130822:"兴隆县",130823:"平泉县",130824:"滦平县",130825:"隆化县",130826:"丰宁满族自治县",130827:"宽城满族自治县",130828:"围场满族蒙古族自治县",130829:"其它区",130900:"沧州市",130902:"新华区",130903:"运河区",130921:"沧县",130922:"青县",130923:"东光县",130924:"海兴县",130925:"盐山县",130926:"肃宁县",130927:"南皮县",130928:"吴桥县",130929:"献县",130930:"孟村回族自治县",130981:"泊头市",130982:"任丘市",130983:"黄骅市",130984:"河间市",130985:"其它区",131e3:"廊坊市",131002:"安次区",131003:"广阳区",131022:"固安县",131023:"永清县",131024:"香河县",131025:"大城县",131026:"文安县",131028:"大厂回族自治县",131081:"霸州市",131082:"三河市",131083:"其它区",131100:"衡水市",131102:"桃城区",131121:"枣强县",131122:"武邑县",131123:"武强县",131124:"饶阳县",131125:"安平县",131126:"故城县",131127:"景县",131128:"阜城县",131181:"冀州市",131182:"深州市",131183:"其它区",14e4:"山西省",140100:"太原市",140105:"小店区",140106:"迎泽区",140107:"杏花岭区",140108:"尖草坪区",140109:"万柏林区",140110:"晋源区",140121:"清徐县",140122:"阳曲县",140123:"娄烦县",140181:"古交市",140182:"其它区",140200:"大同市",140202:"城区",140203:"矿区",140211:"南郊区",140212:"新荣区",140221:"阳高县",140222:"天镇县",140223:"广灵县",140224:"灵丘县",140225:"浑源县",140226:"左云县",140227:"大同县",140228:"其它区",140300:"阳泉市",140302:"城区",140303:"矿区",140311:"郊区",140321:"平定县",140322:"盂县",140323:"其它区",140400:"长治市",140421:"长治县",140423:"襄垣县",140424:"屯留县",140425:"平顺县",140426:"黎城县",140427:"壶关县",140428:"长子县",140429:"武乡县",140430:"沁县",140431:"沁源县",140481:"潞城市",140482:"城区",140483:"郊区",140485:"其它区",140500:"晋城市",140502:"城区",140521:"沁水县",140522:"阳城县",140524:"陵川县",140525:"泽州县",140581:"高平市",140582:"其它区",140600:"朔州市",140602:"朔城区",140603:"平鲁区",140621:"山阴县",140622:"应县",140623:"右玉县",140624:"怀仁县",140625:"其它区",140700:"晋中市",140702:"榆次区",140721:"榆社县",140722:"左权县",140723:"和顺县",140724:"昔阳县",140725:"寿阳县",140726:"太谷县",140727:"祁县",140728:"平遥县",140729:"灵石县",140781:"介休市",140782:"其它区",140800:"运城市",140802:"盐湖区",140821:"临猗县",140822:"万荣县",140823:"闻喜县",140824:"稷山县",140825:"新绛县",140826:"绛县",140827:"垣曲县",140828:"夏县",140829:"平陆县",140830:"芮城县",140881:"永济市",140882:"河津市",140883:"其它区",140900:"忻州市",140902:"忻府区",140921:"定襄县",140922:"五台县",140923:"代县",140924:"繁峙县",140925:"宁武县",140926:"静乐县",140927:"神池县",140928:"五寨县",140929:"岢岚县",140930:"河曲县",140931:"保德县",140932:"偏关县",140981:"原平市",140982:"其它区",141e3:"临汾市",141002:"尧都区",141021:"曲沃县",141022:"翼城县",141023:"襄汾县",141024:"洪洞县",141025:"古县",141026:"安泽县",141027:"浮山县",141028:"吉县",141029:"乡宁县",141030:"大宁县",141031:"隰县",141032:"永和县",141033:"蒲县",141034:"汾西县",141081:"侯马市",141082:"霍州市",141083:"其它区",141100:"吕梁市",141102:"离石区",141121:"文水县",141122:"交城县",141123:"兴县",141124:"临县",141125:"柳林县",141126:"石楼县",141127:"岚县",141128:"方山县",141129:"中阳县",141130:"交口县",141181:"孝义市",141182:"汾阳市",141183:"其它区",15e4:"内蒙古自治区",150100:"呼和浩特市",150102:"新城区",150103:"回民区",150104:"玉泉区",150105:"赛罕区",150121:"土默特左旗",150122:"托克托县",150123:"和林格尔县",150124:"清水河县",150125:"武川县",150126:"其它区",150200:"包头市",150202:"东河区",150203:"昆都仑区",150204:"青山区",150205:"石拐区",150206:"白云鄂博矿区",150207:"九原区",150221:"土默特右旗",150222:"固阳县",150223:"达尔罕茂明安联合旗",150224:"其它区",150300:"乌海市",150302:"海勃湾区",150303:"海南区",150304:"乌达区",150305:"其它区",150400:"赤峰市",150402:"红山区",150403:"元宝山区",150404:"松山区",150421:"阿鲁科尔沁旗",150422:"巴林左旗",150423:"巴林右旗",150424:"林西县",150425:"克什克腾旗",150426:"翁牛特旗",150428:"喀喇沁旗",150429:"宁城县",150430:"敖汉旗",150431:"其它区",150500:"通辽市",150502:"科尔沁区",150521:"科尔沁左翼中旗",150522:"科尔沁左翼后旗",150523:"开鲁县",150524:"库伦旗",150525:"奈曼旗",150526:"扎鲁特旗",150581:"霍林郭勒市",150582:"其它区",150600:"鄂尔多斯市",150602:"东胜区",150621:"达拉特旗",150622:"准格尔旗",150623:"鄂托克前旗",150624:"鄂托克旗",150625:"杭锦旗",150626:"乌审旗",150627:"伊金霍洛旗",150628:"其它区",150700:"呼伦贝尔市",150702:"海拉尔区",150703:"扎赉诺尔区",150721:"阿荣旗",150722:"莫力达瓦达斡尔族自治旗",150723:"鄂伦春自治旗",150724:"鄂温克族自治旗",150725:"陈巴尔虎旗",150726:"新巴尔虎左旗",150727:"新巴尔虎右旗",150781:"满洲里市",150782:"牙克石市",150783:"扎兰屯市",150784:"额尔古纳市",150785:"根河市",150786:"其它区",150800:"巴彦淖尔市",150802:"临河区",150821:"五原县",150822:"磴口县",150823:"乌拉特前旗",150824:"乌拉特中旗",150825:"乌拉特后旗",150826:"杭锦后旗",150827:"其它区",150900:"乌兰察布市",150902:"集宁区",150921:"卓资县",150922:"化德县",150923:"商都县",150924:"兴和县",150925:"凉城县",150926:"察哈尔右翼前旗",150927:"察哈尔右翼中旗",150928:"察哈尔右翼后旗",150929:"四子王旗",150981:"丰镇市",150982:"其它区",152200:"兴安盟",152201:"乌兰浩特市",152202:"阿尔山市",152221:"科尔沁右翼前旗",152222:"科尔沁右翼中旗",152223:"扎赉特旗",152224:"突泉县",152225:"其它区",152500:"锡林郭勒盟",152501:"二连浩特市",152502:"锡林浩特市",152522:"阿巴嘎旗",152523:"苏尼特左旗",152524:"苏尼特右旗",152525:"东乌珠穆沁旗",152526:"西乌珠穆沁旗",152527:"太仆寺旗",152528:"镶黄旗",152529:"正镶白旗",152530:"正蓝旗",152531:"多伦县",152532:"其它区",152900:"阿拉善盟",152921:"阿拉善左旗",152922:"阿拉善右旗",152923:"额济纳旗",152924:"其它区",21e4:"辽宁省",210100:"沈阳市",210102:"和平区",210103:"沈河区",210104:"大东区",210105:"皇姑区",210106:"铁西区",210111:"苏家屯区",210112:"东陵区",210113:"新城子区",210114:"于洪区",210122:"辽中县",210123:"康平县",210124:"法库县",210181:"新民市",210184:"沈北新区",210185:"其它区",210200:"大连市",210202:"中山区",210203:"西岗区",210204:"沙河口区",210211:"甘井子区",210212:"旅顺口区",210213:"金州区",210224:"长海县",210281:"瓦房店市",210282:"普兰店市",210283:"庄河市",210298:"其它区",210300:"鞍山市",210302:"铁东区",210303:"铁西区",210304:"立山区",210311:"千山区",210321:"台安县",210323:"岫岩满族自治县",210381:"海城市",210382:"其它区",210400:"抚顺市",210402:"新抚区",210403:"东洲区",210404:"望花区",210411:"顺城区",210421:"抚顺县",210422:"新宾满族自治县",210423:"清原满族自治县",210424:"其它区",210500:"本溪市",210502:"平山区",210503:"溪湖区",210504:"明山区",210505:"南芬区",210521:"本溪满族自治县",210522:"桓仁满族自治县",210523:"其它区",210600:"丹东市",210602:"元宝区",210603:"振兴区",210604:"振安区",210624:"宽甸满族自治县",210681:"东港市",210682:"凤城市",210683:"其它区",210700:"锦州市",210702:"古塔区",210703:"凌河区",210711:"太和区",210726:"黑山县",210727:"义县",210781:"凌海市",210782:"北镇市",210783:"其它区",210800:"营口市",210802:"站前区",210803:"西市区",210804:"鲅鱼圈区",210811:"老边区",210881:"盖州市",210882:"大石桥市",210883:"其它区",210900:"阜新市",210902:"海州区",210903:"新邱区",210904:"太平区",210905:"清河门区",210911:"细河区",210921:"阜新蒙古族自治县",210922:"彰武县",210923:"其它区",211e3:"辽阳市",211002:"白塔区",211003:"文圣区",211004:"宏伟区",211005:"弓长岭区",211011:"太子河区",211021:"辽阳县",211081:"灯塔市",211082:"其它区",211100:"盘锦市",211102:"双台子区",211103:"兴隆台区",211121:"大洼县",211122:"盘山县",211123:"其它区",211200:"铁岭市",211202:"银州区",211204:"清河区",211221:"铁岭县",211223:"西丰县",211224:"昌图县",211281:"调兵山市",211282:"开原市",211283:"其它区",211300:"朝阳市",211302:"双塔区",211303:"龙城区",211321:"朝阳县",211322:"建平县",211324:"喀喇沁左翼蒙古族自治县",211381:"北票市",211382:"凌源市",211383:"其它区",211400:"葫芦岛市",211402:"连山区",211403:"龙港区",211404:"南票区",211421:"绥中县",211422:"建昌县",211481:"兴城市",211482:"其它区",22e4:"吉林省",220100:"长春市",220102:"南关区",220103:"宽城区",220104:"朝阳区",220105:"二道区",220106:"绿园区",220112:"双阳区",220122:"农安县",220181:"九台市",220182:"榆树市",220183:"德惠市",220188:"其它区",220200:"吉林市",220202:"昌邑区",220203:"龙潭区",220204:"船营区",220211:"丰满区",220221:"永吉县",220281:"蛟河市",220282:"桦甸市",220283:"舒兰市",220284:"磐石市",220285:"其它区",220300:"四平市",220302:"铁西区",220303:"铁东区",220322:"梨树县",220323:"伊通满族自治县",220381:"公主岭市",220382:"双辽市",220383:"其它区",220400:"辽源市",220402:"龙山区",220403:"西安区",220421:"东丰县",220422:"东辽县",220423:"其它区",220500:"通化市",220502:"东昌区",220503:"二道江区",220521:"通化县",220523:"辉南县",220524:"柳河县",220581:"梅河口市",220582:"集安市",220583:"其它区",220600:"白山市",220602:"浑江区",220621:"抚松县",220622:"靖宇县",220623:"长白朝鲜族自治县",220625:"江源区",220681:"临江市",220682:"其它区",220700:"松原市",220702:"宁江区",220721:"前郭尔罗斯蒙古族自治县",220722:"长岭县",220723:"乾安县",220724:"扶余市",220725:"其它区",220800:"白城市",220802:"洮北区",220821:"镇赉县",220822:"通榆县",220881:"洮南市",220882:"大安市",220883:"其它区",222400:"延边朝鲜族自治州",222401:"延吉市",222402:"图们市",222403:"敦化市",222404:"珲春市",222405:"龙井市",222406:"和龙市",222424:"汪清县",222426:"安图县",222427:"其它区",23e4:"黑龙江省",230100:"哈尔滨市",230102:"道里区",230103:"南岗区",230104:"道外区",230106:"香坊区",230108:"平房区",230109:"松北区",230111:"呼兰区",230123:"依兰县",230124:"方正县",230125:"宾县",230126:"巴彦县",230127:"木兰县",230128:"通河县",230129:"延寿县",230181:"阿城区",230182:"双城市",230183:"尚志市",230184:"五常市",230186:"其它区",230200:"齐齐哈尔市",230202:"龙沙区",230203:"建华区",230204:"铁锋区",230205:"昂昂溪区",230206:"富拉尔基区",230207:"碾子山区",230208:"梅里斯达斡尔族区",230221:"龙江县",230223:"依安县",230224:"泰来县",230225:"甘南县",230227:"富裕县",230229:"克山县",230230:"克东县",230231:"拜泉县",230281:"讷河市",230282:"其它区",230300:"鸡西市",230302:"鸡冠区",230303:"恒山区",230304:"滴道区",230305:"梨树区",230306:"城子河区",230307:"麻山区",230321:"鸡东县",230381:"虎林市",230382:"密山市",230383:"其它区",230400:"鹤岗市",230402:"向阳区",230403:"工农区",230404:"南山区",230405:"兴安区",230406:"东山区",230407:"兴山区",230421:"萝北县",230422:"绥滨县",230423:"其它区",230500:"双鸭山市",230502:"尖山区",230503:"岭东区",230505:"四方台区",230506:"宝山区",230521:"集贤县",230522:"友谊县",230523:"宝清县",230524:"饶河县",230525:"其它区",230600:"大庆市",230602:"萨尔图区",230603:"龙凤区",230604:"让胡路区",230605:"红岗区",230606:"大同区",230621:"肇州县",230622:"肇源县",230623:"林甸县",230624:"杜尔伯特蒙古族自治县",230625:"其它区",230700:"伊春市",230702:"伊春区",230703:"南岔区",230704:"友好区",230705:"西林区",230706:"翠峦区",230707:"新青区",230708:"美溪区",230709:"金山屯区",230710:"五营区",230711:"乌马河区",230712:"汤旺河区",230713:"带岭区",230714:"乌伊岭区",230715:"红星区",230716:"上甘岭区",230722:"嘉荫县",230781:"铁力市",230782:"其它区",230800:"佳木斯市",230803:"向阳区",230804:"前进区",230805:"东风区",230811:"郊区",230822:"桦南县",230826:"桦川县",230828:"汤原县",230833:"抚远县",230881:"同江市",230882:"富锦市",230883:"其它区",230900:"七台河市",230902:"新兴区",230903:"桃山区",230904:"茄子河区",230921:"勃利县",230922:"其它区",231e3:"牡丹江市",231002:"东安区",231003:"阳明区",231004:"爱民区",231005:"西安区",231024:"东宁县",231025:"林口县",231081:"绥芬河市",231083:"海林市",231084:"宁安市",231085:"穆棱市",231086:"其它区",231100:"黑河市",231102:"爱辉区",231121:"嫩江县",231123:"逊克县",231124:"孙吴县",231181:"北安市",231182:"五大连池市",231183:"其它区",231200:"绥化市",231202:"北林区",231221:"望奎县",231222:"兰西县",231223:"青冈县",231224:"庆安县",231225:"明水县",231226:"绥棱县",231281:"安达市",231282:"肇东市",231283:"海伦市",231284:"其它区",232700:"大兴安岭地区",232702:"松岭区",232703:"新林区",232704:"呼中区",232721:"呼玛县",232722:"塔河县",232723:"漠河县",232724:"加格达奇区",232725:"其它区",31e4:"上海",310100:"上海市",310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310108:"闸北区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310230:"崇明县",310231:"其它区",32e4:"江苏省",320100:"南京市",320102:"玄武区",320104:"秦淮区",320105:"建邺区",320106:"鼓楼区",320111:"浦口区",320113:"栖霞区",320114:"雨花台区",320115:"江宁区",320116:"六合区",320124:"溧水区",320125:"高淳区",320126:"其它区",320200:"无锡市",320202:"崇安区",320203:"南长区",320204:"北塘区",320205:"锡山区",320206:"惠山区",320211:"滨湖区",320281:"江阴市",320282:"宜兴市",320297:"其它区",320300:"徐州市",320302:"鼓楼区",320303:"云龙区",320305:"贾汪区",320311:"泉山区",320321:"丰县",320322:"沛县",320323:"铜山区",320324:"睢宁县",320381:"新沂市",320382:"邳州市",320383:"其它区",320400:"常州市",320402:"天宁区",320404:"钟楼区",320405:"戚墅堰区",320411:"新北区",320412:"武进区",320481:"溧阳市",320482:"金坛市",320483:"其它区",320500:"苏州市",320505:"虎丘区",320506:"吴中区",320507:"相城区",320508:"姑苏区",320581:"常熟市",320582:"张家港市",320583:"昆山市",320584:"吴江区",320585:"太仓市",320596:"其它区",320600:"南通市",320602:"崇川区",320611:"港闸区",320612:"通州区",320621:"海安县",320623:"如东县",320681:"启东市",320682:"如皋市",320684:"海门市",320694:"其它区",320700:"连云港市",320703:"连云区",320705:"新浦区",320706:"海州区",320721:"赣榆县",320722:"东海县",320723:"灌云县",320724:"灌南县",320725:"其它区",320800:"淮安市",320802:"清河区",320803:"淮安区",320804:"淮阴区",320811:"清浦区",320826:"涟水县",320829:"洪泽县",320830:"盱眙县",320831:"金湖县",320832:"其它区",320900:"盐城市",320902:"亭湖区",320903:"盐都区",320921:"响水县",320922:"滨海县",320923:"阜宁县",320924:"射阳县",320925:"建湖县",320981:"东台市",320982:"大丰市",320983:"其它区",321e3:"扬州市",321002:"广陵区",321003:"邗江区",321023:"宝应县",321081:"仪征市",321084:"高邮市",321088:"江都区",321093:"其它区",321100:"镇江市",321102:"京口区",321111:"润州区",321112:"丹徒区",321181:"丹阳市",321182:"扬中市",321183:"句容市",321184:"其它区",321200:"泰州市",321202:"海陵区",321203:"高港区",321281:"兴化市",321282:"靖江市",321283:"泰兴市",321284:"姜堰区",321285:"其它区",321300:"宿迁市",321302:"宿城区",321311:"宿豫区",321322:"沭阳县",321323:"泗阳县",321324:"泗洪县",321325:"其它区",33e4:"浙江省",330100:"杭州市",330102:"上城区",330103:"下城区",330104:"江干区",330105:"拱墅区",330106:"西湖区",330108:"滨江区",330109:"萧山区",330110:"余杭区",330122:"桐庐县",330127:"淳安县",330182:"建德市",330183:"富阳市",330185:"临安市",330186:"其它区",330200:"宁波市",330203:"海曙区",330204:"江东区",330205:"江北区",330206:"北仑区",330211:"镇海区",330212:"鄞州区",330225:"象山县",330226:"宁海县",330281:"余姚市",330282:"慈溪市",330283:"奉化市",330284:"其它区",330300:"温州市",330302:"鹿城区",330303:"龙湾区",330304:"瓯海区",330322:"洞头县",330324:"永嘉县",330326:"平阳县",330327:"苍南县",330328:"文成县",330329:"泰顺县",330381:"瑞安市",330382:"乐清市",330383:"其它区",330400:"嘉兴市",330402:"南湖区",330411:"秀洲区",330421:"嘉善县",330424:"海盐县",330481:"海宁市",330482:"平湖市",330483:"桐乡市",330484:"其它区",330500:"湖州市",330502:"吴兴区",330503:"南浔区",330521:"德清县",330522:"长兴县",330523:"安吉县",330524:"其它区",330600:"绍兴市",330602:"越城区",330621:"绍兴县",330624:"新昌县",330681:"诸暨市",330682:"上虞市",330683:"嵊州市",330684:"其它区",330700:"金华市",330702:"婺城区",330703:"金东区",330723:"武义县",330726:"浦江县",330727:"磐安县",330781:"兰溪市",330782:"义乌市",330783:"东阳市",330784:"永康市",330785:"其它区",330800:"衢州市",330802:"柯城区",330803:"衢江区",330822:"常山县",330824:"开化县",330825:"龙游县",330881:"江山市",330882:"其它区",330900:"舟山市",330902:"定海区",330903:"普陀区",330921:"岱山县",330922:"嵊泗县",330923:"其它区",331e3:"台州市",331002:"椒江区",331003:"黄岩区",331004:"路桥区",331021:"玉环县",331022:"三门县",331023:"天台县",331024:"仙居县",331081:"温岭市",331082:"临海市",331083:"其它区",331100:"丽水市",331102:"莲都区",331121:"青田县",331122:"缙云县",331123:"遂昌县",331124:"松阳县",331125:"云和县",331126:"庆元县",331127:"景宁畲族自治县",331181:"龙泉市",331182:"其它区",34e4:"安徽省",340100:"合肥市",340102:"瑶海区",340103:"庐阳区",340104:"蜀山区",340111:"包河区",340121:"长丰县",340122:"肥东县",340123:"肥西县",340192:"其它区",340200:"芜湖市",340202:"镜湖区",340203:"弋江区",340207:"鸠江区",340208:"三山区",340221:"芜湖县",340222:"繁昌县",340223:"南陵县",340224:"其它区",340300:"蚌埠市",340302:"龙子湖区",340303:"蚌山区",340304:"禹会区",340311:"淮上区",340321:"怀远县",340322:"五河县",340323:"固镇县",340324:"其它区",340400:"淮南市",340402:"大通区",340403:"田家庵区",340404:"谢家集区",340405:"八公山区",340406:"潘集区",340421:"凤台县",340422:"其它区",340500:"马鞍山市",340503:"花山区",340504:"雨山区",340506:"博望区",340521:"当涂县",340522:"其它区",340600:"淮北市",340602:"杜集区",340603:"相山区",340604:"烈山区",340621:"濉溪县",340622:"其它区",340700:"铜陵市",340702:"铜官山区",340703:"狮子山区",340711:"郊区",340721:"铜陵县",340722:"其它区",340800:"安庆市",340802:"迎江区",340803:"大观区",340811:"宜秀区",340822:"怀宁县",340823:"枞阳县",340824:"潜山县",340825:"太湖县",340826:"宿松县",340827:"望江县",340828:"岳西县",340881:"桐城市",340882:"其它区",341e3:"黄山市",341002:"屯溪区",341003:"黄山区",341004:"徽州区",341021:"歙县",341022:"休宁县",341023:"黟县",341024:"祁门县",341025:"其它区",341100:"滁州市",341102:"琅琊区",341103:"南谯区",341122:"来安县",341124:"全椒县",341125:"定远县",341126:"凤阳县",341181:"天长市",341182:"明光市",341183:"其它区",341200:"阜阳市",341202:"颍州区",341203:"颍东区",341204:"颍泉区",341221:"临泉县",341222:"太和县",341225:"阜南县",341226:"颍上县",341282:"界首市",341283:"其它区",341300:"宿州市",341302:"埇桥区",341321:"砀山县",341322:"萧县",341323:"灵璧县",341324:"泗县",341325:"其它区",341400:"巢湖市",341421:"庐江县",341422:"无为县",341423:"含山县",341424:"和县",341500:"六安市",341502:"金安区",341503:"裕安区",341521:"寿县",341522:"霍邱县",341523:"舒城县",341524:"金寨县",341525:"霍山县",341526:"其它区",341600:"亳州市",341602:"谯城区",341621:"涡阳县",341622:"蒙城县",341623:"利辛县",341624:"其它区",341700:"池州市",341702:"贵池区",341721:"东至县",341722:"石台县",341723:"青阳县",341724:"其它区",341800:"宣城市",341802:"宣州区",341821:"郎溪县",341822:"广德县",341823:"泾县",341824:"绩溪县",341825:"旌德县",341881:"宁国市",341882:"其它区",35e4:"福建省",350100:"福州市",350102:"鼓楼区",350103:"台江区",350104:"仓山区",350105:"马尾区",350111:"晋安区",350121:"闽侯县",350122:"连江县",350123:"罗源县",350124:"闽清县",350125:"永泰县",350128:"平潭县",350181:"福清市",350182:"长乐市",350183:"其它区",350200:"厦门市",350203:"思明区",350205:"海沧区",350206:"湖里区",350211:"集美区",350212:"同安区",350213:"翔安区",350214:"其它区",350300:"莆田市",350302:"城厢区",350303:"涵江区",350304:"荔城区",350305:"秀屿区",350322:"仙游县",350323:"其它区",350400:"三明市",350402:"梅列区",350403:"三元区",350421:"明溪县",350423:"清流县",350424:"宁化县",350425:"大田县",350426:"尤溪县",350427:"沙县",350428:"将乐县",350429:"泰宁县",350430:"建宁县",350481:"永安市",350482:"其它区",350500:"泉州市",350502:"鲤城区",350503:"丰泽区",350504:"洛江区",350505:"泉港区",350521:"惠安县",350524:"安溪县",350525:"永春县",350526:"德化县",350527:"金门县",350581:"石狮市",350582:"晋江市",350583:"南安市",350584:"其它区",350600:"漳州市",350602:"芗城区",350603:"龙文区",350622:"云霄县",350623:"漳浦县",350624:"诏安县",350625:"长泰县",350626:"东山县",350627:"南靖县",350628:"平和县",350629:"华安县",350681:"龙海市",350682:"其它区",350700:"南平市",350702:"延平区",350721:"顺昌县",350722:"浦城县",350723:"光泽县",350724:"松溪县",350725:"政和县",350781:"邵武市",350782:"武夷山市",350783:"建瓯市",350784:"建阳市",350785:"其它区",350800:"龙岩市",350802:"新罗区",350821:"长汀县",350822:"永定县",350823:"上杭县",350824:"武平县",350825:"连城县",350881:"漳平市",350882:"其它区",350900:"宁德市",350902:"蕉城区",350921:"霞浦县",350922:"古田县",350923:"屏南县",350924:"寿宁县",350925:"周宁县",350926:"柘荣县",350981:"福安市",350982:"福鼎市",350983:"其它区",36e4:"江西省",360100:"南昌市",360102:"东湖区",360103:"西湖区",360104:"青云谱区",360105:"湾里区",360111:"青山湖区",360121:"南昌县",360122:"新建县",360123:"安义县",360124:"进贤县",360128:"其它区",360200:"景德镇市",360202:"昌江区",360203:"珠山区",360222:"浮梁县",360281:"乐平市",360282:"其它区",360300:"萍乡市",360302:"安源区",360313:"湘东区",360321:"莲花县",360322:"上栗县",360323:"芦溪县",360324:"其它区",360400:"九江市",360402:"庐山区",360403:"浔阳区",360421:"九江县",360423:"武宁县",360424:"修水县",360425:"永修县",360426:"德安县",360427:"星子县",360428:"都昌县",360429:"湖口县",360430:"彭泽县",360481:"瑞昌市",360482:"其它区",360483:"共青城市",360500:"新余市",360502:"渝水区",360521:"分宜县",360522:"其它区",360600:"鹰潭市",360602:"月湖区",360622:"余江县",360681:"贵溪市",360682:"其它区",360700:"赣州市",360702:"章贡区",360721:"赣县",360722:"信丰县",360723:"大余县",360724:"上犹县",360725:"崇义县",360726:"安远县",360727:"龙南县",360728:"定南县",360729:"全南县",360730:"宁都县",360731:"于都县",360732:"兴国县",360733:"会昌县",360734:"寻乌县",360735:"石城县",360781:"瑞金市",360782:"南康市",360783:"其它区",360800:"吉安市",360802:"吉州区",360803:"青原区",360821:"吉安县",360822:"吉水县",360823:"峡江县",360824:"新干县",360825:"永丰县",360826:"泰和县",360827:"遂川县",360828:"万安县",360829:"安福县",360830:"永新县",360881:"井冈山市",360882:"其它区",360900:"宜春市",360902:"袁州区",360921:"奉新县",360922:"万载县",360923:"上高县",360924:"宜丰县",360925:"靖安县",360926:"铜鼓县",360981:"丰城市",360982:"樟树市",360983:"高安市",360984:"其它区",361e3:"抚州市",361002:"临川区",361021:"南城县",361022:"黎川县",361023:"南丰县",361024:"崇仁县",361025:"乐安县",361026:"宜黄县",361027:"金溪县",361028:"资溪县",361029:"东乡县",361030:"广昌县",361031:"其它区",361100:"上饶市",361102:"信州区",361121:"上饶县",361122:"广丰县",361123:"玉山县",361124:"铅山县",361125:"横峰县",361126:"弋阳县",361127:"余干县",361128:"鄱阳县",361129:"万年县",361130:"婺源县",361181:"德兴市",361182:"其它区",37e4:"山东省",370100:"济南市",370102:"历下区",370103:"市中区",370104:"槐荫区",370105:"天桥区",370112:"历城区",370113:"长清区",370124:"平阴县",370125:"济阳县",370126:"商河县",370181:"章丘市",370182:"其它区",370200:"青岛市",370202:"市南区",370203:"市北区",370211:"黄岛区",370212:"崂山区",370213:"李沧区",370214:"城阳区",370281:"胶州市",370282:"即墨市",370283:"平度市",370285:"莱西市",370286:"其它区",370300:"淄博市",370302:"淄川区",370303:"张店区",370304:"博山区",370305:"临淄区",370306:"周村区",370321:"桓台县",370322:"高青县",370323:"沂源县",370324:"其它区",370400:"枣庄市",370402:"市中区",370403:"薛城区",370404:"峄城区",370405:"台儿庄区",370406:"山亭区",370481:"滕州市",370482:"其它区",370500:"东营市",370502:"东营区",370503:"河口区",370521:"垦利县",370522:"利津县",370523:"广饶县",370591:"其它区",370600:"烟台市",370602:"芝罘区",370611:"福山区",370612:"牟平区",370613:"莱山区",370634:"长岛县",370681:"龙口市",370682:"莱阳市",370683:"莱州市",370684:"蓬莱市",370685:"招远市",370686:"栖霞市",370687:"海阳市",370688:"其它区",370700:"潍坊市",370702:"潍城区",370703:"寒亭区",370704:"坊子区",370705:"奎文区",370724:"临朐县",370725:"昌乐县",370781:"青州市",370782:"诸城市",370783:"寿光市",370784:"安丘市",370785:"高密市",370786:"昌邑市",370787:"其它区",370800:"济宁市",370802:"市中区",370811:"任城区",370826:"微山县",370827:"鱼台县",370828:"金乡县",370829:"嘉祥县",370830:"汶上县",370831:"泗水县",370832:"梁山县",370881:"曲阜市",370882:"兖州市",370883:"邹城市",370884:"其它区",370900:"泰安市",370902:"泰山区",370903:"岱岳区",370921:"宁阳县",370923:"东平县",370982:"新泰市",370983:"肥城市",370984:"其它区",371e3:"威海市",371002:"环翠区",371081:"文登市",371082:"荣成市",371083:"乳山市",371084:"其它区",371100:"日照市",371102:"东港区",371103:"岚山区",371121:"五莲县",371122:"莒县",371123:"其它区",371200:"莱芜市",371202:"莱城区",371203:"钢城区",371204:"其它区",371300:"临沂市",371302:"兰山区",371311:"罗庄区",371312:"河东区",371321:"沂南县",371322:"郯城县",371323:"沂水县",371324:"苍山县",371325:"费县",371326:"平邑县",371327:"莒南县",371328:"蒙阴县",371329:"临沭县",371330:"其它区",371400:"德州市",371402:"德城区",371421:"陵县",371422:"宁津县",371423:"庆云县",371424:"临邑县",371425:"齐河县",371426:"平原县",371427:"夏津县",371428:"武城县",371481:"乐陵市",371482:"禹城市",371483:"其它区",371500:"聊城市",371502:"东昌府区",371521:"阳谷县",371522:"莘县",371523:"茌平县",371524:"东阿县",371525:"冠县",371526:"高唐县",371581:"临清市",371582:"其它区",371600:"滨州市",371602:"滨城区",371621:"惠民县",371622:"阳信县",371623:"无棣县",371624:"沾化县",371625:"博兴县",371626:"邹平县",371627:"其它区",371700:"菏泽市",371702:"牡丹区",371721:"曹县",371722:"单县",371723:"成武县",371724:"巨野县",371725:"郓城县",371726:"鄄城县",371727:"定陶县",371728:"东明县",371729:"其它区",41e4:"河南省",410100:"郑州市",410102:"中原区",410103:"二七区",410104:"管城回族区",410105:"金水区",410106:"上街区",410108:"惠济区",410122:"中牟县",410181:"巩义市",410182:"荥阳市",410183:"新密市",410184:"新郑市",410185:"登封市",410188:"其它区",410200:"开封市",410202:"龙亭区",410203:"顺河回族区",410204:"鼓楼区",410205:"禹王台区",410211:"金明区",410221:"杞县",410222:"通许县",410223:"尉氏县",410224:"开封县",410225:"兰考县",410226:"其它区",410300:"洛阳市",410302:"老城区",410303:"西工区",410304:"瀍河回族区",410305:"涧西区",410306:"吉利区",410307:"洛龙区",410322:"孟津县",410323:"新安县",410324:"栾川县",410325:"嵩县",410326:"汝阳县",410327:"宜阳县",410328:"洛宁县",410329:"伊川县",410381:"偃师市",410400:"平顶山市",410402:"新华区",410403:"卫东区",410404:"石龙区",410411:"湛河区",410421:"宝丰县",410422:"叶县",410423:"鲁山县",410425:"郏县",410481:"舞钢市",410482:"汝州市",410483:"其它区",410500:"安阳市",410502:"文峰区",410503:"北关区",410505:"殷都区",410506:"龙安区",410522:"安阳县",410523:"汤阴县",410526:"滑县",410527:"内黄县",410581:"林州市",410582:"其它区",410600:"鹤壁市",410602:"鹤山区",410603:"山城区",410611:"淇滨区",410621:"浚县",410622:"淇县",410623:"其它区",410700:"新乡市",410702:"红旗区",410703:"卫滨区",410704:"凤泉区",410711:"牧野区",410721:"新乡县",410724:"获嘉县",410725:"原阳县",410726:"延津县",410727:"封丘县",410728:"长垣县",410781:"卫辉市",410782:"辉县市",410783:"其它区",410800:"焦作市",410802:"解放区",410803:"中站区",410804:"马村区",410811:"山阳区",410821:"修武县",410822:"博爱县",410823:"武陟县",410825:"温县",410881:"济源市",410882:"沁阳市",410883:"孟州市",410884:"其它区",410900:"濮阳市",410902:"华龙区",410922:"清丰县",410923:"南乐县",410926:"范县",410927:"台前县",410928:"濮阳县",410929:"其它区",411e3:"许昌市",411002:"魏都区",411023:"许昌县",411024:"鄢陵县",411025:"襄城县",411081:"禹州市",411082:"长葛市",411083:"其它区",411100:"漯河市",411102:"源汇区",411103:"郾城区",411104:"召陵区",411121:"舞阳县",411122:"临颍县",411123:"其它区",411200:"三门峡市",411202:"湖滨区",411221:"渑池县",411222:"陕县",411224:"卢氏县",411281:"义马市",411282:"灵宝市",411283:"其它区",411300:"南阳市",411302:"宛城区",411303:"卧龙区",411321:"南召县",411322:"方城县",411323:"西峡县",411324:"镇平县",411325:"内乡县",411326:"淅川县",411327:"社旗县",411328:"唐河县",411329:"新野县",411330:"桐柏县",411381:"邓州市",411382:"其它区",411400:"商丘市",411402:"梁园区",411403:"睢阳区",411421:"民权县",411422:"睢县",411423:"宁陵县",411424:"柘城县",411425:"虞城县",411426:"夏邑县",411481:"永城市",411482:"其它区",411500:"信阳市",411502:"浉河区",411503:"平桥区",411521:"罗山县",411522:"光山县",411523:"新县",411524:"商城县",411525:"固始县",411526:"潢川县",411527:"淮滨县",411528:"息县",411529:"其它区",411600:"周口市",411602:"川汇区",411621:"扶沟县",411622:"西华县",411623:"商水县",411624:"沈丘县",411625:"郸城县",411626:"淮阳县",411627:"太康县",411628:"鹿邑县",411681:"项城市",411682:"其它区",411700:"驻马店市",411702:"驿城区",411721:"西平县",411722:"上蔡县",411723:"平舆县",411724:"正阳县",411725:"确山县",411726:"泌阳县",411727:"汝南县",411728:"遂平县",411729:"新蔡县",411730:"其它区",42e4:"湖北省",420100:"武汉市",420102:"江岸区",420103:"江汉区",420104:"硚口区",420105:"汉阳区",420106:"武昌区",420107:"青山区",420111:"洪山区",420112:"东西湖区",420113:"汉南区",420114:"蔡甸区",420115:"江夏区",420116:"黄陂区",420117:"新洲区",420118:"其它区",420200:"黄石市",420202:"黄石港区",420203:"西塞山区",420204:"下陆区",420205:"铁山区",420222:"阳新县",420281:"大冶市",420282:"其它区",420300:"十堰市",420302:"茅箭区",420303:"张湾区",420321:"郧县",420322:"郧西县",420323:"竹山县",420324:"竹溪县",420325:"房县",420381:"丹江口市",420383:"其它区",420500:"宜昌市",420502:"西陵区",420503:"伍家岗区",420504:"点军区",420505:"猇亭区",420506:"夷陵区",420525:"远安县",420526:"兴山县",420527:"秭归县",420528:"长阳土家族自治县",420529:"五峰土家族自治县",420581:"宜都市",420582:"当阳市",420583:"枝江市",420584:"其它区",420600:"襄阳市",420602:"襄城区",420606:"樊城区",420607:"襄州区",420624:"南漳县",420625:"谷城县",420626:"保康县",420682:"老河口市",420683:"枣阳市",420684:"宜城市",420685:"其它区",420700:"鄂州市",420702:"梁子湖区",420703:"华容区",420704:"鄂城区",420705:"其它区",420800:"荆门市",420802:"东宝区",420804:"掇刀区",420821:"京山县",420822:"沙洋县",420881:"钟祥市",420882:"其它区",420900:"孝感市",420902:"孝南区",420921:"孝昌县",420922:"大悟县",420923:"云梦县",420981:"应城市",420982:"安陆市",420984:"汉川市",420985:"其它区",421e3:"荆州市",421002:"沙市区",421003:"荆州区",421022:"公安县",421023:"监利县",421024:"江陵县",421081:"石首市",421083:"洪湖市",421087:"松滋市",421088:"其它区",421100:"黄冈市",421102:"黄州区",421121:"团风县",421122:"红安县",421123:"罗田县",421124:"英山县",421125:"浠水县",421126:"蕲春县",421127:"黄梅县",421181:"麻城市",421182:"武穴市",421183:"其它区",421200:"咸宁市",421202:"咸安区",421221:"嘉鱼县",421222:"通城县",421223:"崇阳县",421224:"通山县",421281:"赤壁市",421283:"其它区",421300:"随州市",421302:"曾都区",421321:"随县",421381:"广水市",421382:"其它区",422800:"恩施土家族苗族自治州",422801:"恩施市",422802:"利川市",422822:"建始县",422823:"巴东县",422825:"宣恩县",422826:"咸丰县",422827:"来凤县",422828:"鹤峰县",422829:"其它区",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区",43e4:"湖南省",430100:"长沙市",430102:"芙蓉区",430103:"天心区",430104:"岳麓区",430105:"开福区",430111:"雨花区",430121:"长沙县",430122:"望城区",430124:"宁乡县",430181:"浏阳市",430182:"其它区",430200:"株洲市",430202:"荷塘区",430203:"芦淞区",430204:"石峰区",430211:"天元区",430221:"株洲县",430223:"攸县",430224:"茶陵县",430225:"炎陵县",430281:"醴陵市",430282:"其它区",430300:"湘潭市",430302:"雨湖区",430304:"岳塘区",430321:"湘潭县",430381:"湘乡市",430382:"韶山市",430383:"其它区",430400:"衡阳市",430405:"珠晖区",430406:"雁峰区",430407:"石鼓区",430408:"蒸湘区",430412:"南岳区",430421:"衡阳县",430422:"衡南县",430423:"衡山县",430424:"衡东县",430426:"祁东县",430481:"耒阳市",430482:"常宁市",430483:"其它区",430500:"邵阳市",430502:"双清区",430503:"大祥区",430511:"北塔区",430521:"邵东县",430522:"新邵县",430523:"邵阳县",430524:"隆回县",430525:"洞口县",430527:"绥宁县",430528:"新宁县",430529:"城步苗族自治县",430581:"武冈市",430582:"其它区",430600:"岳阳市",430602:"岳阳楼区",430603:"云溪区",430611:"君山区",430621:"岳阳县",430623:"华容县",430624:"湘阴县",430626:"平江县",430681:"汨罗市",430682:"临湘市",430683:"其它区",430700:"常德市",430702:"武陵区",430703:"鼎城区",430721:"安乡县",430722:"汉寿县",430723:"澧县",430724:"临澧县",430725:"桃源县",430726:"石门县",430781:"津市市",430782:"其它区",430800:"张家界市",430802:"永定区",430811:"武陵源区",430821:"慈利县",430822:"桑植县",430823:"其它区",430900:"益阳市",430902:"资阳区",430903:"赫山区",430921:"南县",430922:"桃江县",430923:"安化县",430981:"沅江市",430982:"其它区",431e3:"郴州市",431002:"北湖区",431003:"苏仙区",431021:"桂阳县",431022:"宜章县",431023:"永兴县",431024:"嘉禾县",431025:"临武县",431026:"汝城县",431027:"桂东县",431028:"安仁县",431081:"资兴市",431082:"其它区",431100:"永州市",431102:"零陵区",431103:"冷水滩区",431121:"祁阳县",431122:"东安县",431123:"双牌县",431124:"道县",431125:"江永县",431126:"宁远县",431127:"蓝山县",431128:"新田县",431129:"江华瑶族自治县",431130:"其它区",431200:"怀化市",431202:"鹤城区",431221:"中方县",431222:"沅陵县",431223:"辰溪县",431224:"溆浦县",431225:"会同县",431226:"麻阳苗族自治县",431227:"新晃侗族自治县",431228:"芷江侗族自治县",431229:"靖州苗族侗族自治县",431230:"通道侗族自治县",431281:"洪江市",431282:"其它区",431300:"娄底市",431302:"娄星区",431321:"双峰县",431322:"新化县",431381:"冷水江市",431382:"涟源市",431383:"其它区",433100:"湘西土家族苗族自治州",433101:"吉首市",433122:"泸溪县",433123:"凤凰县",433124:"花垣县",433125:"保靖县",433126:"古丈县",433127:"永顺县",433130:"龙山县",433131:"其它区",44e4:"广东省",440100:"广州市",440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440116:"萝岗区",440183:"增城市",440184:"从化市",440189:"其它区",440200:"韶关市",440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市",440283:"其它区",440300:"深圳市",440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区",440309:"其它区",440320:"光明新区",440321:"坪山新区",440322:"大鹏新区",440323:"龙华新区",440400:"珠海市",440402:"香洲区",440403:"斗门区",440404:"金湾区",440488:"其它区",440500:"汕头市",440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县",440524:"其它区",440600:"佛山市",440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区",440609:"其它区",440700:"江门市",440703:"蓬江区",440704:"江海区",440705:"新会区",440781:"台山市",440783:"开平市",440784:"鹤山市",440785:"恩平市",440786:"其它区",440800:"湛江市",440802:"赤坎区",440803:"霞山区",440804:"坡头区",440811:"麻章区",440823:"遂溪县",440825:"徐闻县",440881:"廉江市",440882:"雷州市",440883:"吴川市",440884:"其它区",440900:"茂名市",440902:"茂南区",440903:"茂港区",440923:"电白县",440981:"高州市",440982:"化州市",440983:"信宜市",440984:"其它区",441200:"肇庆市",441202:"端州区",441203:"鼎湖区",441223:"广宁县",441224:"怀集县",441225:"封开县",441226:"德庆县",441283:"高要市",441284:"四会市",441285:"其它区",441300:"惠州市",441302:"惠城区",441303:"惠阳区",441322:"博罗县",441323:"惠东县",441324:"龙门县",441325:"其它区",441400:"梅州市",441402:"梅江区",441421:"梅县",441422:"大埔县",441423:"丰顺县",441424:"五华县",441426:"平远县",441427:"蕉岭县",441481:"兴宁市",441482:"其它区",441500:"汕尾市",441502:"城区",441521:"海丰县",441523:"陆河县",441581:"陆丰市",441582:"其它区",441600:"河源市",441602:"源城区",441621:"紫金县",441622:"龙川县",441623:"连平县",441624:"和平县",441625:"东源县",441626:"其它区",441700:"阳江市",441702:"江城区",441721:"阳西县",441723:"阳东县",441781:"阳春市",441782:"其它区",441800:"清远市",441802:"清城区",441821:"佛冈县",441823:"阳山县",441825:"连山壮族瑶族自治县",441826:"连南瑶族自治县",441827:"清新区",441881:"英德市",441882:"连州市",441883:"其它区",441900:"东莞市",442e3:"中山市",442101:"东沙群岛",445100:"潮州市",445102:"湘桥区",445121:"潮安区",445122:"饶平县",445186:"其它区",445200:"揭阳市",445202:"榕城区",445221:"揭东区",445222:"揭西县",445224:"惠来县",445281:"普宁市",445285:"其它区",445300:"云浮市",445302:"云城区",445321:"新兴县",445322:"郁南县",445323:"云安县",445381:"罗定市",445382:"其它区",45e4:"广西壮族自治区",450100:"南宁市",450102:"兴宁区",450103:"青秀区",450105:"江南区",450107:"西乡塘区",450108:"良庆区",450109:"邕宁区",450122:"武鸣县",450123:"隆安县",450124:"马山县",450125:"上林县",450126:"宾阳县",450127:"横县",450128:"其它区",450200:"柳州市",450202:"城中区",450203:"鱼峰区",450204:"柳南区",450205:"柳北区",450221:"柳江县",450222:"柳城县",450223:"鹿寨县",450224:"融安县",450225:"融水苗族自治县",450226:"三江侗族自治县",450227:"其它区",450300:"桂林市",450302:"秀峰区",450303:"叠彩区",450304:"象山区",450305:"七星区",450311:"雁山区",450321:"阳朔县",450322:"临桂区",450323:"灵川县",450324:"全州县",450325:"兴安县",450326:"永福县",450327:"灌阳县",450328:"龙胜各族自治县",450329:"资源县",450330:"平乐县",450331:"荔浦县",450332:"恭城瑶族自治县",450333:"其它区",450400:"梧州市",450403:"万秀区",450405:"长洲区",450406:"龙圩区",450421:"苍梧县",450422:"藤县",450423:"蒙山县",450481:"岑溪市",450482:"其它区",450500:"北海市",450502:"海城区",450503:"银海区",450512:"铁山港区",450521:"合浦县",450522:"其它区",450600:"防城港市",450602:"港口区",450603:"防城区",450621:"上思县",450681:"东兴市",450682:"其它区",450700:"钦州市",450702:"钦南区",450703:"钦北区",450721:"灵山县",450722:"浦北县",450723:"其它区",450800:"贵港市",450802:"港北区",450803:"港南区",450804:"覃塘区",450821:"平南县",450881:"桂平市",450882:"其它区",450900:"玉林市",450902:"玉州区",450903:"福绵区",450921:"容县",450922:"陆川县",450923:"博白县",450924:"兴业县",450981:"北流市",450982:"其它区",451e3:"百色市",451002:"右江区",451021:"田阳县",451022:"田东县",451023:"平果县",451024:"德保县",451025:"靖西县",451026:"那坡县",451027:"凌云县",451028:"乐业县",451029:"田林县",451030:"西林县",451031:"隆林各族自治县",451032:"其它区",451100:"贺州市",451102:"八步区",451119:"平桂管理区",451121:"昭平县",451122:"钟山县",451123:"富川瑶族自治县",451124:"其它区",451200:"河池市",451202:"金城江区",451221:"南丹县",451222:"天峨县",451223:"凤山县",451224:"东兰县",451225:"罗城仫佬族自治县",451226:"环江毛南族自治县",451227:"巴马瑶族自治县",451228:"都安瑶族自治县",451229:"大化瑶族自治县",451281:"宜州市",451282:"其它区",451300:"来宾市",451302:"兴宾区",451321:"忻城县",451322:"象州县",451323:"武宣县",451324:"金秀瑶族自治县",451381:"合山市",451382:"其它区",451400:"崇左市",451402:"江州区",451421:"扶绥县",451422:"宁明县",451423:"龙州县",451424:"大新县",451425:"天等县",451481:"凭祥市",451482:"其它区",46e4:"海南省",460100:"海口市",460105:"秀英区",460106:"龙华区",460107:"琼山区",460108:"美兰区",460109:"其它区",460200:"三亚市",460300:"三沙市",460321:"西沙群岛",460322:"南沙群岛",460323:"中沙群岛的岛礁及其海域",469001:"五指山市",469002:"琼海市",469003:"儋州市",469005:"文昌市",469006:"万宁市",469007:"东方市",469025:"定安县",469026:"屯昌县",469027:"澄迈县",469028:"临高县",469030:"白沙黎族自治县",469031:"昌江黎族自治县",469033:"乐东黎族自治县",469034:"陵水黎族自治县",469035:"保亭黎族苗族自治县",469036:"琼中黎族苗族自治县",471005:"其它区",5e5:"重庆",500100:"重庆市",500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"万盛区",500111:"双桥区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500222:"綦江区",500223:"潼南县",500224:"铜梁县",500225:"大足区",500226:"荣昌县",500227:"璧山县",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500234:"开县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县",500381:"江津区",500382:"合川区",500383:"永川区",500384:"南川区",500385:"其它区",51e4:"四川省",510100:"成都市",510104:"锦江区",510105:"青羊区",510106:"金牛区",510107:"武侯区",510108:"成华区",510112:"龙泉驿区",510113:"青白江区",510114:"新都区",510115:"温江区",510121:"金堂县",510122:"双流县",510124:"郫县",510129:"大邑县",510131:"蒲江县",510132:"新津县",510181:"都江堰市",510182:"彭州市",510183:"邛崃市",510184:"崇州市",510185:"其它区",510300:"自贡市",510302:"自流井区",510303:"贡井区",510304:"大安区",510311:"沿滩区",510321:"荣县",510322:"富顺县",510323:"其它区",510400:"攀枝花市",510402:"东区",510403:"西区",510411:"仁和区",510421:"米易县",510422:"盐边县",510423:"其它区",510500:"泸州市",510502:"江阳区",510503:"纳溪区",510504:"龙马潭区",510521:"泸县",510522:"合江县",510524:"叙永县",510525:"古蔺县",510526:"其它区",510600:"德阳市",510603:"旌阳区",510623:"中江县",510626:"罗江县",510681:"广汉市",510682:"什邡市",510683:"绵竹市",510684:"其它区",510700:"绵阳市",510703:"涪城区",510704:"游仙区",510722:"三台县",510723:"盐亭县",510724:"安县",510725:"梓潼县",510726:"北川羌族自治县",510727:"平武县",510781:"江油市",510782:"其它区",510800:"广元市",510802:"利州区",510811:"昭化区",510812:"朝天区",510821:"旺苍县",510822:"青川县",510823:"剑阁县",510824:"苍溪县",510825:"其它区",510900:"遂宁市",510903:"船山区",510904:"安居区",510921:"蓬溪县",510922:"射洪县",510923:"大英县",510924:"其它区",511e3:"内江市",511002:"市中区",511011:"东兴区",511024:"威远县",511025:"资中县",511028:"隆昌县",511029:"其它区",511100:"乐山市",511102:"市中区",511111:"沙湾区",511112:"五通桥区",511113:"金口河区",511123:"犍为县",511124:"井研县",511126:"夹江县",511129:"沐川县",511132:"峨边彝族自治县",511133:"马边彝族自治县",511181:"峨眉山市",511182:"其它区",511300:"南充市",511302:"顺庆区",511303:"高坪区",511304:"嘉陵区",511321:"南部县",511322:"营山县",511323:"蓬安县",511324:"仪陇县",511325:"西充县",511381:"阆中市",511382:"其它区",511400:"眉山市",511402:"东坡区",511421:"仁寿县",511422:"彭山县",511423:"洪雅县",511424:"丹棱县",511425:"青神县",511426:"其它区",511500:"宜宾市",511502:"翠屏区",511521:"宜宾县",511522:"南溪区",511523:"江安县",511524:"长宁县",511525:"高县",511526:"珙县",511527:"筠连县",511528:"兴文县",511529:"屏山县",511530:"其它区",511600:"广安市",511602:"广安区",511603:"前锋区",511621:"岳池县",511622:"武胜县",511623:"邻水县",511681:"华蓥市",511683:"其它区",511700:"达州市",511702:"通川区",511721:"达川区",511722:"宣汉县",511723:"开江县",511724:"大竹县",511725:"渠县",511781:"万源市",511782:"其它区",511800:"雅安市",511802:"雨城区",511821:"名山区",511822:"荥经县",511823:"汉源县",511824:"石棉县",511825:"天全县",511826:"芦山县",511827:"宝兴县",511828:"其它区",511900:"巴中市",511902:"巴州区",511903:"恩阳区",511921:"通江县",511922:"南江县",511923:"平昌县",511924:"其它区",512e3:"资阳市",512002:"雁江区",512021:"安岳县",512022:"乐至县",512081:"简阳市",512082:"其它区",513200:"阿坝藏族羌族自治州",513221:"汶川县",513222:"理县",513223:"茂县",513224:"松潘县",513225:"九寨沟县",513226:"金川县",513227:"小金县",513228:"黑水县",513229:"马尔康县",513230:"壤塘县",513231:"阿坝县",513232:"若尔盖县",513233:"红原县",513234:"其它区",513300:"甘孜藏族自治州",513321:"康定县",513322:"泸定县",513323:"丹巴县",513324:"九龙县",513325:"雅江县",513326:"道孚县",513327:"炉霍县",513328:"甘孜县",513329:"新龙县",513330:"德格县",513331:"白玉县",513332:"石渠县",513333:"色达县",513334:"理塘县",513335:"巴塘县",513336:"乡城县",513337:"稻城县",513338:"得荣县",513339:"其它区",513400:"凉山彝族自治州",513401:"西昌市",513422:"木里藏族自治县",513423:"盐源县",513424:"德昌县",513425:"会理县",513426:"会东县",513427:"宁南县",513428:"普格县",513429:"布拖县",513430:"金阳县",513431:"昭觉县",513432:"喜德县",513433:"冕宁县",513434:"越西县",513435:"甘洛县",513436:"美姑县",513437:"雷波县",513438:"其它区",52e4:"贵州省",520100:"贵阳市",520102:"南明区",520103:"云岩区",520111:"花溪区",520112:"乌当区",520113:"白云区",520121:"开阳县",520122:"息烽县",520123:"修文县",520151:"观山湖区",520181:"清镇市",520182:"其它区",520200:"六盘水市",520201:"钟山区",520203:"六枝特区",520221:"水城县",520222:"盘县",520223:"其它区",520300:"遵义市",520302:"红花岗区",520303:"汇川区",520321:"遵义县",520322:"桐梓县",520323:"绥阳县",520324:"正安县",520325:"道真仡佬族苗族自治县",520326:"务川仡佬族苗族自治县",520327:"凤冈县",520328:"湄潭县",520329:"余庆县",520330:"习水县",520381:"赤水市",520382:"仁怀市",520383:"其它区",520400:"安顺市",520402:"西秀区",520421:"平坝县",520422:"普定县",520423:"镇宁布依族苗族自治县",520424:"关岭布依族苗族自治县",520425:"紫云苗族布依族自治县",520426:"其它区",522200:"铜仁市",522201:"碧江区",522222:"江口县",522223:"玉屏侗族自治县",522224:"石阡县",522225:"思南县",522226:"印江土家族苗族自治县",522227:"德江县",522228:"沿河土家族自治县",522229:"松桃苗族自治县",522230:"万山区",522231:"其它区",522300:"黔西南布依族苗族自治州",522301:"兴义市",522322:"兴仁县",522323:"普安县",522324:"晴隆县",522325:"贞丰县",522326:"望谟县",522327:"册亨县",522328:"安龙县",522329:"其它区",522400:"毕节市",522401:"七星关区",522422:"大方县",522423:"黔西县",522424:"金沙县",522425:"织金县",522426:"纳雍县",522427:"威宁彝族回族苗族自治县",522428:"赫章县",522429:"其它区",522600:"黔东南苗族侗族自治州",522601:"凯里市",522622:"黄平县",522623:"施秉县",522624:"三穗县",522625:"镇远县",522626:"岑巩县",522627:"天柱县",522628:"锦屏县",522629:"剑河县",522630:"台江县",522631:"黎平县",522632:"榕江县",522633:"从江县",522634:"雷山县",522635:"麻江县",522636:"丹寨县",522637:"其它区",522700:"黔南布依族苗族自治州",522701:"都匀市",522702:"福泉市",522722:"荔波县",522723:"贵定县",522725:"瓮安县",522726:"独山县",522727:"平塘县",522728:"罗甸县",522729:"长顺县",522730:"龙里县",522731:"惠水县",522732:"三都水族自治县",522733:"其它区",53e4:"云南省",530100:"昆明市",530102:"五华区",530103:"盘龙区",530111:"官渡区",530112:"西山区",530113:"东川区",530121:"呈贡区",530122:"晋宁县",530124:"富民县",530125:"宜良县",530126:"石林彝族自治县",530127:"嵩明县",530128:"禄劝彝族苗族自治县",530129:"寻甸回族彝族自治县",530181:"安宁市",530182:"其它区",530300:"曲靖市",530302:"麒麟区",530321:"马龙县",530322:"陆良县",530323:"师宗县",530324:"罗平县",530325:"富源县",530326:"会泽县",530328:"沾益县",530381:"宣威市",530382:"其它区",530400:"玉溪市",530402:"红塔区",530421:"江川县",530422:"澄江县",530423:"通海县",530424:"华宁县",530425:"易门县",530426:"峨山彝族自治县",530427:"新平彝族傣族自治县",530428:"元江哈尼族彝族傣族自治县",530429:"其它区",530500:"保山市",530502:"隆阳区",530521:"施甸县",530522:"腾冲县",530523:"龙陵县",530524:"昌宁县",530525:"其它区",530600:"昭通市",530602:"昭阳区",530621:"鲁甸县",530622:"巧家县",530623:"盐津县",530624:"大关县",530625:"永善县",530626:"绥江县",530627:"镇雄县",530628:"彝良县",530629:"威信县",530630:"水富县",530631:"其它区",530700:"丽江市",530702:"古城区",530721:"玉龙纳西族自治县",530722:"永胜县",530723:"华坪县",530724:"宁蒗彝族自治县",530725:"其它区",530800:"普洱市",530802:"思茅区",530821:"宁洱哈尼族彝族自治县",530822:"墨江哈尼族自治县",530823:"景东彝族自治县",530824:"景谷傣族彝族自治县",530825:"镇沅彝族哈尼族拉祜族自治县",530826:"江城哈尼族彝族自治县",530827:"孟连傣族拉祜族佤族自治县",530828:"澜沧拉祜族自治县",530829:"西盟佤族自治县",530830:"其它区",530900:"临沧市",530902:"临翔区",530921:"凤庆县",530922:"云县",530923:"永德县",530924:"镇康县",530925:"双江拉祜族佤族布朗族傣族自治县",530926:"耿马傣族佤族自治县",530927:"沧源佤族自治县",530928:"其它区",532300:"楚雄彝族自治州",532301:"楚雄市",532322:"双柏县",532323:"牟定县",532324:"南华县",532325:"姚安县",532326:"大姚县",532327:"永仁县",532328:"元谋县",532329:"武定县",532331:"禄丰县",532332:"其它区",532500:"红河哈尼族彝族自治州",532501:"个旧市",532502:"开远市",532522:"蒙自市",532523:"屏边苗族自治县",532524:"建水县",532525:"石屏县",532526:"弥勒市",532527:"泸西县",532528:"元阳县",532529:"红河县",532530:"金平苗族瑶族傣族自治县",532531:"绿春县",532532:"河口瑶族自治县",532533:"其它区",532600:"文山壮族苗族自治州",532621:"文山市",532622:"砚山县",532623:"西畴县",532624:"麻栗坡县",532625:"马关县",532626:"丘北县",532627:"广南县",532628:"富宁县",532629:"其它区",532800:"西双版纳傣族自治州",532801:"景洪市",532822:"勐海县",532823:"勐腊县",532824:"其它区",532900:"大理白族自治州",532901:"大理市",532922:"漾濞彝族自治县",532923:"祥云县",532924:"宾川县",532925:"弥渡县",532926:"南涧彝族自治县",532927:"巍山彝族回族自治县",532928:"永平县",532929:"云龙县",532930:"洱源县",532931:"剑川县",532932:"鹤庆县",532933:"其它区",533100:"德宏傣族景颇族自治州",533102:"瑞丽市",533103:"芒市",533122:"梁河县",533123:"盈江县",533124:"陇川县",533125:"其它区",533300:"怒江傈僳族自治州",533321:"泸水县",533323:"福贡县",533324:"贡山独龙族怒族自治县",533325:"兰坪白族普米族自治县",533326:"其它区",533400:"迪庆藏族自治州",533421:"香格里拉县",533422:"德钦县",533423:"维西傈僳族自治县",533424:"其它区",54e4:"西藏自治区",540100:"拉萨市",540102:"城关区",540121:"林周县",540122:"当雄县",540123:"尼木县",540124:"曲水县",540125:"堆龙德庆县",540126:"达孜县",540127:"墨竹工卡县",540128:"其它区",542100:"昌都地区",542121:"昌都县",542122:"江达县",542123:"贡觉县",542124:"类乌齐县",542125:"丁青县",542126:"察雅县",542127:"八宿县",542128:"左贡县",542129:"芒康县",542132:"洛隆县",542133:"边坝县",542134:"其它区",542200:"山南地区",542221:"乃东县",542222:"扎囊县",542223:"贡嘎县",542224:"桑日县",542225:"琼结县",542226:"曲松县",542227:"措美县",542228:"洛扎县",542229:"加查县",542231:"隆子县",542232:"错那县",542233:"浪卡子县",542234:"其它区",542300:"日喀则地区",542301:"日喀则市",542322:"南木林县",542323:"江孜县",542324:"定日县",542325:"萨迦县",542326:"拉孜县",542327:"昂仁县",542328:"谢通门县",542329:"白朗县",542330:"仁布县",542331:"康马县",542332:"定结县",542333:"仲巴县",542334:"亚东县",542335:"吉隆县",542336:"聂拉木县",542337:"萨嘎县",542338:"岗巴县",542339:"其它区",542400:"那曲地区",542421:"那曲县",542422:"嘉黎县",542423:"比如县",542424:"聂荣县",542425:"安多县",542426:"申扎县",542427:"索县",542428:"班戈县",542429:"巴青县",542430:"尼玛县",542431:"其它区",542432:"双湖县",542500:"阿里地区",542521:"普兰县",542522:"札达县",542523:"噶尔县",542524:"日土县",542525:"革吉县",542526:"改则县",542527:"措勤县",542528:"其它区",542600:"林芝地区",542621:"林芝县",542622:"工布江达县",542623:"米林县",542624:"墨脱县",542625:"波密县",542626:"察隅县",542627:"朗县",542628:"其它区",61e4:"陕西省",610100:"西安市",610102:"新城区",610103:"碑林区",610104:"莲湖区",610111:"灞桥区",610112:"未央区",610113:"雁塔区",610114:"阎良区",610115:"临潼区",610116:"长安区",610122:"蓝田县",610124:"周至县",610125:"户县",610126:"高陵县",610127:"其它区",610200:"铜川市",610202:"王益区",610203:"印台区",610204:"耀州区",610222:"宜君县",610223:"其它区",610300:"宝鸡市",610302:"渭滨区",610303:"金台区",610304:"陈仓区",610322:"凤翔县",610323:"岐山县",610324:"扶风县",610326:"眉县",610327:"陇县",610328:"千阳县",610329:"麟游县",610330:"凤县",610331:"太白县",610332:"其它区",610400:"咸阳市",610402:"秦都区",610403:"杨陵区",610404:"渭城区",610422:"三原县",610423:"泾阳县",610424:"乾县",610425:"礼泉县",610426:"永寿县",610427:"彬县",610428:"长武县",610429:"旬邑县",610430:"淳化县",610431:"武功县",610481:"兴平市",610482:"其它区",610500:"渭南市",610502:"临渭区",610521:"华县",610522:"潼关县",610523:"大荔县",610524:"合阳县",610525:"澄城县",610526:"蒲城县",610527:"白水县",610528:"富平县",610581:"韩城市",610582:"华阴市",610583:"其它区",610600:"延安市",610602:"宝塔区",610621:"延长县",610622:"延川县",610623:"子长县",610624:"安塞县",610625:"志丹县",610626:"吴起县",610627:"甘泉县",610628:"富县",610629:"洛川县",610630:"宜川县",610631:"黄龙县",610632:"黄陵县",610633:"其它区",610700:"汉中市",610702:"汉台区",610721:"南郑县",610722:"城固县",610723:"洋县",610724:"西乡县",610725:"勉县",610726:"宁强县",610727:"略阳县",610728:"镇巴县",610729:"留坝县",610730:"佛坪县",610731:"其它区",610800:"榆林市",610802:"榆阳区",610821:"神木县",610822:"府谷县",610823:"横山县",610824:"靖边县",610825:"定边县",610826:"绥德县",610827:"米脂县",610828:"佳县",610829:"吴堡县",610830:"清涧县",610831:"子洲县",610832:"其它区",610900:"安康市",610902:"汉滨区",610921:"汉阴县",610922:"石泉县",610923:"宁陕县",610924:"紫阳县",610925:"岚皋县",610926:"平利县",610927:"镇坪县",610928:"旬阳县",610929:"白河县",610930:"其它区",611e3:"商洛市",611002:"商州区",611021:"洛南县",611022:"丹凤县",611023:"商南县",611024:"山阳县",611025:"镇安县",611026:"柞水县",611027:"其它区",62e4:"甘肃省",620100:"兰州市",620102:"城关区",620103:"七里河区",620104:"西固区",620105:"安宁区",620111:"红古区",620121:"永登县",620122:"皋兰县",620123:"榆中县",620124:"其它区",620200:"嘉峪关市",620300:"金昌市",620302:"金川区",620321:"永昌县",620322:"其它区",620400:"白银市",620402:"白银区",620403:"平川区",620421:"靖远县",620422:"会宁县",620423:"景泰县",620424:"其它区",620500:"天水市",620502:"秦州区",620503:"麦积区",620521:"清水县",620522:"秦安县",620523:"甘谷县",620524:"武山县",620525:"张家川回族自治县",620526:"其它区",620600:"武威市",620602:"凉州区",620621:"民勤县",620622:"古浪县",620623:"天祝藏族自治县",620624:"其它区",620700:"张掖市",620702:"甘州区",620721:"肃南裕固族自治县",620722:"民乐县",620723:"临泽县",620724:"高台县",620725:"山丹县",620726:"其它区",620800:"平凉市",620802:"崆峒区",620821:"泾川县",620822:"灵台县",620823:"崇信县",620824:"华亭县",620825:"庄浪县",620826:"静宁县",620827:"其它区",620900:"酒泉市",620902:"肃州区",620921:"金塔县",620922:"瓜州县",620923:"肃北蒙古族自治县",620924:"阿克塞哈萨克族自治县",620981:"玉门市",620982:"敦煌市",620983:"其它区",621e3:"庆阳市",621002:"西峰区",621021:"庆城县",621022:"环县",621023:"华池县",621024:"合水县",621025:"正宁县",621026:"宁县",621027:"镇原县",621028:"其它区",621100:"定西市",621102:"安定区",621121:"通渭县",621122:"陇西县",621123:"渭源县",621124:"临洮县",621125:"漳县",621126:"岷县",621127:"其它区",621200:"陇南市",621202:"武都区",621221:"成县",621222:"文县",621223:"宕昌县",621224:"康县",621225:"西和县",621226:"礼县",621227:"徽县",621228:"两当县",621229:"其它区",622900:"临夏回族自治州",622901:"临夏市",622921:"临夏县",622922:"康乐县",622923:"永靖县",622924:"广河县",622925:"和政县",622926:"东乡族自治县",622927:"积石山保安族东乡族撒拉族自治县",622928:"其它区",623e3:"甘南藏族自治州",623001:"合作市",623021:"临潭县",623022:"卓尼县",623023:"舟曲县",623024:"迭部县",623025:"玛曲县",623026:"碌曲县",623027:"夏河县",623028:"其它区",63e4:"青海省",630100:"西宁市",630102:"城东区",630103:"城中区",630104:"城西区",630105:"城北区",630121:"大通回族土族自治县",630122:"湟中县",630123:"湟源县",630124:"其它区",632100:"海东市",632121:"平安县",632122:"民和回族土族自治县",632123:"乐都区",632126:"互助土族自治县",632127:"化隆回族自治县",632128:"循化撒拉族自治县",632129:"其它区",632200:"海北藏族自治州",632221:"门源回族自治县",632222:"祁连县",632223:"海晏县",632224:"刚察县",632225:"其它区",632300:"黄南藏族自治州",632321:"同仁县",632322:"尖扎县",632323:"泽库县",632324:"河南蒙古族自治县",632325:"其它区",632500:"海南藏族自治州",632521:"共和县",632522:"同德县",632523:"贵德县",632524:"兴海县",632525:"贵南县",632526:"其它区",632600:"果洛藏族自治州",632621:"玛沁县",632622:"班玛县",632623:"甘德县",632624:"达日县",632625:"久治县",632626:"玛多县",632627:"其它区",632700:"玉树藏族自治州",632721:"玉树市",632722:"杂多县",632723:"称多县",632724:"治多县",632725:"囊谦县",632726:"曲麻莱县",632727:"其它区",632800:"海西蒙古族藏族自治州",632801:"格尔木市",632802:"德令哈市",632821:"乌兰县",632822:"都兰县",632823:"天峻县",632824:"其它区",64e4:"宁夏回族自治区",640100:"银川市",640104:"兴庆区",640105:"西夏区",640106:"金凤区",640121:"永宁县",640122:"贺兰县",640181:"灵武市",640182:"其它区",640200:"石嘴山市",640202:"大武口区",640205:"惠农区",640221:"平罗县",640222:"其它区",640300:"吴忠市",640302:"利通区",640303:"红寺堡区",640323:"盐池县",640324:"同心县",640381:"青铜峡市",640382:"其它区",640400:"固原市",640402:"原州区",640422:"西吉县",640423:"隆德县",640424:"泾源县",640425:"彭阳县",640426:"其它区",640500:"中卫市",640502:"沙坡头区",640521:"中宁县",640522:"海原县",640523:"其它区",65e4:"新疆维吾尔自治区",650100:"乌鲁木齐市",650102:"天山区",650103:"沙依巴克区",650104:"新市区",650105:"水磨沟区",650106:"头屯河区",650107:"达坂城区",650109:"米东区",650121:"乌鲁木齐县",650122:"其它区",650200:"克拉玛依市",650202:"独山子区",650203:"克拉玛依区",650204:"白碱滩区",650205:"乌尔禾区",650206:"其它区",652100:"吐鲁番地区",652101:"吐鲁番市",652122:"鄯善县",652123:"托克逊县",652124:"其它区",652200:"哈密地区",652201:"哈密市",652222:"巴里坤哈萨克自治县",652223:"伊吾县",652224:"其它区",652300:"昌吉回族自治州",652301:"昌吉市",652302:"阜康市",652323:"呼图壁县",652324:"玛纳斯县",652325:"奇台县",652327:"吉木萨尔县",652328:"木垒哈萨克自治县",652329:"其它区",652700:"博尔塔拉蒙古自治州",652701:"博乐市",652702:"阿拉山口市",652722:"精河县",652723:"温泉县",652724:"其它区",652800:"巴音郭楞蒙古自治州",652801:"库尔勒市",652822:"轮台县",652823:"尉犁县",652824:"若羌县",652825:"且末县",652826:"焉耆回族自治县",652827:"和静县",652828:"和硕县",652829:"博湖县",652830:"其它区",652900:"阿克苏地区",652901:"阿克苏市",652922:"温宿县",652923:"库车县",652924:"沙雅县",652925:"新和县",652926:"拜城县",652927:"乌什县",652928:"阿瓦提县",652929:"柯坪县",652930:"其它区",653e3:"克孜勒苏柯尔克孜自治州",653001:"阿图什市",653022:"阿克陶县",653023:"阿合奇县",653024:"乌恰县",653025:"其它区",653100:"喀什地区",653101:"喀什市",653121:"疏附县",653122:"疏勒县",653123:"英吉沙县",653124:"泽普县",653125:"莎车县",653126:"叶城县",653127:"麦盖提县",653128:"岳普湖县",653129:"伽师县",653130:"巴楚县",653131:"塔什库尔干塔吉克自治县",653132:"其它区",653200:"和田地区",653201:"和田市",653221:"和田县",653222:"墨玉县",653223:"皮山县",653224:"洛浦县",653225:"策勒县",653226:"于田县",653227:"民丰县",653228:"其它区",654e3:"伊犁哈萨克自治州",654002:"伊宁市",654003:"奎屯市",654021:"伊宁县",654022:"察布查尔锡伯自治县",654023:"霍城县",654024:"巩留县",654025:"新源县",654026:"昭苏县",654027:"特克斯县",654028:"尼勒克县",654029:"其它区",654200:"塔城地区",654201:"塔城市",654202:"乌苏市",654221:"额敏县",654223:"沙湾县",654224:"托里县",654225:"裕民县",654226:"和布克赛尔蒙古自治县",654227:"其它区",654300:"阿勒泰地区",654301:"阿勒泰市",654321:"布尔津县",654322:"富蕴县",654323:"福海县",654324:"哈巴河县",654325:"青河县",654326:"吉木乃县",654327:"其它区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",71e4:"台湾",710100:"台北市",710101:"中正区",710102:"大同区",710103:"中山区",710104:"松山区",710105:"大安区",710106:"万华区",710107:"信义区",710108:"士林区",710109:"北投区",710110:"内湖区",710111:"南港区",710112:"文山区",710113:"其它区",710200:"高雄市",710201:"新兴区",710202:"前金区",710203:"芩雅区",710204:"盐埕区",710205:"鼓山区",710206:"旗津区",710207:"前镇区",710208:"三民区",710209:"左营区",710210:"楠梓区",710211:"小港区",710212:"其它区",710241:"苓雅区",710242:"仁武区",710243:"大社区",710244:"冈山区",710245:"路竹区",710246:"阿莲区",710247:"田寮区",710248:"燕巢区",710249:"桥头区",710250:"梓官区",710251:"弥陀区",710252:"永安区",710253:"湖内区",710254:"凤山区",710255:"大寮区",710256:"林园区",710257:"鸟松区",710258:"大树区",710259:"旗山区",710260:"美浓区",710261:"六龟区",710262:"内门区",710263:"杉林区",710264:"甲仙区",710265:"桃源区",710266:"那玛夏区",710267:"茂林区",710268:"茄萣区",710300:"台南市",710301:"中西区",710302:"东区",710303:"南区",710304:"北区",710305:"安平区",710306:"安南区",710307:"其它区",710339:"永康区",710340:"归仁区",710341:"新化区",710342:"左镇区",710343:"玉井区",710344:"楠西区",710345:"南化区",710346:"仁德区",710347:"关庙区",710348:"龙崎区",710349:"官田区",710350:"麻豆区",710351:"佳里区",710352:"西港区",710353:"七股区",710354:"将军区",710355:"学甲区",710356:"北门区",710357:"新营区",710358:"后壁区",710359:"白河区",710360:"东山区",710361:"六甲区",710362:"下营区",710363:"柳营区",710364:"盐水区",710365:"善化区",710366:"大内区",710367:"山上区",710368:"新市区",710369:"安定区",710400:"台中市",710401:"中区",710402:"东区",710403:"南区",710404:"西区",710405:"北区",710406:"北屯区",710407:"西屯区",710408:"南屯区",710409:"其它区",710431:"太平区",710432:"大里区",710433:"雾峰区",710434:"乌日区",710435:"丰原区",710436:"后里区",710437:"石冈区",710438:"东势区",710439:"和平区",710440:"新社区",710441:"潭子区",710442:"大雅区",710443:"神冈区",710444:"大肚区",710445:"沙鹿区",710446:"龙井区",710447:"梧栖区",710448:"清水区",710449:"大甲区",710450:"外埔区",710451:"大安区",710500:"金门县",710507:"金沙镇",710508:"金湖镇",710509:"金宁乡",710510:"金城镇",710511:"烈屿乡",710512:"乌坵乡",710600:"南投县",710614:"南投市",710615:"中寮乡",710616:"草屯镇",710617:"国姓乡",710618:"埔里镇",710619:"仁爱乡",710620:"名间乡",710621:"集集镇",710622:"水里乡",710623:"鱼池乡",710624:"信义乡",710625:"竹山镇",710626:"鹿谷乡",710700:"基隆市",710701:"仁爱区",710702:"信义区",710703:"中正区",710704:"中山区",710705:"安乐区",710706:"暖暖区",710707:"七堵区",710708:"其它区",710800:"新竹市",710801:"东区",710802:"北区",710803:"香山区",710804:"其它区",710900:"嘉义市",710901:"东区",710902:"西区",710903:"其它区",711100:"新北市",711130:"万里区",711131:"金山区",711132:"板桥区",711133:"汐止区",711134:"深坑区",711135:"石碇区",711136:"瑞芳区",711137:"平溪区",711138:"双溪区",711139:"贡寮区",711140:"新店区",711141:"坪林区",711142:"乌来区",711143:"永和区",711144:"中和区",711145:"土城区",711146:"三峡区",711147:"树林区",711148:"莺歌区",711149:"三重区",711150:"新庄区",711151:"泰山区",711152:"林口区",711153:"芦洲区",711154:"五股区",711155:"八里区",711156:"淡水区",711157:"三芝区",711158:"石门区",711200:"宜兰县",711214:"宜兰市",711215:"头城镇",711216:"礁溪乡",711217:"壮围乡",711218:"员山乡",711219:"罗东镇",711220:"三星乡",711221:"大同乡",711222:"五结乡",711223:"冬山乡",711224:"苏澳镇",711225:"南澳乡",711226:"钓鱼台",711300:"新竹县",711314:"竹北市",711315:"湖口乡",711316:"新丰乡",711317:"新埔镇",711318:"关西镇",711319:"芎林乡",711320:"宝山乡",711321:"竹东镇",711322:"五峰乡",711323:"横山乡",711324:"尖石乡",711325:"北埔乡",711326:"峨眉乡",711400:"桃园县",711414:"中坜市",711415:"平镇市",711416:"龙潭乡",711417:"杨梅市",711418:"新屋乡",711419:"观音乡",711420:"桃园市",711421:"龟山乡",711422:"八德市",711423:"大溪镇",711424:"复兴乡",711425:"大园乡",711426:"芦竹乡",711500:"苗栗县",711519:"竹南镇",711520:"头份镇",711521:"三湾乡",711522:"南庄乡",711523:"狮潭乡",711524:"后龙镇",711525:"通霄镇",711526:"苑里镇",711527:"苗栗市",711528:"造桥乡",711529:"头屋乡",711530:"公馆乡",711531:"大湖乡",711532:"泰安乡",711533:"铜锣乡",711534:"三义乡",711535:"西湖乡",711536:"卓兰镇",711700:"彰化县",711727:"彰化市",711728:"芬园乡",711729:"花坛乡",711730:"秀水乡",711731:"鹿港镇",711732:"福兴乡",711733:"线西乡",711734:"和美镇",711735:"伸港乡",711736:"员林镇",711737:"社头乡",711738:"永靖乡",711739:"埔心乡",711740:"溪湖镇",711741:"大村乡",711742:"埔盐乡",711743:"田中镇",711744:"北斗镇",711745:"田尾乡",711746:"埤头乡",711747:"溪州乡",711748:"竹塘乡",711749:"二林镇",711750:"大城乡",711751:"芳苑乡",711752:"二水乡",711900:"嘉义县",711919:"番路乡",711920:"梅山乡",711921:"竹崎乡",711922:"阿里山乡",711923:"中埔乡",711924:"大埔乡",711925:"水上乡",711926:"鹿草乡",711927:"太保市",711928:"朴子市",711929:"东石乡",711930:"六脚乡",711931:"新港乡",711932:"民雄乡",711933:"大林镇",711934:"溪口乡",711935:"义竹乡",711936:"布袋镇",712100:"云林县",712121:"斗南镇",712122:"大埤乡",712123:"虎尾镇",712124:"土库镇",712125:"褒忠乡",712126:"东势乡",712127:"台西乡",712128:"仑背乡",712129:"麦寮乡",712130:"斗六市",712131:"林内乡",712132:"古坑乡",712133:"莿桐乡",712134:"西螺镇",712135:"二仑乡",712136:"北港镇",712137:"水林乡",712138:"口湖乡",712139:"四湖乡",712140:"元长乡",712400:"屏东县",712434:"屏东市",712435:"三地门乡",712436:"雾台乡",712437:"玛家乡",712438:"九如乡",712439:"里港乡",712440:"高树乡",712441:"盐埔乡",712442:"长治乡",712443:"麟洛乡",712444:"竹田乡",712445:"内埔乡",712446:"万丹乡",712447:"潮州镇",712448:"泰武乡",712449:"来义乡",712450:"万峦乡",712451:"崁顶乡",712452:"新埤乡",712453:"南州乡",712454:"林边乡",712455:"东港镇",712456:"琉球乡",712457:"佳冬乡",712458:"新园乡",712459:"枋寮乡",712460:"枋山乡",712461:"春日乡",712462:"狮子乡",712463:"车城乡",712464:"牡丹乡",712465:"恒春镇",712466:"满州乡",712500:"台东县",712517:"台东市",712518:"绿岛乡",712519:"兰屿乡",712520:"延平乡",712521:"卑南乡",712522:"鹿野乡",712523:"关山镇",712524:"海端乡",712525:"池上乡",712526:"东河乡",712527:"成功镇",712528:"长滨乡",712529:"金峰乡",712530:"大武乡",712531:"达仁乡",712532:"太麻里乡",712600:"花莲县",712615:"花莲市",712616:"新城乡",712617:"太鲁阁",712618:"秀林乡",712619:"吉安乡",712620:"寿丰乡",712621:"凤林镇",712622:"光复乡",712623:"丰滨乡",712624:"瑞穗乡",712625:"万荣乡",712626:"玉里镇",712627:"卓溪乡",712628:"富里乡",712700:"澎湖县",712707:"马公市",712708:"西屿乡",712709:"望安乡",712710:"七美乡",712711:"白沙乡",712712:"湖西乡",712800:"连江县",712805:"南竿乡",712806:"北竿乡",712807:"莒光乡",712808:"东引乡",81e4:"香港特别行政区",810100:"香港岛",810101:"中西区",810102:"湾仔",810103:"东区",810104:"南区",810200:"九龙",810201:"九龙城区",810202:"油尖旺区",810203:"深水埗区",810204:"黄大仙区",810205:"观塘区",810300:"新界",810301:"北区",810302:"大埔区",810303:"沙田区",810304:"西贡区",810305:"元朗区",810306:"屯门区",810307:"荃湾区",810308:"葵青区",810309:"离岛区",82e4:"澳门特别行政区",820100:"澳门半岛",820200:"离岛",99e4:"海外",990100:"海外"};function o(a){for(var l={},c=0,d;c<a.length;c++)d=a[c],!(!d||!d.id)&&(l[d.id]=d);for(var f=[],g=0;g<a.length;g++)if(d=a[g],!!d){if(d.pid==null&&d.parentId==null){f.push(d);continue}var v=l[d.pid]||l[d.parentId];v&&(v.children||(v.children=[]),v.children.push(d))}return f}var s=function(){var a=[];for(var l in r){var c=l.slice(2,6)==="0000"?void 0:l.slice(4,6)=="00"?l.slice(0,2)+"0000":l.slice(0,4)+"00";a.push({id:l,pid:c,name:r[l]})}return o(a)}();n.exports=s},function(n,e,r){var o=r(18);n.exports={d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var s="abcdefABCDEF1234567890",a=this.string(s,8)+"-"+this.string(s,4)+"-"+this.string(s,4)+"-"+this.string(s,4)+"-"+this.string(s,12);return a},uuid:function(){return this.guid()},id:function(){var s,a=0,l=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],c=["1","0","X","9","8","7","6","5","4","3","2"];s=this.pick(o).id+this.date("yyyyMMdd")+this.string("number",3);for(var d=0;d<s.length;d++)a+=s[d]*l[d];return s+=c[a%11],s},increment:function(){var s=0;return function(a){return s+=+a||1}}(),inc:function(s){return this.increment(s)}}},function(n,e,r){var o=r(21),s=r(22);n.exports={Parser:o,Handler:s}},function(n,e){function r(hn){this.type=hn,this.offset=r.offset(),this.text=r.text()}function o(hn,On){r.call(this,"alternate"),this.left=hn,this.right=On}function s(hn){r.call(this,"match"),this.body=hn.filter(Boolean)}function a(hn,On){r.call(this,hn),this.body=On}function l(hn){a.call(this,"capture-group"),this.index=Ue[this.offset]||(Ue[this.offset]=qe++),this.body=hn}function c(hn,On){r.call(this,"quantified"),this.body=hn,this.quantifier=On}function d(hn,On){r.call(this,"quantifier"),this.min=hn,this.max=On,this.greedy=!0}function f(hn,On){r.call(this,"charset"),this.invert=hn,this.body=On}function g(hn,On){r.call(this,"range"),this.start=hn,this.end=On}function v(hn){r.call(this,"literal"),this.body=hn,this.escaped=this.body!=this.text}function A(hn){r.call(this,"unicode"),this.code=hn.toUpperCase()}function M(hn){r.call(this,"hex"),this.code=hn.toUpperCase()}function Y(hn){r.call(this,"octal"),this.code=hn.toUpperCase()}function de(hn){r.call(this,"back-reference"),this.code=hn.toUpperCase()}function ae(hn){r.call(this,"control-character"),this.code=hn.toUpperCase()}var ze=function(){function hn(bn,wn){function Cn(){this.constructor=bn}Cn.prototype=wn.prototype,bn.prototype=new Cn}function On(bn,wn,Cn,En,_n){function Bn(jn,Un){function Rn(Xn){function xn(Mn){return Mn.charCodeAt(0).toString(16).toUpperCase()}return Xn.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(Mn){return"\\x0"+xn(Mn)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(Mn){return"\\x"+xn(Mn)}).replace(/[\u0180-\u0FFF]/g,function(Mn){return"\\u0"+xn(Mn)}).replace(/[\u1080-\uFFFF]/g,function(Mn){return"\\u"+xn(Mn)})}var Wn,$n;switch(jn.length){case 0:Wn="end of input";break;case 1:Wn=jn[0];break;default:Wn=jn.slice(0,-1).join(", ")+" or "+jn[jn.length-1]}return $n=Un?'"'+Rn(Un)+'"':"end of input","Expected "+Wn+" but "+$n+" found."}this.expected=bn,this.found=wn,this.offset=Cn,this.line=En,this.column=_n,this.name="SyntaxError",this.message=Bn(bn,wn)}function vn(bn){function wn(){return bn.substring(yr,In)}function Cn(){return yr}function En(Sn){function kn(ar,mr,br){var Qr,Wr;for(Qr=mr;br>Qr;Qr++)Wr=bn.charAt(Qr),Wr===`
`?(ar.seenCR||ar.line++,ar.column=1,ar.seenCR=!1):Wr==="\r"||Wr==="\u2028"||Wr==="\u2029"?(ar.line++,ar.column=1,ar.seenCR=!0):(ar.column++,ar.seenCR=!1)}return jr!==Sn&&(jr>Sn&&(jr=0,hi={line:1,column:1,seenCR:!1}),kn(hi,jr,Sn),jr=Sn),hi}function _n(Sn){ii>In||(In>ii&&(ii=In,oi=[]),oi.push(Sn))}function Bn(Sn){var kn=0;for(Sn.sort();kn<Sn.length;)Sn[kn-1]===Sn[kn]?Sn.splice(kn,1):kn++}function jn(){var Sn,kn,ar,mr,br;return Sn=In,kn=Un(),kn!==null?(ar=In,bn.charCodeAt(In)===124?(mr=ai,In++):(mr=null,fr===0&&_n(li)),mr!==null?(br=jn(),br!==null?(mr=[mr,br],ar=mr):(In=ar,ar=gr)):(In=ar,ar=gr),ar===null&&(ar=Rr),ar!==null?(yr=Sn,kn=Yr(kn,ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Un(){var Sn,kn,ar,mr,br;if(Sn=In,kn=Wn(),kn===null&&(kn=Rr),kn!==null)if(ar=In,fr++,mr=xn(),fr--,mr===null?ar=Rr:(In=ar,ar=gr),ar!==null){for(mr=[],br=Xn(),br===null&&(br=Rn());br!==null;)mr.push(br),br=Xn(),br===null&&(br=Rn());mr!==null?(br=$n(),br===null&&(br=Rr),br!==null?(yr=Sn,kn=ci(kn,mr,br),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)}else In=Sn,Sn=gr;else In=Sn,Sn=gr;return Sn}function Rn(){var Sn;return Sn=tr(),Sn===null&&(Sn=Pn(),Sn===null&&(Sn=Jn())),Sn}function Wn(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===94?(kn=Gr,In++):(kn=null,fr===0&&_n(Kr)),kn!==null&&(yr=Sn,kn=ui()),kn===null&&(In=Sn),Sn=kn,Sn}function $n(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===36?(kn=or,In++):(kn=null,fr===0&&_n(hr)),kn!==null&&(yr=Sn,kn=wr()),kn===null&&(In=Sn),Sn=kn,Sn}function Xn(){var Sn,kn,ar;return Sn=In,kn=Rn(),kn!==null?(ar=xn(),ar!==null?(yr=Sn,kn=_r(kn,ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function xn(){var Sn,kn,ar;return fr++,Sn=In,kn=Mn(),kn!==null?(ar=Yn(),ar===null&&(ar=Rr),ar!==null?(yr=Sn,kn=Br(kn,ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),fr--,Sn===null&&(kn=null,fr===0&&_n(Nr)),Sn}function Mn(){var Sn;return Sn=Qn(),Sn===null&&(Sn=Nn(),Sn===null&&(Sn=Hn(),Sn===null&&(Sn=Dn(),Sn===null&&(Sn=An(),Sn===null&&(Sn=Ln()))))),Sn}function Qn(){var Sn,kn,ar,mr,br,Qr;return Sn=In,bn.charCodeAt(In)===123?(kn=Dr,In++):(kn=null,fr===0&&_n(Ar)),kn!==null?(ar=er(),ar!==null?(bn.charCodeAt(In)===44?(mr=Er,In++):(mr=null,fr===0&&_n(Jr)),mr!==null?(br=er(),br!==null?(bn.charCodeAt(In)===125?(Qr=fi,In++):(Qr=null,fr===0&&_n(pi)),Qr!==null?(yr=Sn,kn=Hi(ar,br),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Nn(){var Sn,kn,ar,mr;return Sn=In,bn.charCodeAt(In)===123?(kn=Dr,In++):(kn=null,fr===0&&_n(Ar)),kn!==null?(ar=er(),ar!==null?(bn.substr(In,2)===mi?(mr=mi,In+=2):(mr=null,fr===0&&_n(Zi)),mr!==null?(yr=Sn,kn=Yi(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Hn(){var Sn,kn,ar,mr;return Sn=In,bn.charCodeAt(In)===123?(kn=Dr,In++):(kn=null,fr===0&&_n(Ar)),kn!==null?(ar=er(),ar!==null?(bn.charCodeAt(In)===125?(mr=fi,In++):(mr=null,fr===0&&_n(pi)),mr!==null?(yr=Sn,kn=Gi(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Dn(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===43?(kn=Ki,In++):(kn=null,fr===0&&_n(Ji)),kn!==null&&(yr=Sn,kn=eo()),kn===null&&(In=Sn),Sn=kn,Sn}function An(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===42?(kn=to,In++):(kn=null,fr===0&&_n(no)),kn!==null&&(yr=Sn,kn=ro()),kn===null&&(In=Sn),Sn=kn,Sn}function Ln(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===63?(kn=gi,In++):(kn=null,fr===0&&_n(Oi)),kn!==null&&(yr=Sn,kn=io()),kn===null&&(In=Sn),Sn=kn,Sn}function Yn(){var Sn;return bn.charCodeAt(In)===63?(Sn=gi,In++):(Sn=null,fr===0&&_n(Oi)),Sn}function er(){var Sn,kn,ar;if(Sn=In,kn=[],vi.test(bn.charAt(In))?(ar=bn.charAt(In),In++):(ar=null,fr===0&&_n(yi)),ar!==null)for(;ar!==null;)kn.push(ar),vi.test(bn.charAt(In))?(ar=bn.charAt(In),In++):(ar=null,fr===0&&_n(yi));else kn=gr;return kn!==null&&(yr=Sn,kn=oo(kn)),kn===null&&(In=Sn),Sn=kn,Sn}function tr(){var Sn,kn,ar,mr;return Sn=In,bn.charCodeAt(In)===40?(kn=so,In++):(kn=null,fr===0&&_n(ao)),kn!==null?(ar=cr(),ar===null&&(ar=Tn(),ar===null&&(ar=ir(),ar===null&&(ar=Gn()))),ar!==null?(bn.charCodeAt(In)===41?(mr=lo,In++):(mr=null,fr===0&&_n(co)),mr!==null?(yr=Sn,kn=uo(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Gn(){var Sn,kn;return Sn=In,kn=jn(),kn!==null&&(yr=Sn,kn=ho(kn)),kn===null&&(In=Sn),Sn=kn,Sn}function ir(){var Sn,kn,ar;return Sn=In,bn.substr(In,2)===bi?(kn=bi,In+=2):(kn=null,fr===0&&_n(fo)),kn!==null?(ar=jn(),ar!==null?(yr=Sn,kn=po(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function cr(){var Sn,kn,ar;return Sn=In,bn.substr(In,2)===Si?(kn=Si,In+=2):(kn=null,fr===0&&_n(mo)),kn!==null?(ar=jn(),ar!==null?(yr=Sn,kn=go(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Tn(){var Sn,kn,ar;return Sn=In,bn.substr(In,2)===wi?(kn=wi,In+=2):(kn=null,fr===0&&_n(Oo)),kn!==null?(ar=jn(),ar!==null?(yr=Sn,kn=vo(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Pn(){var Sn,kn,ar,mr,br;if(fr++,Sn=In,bn.charCodeAt(In)===91?(kn=bo,In++):(kn=null,fr===0&&_n(So)),kn!==null)if(bn.charCodeAt(In)===94?(ar=Gr,In++):(ar=null,fr===0&&_n(Kr)),ar===null&&(ar=Rr),ar!==null){for(mr=[],br=Vn(),br===null&&(br=Fn());br!==null;)mr.push(br),br=Vn(),br===null&&(br=Fn());mr!==null?(bn.charCodeAt(In)===93?(br=wo,In++):(br=null,fr===0&&_n(xo)),br!==null?(yr=Sn,kn=Co(ar,mr),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)}else In=Sn,Sn=gr;else In=Sn,Sn=gr;return fr--,Sn===null&&(kn=null,fr===0&&_n(yo)),Sn}function Vn(){var Sn,kn,ar,mr;return fr++,Sn=In,kn=Fn(),kn!==null?(bn.charCodeAt(In)===45?(ar=ko,In++):(ar=null,fr===0&&_n(To)),ar!==null?(mr=Fn(),mr!==null?(yr=Sn,kn=$o(kn,mr),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),fr--,Sn===null&&(kn=null,fr===0&&_n(_o)),Sn}function Fn(){var Sn;return fr++,Sn=Zn(),Sn===null&&(Sn=zn()),fr--,Sn===null&&fr===0&&_n(Po),Sn}function zn(){var Sn,kn;return Sn=In,Eo.test(bn.charAt(In))?(kn=bn.charAt(In),In++):(kn=null,fr===0&&_n(Ao)),kn!==null&&(yr=Sn,kn=di(kn)),kn===null&&(In=Sn),Sn=kn,Sn}function Zn(){var Sn;return Sn=sr(),Sn===null&&(Sn=Tr(),Sn===null&&(Sn=lr(),Sn===null&&(Sn=dr(),Sn===null&&(Sn=Or(),Sn===null&&(Sn=vr(),Sn===null&&(Sn=Sr(),Sn===null&&(Sn=xr(),Sn===null&&(Sn=Cr(),Sn===null&&(Sn=Pr(),Sn===null&&(Sn=$r(),Sn===null&&(Sn=Mr(),Sn===null&&(Sn=kr(),Sn===null&&(Sn=qr(),Sn===null&&(Sn=Xr(),Sn===null&&(Sn=Ir(),Sn===null&&(Sn=Ur(),Sn===null&&(Sn=Hr()))))))))))))))))),Sn}function Jn(){var Sn;return Sn=rr(),Sn===null&&(Sn=qn(),Sn===null&&(Sn=nr())),Sn}function rr(){var Sn,kn;return Sn=In,bn.charCodeAt(In)===46?(kn=No,In++):(kn=null,fr===0&&_n(Mo)),kn!==null&&(yr=Sn,kn=Ro()),kn===null&&(In=Sn),Sn=kn,Sn}function nr(){var Sn,kn;return fr++,Sn=In,Do.test(bn.charAt(In))?(kn=bn.charAt(In),In++):(kn=null,fr===0&&_n(Qo)),kn!==null&&(yr=Sn,kn=di(kn)),kn===null&&(In=Sn),Sn=kn,fr--,Sn===null&&(kn=null,fr===0&&_n(Bo)),Sn}function qn(){var Sn;return Sn=ur(),Sn===null&&(Sn=Kn(),Sn===null&&(Sn=Tr(),Sn===null&&(Sn=lr(),Sn===null&&(Sn=dr(),Sn===null&&(Sn=Or(),Sn===null&&(Sn=vr(),Sn===null&&(Sn=Sr(),Sn===null&&(Sn=xr(),Sn===null&&(Sn=Cr(),Sn===null&&(Sn=Pr(),Sn===null&&(Sn=$r(),Sn===null&&(Sn=Mr(),Sn===null&&(Sn=kr(),Sn===null&&(Sn=Vr(),Sn===null&&(Sn=qr(),Sn===null&&(Sn=Xr(),Sn===null&&(Sn=Ir(),Sn===null&&(Sn=Ur(),Sn===null&&(Sn=Hr()))))))))))))))))))),Sn}function sr(){var Sn,kn;return Sn=In,bn.substr(In,2)===ei?(kn=ei,In+=2):(kn=null,fr===0&&_n(xi)),kn!==null&&(yr=Sn,kn=Io()),kn===null&&(In=Sn),Sn=kn,Sn}function ur(){var Sn,kn;return Sn=In,bn.substr(In,2)===ei?(kn=ei,In+=2):(kn=null,fr===0&&_n(xi)),kn!==null&&(yr=Sn,kn=Vo()),kn===null&&(In=Sn),Sn=kn,Sn}function Kn(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ci?(kn=Ci,In+=2):(kn=null,fr===0&&_n(Lo)),kn!==null&&(yr=Sn,kn=zo()),kn===null&&(In=Sn),Sn=kn,Sn}function lr(){var Sn,kn;return Sn=In,bn.substr(In,2)===ki?(kn=ki,In+=2):(kn=null,fr===0&&_n(Fo)),kn!==null&&(yr=Sn,kn=jo()),kn===null&&(In=Sn),Sn=kn,Sn}function dr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ti?(kn=Ti,In+=2):(kn=null,fr===0&&_n(Wo)),kn!==null&&(yr=Sn,kn=qo()),kn===null&&(In=Sn),Sn=kn,Sn}function Or(){var Sn,kn;return Sn=In,bn.substr(In,2)===$i?(kn=$i,In+=2):(kn=null,fr===0&&_n(Xo)),kn!==null&&(yr=Sn,kn=Uo()),kn===null&&(In=Sn),Sn=kn,Sn}function vr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Pi?(kn=Pi,In+=2):(kn=null,fr===0&&_n(Ho)),kn!==null&&(yr=Sn,kn=Zo()),kn===null&&(In=Sn),Sn=kn,Sn}function Sr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ei?(kn=Ei,In+=2):(kn=null,fr===0&&_n(Yo)),kn!==null&&(yr=Sn,kn=Go()),kn===null&&(In=Sn),Sn=kn,Sn}function xr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ai?(kn=Ai,In+=2):(kn=null,fr===0&&_n(Ko)),kn!==null&&(yr=Sn,kn=Jo()),kn===null&&(In=Sn),Sn=kn,Sn}function Cr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ni?(kn=Ni,In+=2):(kn=null,fr===0&&_n(us)),kn!==null&&(yr=Sn,kn=hs()),kn===null&&(In=Sn),Sn=kn,Sn}function Pr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Mi?(kn=Mi,In+=2):(kn=null,fr===0&&_n(ps)),kn!==null&&(yr=Sn,kn=ms()),kn===null&&(In=Sn),Sn=kn,Sn}function $r(){var Sn,kn;return Sn=In,bn.substr(In,2)===Ri?(kn=Ri,In+=2):(kn=null,fr===0&&_n(gs)),kn!==null&&(yr=Sn,kn=Os()),kn===null&&(In=Sn),Sn=kn,Sn}function Mr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Bi?(kn=Bi,In+=2):(kn=null,fr===0&&_n(vs)),kn!==null&&(yr=Sn,kn=ys()),kn===null&&(In=Sn),Sn=kn,Sn}function kr(){var Sn,kn;return Sn=In,bn.substr(In,2)===Di?(kn=Di,In+=2):(kn=null,fr===0&&_n(bs)),kn!==null&&(yr=Sn,kn=Ss()),kn===null&&(In=Sn),Sn=kn,Sn}function Tr(){var Sn,kn,ar;return Sn=In,bn.substr(In,2)===Qi?(kn=Qi,In+=2):(kn=null,fr===0&&_n(ws)),kn!==null?(bn.length>In?(ar=bn.charAt(In),In++):(ar=null,fr===0&&_n(Ii)),ar!==null?(yr=Sn,kn=xs(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function Vr(){var Sn,kn,ar;return Sn=In,bn.charCodeAt(In)===92?(kn=Vi,In++):(kn=null,fr===0&&_n(Li)),kn!==null?(Cs.test(bn.charAt(In))?(ar=bn.charAt(In),In++):(ar=null,fr===0&&_n(_s)),ar!==null?(yr=Sn,kn=ks(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}function qr(){var Sn,kn,ar,mr;if(Sn=In,bn.substr(In,2)===ti?(kn=ti,In+=2):(kn=null,fr===0&&_n(zi)),kn!==null){if(ar=[],Fi.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ji)),mr!==null)for(;mr!==null;)ar.push(mr),Fi.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ji));else ar=gr;ar!==null?(yr=Sn,kn=Ts(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)}else In=Sn,Sn=gr;return Sn}function Xr(){var Sn,kn,ar,mr;if(Sn=In,bn.substr(In,2)===Wi?(kn=Wi,In+=2):(kn=null,fr===0&&_n($s)),kn!==null){if(ar=[],ni.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ri)),mr!==null)for(;mr!==null;)ar.push(mr),ni.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ri));else ar=gr;ar!==null?(yr=Sn,kn=Ps(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)}else In=Sn,Sn=gr;return Sn}function Ir(){var Sn,kn,ar,mr;if(Sn=In,bn.substr(In,2)===qi?(kn=qi,In+=2):(kn=null,fr===0&&_n(Es)),kn!==null){if(ar=[],ni.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ri)),mr!==null)for(;mr!==null;)ar.push(mr),ni.test(bn.charAt(In))?(mr=bn.charAt(In),In++):(mr=null,fr===0&&_n(ri));else ar=gr;ar!==null?(yr=Sn,kn=As(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)}else In=Sn,Sn=gr;return Sn}function Ur(){var Sn,kn;return Sn=In,bn.substr(In,2)===ti?(kn=ti,In+=2):(kn=null,fr===0&&_n(zi)),kn!==null&&(yr=Sn,kn=Ms()),kn===null&&(In=Sn),Sn=kn,Sn}function Hr(){var Sn,kn,ar;return Sn=In,bn.charCodeAt(In)===92?(kn=Vi,In++):(kn=null,fr===0&&_n(Li)),kn!==null?(bn.length>In?(ar=bn.charAt(In),In++):(ar=null,fr===0&&_n(Ii)),ar!==null?(yr=Sn,kn=di(ar),kn===null&&(In=Sn),Sn=kn):(In=Sn,Sn=gr)):(In=Sn,Sn=gr),Sn}var Lr,zr=arguments.length>1?arguments[1]:{},Fr={regexp:jn},Zr=jn,gr=null,Rr="",ai="|",li='"|"',Yr=function(Sn,kn){return kn?new o(Sn,kn[1]):Sn},ci=function(Sn,kn,ar){return new s([Sn].concat(kn).concat([ar]))},Gr="^",Kr='"^"',ui=function(){return new r("start")},or="$",hr='"$"',wr=function(){return new r("end")},_r=function(Sn,kn){return new c(Sn,kn)},Nr="Quantifier",Br=function(Sn,kn){return kn&&(Sn.greedy=!1),Sn},Dr="{",Ar='"{"',Er=",",Jr='","',fi="}",pi='"}"',Hi=function(Sn,kn){return new d(Sn,kn)},mi=",}",Zi='",}"',Yi=function(Sn){return new d(Sn,1/0)},Gi=function(Sn){return new d(Sn,Sn)},Ki="+",Ji='"+"',eo=function(){return new d(1,1/0)},to="*",no='"*"',ro=function(){return new d(0,1/0)},gi="?",Oi='"?"',io=function(){return new d(0,1)},vi=/^[0-9]/,yi="[0-9]",oo=function(Sn){return+Sn.join("")},so="(",ao='"("',lo=")",co='")"',uo=function(Sn){return Sn},ho=function(Sn){return new l(Sn)},bi="?:",fo='"?:"',po=function(Sn){return new a("non-capture-group",Sn)},Si="?=",mo='"?="',go=function(Sn){return new a("positive-lookahead",Sn)},wi="?!",Oo='"?!"',vo=function(Sn){return new a("negative-lookahead",Sn)},yo="CharacterSet",bo="[",So='"["',wo="]",xo='"]"',Co=function(Sn,kn){return new f(!!Sn,kn)},_o="CharacterRange",ko="-",To='"-"',$o=function(Sn,kn){return new g(Sn,kn)},Po="Character",Eo=/^[^\\\]]/,Ao="[^\\\\\\]]",di=function(Sn){return new v(Sn)},No=".",Mo='"."',Ro=function(){return new r("any-character")},Bo="Literal",Do=/^[^|\\\/.[()?+*$\^]/,Qo="[^|\\\\\\/.[()?+*$\\^]",ei="\\b",xi='"\\\\b"',Io=function(){return new r("backspace")},Vo=function(){return new r("word-boundary")},Ci="\\B",Lo='"\\\\B"',zo=function(){return new r("non-word-boundary")},ki="\\d",Fo='"\\\\d"',jo=function(){return new r("digit")},Ti="\\D",Wo='"\\\\D"',qo=function(){return new r("non-digit")},$i="\\f",Xo='"\\\\f"',Uo=function(){return new r("form-feed")},Pi="\\n",Ho='"\\\\n"',Zo=function(){return new r("line-feed")},Ei="\\r",Yo='"\\\\r"',Go=function(){return new r("carriage-return")},Ai="\\s",Ko='"\\\\s"',Jo=function(){return new r("white-space")},Ni="\\S",us='"\\\\S"',hs=function(){return new r("non-white-space")},Mi="\\t",ps='"\\\\t"',ms=function(){return new r("tab")},Ri="\\v",gs='"\\\\v"',Os=function(){return new r("vertical-tab")},Bi="\\w",vs='"\\\\w"',ys=function(){return new r("word")},Di="\\W",bs='"\\\\W"',Ss=function(){return new r("non-word")},Qi="\\c",ws='"\\\\c"',Ii="any character",xs=function(Sn){return new ae(Sn)},Vi="\\",Li='"\\\\"',Cs=/^[1-9]/,_s="[1-9]",ks=function(Sn){return new de(Sn)},ti="\\0",zi='"\\\\0"',Fi=/^[0-7]/,ji="[0-7]",Ts=function(Sn){return new Y(Sn.join(""))},Wi="\\x",$s='"\\\\x"',ni=/^[0-9a-fA-F]/,ri="[0-9a-fA-F]",Ps=function(Sn){return new M(Sn.join(""))},qi="\\u",Es='"\\\\u"',As=function(Sn){return new A(Sn.join(""))},Ms=function(){return new r("null-character")},In=0,yr=0,jr=0,hi={line:1,column:1,seenCR:!1},ii=0,oi=[],fr=0;if("startRule"in zr){if(!(zr.startRule in Fr))throw new Error(`Can't start parsing from rule "`+zr.startRule+'".');Zr=Fr[zr.startRule]}if(r.offset=Cn,r.text=wn,Lr=Zr(),Lr!==null&&In===bn.length)return Lr;throw Bn(oi),yr=Math.max(In,ii),new On(oi,yr<bn.length?bn.charAt(yr):null,yr,En(yr).line,En(yr).column)}return hn(On,Error),{SyntaxError:On,parse:vn}}(),qe=1,Ue={};n.exports=ze},function(n,e,r){var o=r(3),s=r(5),a={extend:o.extend},l=M(97,122),c=M(65,90),d=M(48,57),f=M(32,47)+M(58,64)+M(91,96)+M(123,126),g=M(32,126),v=` \f
\r	\v \u2028\u2029`,A={"\\w":l+c+d+"_","\\W":f.replace("_",""),"\\s":v,"\\S":function(){for(var Y=g,de=0;de<v.length;de++)Y=Y.replace(v[de],"");return Y}(),"\\d":d,"\\D":l+c+f};function M(Y,de){for(var ae="",ze=Y;ze<=de;ze++)ae+=String.fromCharCode(ze);return ae}a.gen=function(Y,de,ae){return ae=ae||{guid:1},a[Y.type]?a[Y.type](Y,de,ae):a.token(Y,de,ae)},a.extend({token:function(Y,de,ae){switch(Y.type){case"start":case"end":return"";case"any-character":return s.character();case"backspace":return"";case"word-boundary":return"";case"non-word-boundary":break;case"digit":return s.pick(d.split(""));case"non-digit":return s.pick((l+c+f).split(""));case"form-feed":break;case"line-feed":return Y.body||Y.text;case"carriage-return":break;case"white-space":return s.pick(v.split(""));case"non-white-space":return s.pick((l+c+d).split(""));case"tab":break;case"vertical-tab":break;case"word":return s.pick((l+c+d).split(""));case"non-word":return s.pick(f.replace("_","").split(""))}return Y.body||Y.text},alternate:function(Y,de,ae){return this.gen(s.boolean()?Y.left:Y.right,de,ae)},match:function(Y,de,ae){de="";for(var ze=0;ze<Y.body.length;ze++)de+=this.gen(Y.body[ze],de,ae);return de},"capture-group":function(Y,de,ae){return de=this.gen(Y.body,de,ae),ae[ae.guid++]=de,de},"non-capture-group":function(Y,de,ae){return this.gen(Y.body,de,ae)},"positive-lookahead":function(Y,de,ae){return this.gen(Y.body,de,ae)},"negative-lookahead":function(Y,de,ae){return""},quantified:function(Y,de,ae){de="";for(var ze=this.quantifier(Y.quantifier),qe=0;qe<ze;qe++)de+=this.gen(Y.body,de,ae);return de},quantifier:function(Y,de,ae){var ze=Math.max(Y.min,0),qe=isFinite(Y.max)?Y.max:ze+s.integer(3,7);return s.integer(ze,qe)},charset:function(Y,de,ae){if(Y.invert)return this["invert-charset"](Y,de,ae);var ze=s.pick(Y.body);return this.gen(ze,de,ae)},"invert-charset":function(Y,de,ae){for(var ze=g,qe=0,Ue;qe<Y.body.length;qe++)switch(Ue=Y.body[qe],Ue.type){case"literal":ze=ze.replace(Ue.body,"");break;case"range":for(var hn=this.gen(Ue.start,de,ae).charCodeAt(),On=this.gen(Ue.end,de,ae).charCodeAt(),vn=hn;vn<=On;vn++)ze=ze.replace(String.fromCharCode(vn),"");default:var bn=A[Ue.text];if(bn)for(var wn=0;wn<=bn.length;wn++)ze=ze.replace(bn[wn],"")}return s.pick(ze.split(""))},range:function(Y,de,ae){var ze=this.gen(Y.start,de,ae).charCodeAt(),qe=this.gen(Y.end,de,ae).charCodeAt();return String.fromCharCode(s.integer(ze,qe))},literal:function(Y,de,ae){return Y.escaped?Y.body:Y.text},unicode:function(Y,de,ae){return String.fromCharCode(parseInt(Y.code,16))},hex:function(Y,de,ae){return String.fromCharCode(parseInt(Y.code,16))},octal:function(Y,de,ae){return String.fromCharCode(parseInt(Y.code,8))},"back-reference":function(Y,de,ae){return ae[Y.code]||""},CONTROL_CHARACTER_MAP:function(){for(var Y="@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \\ ] ^ _".split(" "),de=`\0       \x07 \b 	 
 \v \f \r              \x1B    `.split(" "),ae={},ze=0;ze<Y.length;ze++)ae[Y[ze]]=de[ze];return ae}(),"control-character":function(Y,de,ae){return this.CONTROL_CHARACTER_MAP[Y.code]}}),n.exports=a},function(n,e,r){n.exports=r(24)},function(n,e,r){var o=r(2),s=r(3),a=r(4);function l(c,d,f){f=f||[];var g={name:typeof d=="string"?d.replace(o.RE_KEY,"$1"):d,template:c,type:s.type(c),rule:a.parse(d)};switch(g.path=f.slice(0),g.path.push(d===void 0?"ROOT":g.name),g.type){case"array":g.items=[],s.each(c,function(v,A){g.items.push(l(v,A,g.path))});break;case"object":g.properties=[],s.each(c,function(v,A){g.properties.push(l(v,A,g.path))});break}return g}n.exports=l},function(n,e,r){n.exports=r(26)},function(n,e,r){var o=r(2),s=r(3),a=r(23);function l(f,g){for(var v=a(f),A=c.diff(v,g),M=0;M<A.length;M++);return A}var c={diff:function(g,v,A){var M=[];return this.name(g,v,A,M)&&this.type(g,v,A,M)&&(this.value(g,v,A,M),this.properties(g,v,A,M),this.items(g,v,A,M)),M},name:function(f,g,v,A){var M=A.length;return d.equal("name",f.path,v+"",f.name+"",A),A.length===M},type:function(f,g,v,A){var M=A.length;switch(f.type){case"string":if(f.template.match(o.RE_PLACEHOLDER))return!0;break;case"array":if(f.rule.parameters&&(f.rule.min!==void 0&&f.rule.max===void 0&&f.rule.count===1||f.rule.parameters[2]))return!0;break;case"function":return!0}return d.equal("type",f.path,s.type(g),f.type,A),A.length===M},value:function(f,g,v,A){var M=A.length,Y=f.rule,de=f.type;if(de==="object"||de==="array"||de==="function")return!0;if(!Y.parameters){switch(de){case"regexp":return d.match("value",f.path,g,f.template,A),A.length===M;case"string":if(f.template.match(o.RE_PLACEHOLDER))return A.length===M;break}return d.equal("value",f.path,g,f.template,A),A.length===M}var ae;switch(de){case"number":var ze=(g+"").split(".");ze[0]=+ze[0],Y.min!==void 0&&Y.max!==void 0&&(d.greaterThanOrEqualTo("value",f.path,ze[0],Math.min(Y.min,Y.max),A),d.lessThanOrEqualTo("value",f.path,ze[0],Math.max(Y.min,Y.max),A)),Y.min!==void 0&&Y.max===void 0&&d.equal("value",f.path,ze[0],Y.min,A,"[value] "+v),Y.decimal&&(Y.dmin!==void 0&&Y.dmax!==void 0&&(d.greaterThanOrEqualTo("value",f.path,ze[1].length,Y.dmin,A),d.lessThanOrEqualTo("value",f.path,ze[1].length,Y.dmax,A)),Y.dmin!==void 0&&Y.dmax===void 0&&d.equal("value",f.path,ze[1].length,Y.dmin,A));break;case"boolean":break;case"string":ae=g.match(new RegExp(f.template,"g")),ae=ae?ae.length:0,Y.min!==void 0&&Y.max!==void 0&&(d.greaterThanOrEqualTo("repeat count",f.path,ae,Y.min,A),d.lessThanOrEqualTo("repeat count",f.path,ae,Y.max,A)),Y.min!==void 0&&Y.max===void 0&&d.equal("repeat count",f.path,ae,Y.min,A);break;case"regexp":ae=g.match(new RegExp(f.template.source.replace(/^\^|\$$/g,""),"g")),ae=ae?ae.length:0,Y.min!==void 0&&Y.max!==void 0&&(d.greaterThanOrEqualTo("repeat count",f.path,ae,Y.min,A),d.lessThanOrEqualTo("repeat count",f.path,ae,Y.max,A)),Y.min!==void 0&&Y.max===void 0&&d.equal("repeat count",f.path,ae,Y.min,A);break}return A.length===M},properties:function(f,g,v,A){var M=A.length,Y=f.rule,de=s.keys(g);if(f.properties){if(f.rule.parameters?(Y.min!==void 0&&Y.max!==void 0&&(d.greaterThanOrEqualTo("properties length",f.path,de.length,Math.min(Y.min,Y.max),A),d.lessThanOrEqualTo("properties length",f.path,de.length,Math.max(Y.min,Y.max),A)),Y.min!==void 0&&Y.max===void 0&&Y.count!==1&&d.equal("properties length",f.path,de.length,Y.min,A)):d.equal("properties length",f.path,de.length,f.properties.length,A),A.length!==M)return!1;for(var ae=0;ae<de.length;ae++)A.push.apply(A,this.diff(function(){var ze;return s.each(f.properties,function(qe){qe.name===de[ae]&&(ze=qe)}),ze||f.properties[ae]}(),g[de[ae]],de[ae]));return A.length===M}},items:function(f,g,v,A){var M=A.length;if(f.items){var Y=f.rule;if(!f.rule.parameters)d.equal("items length",f.path,g.length,f.items.length,A);else{if(Y.min!==void 0&&Y.max!==void 0&&(d.greaterThanOrEqualTo("items",f.path,g.length,Math.min(Y.min,Y.max)*f.items.length,A,"[{utype}] array is too short: {path} must have at least {expected} elements but instance has {actual} elements"),d.lessThanOrEqualTo("items",f.path,g.length,Math.max(Y.min,Y.max)*f.items.length,A,"[{utype}] array is too long: {path} must have at most {expected} elements but instance has {actual} elements")),Y.min!==void 0&&Y.max===void 0){if(Y.count===1)return A.length===M;d.equal("items length",f.path,g.length,Y.min*f.items.length,A)}if(Y.parameters[2])return A.length===M}if(A.length!==M)return!1;for(var de=0;de<g.length;de++)A.push.apply(A,this.diff(f.items[de%f.items.length],g[de],de%f.items.length));return A.length===M}}},d={message:function(f){return(f.message||"[{utype}] Expect {path}'{ltype} {action} {expected}, but is {actual}").replace("{utype}",f.type.toUpperCase()).replace("{ltype}",f.type.toLowerCase()).replace("{path}",s.isArray(f.path)&&f.path.join(".")||f.path).replace("{action}",f.action).replace("{expected}",f.expected).replace("{actual}",f.actual)},equal:function(f,g,v,A,M,Y){if(v===A)return!0;switch(f){case"type":if(A==="regexp"&&v==="string")return!0;break}var de={path:g,type:f,actual:v,expected:A,action:"is equal to",message:Y};return de.message=d.message(de),M.push(de),!1},match:function(f,g,v,A,M,Y){if(A.test(v))return!0;var de={path:g,type:f,actual:v,expected:A,action:"matches",message:Y};return de.message=d.message(de),M.push(de),!1},notEqual:function(f,g,v,A,M,Y){if(v!==A)return!0;var de={path:g,type:f,actual:v,expected:A,action:"is not equal to",message:Y};return de.message=d.message(de),M.push(de),!1},greaterThan:function(f,g,v,A,M,Y){if(v>A)return!0;var de={path:g,type:f,actual:v,expected:A,action:"is greater than",message:Y};return de.message=d.message(de),M.push(de),!1},lessThan:function(f,g,v,A,M,Y){if(v<A)return!0;var de={path:g,type:f,actual:v,expected:A,action:"is less to",message:Y};return de.message=d.message(de),M.push(de),!1},greaterThanOrEqualTo:function(f,g,v,A,M,Y){if(v>=A)return!0;var de={path:g,type:f,actual:v,expected:A,action:"is greater than or equal to",message:Y};return de.message=d.message(de),M.push(de),!1},lessThanOrEqualTo:function(f,g,v,A,M,Y){if(v<=A)return!0;var de={path:g,type:f,actual:v,expected:A,action:"is less than or equal to",message:Y};return de.message=d.message(de),M.push(de),!1}};l.Diff=c,l.Assert=d,n.exports=l},function(n,e,r){n.exports=r(28)},function(n,e,r){var o=r(3);window._XMLHttpRequest=window.XMLHttpRequest,window._ActiveXObject=window.ActiveXObject;try{new window.Event("custom")}catch{window.Event=function(Y,de,ae,ze){var qe=document.createEvent("CustomEvent");return qe.initCustomEvent(Y,de,ae,ze),qe}}var s={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a="readystatechange loadstart progress abort error load timeout loadend".split(" "),l="timeout withCredentials".split(" "),c="readyState responseURL status statusText responseType response responseText responseXML".split(" "),d={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function f(){this.custom={events:{},requestHeaders:{},responseHeaders:{}}}f._settings={timeout:"10-100"},f.setup=function(M){return o.extend(f._settings,M),f._settings},o.extend(f,s),o.extend(f.prototype,s),f.prototype.mock=!0,f.prototype.match=!1,o.extend(f.prototype,{open:function(M,Y,de,ae,ze){var qe=this;o.extend(this.custom,{method:M,url:Y,async:typeof de=="boolean"?de:!0,username:ae,password:ze,options:{url:Y,type:M}}),this.custom.timeout=function(wn){if(typeof wn=="number")return wn;if(typeof wn=="string"&&!~wn.indexOf("-"))return parseInt(wn,10);if(typeof wn=="string"&&~wn.indexOf("-")){var Cn=wn.split("-"),En=parseInt(Cn[0],10),_n=parseInt(Cn[1],10);return Math.round(Math.random()*(_n-En))+En}}(f._settings.timeout);var Ue=v(this.custom.options);function hn(wn){for(var Cn=0;Cn<c.length;Cn++)try{qe[c[Cn]]=On[c[Cn]]}catch{}qe.dispatchEvent(new Event(wn.type))}if(!Ue){var On=g();this.custom.xhr=On;for(var vn=0;vn<a.length;vn++)On.addEventListener(a[vn],hn);ae?On.open(M,Y,de,ae,ze):On.open(M,Y,de);for(var bn=0;bn<l.length;bn++)try{On[l[bn]]=qe[l[bn]]}catch{}return}this.match=!0,this.custom.template=Ue,this.readyState=f.OPENED,this.dispatchEvent(new Event("readystatechange"))},setRequestHeader:function(M,Y){if(!this.match){this.custom.xhr.setRequestHeader(M,Y);return}var de=this.custom.requestHeaders;de[M]?de[M]+=","+Y:de[M]=Y},timeout:0,withCredentials:!1,upload:{},send:function(Y){var de=this;if(this.custom.options.body=Y,!this.match){this.custom.xhr.send(Y);return}this.setRequestHeader("X-Requested-With","MockXMLHttpRequest"),this.dispatchEvent(new Event("loadstart")),this.custom.async?setTimeout(ae,this.custom.timeout):ae();function ae(){de.readyState=f.HEADERS_RECEIVED,de.dispatchEvent(new Event("readystatechange")),de.readyState=f.LOADING,de.dispatchEvent(new Event("readystatechange")),de.status=200,de.statusText=d[200],de.response=de.responseText=JSON.stringify(A(de.custom.template,de.custom.options),null,4),de.readyState=f.DONE,de.dispatchEvent(new Event("readystatechange")),de.dispatchEvent(new Event("load")),de.dispatchEvent(new Event("loadend"))}},abort:function(){if(!this.match){this.custom.xhr.abort();return}this.readyState=f.UNSENT,this.dispatchEvent(new Event("abort",!1,!1,this)),this.dispatchEvent(new Event("error",!1,!1,this))}}),o.extend(f.prototype,{responseURL:"",status:f.UNSENT,statusText:"",getResponseHeader:function(M){return this.match?this.custom.responseHeaders[M.toLowerCase()]:this.custom.xhr.getResponseHeader(M)},getAllResponseHeaders:function(){if(!this.match)return this.custom.xhr.getAllResponseHeaders();var M=this.custom.responseHeaders,Y="";for(var de in M)M.hasOwnProperty(de)&&(Y+=de+": "+M[de]+`\r
`);return Y},overrideMimeType:function(){},responseType:"",response:null,responseText:"",responseXML:null}),o.extend(f.prototype,{addEventListener:function(Y,de){var ae=this.custom.events;ae[Y]||(ae[Y]=[]),ae[Y].push(de)},removeEventListener:function(Y,de){for(var ae=this.custom.events[Y]||[],ze=0;ze<ae.length;ze++)ae[ze]===de&&ae.splice(ze--,1)},dispatchEvent:function(Y){for(var de=this.custom.events[Y.type]||[],ae=0;ae<de.length;ae++)de[ae].call(this,Y);var ze="on"+Y.type;this[ze]&&this[ze](Y)}});function g(){var M=function(){var ae=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qe=location.href,Ue=ze.exec(qe.toLowerCase())||[];return ae.test(Ue[1])}();return window.ActiveXObject?!M&&Y()||de():Y();function Y(){try{return new window._XMLHttpRequest}catch{}}function de(){try{return new window._ActiveXObject("Microsoft.XMLHTTP")}catch{}}}function v(M){for(var Y in f.Mock._mocked){var de=f.Mock._mocked[Y];if((!de.rurl||ae(de.rurl,M.url))&&(!de.rtype||ae(de.rtype,M.type.toLowerCase())))return de}function ae(ze,qe){if(o.type(ze)==="string")return ze===qe;if(o.type(ze)==="regexp")return ze.test(qe)}}function A(M,Y){return o.isFunction(M.template)?M.template(Y):f.Mock.mock(M.template)}n.exports=f}])})})(mock);(function(){if(typeof EventTarget<"u"){let n=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(e,r,o){this.func=n,typeof o!="boolean"&&(o=o||{},o.passive=!1),this.func(e,r,o)}}})();var fabric={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(n){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(n.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var r=require$$2,o=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=o.document,e.jsdomImplForWrapper=require$$2.implForWrapper,e.nodeCanvas=require$$2.Canvas,e.window=o,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function c(M,Y){if(this.__eventListeners[M]){var de=this.__eventListeners[M];Y?de[de.indexOf(Y)]=!1:e.util.array.fill(de,!1)}}function d(M,Y){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var de in M)this.on(de,M[de]);else this.__eventListeners[M]||(this.__eventListeners[M]=[]),this.__eventListeners[M].push(Y);return this}function f(M,Y){var de=(function(){Y.apply(this,arguments),this.off(M,de)}).bind(this);this.on(M,de)}function g(M,Y){if(arguments.length===1)for(var de in M)f.call(this,de,M[de]);else f.call(this,M,Y);return this}function v(M,Y){if(!this.__eventListeners)return this;if(arguments.length===0)for(M in this.__eventListeners)c.call(this,M);else if(arguments.length===1&&typeof arguments[0]=="object")for(var de in M)c.call(this,de,M[de]);else c.call(this,M,Y);return this}function A(M,Y){if(!this.__eventListeners)return this;var de=this.__eventListeners[M];if(!de)return this;for(var ae=0,ze=de.length;ae<ze;ae++)de[ae]&&de[ae].call(this,Y||{});return this.__eventListeners[M]=de.filter(function(qe){return qe!==!1}),this}e.Observable={fire:A,on:d,once:g,off:v}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,d=arguments.length;c<d;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,d,f){var g=this._objects;return f?g[d]=c:g.splice(d,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,d,f=!1,g=0,v=arguments.length;g<v;g++)d=c.indexOf(arguments[g]),d!==-1&&(f=!0,c.splice(d,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(c,d){for(var f=this.getObjects(),g=0,v=f.length;g<v;g++)c.call(d,f[g],g,f);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(d){return d.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,d){return this._objects.indexOf(c)>-1?!0:d?this._objects.some(function(f){return typeof f.contains=="function"&&f.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,d){return c+=d.complexity?d.complexity():0,c},0)}},e.CommonMethods={_setOptions:function(c){for(var d in c)this.set(d,c[d])},_initGradient:function(c,d){c&&c.colorStops&&!(c instanceof e.Gradient)&&this.set(d,new e.Gradient(c))},_initPattern:function(c,d,f){c&&c.source&&!(c instanceof e.Pattern)?this.set(d,new e.Pattern(c,f)):f&&f()},_setObject:function(c){for(var d in c)this._set(d,c[d])},set:function(c,d){return typeof c=="object"?this._setObject(c):this._set(c,d),this},_set:function(c,d){this[c]=d},toggle:function(c){var d=this.get(c);return typeof d=="boolean"&&this.set(c,!d),this},get:function(c){return this[c]}},function(c){var d=Math.sqrt,f=Math.atan2,g=Math.pow,v=Math.PI/180,A=Math.PI/2;e.util={cos:function(M){if(M===0)return 1;M<0&&(M=-M);var Y=M/A;switch(Y){case 1:case 3:return 0;case 2:return-1}return Math.cos(M)},sin:function(M){if(M===0)return 0;var Y=M/A,de=1;switch(M<0&&(de=-1),Y){case 1:return de;case 2:return 0;case 3:return-de}return Math.sin(M)},removeFromArray:function(M,Y){var de=M.indexOf(Y);return de!==-1&&M.splice(de,1),M},getRandomInt:function(M,Y){return Math.floor(Math.random()*(Y-M+1))+M},degreesToRadians:function(M){return M*v},radiansToDegrees:function(M){return M/v},rotatePoint:function(M,Y,de){var ae=new e.Point(M.x-Y.x,M.y-Y.y),ze=e.util.rotateVector(ae,de);return new e.Point(ze.x,ze.y).addEquals(Y)},rotateVector:function(M,Y){var de=e.util.sin(Y),ae=e.util.cos(Y),ze=M.x*ae-M.y*de,qe=M.x*de+M.y*ae;return{x:ze,y:qe}},createVector:function(M,Y){return new e.Point(Y.x-M.x,Y.y-M.y)},calcAngleBetweenVectors:function(M,Y){return Math.acos((M.x*Y.x+M.y*Y.y)/(Math.hypot(M.x,M.y)*Math.hypot(Y.x,Y.y)))},getHatVector:function(M){return new e.Point(M.x,M.y).multiply(1/Math.hypot(M.x,M.y))},getBisector:function(M,Y,de){var ae=e.util.createVector(M,Y),ze=e.util.createVector(M,de),qe=e.util.calcAngleBetweenVectors(ae,ze),Ue=e.util.calcAngleBetweenVectors(e.util.rotateVector(ae,qe),ze),hn=qe*(Ue===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(ae,hn)),angle:qe}},projectStrokeOnPoints:function(M,Y,de){var ae=[],ze=Y.strokeWidth/2,qe=Y.strokeUniform?new e.Point(1/Y.scaleX,1/Y.scaleY):new e.Point(1,1),Ue=function(hn){var On=ze/Math.hypot(hn.x,hn.y);return new e.Point(hn.x*On*qe.x,hn.y*On*qe.y)};return M.length<=1||M.forEach(function(hn,On){var vn=new e.Point(hn.x,hn.y),bn,wn;On===0?(wn=M[On+1],bn=de?Ue(e.util.createVector(wn,vn)).addEquals(vn):M[M.length-1]):On===M.length-1?(bn=M[On-1],wn=de?Ue(e.util.createVector(bn,vn)).addEquals(vn):M[0]):(bn=M[On-1],wn=M[On+1]);var Cn=e.util.getBisector(vn,bn,wn),En=Cn.vector,_n=Cn.angle,Bn,jn;if(Y.strokeLineJoin==="miter"&&(Bn=-ze/Math.sin(_n/2),jn=new e.Point(En.x*Bn*qe.x,En.y*Bn*qe.y),Math.hypot(jn.x,jn.y)/ze<=Y.strokeMiterLimit)){ae.push(vn.add(jn)),ae.push(vn.subtract(jn));return}Bn=-ze*Math.SQRT2,jn=new e.Point(En.x*Bn*qe.x,En.y*Bn*qe.y),ae.push(vn.add(jn)),ae.push(vn.subtract(jn))}),ae},transformPoint:function(M,Y,de){return de?new e.Point(Y[0]*M.x+Y[2]*M.y,Y[1]*M.x+Y[3]*M.y):new e.Point(Y[0]*M.x+Y[2]*M.y+Y[4],Y[1]*M.x+Y[3]*M.y+Y[5])},makeBoundingBoxFromPoints:function(M,Y){if(Y)for(var de=0;de<M.length;de++)M[de]=e.util.transformPoint(M[de],Y);var ae=[M[0].x,M[1].x,M[2].x,M[3].x],ze=e.util.array.min(ae),qe=e.util.array.max(ae),Ue=qe-ze,hn=[M[0].y,M[1].y,M[2].y,M[3].y],On=e.util.array.min(hn),vn=e.util.array.max(hn),bn=vn-On;return{left:ze,top:On,width:Ue,height:bn}},invertTransform:function(M){var Y=1/(M[0]*M[3]-M[1]*M[2]),de=[Y*M[3],-Y*M[1],-Y*M[2],Y*M[0]],ae=e.util.transformPoint({x:M[4],y:M[5]},de,!0);return de[4]=-ae.x,de[5]=-ae.y,de},toFixed:function(M,Y){return parseFloat(Number(M).toFixed(Y))},parseUnit:function(M,Y){var de=/\D{0,2}$/.exec(M),ae=parseFloat(M);switch(Y||(Y=e.Text.DEFAULT_SVG_FONT_SIZE),de[0]){case"mm":return ae*e.DPI/25.4;case"cm":return ae*e.DPI/2.54;case"in":return ae*e.DPI;case"pt":return ae*e.DPI/72;case"pc":return ae*e.DPI/72*12;case"em":return ae*Y;default:return ae}},falseFunction:function(){return!1},getKlass:function(M,Y){return M=e.util.string.camelize(M.charAt(0).toUpperCase()+M.slice(1)),e.util.resolveNamespace(Y)[M]},getSvgAttributes:function(M){var Y=["instantiated_by_use","style","id","class"];switch(M){case"linearGradient":Y=Y.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":Y=Y.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":Y=Y.concat(["offset","stop-color","stop-opacity"]);break}return Y},resolveNamespace:function(M){if(!M)return e;var Y=M.split("."),de=Y.length,ae,ze=c||e.window;for(ae=0;ae<de;++ae)ze=ze[Y[ae]];return ze},loadImage:function(M,Y,de,ae){if(!M){Y&&Y.call(de,M);return}var ze=e.util.createImage(),qe=function(){Y&&Y.call(de,ze,!1),ze=ze.onload=ze.onerror=null};ze.onload=qe,ze.onerror=function(){e.log("Error loading "+ze.src),Y&&Y.call(de,null,!0),ze=ze.onload=ze.onerror=null},M.indexOf("data")!==0&&ae!==void 0&&ae!==null&&(ze.crossOrigin=ae),M.substring(0,14)==="data:image/svg"&&(ze.onload=null,e.util.loadImageInDom(ze,qe)),ze.src=M},loadImageInDom:function(M,Y){var de=e.document.createElement("div");de.style.width=de.style.height="1px",de.style.left=de.style.top="-100%",de.style.position="absolute",de.appendChild(M),e.document.querySelector("body").appendChild(de),M.onload=function(){Y(),de.parentNode.removeChild(de),de=null}},enlivenObjects:function(M,Y,de,ae){M=M||[];var ze=[],qe=0,Ue=M.length;function hn(){++qe===Ue&&Y&&Y(ze.filter(function(On){return On}))}if(!Ue){Y&&Y(ze);return}M.forEach(function(On,vn){if(!On||!On.type){hn();return}var bn=e.util.getKlass(On.type,de);bn.fromObject(On,function(wn,Cn){Cn||(ze[vn]=wn),ae&&ae(On,wn,Cn),hn()})})},enlivenObjectEnlivables:function(M,Y,de){var ae=e.Object.ENLIVEN_PROPS.filter(function(ze){return!!M[ze]});e.util.enlivenObjects(ae.map(function(ze){return M[ze]}),function(ze){var qe={};ae.forEach(function(Ue,hn){qe[Ue]=ze[hn],Y&&(Y[Ue]=ze[hn])}),de&&de(qe)})},enlivenPatterns:function(M,Y){M=M||[];function de(){++ze===qe&&Y&&Y(ae)}var ae=[],ze=0,qe=M.length;if(!qe){Y&&Y(ae);return}M.forEach(function(Ue,hn){Ue&&Ue.source?new e.Pattern(Ue,function(On){ae[hn]=On,de()}):(ae[hn]=Ue,de())})},groupSVGElements:function(M,Y,de){var ae;return M&&M.length===1?(typeof de<"u"&&(M[0].sourcePath=de),M[0]):(Y&&(Y.width&&Y.height?Y.centerPoint={x:Y.width/2,y:Y.height/2}:(delete Y.width,delete Y.height)),ae=new e.Group(M,Y),typeof de<"u"&&(ae.sourcePath=de),ae)},populateWithProperties:function(M,Y,de){if(de&&Array.isArray(de))for(var ae=0,ze=de.length;ae<ze;ae++)de[ae]in M&&(Y[de[ae]]=M[de[ae]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(M){var Y=e.util.createCanvasElement();return Y.width=M.width,Y.height=M.height,Y.getContext("2d").drawImage(M,0,0),Y},toDataURL:function(M,Y,de){return M.toDataURL("image/"+Y,de)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(M,Y,de){return[M[0]*Y[0]+M[2]*Y[1],M[1]*Y[0]+M[3]*Y[1],M[0]*Y[2]+M[2]*Y[3],M[1]*Y[2]+M[3]*Y[3],de?0:M[0]*Y[4]+M[2]*Y[5]+M[4],de?0:M[1]*Y[4]+M[3]*Y[5]+M[5]]},qrDecompose:function(M){var Y=f(M[1],M[0]),de=g(M[0],2)+g(M[1],2),ae=d(de),ze=(M[0]*M[3]-M[2]*M[1])/ae,qe=f(M[0]*M[2]+M[1]*M[3],de);return{angle:Y/v,scaleX:ae,scaleY:ze,skewX:qe/v,skewY:0,translateX:M[4],translateY:M[5]}},calcRotateMatrix:function(M){if(!M.angle)return e.iMatrix.concat();var Y=e.util.degreesToRadians(M.angle),de=e.util.cos(Y),ae=e.util.sin(Y);return[de,ae,-ae,de,0,0]},calcDimensionsMatrix:function(M){var Y=typeof M.scaleX>"u"?1:M.scaleX,de=typeof M.scaleY>"u"?1:M.scaleY,ae=[M.flipX?-Y:Y,0,0,M.flipY?-de:de,0,0],ze=e.util.multiplyTransformMatrices,qe=e.util.degreesToRadians;return M.skewX&&(ae=ze(ae,[1,0,Math.tan(qe(M.skewX)),1],!0)),M.skewY&&(ae=ze(ae,[1,Math.tan(qe(M.skewY)),0,1],!0)),ae},composeMatrix:function(M){var Y=[1,0,0,1,M.translateX||0,M.translateY||0],de=e.util.multiplyTransformMatrices;return M.angle&&(Y=de(Y,e.util.calcRotateMatrix(M))),(M.scaleX!==1||M.scaleY!==1||M.skewX||M.skewY||M.flipX||M.flipY)&&(Y=de(Y,e.util.calcDimensionsMatrix(M))),Y},resetObjectTransform:function(M){M.scaleX=1,M.scaleY=1,M.skewX=0,M.skewY=0,M.flipX=!1,M.flipY=!1,M.rotate(0)},saveObjectTransform:function(M){return{scaleX:M.scaleX,scaleY:M.scaleY,skewX:M.skewX,skewY:M.skewY,angle:M.angle,left:M.left,flipX:M.flipX,flipY:M.flipY,top:M.top}},isTransparent:function(M,Y,de,ae){ae>0&&(Y>ae?Y-=ae:Y=0,de>ae?de-=ae:de=0);var ze=!0,qe,Ue,hn=M.getImageData(Y,de,ae*2||1,ae*2||1),On=hn.data.length;for(qe=3;qe<On&&(Ue=hn.data[qe],ze=Ue<=0,ze!==!1);qe+=4);return hn=null,ze},parsePreserveAspectRatioAttribute:function(M){var Y="meet",de="Mid",ae="Mid",ze=M.split(" "),qe;return ze&&ze.length&&(Y=ze.pop(),Y!=="meet"&&Y!=="slice"?(qe=Y,Y="meet"):ze.length&&(qe=ze.pop())),de=qe!=="none"?qe.slice(1,4):"none",ae=qe!=="none"?qe.slice(5,8):"none",{meetOrSlice:Y,alignX:de,alignY:ae}},clearFabricFontCache:function(M){M=(M||"").toLowerCase(),M?e.charWidthsCache[M]&&delete e.charWidthsCache[M]:e.charWidthsCache={}},limitDimsByArea:function(M,Y){var de=Math.sqrt(Y*M),ae=Math.floor(Y/de);return{x:Math.floor(de),y:ae}},capValue:function(M,Y,de){return Math.max(M,Math.min(Y,de))},findScaleToFit:function(M,Y){return Math.min(Y.width/M.width,Y.height/M.height)},findScaleToCover:function(M,Y){return Math.max(Y.width/M.width,Y.height/M.height)},matrixToSVG:function(M){return"matrix("+M.map(function(Y){return e.util.toFixed(Y,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(M,Y){var de=e.util.invertTransform(Y),ae=e.util.multiplyTransformMatrices(de,M.calcOwnMatrix());e.util.applyTransformToObject(M,ae)},addTransformToObject:function(M,Y){e.util.applyTransformToObject(M,e.util.multiplyTransformMatrices(Y,M.calcOwnMatrix()))},applyTransformToObject:function(M,Y){var de=e.util.qrDecompose(Y),ae=new e.Point(de.translateX,de.translateY);M.flipX=!1,M.flipY=!1,M.set("scaleX",de.scaleX),M.set("scaleY",de.scaleY),M.skewX=de.skewX,M.skewY=de.skewY,M.angle=de.angle,M.setPositionByOrigin(ae,"center","center")},sizeAfterTransform:function(M,Y,de){var ae=M/2,ze=Y/2,qe=[{x:-ae,y:-ze},{x:ae,y:-ze},{x:-ae,y:ze},{x:ae,y:ze}],Ue=e.util.calcDimensionsMatrix(de),hn=e.util.makeBoundingBoxFromPoints(qe,Ue);return{x:hn.width,y:hn.height}},mergeClipPaths:function(M,Y){var de=M,ae=Y;de.inverted&&!ae.inverted&&(de=Y,ae=M),e.util.applyTransformToObject(ae,e.util.multiplyTransformMatrices(e.util.invertTransform(de.calcTransformMatrix()),ae.calcTransformMatrix()));var ze=de.inverted&&ae.inverted;return ze&&(de.inverted=ae.inverted=!1),new e.Group([de],{clipPath:ae,inverted:ze})},hasStyleChanged:function(M,Y,de){return de=de||!1,M.fill!==Y.fill||M.stroke!==Y.stroke||M.strokeWidth!==Y.strokeWidth||M.fontSize!==Y.fontSize||M.fontFamily!==Y.fontFamily||M.fontWeight!==Y.fontWeight||M.fontStyle!==Y.fontStyle||M.textBackgroundColor!==Y.textBackgroundColor||M.deltaY!==Y.deltaY||de&&(M.overline!==Y.overline||M.underline!==Y.underline||M.linethrough!==Y.linethrough)},stylesToArray:function(de,Y){for(var de=e.util.object.clone(de,!0),ae=Y.split(`
`),ze=-1,qe={},Ue=[],hn=0;hn<ae.length;hn++){if(!de[hn]){ze+=ae[hn].length;continue}for(var On=0;On<ae[hn].length;On++){ze++;var vn=de[hn][On];if(vn&&Object.keys(vn).length>0){var bn=e.util.hasStyleChanged(qe,vn,!0);bn?Ue.push({start:ze,end:ze+1,style:vn}):Ue[Ue.length-1].end++}qe=vn||{}}}return Ue},stylesFromArray:function(M,Y){if(!Array.isArray(M))return M;for(var de=Y.split(`
`),ae=-1,ze=0,qe={},Ue=0;Ue<de.length;Ue++)for(var hn=0;hn<de[Ue].length;hn++)ae++,M[ze]&&M[ze].start<=ae&&ae<M[ze].end&&(qe[Ue]=qe[Ue]||{},qe[Ue][hn]=Object.assign({},M[ze].style),ae===M[ze].end-1&&ze++);return qe}}}(n),function(){var c=Array.prototype.join,d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function g(xn,Mn,Qn,Nn,Hn,Dn,An,Ln,Yn,er,tr){var Gn=e.util.cos(xn),ir=e.util.sin(xn),cr=e.util.cos(Mn),Tn=e.util.sin(Mn),Pn=Qn*Hn*cr-Nn*Dn*Tn+An,Vn=Nn*Hn*cr+Qn*Dn*Tn+Ln,Fn=er+Yn*(-Qn*Hn*ir-Nn*Dn*Gn),zn=tr+Yn*(-Nn*Hn*ir+Qn*Dn*Gn),Zn=Pn+Yn*(Qn*Hn*Tn+Nn*Dn*cr),Jn=Vn+Yn*(Nn*Hn*Tn-Qn*Dn*cr);return["C",Fn,zn,Zn,Jn,Pn,Vn]}function v(xn,Mn,Qn,Nn,Hn,Dn,An){var Ln=Math.PI,Yn=An*Ln/180,er=e.util.sin(Yn),tr=e.util.cos(Yn),Gn=0,ir=0;Qn=Math.abs(Qn),Nn=Math.abs(Nn);var cr=-tr*xn*.5-er*Mn*.5,Tn=-tr*Mn*.5+er*xn*.5,Pn=Qn*Qn,Vn=Nn*Nn,Fn=Tn*Tn,zn=cr*cr,Zn=Pn*Vn-Pn*Fn-Vn*zn,Jn=0;if(Zn<0){var rr=Math.sqrt(1-Zn/(Pn*Vn));Qn*=rr,Nn*=rr}else Jn=(Hn===Dn?-1:1)*Math.sqrt(Zn/(Pn*Fn+Vn*zn));var nr=Jn*Qn*Tn/Nn,qn=-Jn*Nn*cr/Qn,sr=tr*nr-er*qn+xn*.5,ur=er*nr+tr*qn+Mn*.5,Kn=A(1,0,(cr-nr)/Qn,(Tn-qn)/Nn),lr=A((cr-nr)/Qn,(Tn-qn)/Nn,(-cr-nr)/Qn,(-Tn-qn)/Nn);Dn===0&&lr>0?lr-=2*Ln:Dn===1&&lr<0&&(lr+=2*Ln);for(var dr=Math.ceil(Math.abs(lr/Ln*2)),Or=[],vr=lr/dr,Sr=8/3*Math.sin(vr/4)*Math.sin(vr/4)/Math.sin(vr/2),xr=Kn+vr,Cr=0;Cr<dr;Cr++)Or[Cr]=g(Kn,xr,tr,er,Qn,Nn,sr,ur,Sr,Gn,ir),Gn=Or[Cr][5],ir=Or[Cr][6],Kn=xr,xr+=vr;return Or}function A(xn,Mn,Qn,Nn){var Hn=Math.atan2(Mn,xn),Dn=Math.atan2(Nn,Qn);return Dn>=Hn?Dn-Hn:2*Math.PI-(Hn-Dn)}function M(xn,Mn,Qn,Nn,Hn,Dn,An,Ln){var Yn;if(e.cachesBoundsOfCurve&&(Yn=c.call(arguments),e.boundsOfCurveCache[Yn]))return e.boundsOfCurveCache[Yn];var er=Math.sqrt,tr=Math.min,Gn=Math.max,ir=Math.abs,cr=[],Tn=[[],[]],Pn,Vn,Fn,zn,Zn,Jn,rr,nr;Vn=6*xn-12*Qn+6*Hn,Pn=-3*xn+9*Qn-9*Hn+3*An,Fn=3*Qn-3*xn;for(var qn=0;qn<2;++qn){if(qn>0&&(Vn=6*Mn-12*Nn+6*Dn,Pn=-3*Mn+9*Nn-9*Dn+3*Ln,Fn=3*Nn-3*Mn),ir(Pn)<1e-12){if(ir(Vn)<1e-12)continue;zn=-Fn/Vn,0<zn&&zn<1&&cr.push(zn);continue}rr=Vn*Vn-4*Fn*Pn,!(rr<0)&&(nr=er(rr),Zn=(-Vn+nr)/(2*Pn),0<Zn&&Zn<1&&cr.push(Zn),Jn=(-Vn-nr)/(2*Pn),0<Jn&&Jn<1&&cr.push(Jn))}for(var sr,ur,Kn=cr.length,lr=Kn,dr;Kn--;)zn=cr[Kn],dr=1-zn,sr=dr*dr*dr*xn+3*dr*dr*zn*Qn+3*dr*zn*zn*Hn+zn*zn*zn*An,Tn[0][Kn]=sr,ur=dr*dr*dr*Mn+3*dr*dr*zn*Nn+3*dr*zn*zn*Dn+zn*zn*zn*Ln,Tn[1][Kn]=ur;Tn[0][lr]=xn,Tn[1][lr]=Mn,Tn[0][lr+1]=An,Tn[1][lr+1]=Ln;var Or=[{x:tr.apply(null,Tn[0]),y:tr.apply(null,Tn[1])},{x:Gn.apply(null,Tn[0]),y:Gn.apply(null,Tn[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[Yn]=Or),Or}function Y(xn,Mn,Qn){for(var Nn=Qn[1],Hn=Qn[2],Dn=Qn[3],An=Qn[4],Ln=Qn[5],Yn=Qn[6],er=Qn[7],tr=v(Yn-xn,er-Mn,Nn,Hn,An,Ln,Dn),Gn=0,ir=tr.length;Gn<ir;Gn++)tr[Gn][1]+=xn,tr[Gn][2]+=Mn,tr[Gn][3]+=xn,tr[Gn][4]+=Mn,tr[Gn][5]+=xn,tr[Gn][6]+=Mn;return tr}function de(xn){var Mn=0,Qn=0,Nn=xn.length,Hn=0,Dn=0,An,Ln,Yn,er=[],tr,Gn,ir;for(Ln=0;Ln<Nn;++Ln){switch(Yn=!1,An=xn[Ln].slice(0),An[0]){case"l":An[0]="L",An[1]+=Mn,An[2]+=Qn;case"L":Mn=An[1],Qn=An[2];break;case"h":An[1]+=Mn;case"H":An[0]="L",An[2]=Qn,Mn=An[1];break;case"v":An[1]+=Qn;case"V":An[0]="L",Qn=An[1],An[1]=Mn,An[2]=Qn;break;case"m":An[0]="M",An[1]+=Mn,An[2]+=Qn;case"M":Mn=An[1],Qn=An[2],Hn=An[1],Dn=An[2];break;case"c":An[0]="C",An[1]+=Mn,An[2]+=Qn,An[3]+=Mn,An[4]+=Qn,An[5]+=Mn,An[6]+=Qn;case"C":Gn=An[3],ir=An[4],Mn=An[5],Qn=An[6];break;case"s":An[0]="S",An[1]+=Mn,An[2]+=Qn,An[3]+=Mn,An[4]+=Qn;case"S":tr==="C"?(Gn=2*Mn-Gn,ir=2*Qn-ir):(Gn=Mn,ir=Qn),Mn=An[3],Qn=An[4],An[0]="C",An[5]=An[3],An[6]=An[4],An[3]=An[1],An[4]=An[2],An[1]=Gn,An[2]=ir,Gn=An[3],ir=An[4];break;case"q":An[0]="Q",An[1]+=Mn,An[2]+=Qn,An[3]+=Mn,An[4]+=Qn;case"Q":Gn=An[1],ir=An[2],Mn=An[3],Qn=An[4];break;case"t":An[0]="T",An[1]+=Mn,An[2]+=Qn;case"T":tr==="Q"?(Gn=2*Mn-Gn,ir=2*Qn-ir):(Gn=Mn,ir=Qn),An[0]="Q",Mn=An[1],Qn=An[2],An[1]=Gn,An[2]=ir,An[3]=Mn,An[4]=Qn;break;case"a":An[0]="A",An[6]+=Mn,An[7]+=Qn;case"A":Yn=!0,er=er.concat(Y(Mn,Qn,An)),Mn=An[6],Qn=An[7];break;case"z":case"Z":Mn=Hn,Qn=Dn;break}Yn||er.push(An),tr=An[0]}return er}function ae(xn,Mn,Qn,Nn){return Math.sqrt((Qn-xn)*(Qn-xn)+(Nn-Mn)*(Nn-Mn))}function ze(xn){return xn*xn*xn}function qe(xn){return 3*xn*xn*(1-xn)}function Ue(xn){return 3*xn*(1-xn)*(1-xn)}function hn(xn){return(1-xn)*(1-xn)*(1-xn)}function On(xn,Mn,Qn,Nn,Hn,Dn,An,Ln){return function(Yn){var er=ze(Yn),tr=qe(Yn),Gn=Ue(Yn),ir=hn(Yn);return{x:An*er+Hn*tr+Qn*Gn+xn*ir,y:Ln*er+Dn*tr+Nn*Gn+Mn*ir}}}function vn(xn,Mn,Qn,Nn,Hn,Dn,An,Ln){return function(Yn){var er=1-Yn,tr=3*er*er*(Qn-xn)+6*er*Yn*(Hn-Qn)+3*Yn*Yn*(An-Hn),Gn=3*er*er*(Nn-Mn)+6*er*Yn*(Dn-Nn)+3*Yn*Yn*(Ln-Dn);return Math.atan2(Gn,tr)}}function bn(xn){return xn*xn}function wn(xn){return 2*xn*(1-xn)}function Cn(xn){return(1-xn)*(1-xn)}function En(xn,Mn,Qn,Nn,Hn,Dn){return function(An){var Ln=bn(An),Yn=wn(An),er=Cn(An);return{x:Hn*Ln+Qn*Yn+xn*er,y:Dn*Ln+Nn*Yn+Mn*er}}}function _n(xn,Mn,Qn,Nn,Hn,Dn){return function(An){var Ln=1-An,Yn=2*Ln*(Qn-xn)+2*An*(Hn-Qn),er=2*Ln*(Nn-Mn)+2*An*(Dn-Nn);return Math.atan2(er,Yn)}}function Bn(xn,Mn,Qn){var Nn={x:Mn,y:Qn},Hn,Dn=0,An;for(An=1;An<=100;An+=1)Hn=xn(An/100),Dn+=ae(Nn.x,Nn.y,Hn.x,Hn.y),Nn=Hn;return Dn}function jn(xn,Mn){for(var Qn=0,Nn=0,Hn=xn.iterator,Dn={x:xn.x,y:xn.y},An,Ln,Yn=.01,er=xn.angleFinder,tr;Nn<Mn&&Yn>1e-4;)An=Hn(Qn),tr=Qn,Ln=ae(Dn.x,Dn.y,An.x,An.y),Ln+Nn>Mn?(Qn-=Yn,Yn/=2):(Dn=An,Qn+=Yn,Nn+=Ln);return An.angle=er(tr),An}function Un(xn){for(var Mn=0,Qn=xn.length,Nn,Hn=0,Dn=0,An=0,Ln=0,Yn=[],er,tr,Gn,ir=0;ir<Qn;ir++){switch(Nn=xn[ir],tr={x:Hn,y:Dn,command:Nn[0]},Nn[0]){case"M":tr.length=0,An=Hn=Nn[1],Ln=Dn=Nn[2];break;case"L":tr.length=ae(Hn,Dn,Nn[1],Nn[2]),Hn=Nn[1],Dn=Nn[2];break;case"C":er=On(Hn,Dn,Nn[1],Nn[2],Nn[3],Nn[4],Nn[5],Nn[6]),Gn=vn(Hn,Dn,Nn[1],Nn[2],Nn[3],Nn[4],Nn[5],Nn[6]),tr.iterator=er,tr.angleFinder=Gn,tr.length=Bn(er,Hn,Dn),Hn=Nn[5],Dn=Nn[6];break;case"Q":er=En(Hn,Dn,Nn[1],Nn[2],Nn[3],Nn[4]),Gn=_n(Hn,Dn,Nn[1],Nn[2],Nn[3],Nn[4]),tr.iterator=er,tr.angleFinder=Gn,tr.length=Bn(er,Hn,Dn),Hn=Nn[3],Dn=Nn[4];break;case"Z":case"z":tr.destX=An,tr.destY=Ln,tr.length=ae(Hn,Dn,An,Ln),Hn=An,Dn=Ln;break}Mn+=tr.length,Yn.push(tr)}return Yn.push({length:Mn,x:Hn,y:Dn}),Yn}function Rn(xn,Mn,Qn){Qn||(Qn=Un(xn));for(var Nn=0;Mn-Qn[Nn].length>0&&Nn<Qn.length-2;)Mn-=Qn[Nn].length,Nn++;var Hn=Qn[Nn],Dn=Mn/Hn.length,An=Hn.command,Ln=xn[Nn],Yn;switch(An){case"M":return{x:Hn.x,y:Hn.y,angle:0};case"Z":case"z":return Yn=new e.Point(Hn.x,Hn.y).lerp(new e.Point(Hn.destX,Hn.destY),Dn),Yn.angle=Math.atan2(Hn.destY-Hn.y,Hn.destX-Hn.x),Yn;case"L":return Yn=new e.Point(Hn.x,Hn.y).lerp(new e.Point(Ln[1],Ln[2]),Dn),Yn.angle=Math.atan2(Ln[2]-Hn.y,Ln[1]-Hn.x),Yn;case"C":return jn(Hn,Mn);case"Q":return jn(Hn,Mn)}}function Wn(xn){var Mn=[],Qn=[],Nn,Hn,Dn=e.rePathCommand,An="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Ln="("+An+")"+e.commaWsp,Yn="([01])"+e.commaWsp+"?",er=Ln+"?"+Ln+"?"+Ln+Yn+Yn+Ln+"?("+An+")",tr=new RegExp(er,"g"),Gn,ir,cr;if(!xn||!xn.match)return Mn;cr=xn.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Tn=0,Pn,Vn=cr.length;Tn<Vn;Tn++){Nn=cr[Tn],ir=Nn.slice(1).trim(),Qn.length=0;var Fn=Nn.charAt(0);if(Pn=[Fn],Fn.toLowerCase()==="a")for(var zn;zn=tr.exec(ir);)for(var Zn=1;Zn<zn.length;Zn++)Qn.push(zn[Zn]);else for(;Gn=Dn.exec(ir);)Qn.push(Gn[0]);for(var Zn=0,Jn=Qn.length;Zn<Jn;Zn++)Hn=parseFloat(Qn[Zn]),isNaN(Hn)||Pn.push(Hn);var rr=d[Fn.toLowerCase()],nr=f[Fn]||Fn;if(Pn.length-1>rr)for(var qn=1,sr=Pn.length;qn<sr;qn+=rr)Mn.push([Fn].concat(Pn.slice(qn,qn+rr))),Fn=nr;else Mn.push(Pn)}return Mn}function $n(xn,Mn){var Qn=[],Nn,Hn=new e.Point(xn[0].x,xn[0].y),Dn=new e.Point(xn[1].x,xn[1].y),An=xn.length,Ln=1,Yn=0,er=An>2;for(Mn=Mn||0,er&&(Ln=xn[2].x<Dn.x?-1:xn[2].x===Dn.x?0:1,Yn=xn[2].y<Dn.y?-1:xn[2].y===Dn.y?0:1),Qn.push(["M",Hn.x-Ln*Mn,Hn.y-Yn*Mn]),Nn=1;Nn<An;Nn++){if(!Hn.eq(Dn)){var tr=Hn.midPointFrom(Dn);Qn.push(["Q",Hn.x,Hn.y,tr.x,tr.y])}Hn=xn[Nn],Nn+1<xn.length&&(Dn=xn[Nn+1])}return er&&(Ln=Hn.x>xn[Nn-2].x?1:Hn.x===xn[Nn-2].x?0:-1,Yn=Hn.y>xn[Nn-2].y?1:Hn.y===xn[Nn-2].y?0:-1),Qn.push(["L",Hn.x+Ln*Mn,Hn.y+Yn*Mn]),Qn}function Xn(xn,Mn,Qn){return Qn&&(Mn=e.util.multiplyTransformMatrices(Mn,[1,0,0,1,-Qn.x,-Qn.y])),xn.map(function(Nn){for(var Hn=Nn.slice(0),Dn={},An=1;An<Nn.length-1;An+=2)Dn.x=Nn[An],Dn.y=Nn[An+1],Dn=e.util.transformPoint(Dn,Mn),Hn[An]=Dn.x,Hn[An+1]=Dn.y;return Hn})}e.util.joinPath=function(xn){return xn.map(function(Mn){return Mn.join(" ")}).join(" ")},e.util.parsePath=Wn,e.util.makePathSimpler=de,e.util.getSmoothPathFromPoints=$n,e.util.getPathSegmentsInfo=Un,e.util.getBoundsOfCurve=M,e.util.getPointOnPath=Rn,e.util.transformPath=Xn}(),function(){var c=Array.prototype.slice;function d(M,Y){for(var de=c.call(arguments,2),ae=[],ze=0,qe=M.length;ze<qe;ze++)ae[ze]=de.length?M[ze][Y].apply(M[ze],de):M[ze][Y].call(M[ze]);return ae}function f(M,Y){return A(M,Y,function(de,ae){return de>=ae})}function g(M,Y){return A(M,Y,function(de,ae){return de<ae})}function v(M,Y){for(var de=M.length;de--;)M[de]=Y;return M}function A(M,Y,de){if(!(!M||M.length===0)){var ae=M.length-1,ze=Y?M[ae][Y]:M[ae];if(Y)for(;ae--;)de(M[ae][Y],ze)&&(ze=M[ae][Y]);else for(;ae--;)de(M[ae],ze)&&(ze=M[ae]);return ze}}e.util.array={fill:v,invoke:d,min:g,max:f}}(),function(){function c(f,g,v){if(v)if(!e.isLikelyNode&&g instanceof Element)f=g;else if(g instanceof Array){f=[];for(var A=0,M=g.length;A<M;A++)f[A]=c({},g[A],v)}else if(g&&typeof g=="object")for(var Y in g)Y==="canvas"||Y==="group"?f[Y]=null:g.hasOwnProperty(Y)&&(f[Y]=c({},g[Y],v));else f=g;else for(var Y in g)f[Y]=g[Y];return f}function d(f,g){return c({},f,g)}e.util.object={extend:c,clone:d},e.util.object.extend(e.util,e.Observable)}(),function(){function c(A){return A.replace(/-+(.)?/g,function(M,Y){return Y?Y.toUpperCase():""})}function d(A,M){return A.charAt(0).toUpperCase()+(M?A.slice(1):A.slice(1).toLowerCase())}function f(A){return A.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(A){var M=0,Y,de=[];for(M=0,Y;M<A.length;M++)(Y=v(A,M))!==!1&&de.push(Y);return de}function v(A,M){var Y=A.charCodeAt(M);if(isNaN(Y))return"";if(Y<55296||Y>57343)return A.charAt(M);if(55296<=Y&&Y<=56319){if(A.length<=M+1)throw"High surrogate without following low surrogate";var de=A.charCodeAt(M+1);if(56320>de||de>57343)throw"High surrogate without following low surrogate";return A.charAt(M)+A.charAt(M+1)}if(M===0)throw"Low surrogate without preceding high surrogate";var ae=A.charCodeAt(M-1);if(55296>ae||ae>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:c,capitalize:d,escapeXml:f,graphemeSplit:g}}(),function(){var c=Array.prototype.slice,d=function(){},f=function(){for(var Y in{toString:1})if(Y==="toString")return!1;return!0}(),g=function(Y,de,ae){for(var ze in de)ze in Y.prototype&&typeof Y.prototype[ze]=="function"&&(de[ze]+"").indexOf("callSuper")>-1?Y.prototype[ze]=function(qe){return function(){var Ue=this.constructor.superclass;this.constructor.superclass=ae;var hn=de[qe].apply(this,arguments);if(this.constructor.superclass=Ue,qe!=="initialize")return hn}}(ze):Y.prototype[ze]=de[ze],f&&(de.toString!==Object.prototype.toString&&(Y.prototype.toString=de.toString),de.valueOf!==Object.prototype.valueOf&&(Y.prototype.valueOf=de.valueOf))};function v(){}function A(Y){for(var de=null,ae=this;ae.constructor.superclass;){var ze=ae.constructor.superclass.prototype[Y];if(ae[Y]!==ze){de=ze;break}ae=ae.constructor.superclass.prototype}return de?arguments.length>1?de.apply(this,c.call(arguments,1)):de.call(this):console.log("tried to callSuper "+Y+", method not found in prototype chain",this)}function M(){var Y=null,de=c.call(arguments,0);typeof de[0]=="function"&&(Y=de.shift());function ae(){this.initialize.apply(this,arguments)}ae.superclass=Y,ae.subclasses=[],Y&&(v.prototype=Y.prototype,ae.prototype=new v,Y.subclasses.push(ae));for(var ze=0,qe=de.length;ze<qe;ze++)g(ae,de[ze],Y);return ae.prototype.initialize||(ae.prototype.initialize=d),ae.prototype.constructor=ae,ae.prototype.callSuper=A,ae}e.util.createClass=M}(),function(){var c=!!e.document.createElement("div").attachEvent,d=["touchstart","touchmove","touchend"];e.util.addListener=function(g,v,A,M){g&&g.addEventListener(v,A,c?!1:M)},e.util.removeListener=function(g,v,A,M){g&&g.removeEventListener(v,A,c?!1:M)};function f(g){var v=g.changedTouches;return v&&v[0]?v[0]:g}e.util.getPointer=function(g){var v=g.target,A=e.util.getScrollLeftTop(v),M=f(g);return{x:M.clientX+A.left,y:M.clientY+A.top}},e.util.isTouchEvent=function(g){return d.indexOf(g.type)>-1||g.pointerType==="touch"}}(),function(){function c(M,Y){var de=M.style;if(!de)return M;if(typeof Y=="string")return M.style.cssText+=";"+Y,Y.indexOf("opacity")>-1?A(M,Y.match(/opacity:\s*(\d?\.?\d*)/)[1]):M;for(var ae in Y)if(ae==="opacity")A(M,Y[ae]);else{var ze=ae==="float"||ae==="cssFloat"?typeof de.styleFloat>"u"?"cssFloat":"styleFloat":ae;de.setProperty(ze,Y[ae])}return M}var d=e.document.createElement("div"),f=typeof d.style.opacity=="string",g=typeof d.style.filter=="string",v=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,A=function(M){return M};f?A=function(M,Y){return M.style.opacity=Y,M}:g&&(A=function(M,Y){var de=M.style;return M.currentStyle&&!M.currentStyle.hasLayout&&(de.zoom=1),v.test(de.filter)?(Y=Y>=.9999?"":"alpha(opacity="+Y*100+")",de.filter=de.filter.replace(v,Y)):de.filter+=" alpha(opacity="+Y*100+")",M}),e.util.setStyle=c}(),function(){var c=Array.prototype.slice;function d(hn){return typeof hn=="string"?e.document.getElementById(hn):hn}var f,g=function(hn){return c.call(hn,0)};try{f=g(e.document.childNodes)instanceof Array}catch{}f||(g=function(hn){for(var On=new Array(hn.length),vn=hn.length;vn--;)On[vn]=hn[vn];return On});function v(hn,On){var vn=e.document.createElement(hn);for(var bn in On)bn==="class"?vn.className=On[bn]:bn==="for"?vn.htmlFor=On[bn]:vn.setAttribute(bn,On[bn]);return vn}function A(hn,On){hn&&(" "+hn.className+" ").indexOf(" "+On+" ")===-1&&(hn.className+=(hn.className?" ":"")+On)}function M(hn,On,vn){return typeof On=="string"&&(On=v(On,vn)),hn.parentNode&&hn.parentNode.replaceChild(On,hn),On.appendChild(hn),On}function Y(hn){for(var On=0,vn=0,bn=e.document.documentElement,wn=e.document.body||{scrollLeft:0,scrollTop:0};hn&&(hn.parentNode||hn.host)&&(hn=hn.parentNode||hn.host,hn===e.document?(On=wn.scrollLeft||bn.scrollLeft||0,vn=wn.scrollTop||bn.scrollTop||0):(On+=hn.scrollLeft||0,vn+=hn.scrollTop||0),!(hn.nodeType===1&&hn.style.position==="fixed")););return{left:On,top:vn}}function de(hn){var On,vn=hn&&hn.ownerDocument,bn={left:0,top:0},wn={left:0,top:0},Cn,En={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!vn)return wn;for(var _n in En)wn[En[_n]]+=parseInt(ae(hn,_n),10)||0;return On=vn.documentElement,typeof hn.getBoundingClientRect<"u"&&(bn=hn.getBoundingClientRect()),Cn=Y(hn),{left:bn.left+Cn.left-(On.clientLeft||0)+wn.left,top:bn.top+Cn.top-(On.clientTop||0)+wn.top}}var ae;e.document.defaultView&&e.document.defaultView.getComputedStyle?ae=function(hn,On){var vn=e.document.defaultView.getComputedStyle(hn,null);return vn?vn[On]:void 0}:ae=function(hn,On){var vn=hn.style[On];return!vn&&hn.currentStyle&&(vn=hn.currentStyle[On]),vn},function(){var hn=e.document.documentElement.style,On="userSelect"in hn?"userSelect":"MozUserSelect"in hn?"MozUserSelect":"WebkitUserSelect"in hn?"WebkitUserSelect":"KhtmlUserSelect"in hn?"KhtmlUserSelect":"";function vn(wn){return typeof wn.onselectstart<"u"&&(wn.onselectstart=e.util.falseFunction),On?wn.style[On]="none":typeof wn.unselectable=="string"&&(wn.unselectable="on"),wn}function bn(wn){return typeof wn.onselectstart<"u"&&(wn.onselectstart=null),On?wn.style[On]="":typeof wn.unselectable=="string"&&(wn.unselectable=""),wn}e.util.makeElementUnselectable=vn,e.util.makeElementSelectable=bn}();function ze(hn){var On=e.jsdomImplForWrapper(hn);return On._canvas||On._image}function qe(hn){if(e.isLikelyNode){var On=e.jsdomImplForWrapper(hn);On&&(On._image=null,On._canvas=null,On._currentSrc=null,On._attributes=null,On._classList=null)}}function Ue(hn,On){hn.imageSmoothingEnabled=hn.imageSmoothingEnabled||hn.webkitImageSmoothingEnabled||hn.mozImageSmoothingEnabled||hn.msImageSmoothingEnabled||hn.oImageSmoothingEnabled,hn.imageSmoothingEnabled=On}e.util.setImageSmoothing=Ue,e.util.getById=d,e.util.toArray=g,e.util.addClass=A,e.util.makeElement=v,e.util.wrapElement=M,e.util.getScrollLeftTop=Y,e.util.getElementOffset=de,e.util.getNodeCanvas=ze,e.util.cleanUpJsdomNode=qe}(),function(){function c(g,v){return g+(/\?/.test(g)?"&":"?")+v}function d(){}function f(g,v){v||(v={});var A=v.method?v.method.toUpperCase():"GET",M=v.onComplete||function(){},Y=new e.window.XMLHttpRequest,de=v.body||v.parameters;return Y.onreadystatechange=function(){Y.readyState===4&&(M(Y),Y.onreadystatechange=d)},A==="GET"&&(de=null,typeof v.parameters=="string"&&(g=c(g,v.parameters))),Y.open(A,g,!0),(A==="POST"||A==="PUT")&&Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Y.send(de),Y}e.util.request=f}(),e.log=console.log,e.warn=console.warn,function(){var c=e.util.object.extend,d=e.util.object.clone,f=[];e.util.object.extend(f,{cancelAll:function(){var ze=this.splice(0);return ze.forEach(function(qe){qe.cancel()}),ze},cancelByCanvas:function(ze){if(!ze)return[];var qe=this.filter(function(Ue){return typeof Ue.target=="object"&&Ue.target.canvas===ze});return qe.forEach(function(Ue){Ue.cancel()}),qe},cancelByTarget:function(ze){var qe=this.findAnimationsByTarget(ze);return qe.forEach(function(Ue){Ue.cancel()}),qe},findAnimationIndex:function(ze){return this.indexOf(this.findAnimation(ze))},findAnimation:function(ze){return this.find(function(qe){return qe.cancel===ze})},findAnimationsByTarget:function(ze){return ze?this.filter(function(qe){return qe.target===ze}):[]}});function g(){return!1}function v(ze,qe,Ue,hn){return-Ue*Math.cos(ze/hn*(Math.PI/2))+Ue+qe}function A(ze){ze||(ze={});var qe=!1,Ue,hn=function(){var On=e.runningAnimations.indexOf(Ue);return On>-1&&e.runningAnimations.splice(On,1)[0]};return Ue=c(d(ze),{cancel:function(){return qe=!0,hn()},currentValue:"startValue"in ze?ze.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(Ue),de(function(On){var vn=On||+new Date,bn=ze.duration||500,wn=vn+bn,Cn,En=ze.onChange||g,_n=ze.abort||g,Bn=ze.onComplete||g,jn=ze.easing||v,Un="startValue"in ze?ze.startValue.length>0:!1,Rn="startValue"in ze?ze.startValue:0,Wn="endValue"in ze?ze.endValue:100,$n=ze.byValue||(Un?Rn.map(function(Xn,xn){return Wn[xn]-Rn[xn]}):Wn-Rn);ze.onStart&&ze.onStart(),function Xn(xn){Cn=xn||+new Date;var Mn=Cn>wn?bn:Cn-vn,Qn=Mn/bn,Nn=Un?Rn.map(function(Dn,An){return jn(Mn,Rn[An],$n[An],bn)}):jn(Mn,Rn,$n,bn),Hn=Math.abs(Un?(Nn[0]-Rn[0])/$n[0]:(Nn-Rn)/$n);if(Ue.currentValue=Un?Nn.slice():Nn,Ue.completionRate=Hn,Ue.durationRate=Qn,!qe){if(_n(Nn,Hn,Qn)){hn();return}if(Cn>wn){Ue.currentValue=Un?Wn.slice():Wn,Ue.completionRate=1,Ue.durationRate=1,En(Un?Wn.slice():Wn,1,1),Bn(Wn,1,1),hn();return}else En(Nn,Hn,Qn),de(Xn)}}(vn)}),Ue.cancel}var M=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(ze){return e.window.setTimeout(ze,1e3/60)},Y=e.window.cancelAnimationFrame||e.window.clearTimeout;function de(){return M.apply(e.window,arguments)}function ae(){return Y.apply(e.window,arguments)}e.util.animate=A,e.util.requestAnimFrame=de,e.util.cancelAnimFrame=ae,e.runningAnimations=f}(),function(){function c(f,g,v){var A="rgba("+parseInt(f[0]+v*(g[0]-f[0]),10)+","+parseInt(f[1]+v*(g[1]-f[1]),10)+","+parseInt(f[2]+v*(g[2]-f[2]),10);return A+=","+(f&&g?parseFloat(f[3]+v*(g[3]-f[3])):1),A+=")",A}function d(f,g,v,A){var M=new e.Color(f).getSource(),Y=new e.Color(g).getSource(),de=A.onComplete,ae=A.onChange;return A=A||{},e.util.animate(e.util.object.extend(A,{duration:v||500,startValue:M,endValue:Y,byValue:Y,easing:function(ze,qe,Ue,hn){var On=A.colorEasing?A.colorEasing(ze,hn):1-Math.cos(ze/hn*(Math.PI/2));return c(qe,Ue,On)},onComplete:function(ze,qe,Ue){if(de)return de(c(Y,Y,0),qe,Ue)},onChange:function(ze,qe,Ue){if(ae){if(Array.isArray(ze))return ae(c(ze,ze,0),qe,Ue);ae(ze,qe,Ue)}}}))}e.util.animateColor=d}(),function(){function c(xn,Mn,Qn,Nn){return xn<Math.abs(Mn)?(xn=Mn,Nn=Qn/4):Mn===0&&xn===0?Nn=Qn/(2*Math.PI)*Math.asin(1):Nn=Qn/(2*Math.PI)*Math.asin(Mn/xn),{a:xn,c:Mn,p:Qn,s:Nn}}function d(xn,Mn,Qn){return xn.a*Math.pow(2,10*(Mn-=1))*Math.sin((Mn*Qn-xn.s)*(2*Math.PI)/xn.p)}function f(xn,Mn,Qn,Nn){return Qn*((xn=xn/Nn-1)*xn*xn+1)+Mn}function g(xn,Mn,Qn,Nn){return xn/=Nn/2,xn<1?Qn/2*xn*xn*xn+Mn:Qn/2*((xn-=2)*xn*xn+2)+Mn}function v(xn,Mn,Qn,Nn){return Qn*(xn/=Nn)*xn*xn*xn+Mn}function A(xn,Mn,Qn,Nn){return-Qn*((xn=xn/Nn-1)*xn*xn*xn-1)+Mn}function M(xn,Mn,Qn,Nn){return xn/=Nn/2,xn<1?Qn/2*xn*xn*xn*xn+Mn:-Qn/2*((xn-=2)*xn*xn*xn-2)+Mn}function Y(xn,Mn,Qn,Nn){return Qn*(xn/=Nn)*xn*xn*xn*xn+Mn}function de(xn,Mn,Qn,Nn){return Qn*((xn=xn/Nn-1)*xn*xn*xn*xn+1)+Mn}function ae(xn,Mn,Qn,Nn){return xn/=Nn/2,xn<1?Qn/2*xn*xn*xn*xn*xn+Mn:Qn/2*((xn-=2)*xn*xn*xn*xn+2)+Mn}function ze(xn,Mn,Qn,Nn){return-Qn*Math.cos(xn/Nn*(Math.PI/2))+Qn+Mn}function qe(xn,Mn,Qn,Nn){return Qn*Math.sin(xn/Nn*(Math.PI/2))+Mn}function Ue(xn,Mn,Qn,Nn){return-Qn/2*(Math.cos(Math.PI*xn/Nn)-1)+Mn}function hn(xn,Mn,Qn,Nn){return xn===0?Mn:Qn*Math.pow(2,10*(xn/Nn-1))+Mn}function On(xn,Mn,Qn,Nn){return xn===Nn?Mn+Qn:Qn*(-Math.pow(2,-10*xn/Nn)+1)+Mn}function vn(xn,Mn,Qn,Nn){return xn===0?Mn:xn===Nn?Mn+Qn:(xn/=Nn/2,xn<1?Qn/2*Math.pow(2,10*(xn-1))+Mn:Qn/2*(-Math.pow(2,-10*--xn)+2)+Mn)}function bn(xn,Mn,Qn,Nn){return-Qn*(Math.sqrt(1-(xn/=Nn)*xn)-1)+Mn}function wn(xn,Mn,Qn,Nn){return Qn*Math.sqrt(1-(xn=xn/Nn-1)*xn)+Mn}function Cn(xn,Mn,Qn,Nn){return xn/=Nn/2,xn<1?-Qn/2*(Math.sqrt(1-xn*xn)-1)+Mn:Qn/2*(Math.sqrt(1-(xn-=2)*xn)+1)+Mn}function En(xn,Mn,Qn,Nn){var Hn=1.70158,Dn=0,An=Qn;if(xn===0)return Mn;if(xn/=Nn,xn===1)return Mn+Qn;Dn||(Dn=Nn*.3);var Ln=c(An,Qn,Dn,Hn);return-d(Ln,xn,Nn)+Mn}function _n(xn,Mn,Qn,Nn){var Hn=1.70158,Dn=0,An=Qn;if(xn===0)return Mn;if(xn/=Nn,xn===1)return Mn+Qn;Dn||(Dn=Nn*.3);var Ln=c(An,Qn,Dn,Hn);return Ln.a*Math.pow(2,-10*xn)*Math.sin((xn*Nn-Ln.s)*(2*Math.PI)/Ln.p)+Ln.c+Mn}function Bn(xn,Mn,Qn,Nn){var Hn=1.70158,Dn=0,An=Qn;if(xn===0)return Mn;if(xn/=Nn/2,xn===2)return Mn+Qn;Dn||(Dn=Nn*(.3*1.5));var Ln=c(An,Qn,Dn,Hn);return xn<1?-.5*d(Ln,xn,Nn)+Mn:Ln.a*Math.pow(2,-10*(xn-=1))*Math.sin((xn*Nn-Ln.s)*(2*Math.PI)/Ln.p)*.5+Ln.c+Mn}function jn(xn,Mn,Qn,Nn,Hn){return Hn===void 0&&(Hn=1.70158),Qn*(xn/=Nn)*xn*((Hn+1)*xn-Hn)+Mn}function Un(xn,Mn,Qn,Nn,Hn){return Hn===void 0&&(Hn=1.70158),Qn*((xn=xn/Nn-1)*xn*((Hn+1)*xn+Hn)+1)+Mn}function Rn(xn,Mn,Qn,Nn,Hn){return Hn===void 0&&(Hn=1.70158),xn/=Nn/2,xn<1?Qn/2*(xn*xn*(((Hn*=1.525)+1)*xn-Hn))+Mn:Qn/2*((xn-=2)*xn*(((Hn*=1.525)+1)*xn+Hn)+2)+Mn}function Wn(xn,Mn,Qn,Nn){return Qn-$n(Nn-xn,0,Qn,Nn)+Mn}function $n(xn,Mn,Qn,Nn){return(xn/=Nn)<1/2.75?Qn*(7.5625*xn*xn)+Mn:xn<2/2.75?Qn*(7.5625*(xn-=1.5/2.75)*xn+.75)+Mn:xn<2.5/2.75?Qn*(7.5625*(xn-=2.25/2.75)*xn+.9375)+Mn:Qn*(7.5625*(xn-=2.625/2.75)*xn+.984375)+Mn}function Xn(xn,Mn,Qn,Nn){return xn<Nn/2?Wn(xn*2,0,Qn,Nn)*.5+Mn:$n(xn*2-Nn,0,Qn,Nn)*.5+Qn*.5+Mn}e.util.ease={easeInQuad:function(xn,Mn,Qn,Nn){return Qn*(xn/=Nn)*xn+Mn},easeOutQuad:function(xn,Mn,Qn,Nn){return-Qn*(xn/=Nn)*(xn-2)+Mn},easeInOutQuad:function(xn,Mn,Qn,Nn){return xn/=Nn/2,xn<1?Qn/2*xn*xn+Mn:-Qn/2*(--xn*(xn-2)-1)+Mn},easeInCubic:function(xn,Mn,Qn,Nn){return Qn*(xn/=Nn)*xn*xn+Mn},easeOutCubic:f,easeInOutCubic:g,easeInQuart:v,easeOutQuart:A,easeInOutQuart:M,easeInQuint:Y,easeOutQuint:de,easeInOutQuint:ae,easeInSine:ze,easeOutSine:qe,easeInOutSine:Ue,easeInExpo:hn,easeOutExpo:On,easeInOutExpo:vn,easeInCirc:bn,easeOutCirc:wn,easeInOutCirc:Cn,easeInElastic:En,easeOutElastic:_n,easeInOutElastic:Bn,easeInBack:jn,easeOutBack:Un,easeInOutBack:Rn,easeInBounce:Wn,easeOutBounce:$n,easeInOutBounce:Xn}}(),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.util.object.clone,v=d.util.toFixed,A=d.util.parseUnit,M=d.util.multiplyTransformMatrices,Y=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],de=["symbol","image","marker","pattern","view","svg"],ae=["pattern","defs","symbol","metadata","clipPath","mask","desc"],ze=["symbol","g","a","svg","clipPath","defs"],qe={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Ue={stroke:"strokeOpacity",fill:"fillOpacity"},hn="font-size",On="clip-path";d.svgValidTagNamesRegEx=wn(Y),d.svgViewBoxElementsRegEx=wn(de),d.svgInvalidAncestorsRegEx=wn(ae),d.svgValidParentsRegEx=wn(ze),d.cssRules={},d.gradientDefs={},d.clipPaths={};function vn(Dn){return Dn in qe?qe[Dn]:Dn}function bn(Dn,An,Ln,Yn){var er=Array.isArray(An),tr;if((Dn==="fill"||Dn==="stroke")&&An==="none")An="";else{if(Dn==="strokeUniform")return An==="non-scaling-stroke";if(Dn==="strokeDashArray")An==="none"?An=null:An=An.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Dn==="transformMatrix")Ln&&Ln.transformMatrix?An=M(Ln.transformMatrix,d.parseTransformAttribute(An)):An=d.parseTransformAttribute(An);else if(Dn==="visible")An=An!=="none"&&An!=="hidden",Ln&&Ln.visible===!1&&(An=!1);else if(Dn==="opacity")An=parseFloat(An),Ln&&typeof Ln.opacity<"u"&&(An*=Ln.opacity);else if(Dn==="textAnchor")An=An==="start"?"left":An==="end"?"right":"center";else if(Dn==="charSpacing")tr=A(An,Yn)/Yn*1e3;else if(Dn==="paintFirst"){var Gn=An.indexOf("fill"),ir=An.indexOf("stroke"),An="fill";(Gn>-1&&ir>-1&&ir<Gn||Gn===-1&&ir>-1)&&(An="stroke")}else{if(Dn==="href"||Dn==="xlink:href"||Dn==="font")return An;if(Dn==="imageSmoothing")return An==="optimizeQuality";tr=er?An.map(A):A(An,Yn)}}return!er&&isNaN(tr)?An:tr}function wn(Dn){return new RegExp("^("+Dn.join("|")+")\\b","i")}function Cn(Dn){for(var An in Ue)if(!(typeof Dn[Ue[An]]>"u"||Dn[An]==="")){if(typeof Dn[An]>"u"){if(!d.Object.prototype[An])continue;Dn[An]=d.Object.prototype[An]}if(Dn[An].indexOf("url(")!==0){var Ln=new d.Color(Dn[An]);Dn[An]=Ln.setAlpha(v(Ln.getAlpha()*Dn[Ue[An]],2)).toRgba()}}return Dn}function En(Dn,An){var Ln,Yn=[],er,tr,Gn;for(tr=0,Gn=An.length;tr<Gn;tr++)Ln=An[tr],er=Dn.getElementsByTagName(Ln),Yn=Yn.concat(Array.prototype.slice.call(er));return Yn}d.parseTransformAttribute=function(){function Dn(qn,sr){var ur=d.util.cos(sr[0]),Kn=d.util.sin(sr[0]),lr=0,dr=0;sr.length===3&&(lr=sr[1],dr=sr[2]),qn[0]=ur,qn[1]=Kn,qn[2]=-Kn,qn[3]=ur,qn[4]=lr-(ur*lr-Kn*dr),qn[5]=dr-(Kn*lr+ur*dr)}function An(qn,sr){var ur=sr[0],Kn=sr.length===2?sr[1]:sr[0];qn[0]=ur,qn[3]=Kn}function Ln(qn,sr,ur){qn[ur]=Math.tan(d.util.degreesToRadians(sr[0]))}function Yn(qn,sr){qn[4]=sr[0],sr.length===2&&(qn[5]=sr[1])}var er=d.iMatrix,tr=d.reNum,Gn=d.commaWsp,ir="(?:(skewX)\\s*\\(\\s*("+tr+")\\s*\\))",cr="(?:(skewY)\\s*\\(\\s*("+tr+")\\s*\\))",Tn="(?:(rotate)\\s*\\(\\s*("+tr+")(?:"+Gn+"("+tr+")"+Gn+"("+tr+"))?\\s*\\))",Pn="(?:(scale)\\s*\\(\\s*("+tr+")(?:"+Gn+"("+tr+"))?\\s*\\))",Vn="(?:(translate)\\s*\\(\\s*("+tr+")(?:"+Gn+"("+tr+"))?\\s*\\))",Fn="(?:(matrix)\\s*\\(\\s*("+tr+")"+Gn+"("+tr+")"+Gn+"("+tr+")"+Gn+"("+tr+")"+Gn+"("+tr+")"+Gn+"("+tr+")\\s*\\))",zn="(?:"+Fn+"|"+Vn+"|"+Pn+"|"+Tn+"|"+ir+"|"+cr+")",Zn="(?:"+zn+"(?:"+Gn+"*"+zn+")*)",Jn="^\\s*(?:"+Zn+"?)\\s*$",rr=new RegExp(Jn),nr=new RegExp(zn,"g");return function(qn){var sr=er.concat(),ur=[];if(!qn||qn&&!rr.test(qn))return sr;qn.replace(nr,function(lr){var dr=new RegExp(zn).exec(lr).filter(function(Sr){return!!Sr}),Or=dr[1],vr=dr.slice(2).map(parseFloat);switch(Or){case"translate":Yn(sr,vr);break;case"rotate":vr[0]=d.util.degreesToRadians(vr[0]),Dn(sr,vr);break;case"scale":An(sr,vr);break;case"skewX":Ln(sr,vr,2);break;case"skewY":Ln(sr,vr,1);break;case"matrix":sr=vr;break}ur.push(sr.concat()),sr=er.concat()});for(var Kn=ur[0];ur.length>1;)ur.shift(),Kn=d.util.multiplyTransformMatrices(Kn,ur[0]);return Kn}}();function _n(Dn,An){var Ln,Yn;Dn.replace(/;\s*$/,"").split(";").forEach(function(er){var tr=er.split(":");Ln=tr[0].trim().toLowerCase(),Yn=tr[1].trim(),An[Ln]=Yn})}function Bn(Dn,An){var Ln,Yn;for(var er in Dn)typeof Dn[er]>"u"||(Ln=er.toLowerCase(),Yn=Dn[er],An[Ln]=Yn)}function jn(Dn,An){var Ln={};for(var Yn in d.cssRules[An])if(Un(Dn,Yn.split(" ")))for(var er in d.cssRules[An][Yn])Ln[er]=d.cssRules[An][Yn][er];return Ln}function Un(Dn,An){var Ln,Yn=!0;return Ln=Wn(Dn,An.pop()),Ln&&An.length&&(Yn=Rn(Dn,An)),Ln&&Yn&&An.length===0}function Rn(Dn,An){for(var Ln,Yn=!0;Dn.parentNode&&Dn.parentNode.nodeType===1&&An.length;)Yn&&(Ln=An.pop()),Dn=Dn.parentNode,Yn=Wn(Dn,Ln);return An.length===0}function Wn(Dn,An){var Ln=Dn.nodeName,Yn=Dn.getAttribute("class"),er=Dn.getAttribute("id"),tr,Gn;if(tr=new RegExp("^"+Ln,"i"),An=An.replace(tr,""),er&&An.length&&(tr=new RegExp("#"+er+"(?![a-zA-Z\\-]+)","i"),An=An.replace(tr,"")),Yn&&An.length)for(Yn=Yn.split(" "),Gn=Yn.length;Gn--;)tr=new RegExp("\\."+Yn[Gn]+"(?![a-zA-Z\\-]+)","i"),An=An.replace(tr,"");return An.length===0}function $n(Dn,An){var Ln;if(Dn.getElementById&&(Ln=Dn.getElementById(An)),Ln)return Ln;var Yn,er,tr,Gn=Dn.getElementsByTagName("*");for(er=0,tr=Gn.length;er<tr;er++)if(Yn=Gn[er],An===Yn.getAttribute("id"))return Yn}function Xn(Dn){for(var An=En(Dn,["use","svg:use"]),Ln=0;An.length&&Ln<An.length;){var Yn=An[Ln],er=Yn.getAttribute("xlink:href")||Yn.getAttribute("href");if(er===null)return;var tr=er.slice(1),Gn=Yn.getAttribute("x")||0,ir=Yn.getAttribute("y")||0,cr=$n(Dn,tr).cloneNode(!0),Tn=(cr.getAttribute("transform")||"")+" translate("+Gn+", "+ir+")",Pn,Vn=An.length,Fn,zn,Zn,Jn,rr=d.svgNS;if(Mn(cr),/^svg$/i.test(cr.nodeName)){var nr=cr.ownerDocument.createElementNS(rr,"g");for(zn=0,Zn=cr.attributes,Jn=Zn.length;zn<Jn;zn++)Fn=Zn.item(zn),nr.setAttributeNS(rr,Fn.nodeName,Fn.nodeValue);for(;cr.firstChild;)nr.appendChild(cr.firstChild);cr=nr}for(zn=0,Zn=Yn.attributes,Jn=Zn.length;zn<Jn;zn++)Fn=Zn.item(zn),!(Fn.nodeName==="x"||Fn.nodeName==="y"||Fn.nodeName==="xlink:href"||Fn.nodeName==="href")&&(Fn.nodeName==="transform"?Tn=Fn.nodeValue+" "+Tn:cr.setAttribute(Fn.nodeName,Fn.nodeValue));cr.setAttribute("transform",Tn),cr.setAttribute("instantiated_by_use","1"),cr.removeAttribute("id"),Pn=Yn.parentNode,Pn.replaceChild(cr,Yn),An.length===Vn&&Ln++}}var xn=new RegExp("^\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*,?\\s*("+d.reNum+"+)\\s*$");function Mn(Dn){if(!d.svgViewBoxElementsRegEx.test(Dn.nodeName))return{};var An=Dn.getAttribute("viewBox"),Ln=1,Yn=1,er=0,tr=0,Gn,ir,cr,Tn,Pn=Dn.getAttribute("width"),Vn=Dn.getAttribute("height"),Fn=Dn.getAttribute("x")||0,zn=Dn.getAttribute("y")||0,Zn=Dn.getAttribute("preserveAspectRatio")||"",Jn=!An||!(An=An.match(xn)),rr=!Pn||!Vn||Pn==="100%"||Vn==="100%",nr=Jn&&rr,qn={},sr="",ur=0,Kn=0;if(qn.width=0,qn.height=0,qn.toBeParsed=nr,Jn&&(Fn||zn)&&Dn.parentNode&&Dn.parentNode.nodeName!=="#document"&&(sr=" translate("+A(Fn)+" "+A(zn)+") ",cr=(Dn.getAttribute("transform")||"")+sr,Dn.setAttribute("transform",cr),Dn.removeAttribute("x"),Dn.removeAttribute("y")),nr)return qn;if(Jn)return qn.width=A(Pn),qn.height=A(Vn),qn;if(er=-parseFloat(An[1]),tr=-parseFloat(An[2]),Gn=parseFloat(An[3]),ir=parseFloat(An[4]),qn.minX=er,qn.minY=tr,qn.viewBoxWidth=Gn,qn.viewBoxHeight=ir,rr?(qn.width=Gn,qn.height=ir):(qn.width=A(Pn),qn.height=A(Vn),Ln=qn.width/Gn,Yn=qn.height/ir),Zn=d.util.parsePreserveAspectRatioAttribute(Zn),Zn.alignX!=="none"&&(Zn.meetOrSlice==="meet"&&(Yn=Ln=Ln>Yn?Yn:Ln),Zn.meetOrSlice==="slice"&&(Yn=Ln=Ln>Yn?Ln:Yn),ur=qn.width-Gn*Ln,Kn=qn.height-ir*Ln,Zn.alignX==="Mid"&&(ur/=2),Zn.alignY==="Mid"&&(Kn/=2),Zn.alignX==="Min"&&(ur=0),Zn.alignY==="Min"&&(Kn=0)),Ln===1&&Yn===1&&er===0&&tr===0&&Fn===0&&zn===0)return qn;if((Fn||zn)&&Dn.parentNode.nodeName!=="#document"&&(sr=" translate("+A(Fn)+" "+A(zn)+") "),cr=sr+" matrix("+Ln+" 0 0 "+Yn+" "+(er*Ln+ur)+" "+(tr*Yn+Kn)+") ",Dn.nodeName==="svg"){for(Tn=Dn.ownerDocument.createElementNS(d.svgNS,"g");Dn.firstChild;)Tn.appendChild(Dn.firstChild);Dn.appendChild(Tn)}else Tn=Dn,Tn.removeAttribute("x"),Tn.removeAttribute("y"),cr=Tn.getAttribute("transform")+cr;return Tn.setAttribute("transform",cr),qn}function Qn(Dn,An){for(;Dn&&(Dn=Dn.parentNode);)if(Dn.nodeName&&An.test(Dn.nodeName.replace("svg:",""))&&!Dn.getAttribute("instantiated_by_use"))return!0;return!1}d.parseSVGDocument=function(Dn,An,Ln,Yn){if(Dn){Xn(Dn);var er=d.Object.__uid++,tr,Gn,ir=Mn(Dn),cr=d.util.toArray(Dn.getElementsByTagName("*"));if(ir.crossOrigin=Yn&&Yn.crossOrigin,ir.svgUid=er,cr.length===0&&d.isLikelyNode){cr=Dn.selectNodes('//*[name(.)!="svg"]');var Tn=[];for(tr=0,Gn=cr.length;tr<Gn;tr++)Tn[tr]=cr[tr];cr=Tn}var Pn=cr.filter(function(Fn){return Mn(Fn),d.svgValidTagNamesRegEx.test(Fn.nodeName.replace("svg:",""))&&!Qn(Fn,d.svgInvalidAncestorsRegEx)});if(!Pn||Pn&&!Pn.length){An&&An([],{});return}var Vn={};cr.filter(function(Fn){return Fn.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Fn){var zn=Fn.getAttribute("id");Vn[zn]=d.util.toArray(Fn.getElementsByTagName("*")).filter(function(Zn){return d.svgValidTagNamesRegEx.test(Zn.nodeName.replace("svg:",""))})}),d.gradientDefs[er]=d.getGradientDefs(Dn),d.cssRules[er]=d.getCSSRules(Dn),d.clipPaths[er]=Vn,d.parseElements(Pn,function(Fn,zn){An&&(An(Fn,ir,zn,cr),delete d.gradientDefs[er],delete d.cssRules[er],delete d.clipPaths[er])},g(ir),Ln,Yn)}};function Nn(Dn,An){var Ln=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Yn="xlink:href",er=An.getAttribute(Yn).slice(1),tr=$n(Dn,er);if(tr&&tr.getAttribute(Yn)&&Nn(Dn,tr),Ln.forEach(function(ir){tr&&!An.hasAttribute(ir)&&tr.hasAttribute(ir)&&An.setAttribute(ir,tr.getAttribute(ir))}),!An.children.length)for(var Gn=tr.cloneNode(!0);Gn.firstChild;)An.appendChild(Gn.firstChild);An.removeAttribute(Yn)}var Hn=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+d.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+d.reNum+"))?\\s+(.*)");f(d,{parseFontDeclaration:function(Dn,An){var Ln=Dn.match(Hn);if(Ln){var Yn=Ln[1],er=Ln[3],tr=Ln[4],Gn=Ln[5],ir=Ln[6];Yn&&(An.fontStyle=Yn),er&&(An.fontWeight=isNaN(parseFloat(er))?er:parseFloat(er)),tr&&(An.fontSize=A(tr)),ir&&(An.fontFamily=ir),Gn&&(An.lineHeight=Gn==="normal"?1:Gn)}},getGradientDefs:function(Dn){var An=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Ln=En(Dn,An),Yn,er=0,tr={};for(er=Ln.length;er--;)Yn=Ln[er],Yn.getAttribute("xlink:href")&&Nn(Dn,Yn),tr[Yn.getAttribute("id")]=Yn;return tr},parseAttributes:function(Dn,An,Ln){if(Dn){var Yn,er={},tr,Gn;typeof Ln>"u"&&(Ln=Dn.getAttribute("svgUid")),Dn.parentNode&&d.svgValidParentsRegEx.test(Dn.parentNode.nodeName)&&(er=d.parseAttributes(Dn.parentNode,An,Ln));var ir=An.reduce(function(Zn,Jn){return Yn=Dn.getAttribute(Jn),Yn&&(Zn[Jn]=Yn),Zn},{}),cr=f(jn(Dn,Ln),d.parseStyleAttribute(Dn));ir=f(ir,cr),cr[On]&&Dn.setAttribute(On,cr[On]),tr=Gn=er.fontSize||d.Text.DEFAULT_SVG_FONT_SIZE,ir[hn]&&(ir[hn]=tr=A(ir[hn],Gn));var Tn,Pn,Vn={};for(var Fn in ir)Tn=vn(Fn),Pn=bn(Tn,ir[Fn],er,tr),Vn[Tn]=Pn;Vn&&Vn.font&&d.parseFontDeclaration(Vn.font,Vn);var zn=f(er,Vn);return d.svgValidParentsRegEx.test(Dn.nodeName)?zn:Cn(zn)}},parseElements:function(Dn,An,Ln,Yn,er){new d.ElementsParser(Dn,An,Ln,Yn,er).parse()},parseStyleAttribute:function(Dn){var An={},Ln=Dn.getAttribute("style");return Ln&&(typeof Ln=="string"?_n(Ln,An):Bn(Ln,An)),An},parsePointsAttribute:function(Dn){if(!Dn)return null;Dn=Dn.replace(/,/g," ").trim(),Dn=Dn.split(/\s+/);var An=[],Ln,Yn;for(Ln=0,Yn=Dn.length;Ln<Yn;Ln+=2)An.push({x:parseFloat(Dn[Ln]),y:parseFloat(Dn[Ln+1])});return An},getCSSRules:function(Dn){var An=Dn.getElementsByTagName("style"),Ln,Yn,er={},tr;for(Ln=0,Yn=An.length;Ln<Yn;Ln++){var Gn=An[Ln].textContent;Gn=Gn.replace(/\/\*[\s\S]*?\*\//g,""),Gn.trim()!==""&&(tr=Gn.split("}"),tr=tr.filter(function(ir){return ir.trim()}),tr.forEach(function(ir){var cr=ir.split("{"),Tn={},Pn=cr[1].trim(),Vn=Pn.split(";").filter(function(Jn){return Jn.trim()});for(Ln=0,Yn=Vn.length;Ln<Yn;Ln++){var Fn=Vn[Ln].split(":"),zn=Fn[0].trim(),Zn=Fn[1].trim();Tn[zn]=Zn}ir=cr[0].trim(),ir.split(",").forEach(function(Jn){Jn=Jn.replace(/^svg/i,"").trim(),Jn!==""&&(er[Jn]?d.util.object.extend(er[Jn],Tn):er[Jn]=d.util.object.clone(Tn))})}))}return er},loadSVGFromURL:function(Dn,An,Ln,Yn){Dn=Dn.replace(/^\n\s*/,"").trim(),new d.util.request(Dn,{method:"get",onComplete:er});function er(tr){var Gn=tr.responseXML;if(!Gn||!Gn.documentElement)return An&&An(null),!1;d.parseSVGDocument(Gn.documentElement,function(ir,cr,Tn,Pn){An&&An(ir,cr,Tn,Pn)},Ln,Yn)}},loadSVGFromString:function(Dn,An,Ln,Yn){var er=new d.window.DOMParser,tr=er.parseFromString(Dn.trim(),"text/xml");d.parseSVGDocument(tr.documentElement,function(Gn,ir,cr,Tn){An(Gn,ir,cr,Tn)},Ln,Yn)}})}(n),e.ElementsParser=function(c,d,f,g,v,A){this.elements=c,this.callback=d,this.options=f,this.reviver=g,this.svgUid=f&&f.svgUid||0,this.parsingOptions=v,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=A},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var d=this;this.elements.forEach(function(f,g){f.setAttribute("svgUid",d.svgUid),d.createObject(f,g)})},c.findTag=function(d){return e[e.util.string.capitalize(d.tagName.replace("svg:",""))]},c.createObject=function(d,f){var g=this.findTag(d);if(g&&g.fromElement)try{g.fromElement(d,this.createCallback(f,d),this.options)}catch(v){e.log(v)}else this.checkIfDone()},c.createCallback=function(d,f){var g=this;return function(v){var A;g.resolveGradient(v,f,"fill"),g.resolveGradient(v,f,"stroke"),v instanceof e.Image&&v._originalElement&&(A=v.parsePreserveAspectRatioAttribute(f)),v._removeTransformMatrix(A),g.resolveClipPath(v,f),g.reviver&&g.reviver(f,v),g.instances[d]=v,g.checkIfDone()}},c.extractPropertyDefinition=function(d,f,g){var v=d[f],A=this.regexUrl;if(A.test(v)){A.lastIndex=0;var M=A.exec(v)[1];return A.lastIndex=0,e[g][this.svgUid][M]}},c.resolveGradient=function(d,f,g){var v=this.extractPropertyDefinition(d,g,"gradientDefs");if(v){var A=f.getAttribute(g+"-opacity"),M=e.Gradient.fromElement(v,d,A,this.options);d.set(g,M)}},c.createClipPathCallback=function(d,f){return function(g){g._removeTransformMatrix(),g.fillRule=g.clipRule,f.push(g)}},c.resolveClipPath=function(d,f){var g=this.extractPropertyDefinition(d,"clipPath","clipPaths"),v,A,M,Y,de,ae;if(g){Y=[],M=e.util.invertTransform(d.calcTransformMatrix());for(var ze=g[0].parentNode,qe=f;qe.parentNode&&qe.getAttribute("clip-path")!==d.clipPath;)qe=qe.parentNode;qe.parentNode.appendChild(ze);for(var Ue=0;Ue<g.length;Ue++)v=g[Ue],A=this.findTag(v),A.fromElement(v,this.createClipPathCallback(d,Y),this.options);Y.length===1?g=Y[0]:g=new e.Group(Y),de=e.util.multiplyTransformMatrices(M,g.calcTransformMatrix()),g.clipPath&&this.resolveClipPath(g,qe);var ae=e.util.qrDecompose(de);g.flipX=!1,g.flipY=!1,g.set("scaleX",ae.scaleX),g.set("scaleY",ae.scaleY),g.angle=ae.angle,g.skewX=ae.skewX,g.skewY=0,g.setPositionByOrigin({x:ae.translateX,y:ae.translateY},"center","center"),d.clipPath=g}else delete d.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(d){return d!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(c){var d=c.fabric||(c.fabric={});if(d.Point){d.warn("fabric.Point is already defined");return}d.Point=f;function f(g,v){this.x=g,this.y=v}f.prototype={type:"point",constructor:f,add:function(g){return new f(this.x+g.x,this.y+g.y)},addEquals:function(g){return this.x+=g.x,this.y+=g.y,this},scalarAdd:function(g){return new f(this.x+g,this.y+g)},scalarAddEquals:function(g){return this.x+=g,this.y+=g,this},subtract:function(g){return new f(this.x-g.x,this.y-g.y)},subtractEquals:function(g){return this.x-=g.x,this.y-=g.y,this},scalarSubtract:function(g){return new f(this.x-g,this.y-g)},scalarSubtractEquals:function(g){return this.x-=g,this.y-=g,this},multiply:function(g){return new f(this.x*g,this.y*g)},multiplyEquals:function(g){return this.x*=g,this.y*=g,this},divide:function(g){return new f(this.x/g,this.y/g)},divideEquals:function(g){return this.x/=g,this.y/=g,this},eq:function(g){return this.x===g.x&&this.y===g.y},lt:function(g){return this.x<g.x&&this.y<g.y},lte:function(g){return this.x<=g.x&&this.y<=g.y},gt:function(g){return this.x>g.x&&this.y>g.y},gte:function(g){return this.x>=g.x&&this.y>=g.y},lerp:function(g,v){return typeof v>"u"&&(v=.5),v=Math.max(Math.min(1,v),0),new f(this.x+(g.x-this.x)*v,this.y+(g.y-this.y)*v)},distanceFrom:function(g){var v=this.x-g.x,A=this.y-g.y;return Math.sqrt(v*v+A*A)},midPointFrom:function(g){return this.lerp(g)},min:function(g){return new f(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new f(Math.max(this.x,g.x),Math.max(this.y,g.y))},toString:function(){return this.x+","+this.y},setXY:function(g,v){return this.x=g,this.y=v,this},setX:function(g){return this.x=g,this},setY:function(g){return this.y=g,this},setFromPoint:function(g){return this.x=g.x,this.y=g.y,this},swap:function(g){var v=this.x,A=this.y;this.x=g.x,this.y=g.y,g.x=v,g.y=A},clone:function(){return new f(this.x,this.y)}}}(n),function(c){var d=c.fabric||(c.fabric={});if(d.Intersection){d.warn("fabric.Intersection is already defined");return}function f(g){this.status=g,this.points=[]}d.Intersection=f,d.Intersection.prototype={constructor:f,appendPoint:function(g){return this.points.push(g),this},appendPoints:function(g){return this.points=this.points.concat(g),this}},d.Intersection.intersectLineLine=function(g,v,A,M){var Y,de=(M.x-A.x)*(g.y-A.y)-(M.y-A.y)*(g.x-A.x),ae=(v.x-g.x)*(g.y-A.y)-(v.y-g.y)*(g.x-A.x),ze=(M.y-A.y)*(v.x-g.x)-(M.x-A.x)*(v.y-g.y);if(ze!==0){var qe=de/ze,Ue=ae/ze;0<=qe&&qe<=1&&0<=Ue&&Ue<=1?(Y=new f("Intersection"),Y.appendPoint(new d.Point(g.x+qe*(v.x-g.x),g.y+qe*(v.y-g.y)))):Y=new f}else de===0||ae===0?Y=new f("Coincident"):Y=new f("Parallel");return Y},d.Intersection.intersectLinePolygon=function(g,v,A){var M=new f,Y=A.length,de,ae,ze,qe;for(qe=0;qe<Y;qe++)de=A[qe],ae=A[(qe+1)%Y],ze=f.intersectLineLine(g,v,de,ae),M.appendPoints(ze.points);return M.points.length>0&&(M.status="Intersection"),M},d.Intersection.intersectPolygonPolygon=function(g,v){var A=new f,M=g.length,Y;for(Y=0;Y<M;Y++){var de=g[Y],ae=g[(Y+1)%M],ze=f.intersectLinePolygon(de,ae,v);A.appendPoints(ze.points)}return A.points.length>0&&(A.status="Intersection"),A},d.Intersection.intersectPolygonRectangle=function(g,v,A){var M=v.min(A),Y=v.max(A),de=new d.Point(Y.x,M.y),ae=new d.Point(M.x,Y.y),ze=f.intersectLinePolygon(M,de,g),qe=f.intersectLinePolygon(de,Y,g),Ue=f.intersectLinePolygon(Y,ae,g),hn=f.intersectLinePolygon(ae,M,g),On=new f;return On.appendPoints(ze.points),On.appendPoints(qe.points),On.appendPoints(Ue.points),On.appendPoints(hn.points),On.points.length>0&&(On.status="Intersection"),On}}(n),function(c){var d=c.fabric||(c.fabric={});if(d.Color){d.warn("fabric.Color is already defined.");return}function f(v){v?this._tryParsingColor(v):this.setSource([0,0,0,1])}d.Color=f,d.Color.prototype={_tryParsingColor:function(v){var A;v in f.colorNameMap&&(v=f.colorNameMap[v]),v==="transparent"&&(A=[255,255,255,0]),A||(A=f.sourceFromHex(v)),A||(A=f.sourceFromRgb(v)),A||(A=f.sourceFromHsl(v)),A||(A=[0,0,0,1]),A&&this.setSource(A)},_rgbToHsl:function(v,A,M){v/=255,A/=255,M/=255;var Y,de,ae,ze=d.util.array.max([v,A,M]),qe=d.util.array.min([v,A,M]);if(ae=(ze+qe)/2,ze===qe)Y=de=0;else{var Ue=ze-qe;switch(de=ae>.5?Ue/(2-ze-qe):Ue/(ze+qe),ze){case v:Y=(A-M)/Ue+(A<M?6:0);break;case A:Y=(M-v)/Ue+2;break;case M:Y=(v-A)/Ue+4;break}Y/=6}return[Math.round(Y*360),Math.round(de*100),Math.round(ae*100)]},getSource:function(){return this._source},setSource:function(v){this._source=v},toRgb:function(){var v=this.getSource();return"rgb("+v[0]+","+v[1]+","+v[2]+")"},toRgba:function(){var v=this.getSource();return"rgba("+v[0]+","+v[1]+","+v[2]+","+v[3]+")"},toHsl:function(){var v=this.getSource(),A=this._rgbToHsl(v[0],v[1],v[2]);return"hsl("+A[0]+","+A[1]+"%,"+A[2]+"%)"},toHsla:function(){var v=this.getSource(),A=this._rgbToHsl(v[0],v[1],v[2]);return"hsla("+A[0]+","+A[1]+"%,"+A[2]+"%,"+v[3]+")"},toHex:function(){var v=this.getSource(),A,M,Y;return A=v[0].toString(16),A=A.length===1?"0"+A:A,M=v[1].toString(16),M=M.length===1?"0"+M:M,Y=v[2].toString(16),Y=Y.length===1?"0"+Y:Y,A.toUpperCase()+M.toUpperCase()+Y.toUpperCase()},toHexa:function(){var v=this.getSource(),A;return A=Math.round(v[3]*255),A=A.toString(16),A=A.length===1?"0"+A:A,this.toHex()+A.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(v){var A=this.getSource();return A[3]=v,this.setSource(A),this},toGrayscale:function(){var v=this.getSource(),A=parseInt((v[0]*.3+v[1]*.59+v[2]*.11).toFixed(0),10),M=v[3];return this.setSource([A,A,A,M]),this},toBlackWhite:function(v){var A=this.getSource(),M=(A[0]*.3+A[1]*.59+A[2]*.11).toFixed(0),Y=A[3];return v=v||127,M=Number(M)<Number(v)?0:255,this.setSource([M,M,M,Y]),this},overlayWith:function(v){v instanceof f||(v=new f(v));var A=[],M=this.getAlpha(),Y=.5,de=this.getSource(),ae=v.getSource(),ze;for(ze=0;ze<3;ze++)A.push(Math.round(de[ze]*(1-Y)+ae[ze]*Y));return A[3]=M,this.setSource(A),this}},d.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,d.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,d.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,d.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function g(v,A,M){return M<0&&(M+=1),M>1&&(M-=1),M<1/6?v+(A-v)*6*M:M<1/2?A:M<2/3?v+(A-v)*(2/3-M)*6:v}d.Color.fromRgb=function(v){return f.fromSource(f.sourceFromRgb(v))},d.Color.sourceFromRgb=function(v){var A=v.match(f.reRGBa);if(A){var M=parseInt(A[1],10)/(/%$/.test(A[1])?100:1)*(/%$/.test(A[1])?255:1),Y=parseInt(A[2],10)/(/%$/.test(A[2])?100:1)*(/%$/.test(A[2])?255:1),de=parseInt(A[3],10)/(/%$/.test(A[3])?100:1)*(/%$/.test(A[3])?255:1);return[parseInt(M,10),parseInt(Y,10),parseInt(de,10),A[4]?parseFloat(A[4]):1]}},d.Color.fromRgba=f.fromRgb,d.Color.fromHsl=function(v){return f.fromSource(f.sourceFromHsl(v))},d.Color.sourceFromHsl=function(v){var A=v.match(f.reHSLa);if(A){var M=(parseFloat(A[1])%360+360)%360/360,Y=parseFloat(A[2])/(/%$/.test(A[2])?100:1),de=parseFloat(A[3])/(/%$/.test(A[3])?100:1),ae,ze,qe;if(Y===0)ae=ze=qe=de;else{var Ue=de<=.5?de*(Y+1):de+Y-de*Y,hn=de*2-Ue;ae=g(hn,Ue,M+1/3),ze=g(hn,Ue,M),qe=g(hn,Ue,M-1/3)}return[Math.round(ae*255),Math.round(ze*255),Math.round(qe*255),A[4]?parseFloat(A[4]):1]}},d.Color.fromHsla=f.fromHsl,d.Color.fromHex=function(v){return f.fromSource(f.sourceFromHex(v))},d.Color.sourceFromHex=function(v){if(v.match(f.reHex)){var A=v.slice(v.indexOf("#")+1),M=A.length===3||A.length===4,Y=A.length===8||A.length===4,de=M?A.charAt(0)+A.charAt(0):A.substring(0,2),ae=M?A.charAt(1)+A.charAt(1):A.substring(2,4),ze=M?A.charAt(2)+A.charAt(2):A.substring(4,6),qe=Y?M?A.charAt(3)+A.charAt(3):A.substring(6,8):"FF";return[parseInt(de,16),parseInt(ae,16),parseInt(ze,16),parseFloat((parseInt(qe,16)/255).toFixed(2))]}},d.Color.fromSource=function(v){var A=new f;return A.setSource(v),A}}(n),function(c){var d=c.fabric||(c.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],g=["ns","nesw","ew","nwse"],v={},A="left",M="top",Y="right",de="bottom",ae="center",ze={top:de,bottom:M,left:Y,right:A,center:ae},qe=d.util.radiansToDegrees,Ue=Math.sign||function(Tn){return(Tn>0)-(Tn<0)||+Tn};function hn(Tn,Pn){var Vn=Tn.angle+qe(Math.atan2(Pn.y,Pn.x))+360;return Math.round(Vn%360/45)}function On(Tn,Pn){var Vn=Pn.transform.target,Fn=Vn.canvas,zn=d.util.object.clone(Pn);zn.target=Vn,Fn&&Fn.fire("object:"+Tn,zn),Vn.fire(Tn,Pn)}function vn(Tn,Pn){var Vn=Pn.canvas,Fn=Vn.uniScaleKey,zn=Tn[Fn];return Vn.uniformScaling&&!zn||!Vn.uniformScaling&&zn}function bn(Tn){return Tn.originX===ae&&Tn.originY===ae}function wn(Tn,Pn,Vn){var Fn=Tn.lockScalingX,zn=Tn.lockScalingY;return!!(Fn&&zn||!Pn&&(Fn||zn)&&Vn||Fn&&Pn==="x"||zn&&Pn==="y")}function Cn(Tn,Pn,Vn){var Fn="not-allowed",zn=vn(Tn,Vn),Zn="";if(Pn.x!==0&&Pn.y===0?Zn="x":Pn.x===0&&Pn.y!==0&&(Zn="y"),wn(Vn,Zn,zn))return Fn;var Jn=hn(Vn,Pn);return f[Jn]+"-resize"}function En(Tn,Pn,Vn){var Fn="not-allowed";if(Pn.x!==0&&Vn.lockSkewingY||Pn.y!==0&&Vn.lockSkewingX)return Fn;var zn=hn(Vn,Pn)%4;return g[zn]+"-resize"}function _n(Tn,Pn,Vn){return Tn[Vn.canvas.altActionKey]?v.skewCursorStyleHandler(Tn,Pn,Vn):v.scaleCursorStyleHandler(Tn,Pn,Vn)}function Bn(Tn,Pn,Vn){var Fn=Tn[Vn.canvas.altActionKey];if(Pn.x===0)return Fn?"skewX":"scaleY";if(Pn.y===0)return Fn?"skewY":"scaleX"}function jn(Tn,Pn,Vn){return Vn.lockRotation?"not-allowed":Pn.cursorStyle}function Un(Tn,Pn,Vn,Fn){return{e:Tn,transform:Pn,pointer:{x:Vn,y:Fn}}}function Rn(Tn){return function(Pn,Vn,Fn,zn){var Zn=Vn.target,Jn=Zn.getCenterPoint(),rr=Zn.translateToOriginPoint(Jn,Vn.originX,Vn.originY),nr=Tn(Pn,Vn,Fn,zn);return Zn.setPositionByOrigin(rr,Vn.originX,Vn.originY),nr}}function Wn(Tn,Pn){return function(Vn,Fn,zn,Zn){var Jn=Pn(Vn,Fn,zn,Zn);return Jn&&On(Tn,Un(Vn,Fn,zn,Zn)),Jn}}function $n(Tn,Pn,Vn,Fn,zn){var Zn=Tn.target,Jn=Zn.controls[Tn.corner],rr=Zn.canvas.getZoom(),nr=Zn.padding/rr,qn=Zn.toLocalPoint(new d.Point(Fn,zn),Pn,Vn);return qn.x>=nr&&(qn.x-=nr),qn.x<=-nr&&(qn.x+=nr),qn.y>=nr&&(qn.y-=nr),qn.y<=nr&&(qn.y+=nr),qn.x-=Jn.offsetX,qn.y-=Jn.offsetY,qn}function Xn(Tn){return Tn.flipX!==Tn.flipY}function xn(Tn,Pn,Vn,Fn,zn){if(Tn[Pn]!==0){var Zn=Tn._getTransformedDimensions()[Fn],Jn=zn/Zn*Tn[Vn];Tn.set(Vn,Jn)}}function Mn(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=zn._getTransformedDimensions(0,zn.skewY),Jn=$n(Pn,Pn.originX,Pn.originY,Vn,Fn),rr=Math.abs(Jn.x*2)-Zn.x,nr=zn.skewX,qn;rr<2?qn=0:(qn=qe(Math.atan2(rr/zn.scaleX,Zn.y/zn.scaleY)),Pn.originX===A&&Pn.originY===de&&(qn=-qn),Pn.originX===Y&&Pn.originY===M&&(qn=-qn),Xn(zn)&&(qn=-qn));var sr=nr!==qn;if(sr){var ur=zn._getTransformedDimensions().y;zn.set("skewX",qn),xn(zn,"skewY","scaleY","y",ur)}return sr}function Qn(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=zn._getTransformedDimensions(zn.skewX,0),Jn=$n(Pn,Pn.originX,Pn.originY,Vn,Fn),rr=Math.abs(Jn.y*2)-Zn.y,nr=zn.skewY,qn;rr<2?qn=0:(qn=qe(Math.atan2(rr/zn.scaleY,Zn.x/zn.scaleX)),Pn.originX===A&&Pn.originY===de&&(qn=-qn),Pn.originX===Y&&Pn.originY===M&&(qn=-qn),Xn(zn)&&(qn=-qn));var sr=nr!==qn;if(sr){var ur=zn._getTransformedDimensions().x;zn.set("skewY",qn),xn(zn,"skewX","scaleX","x",ur)}return sr}function Nn(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=zn.skewX,Jn,rr=Pn.originY;if(zn.lockSkewingX)return!1;if(Zn===0){var nr=$n(Pn,ae,ae,Vn,Fn);nr.x>0?Jn=A:Jn=Y}else Zn>0&&(Jn=rr===M?A:Y),Zn<0&&(Jn=rr===M?Y:A),Xn(zn)&&(Jn=Jn===A?Y:A);Pn.originX=Jn;var qn=Wn("skewing",Rn(Mn));return qn(Tn,Pn,Vn,Fn)}function Hn(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=zn.skewY,Jn,rr=Pn.originX;if(zn.lockSkewingY)return!1;if(Zn===0){var nr=$n(Pn,ae,ae,Vn,Fn);nr.y>0?Jn=M:Jn=de}else Zn>0&&(Jn=rr===A?M:de),Zn<0&&(Jn=rr===A?de:M),Xn(zn)&&(Jn=Jn===M?de:M);Pn.originY=Jn;var qn=Wn("skewing",Rn(Qn));return qn(Tn,Pn,Vn,Fn)}function Dn(Tn,Pn,Vn,Fn){var zn=Pn,Zn=zn.target,Jn=Zn.translateToOriginPoint(Zn.getCenterPoint(),zn.originX,zn.originY);if(Zn.lockRotation)return!1;var rr=Math.atan2(zn.ey-Jn.y,zn.ex-Jn.x),nr=Math.atan2(Fn-Jn.y,Vn-Jn.x),qn=qe(nr-rr+zn.theta),sr=!0;if(Zn.snapAngle>0){var ur=Zn.snapAngle,Kn=Zn.snapThreshold||ur,lr=Math.ceil(qn/ur)*ur,dr=Math.floor(qn/ur)*ur;Math.abs(qn-dr)<Kn?qn=dr:Math.abs(qn-lr)<Kn&&(qn=lr)}return qn<0&&(qn=360+qn),qn%=360,sr=Zn.angle!==qn,Zn.angle=qn,sr}function An(Tn,Pn,Vn,Fn,zn){zn=zn||{};var Zn=Pn.target,Jn=Zn.lockScalingX,rr=Zn.lockScalingY,nr=zn.by,qn,sr,ur,Kn,lr=vn(Tn,Zn),dr=wn(Zn,nr,lr),Or,vr,Sr=Pn.gestureScale;if(dr)return!1;if(Sr)sr=Pn.scaleX*Sr,ur=Pn.scaleY*Sr;else{if(qn=$n(Pn,Pn.originX,Pn.originY,Vn,Fn),Or=nr!=="y"?Ue(qn.x):1,vr=nr!=="x"?Ue(qn.y):1,Pn.signX||(Pn.signX=Or),Pn.signY||(Pn.signY=vr),Zn.lockScalingFlip&&(Pn.signX!==Or||Pn.signY!==vr))return!1;if(Kn=Zn._getTransformedDimensions(),lr&&!nr){var xr=Math.abs(qn.x)+Math.abs(qn.y),Cr=Pn.original,Pr=Math.abs(Kn.x*Cr.scaleX/Zn.scaleX)+Math.abs(Kn.y*Cr.scaleY/Zn.scaleY),$r=xr/Pr;sr=Cr.scaleX*$r,ur=Cr.scaleY*$r}else sr=Math.abs(qn.x*Zn.scaleX/Kn.x),ur=Math.abs(qn.y*Zn.scaleY/Kn.y);bn(Pn)&&(sr*=2,ur*=2),Pn.signX!==Or&&nr!=="y"&&(Pn.originX=ze[Pn.originX],sr*=-1,Pn.signX=Or),Pn.signY!==vr&&nr!=="x"&&(Pn.originY=ze[Pn.originY],ur*=-1,Pn.signY=vr)}var Mr=Zn.scaleX,kr=Zn.scaleY;return nr?(nr==="x"&&Zn.set("scaleX",sr),nr==="y"&&Zn.set("scaleY",ur)):(!Jn&&Zn.set("scaleX",sr),!rr&&Zn.set("scaleY",ur)),Mr!==Zn.scaleX||kr!==Zn.scaleY}function Ln(Tn,Pn,Vn,Fn){return An(Tn,Pn,Vn,Fn)}function Yn(Tn,Pn,Vn,Fn){return An(Tn,Pn,Vn,Fn,{by:"x"})}function er(Tn,Pn,Vn,Fn){return An(Tn,Pn,Vn,Fn,{by:"y"})}function tr(Tn,Pn,Vn,Fn){return Tn[Pn.target.canvas.altActionKey]?v.skewHandlerX(Tn,Pn,Vn,Fn):v.scalingY(Tn,Pn,Vn,Fn)}function Gn(Tn,Pn,Vn,Fn){return Tn[Pn.target.canvas.altActionKey]?v.skewHandlerY(Tn,Pn,Vn,Fn):v.scalingX(Tn,Pn,Vn,Fn)}function ir(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=$n(Pn,Pn.originX,Pn.originY,Vn,Fn),Jn=zn.strokeWidth/(zn.strokeUniform?zn.scaleX:1),rr=bn(Pn)?2:1,nr=zn.width,qn=Math.abs(Zn.x*rr/zn.scaleX)-Jn;return zn.set("width",Math.max(qn,0)),nr!==qn}function cr(Tn,Pn,Vn,Fn){var zn=Pn.target,Zn=Vn-Pn.offsetX,Jn=Fn-Pn.offsetY,rr=!zn.get("lockMovementX")&&zn.left!==Zn,nr=!zn.get("lockMovementY")&&zn.top!==Jn;return rr&&zn.set("left",Zn),nr&&zn.set("top",Jn),(rr||nr)&&On("moving",Un(Tn,Pn,Vn,Fn)),rr||nr}v.scaleCursorStyleHandler=Cn,v.skewCursorStyleHandler=En,v.scaleSkewCursorStyleHandler=_n,v.rotationWithSnapping=Wn("rotating",Rn(Dn)),v.scalingEqually=Wn("scaling",Rn(Ln)),v.scalingX=Wn("scaling",Rn(Yn)),v.scalingY=Wn("scaling",Rn(er)),v.scalingYOrSkewingX=tr,v.scalingXOrSkewingY=Gn,v.changeWidth=Wn("resizing",Rn(ir)),v.skewHandlerX=Nn,v.skewHandlerY=Hn,v.dragHandler=cr,v.scaleOrSkewActionName=Bn,v.rotationStyleHandler=jn,v.fireEvent=On,v.wrapWithFixedAnchor=Rn,v.wrapWithFireEvent=Wn,v.getLocalPoint=$n,d.controlsUtils=v}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.degreesToRadians,g=d.controlsUtils;function v(M,Y,de,ae,ze){ae=ae||{};var qe=this.sizeX||ae.cornerSize||ze.cornerSize,Ue=this.sizeY||ae.cornerSize||ze.cornerSize,hn=typeof ae.transparentCorners<"u"?ae.transparentCorners:ze.transparentCorners,On=hn?"stroke":"fill",vn=!hn&&(ae.cornerStrokeColor||ze.cornerStrokeColor),bn=Y,wn=de,Cn;M.save(),M.fillStyle=ae.cornerColor||ze.cornerColor,M.strokeStyle=ae.cornerStrokeColor||ze.cornerStrokeColor,qe>Ue?(Cn=qe,M.scale(1,Ue/qe),wn=de*qe/Ue):Ue>qe?(Cn=Ue,M.scale(qe/Ue,1),bn=Y*Ue/qe):Cn=qe,M.lineWidth=1,M.beginPath(),M.arc(bn,wn,Cn/2,0,2*Math.PI,!1),M[On](),vn&&M.stroke(),M.restore()}function A(M,Y,de,ae,ze){ae=ae||{};var qe=this.sizeX||ae.cornerSize||ze.cornerSize,Ue=this.sizeY||ae.cornerSize||ze.cornerSize,hn=typeof ae.transparentCorners<"u"?ae.transparentCorners:ze.transparentCorners,On=hn?"stroke":"fill",vn=!hn&&(ae.cornerStrokeColor||ze.cornerStrokeColor),bn=qe/2,wn=Ue/2;M.save(),M.fillStyle=ae.cornerColor||ze.cornerColor,M.strokeStyle=ae.cornerStrokeColor||ze.cornerStrokeColor,M.lineWidth=1,M.translate(Y,de),M.rotate(f(ze.angle)),M[On+"Rect"](-bn,-wn,qe,Ue),vn&&M.strokeRect(-bn,-wn,qe,Ue),M.restore()}g.renderCircleControl=v,g.renderSquareControl=A}(n),function(c){var d=c.fabric||(c.fabric={});function f(g){for(var v in g)this[v]=g[v]}d.Control=f,d.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(g,v){return v.cursorStyle},getActionName:function(g,v){return v.actionName},getVisibility:function(g,v){var A=g._controlsVisibility;return A&&typeof A[v]<"u"?A[v]:this.visible},setVisibility:function(g){this.visible=g},positionHandler:function(g,v){var A=d.util.transformPoint({x:this.x*g.x+this.offsetX,y:this.y*g.y+this.offsetY},v);return A},calcCornerCoords:function(g,v,A,M,Y){var de,ae,ze,qe,Ue=Y?this.touchSizeX:this.sizeX,hn=Y?this.touchSizeY:this.sizeY;if(Ue&&hn&&Ue!==hn){var On=Math.atan2(hn,Ue),vn=Math.sqrt(Ue*Ue+hn*hn)/2,bn=On-d.util.degreesToRadians(g),wn=Math.PI/2-On-d.util.degreesToRadians(g);de=vn*d.util.cos(bn),ae=vn*d.util.sin(bn),ze=vn*d.util.cos(wn),qe=vn*d.util.sin(wn)}else{var Cn=Ue&&hn?Ue:v;vn=Cn*.7071067812;var bn=d.util.degreesToRadians(45-g);de=ze=vn*d.util.cos(bn),ae=qe=vn*d.util.sin(bn)}return{tl:{x:A-qe,y:M-ze},tr:{x:A+de,y:M-ae},bl:{x:A-de,y:M+ae},br:{x:A+qe,y:M+ze}}},render:function(g,v,A,M,Y){switch(M=M||{},M.cornerStyle||Y.cornerStyle){case"circle":d.controlsUtils.renderCircleControl.call(this,g,v,A,M,Y);break;default:d.controlsUtils.renderSquareControl.call(this,g,v,A,M,Y)}}}}(n),function(){function c(A,M){var Y=A.getAttribute("style"),de=A.getAttribute("offset")||0,ae,ze,qe,Ue;if(de=parseFloat(de)/(/%$/.test(de)?100:1),de=de<0?0:de>1?1:de,Y){var hn=Y.split(/\s*;\s*/);for(hn[hn.length-1]===""&&hn.pop(),Ue=hn.length;Ue--;){var On=hn[Ue].split(/\s*:\s*/),vn=On[0].trim(),bn=On[1].trim();vn==="stop-color"?ae=bn:vn==="stop-opacity"&&(qe=bn)}}return ae||(ae=A.getAttribute("stop-color")||"rgb(0,0,0)"),qe||(qe=A.getAttribute("stop-opacity")),ae=new e.Color(ae),ze=ae.getAlpha(),qe=isNaN(parseFloat(qe))?1:parseFloat(qe),qe*=ze*M,{offset:de,color:ae.toRgb(),opacity:qe}}function d(A){return{x1:A.getAttribute("x1")||0,y1:A.getAttribute("y1")||0,x2:A.getAttribute("x2")||"100%",y2:A.getAttribute("y2")||0}}function f(A){return{x1:A.getAttribute("fx")||A.getAttribute("cx")||"50%",y1:A.getAttribute("fy")||A.getAttribute("cy")||"50%",r1:0,x2:A.getAttribute("cx")||"50%",y2:A.getAttribute("cy")||"50%",r2:A.getAttribute("r")||"50%"}}var g=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(A){A||(A={}),A.coords||(A.coords={});var M,Y=this;Object.keys(A).forEach(function(de){Y[de]=A[de]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,M={x1:A.coords.x1||0,y1:A.coords.y1||0,x2:A.coords.x2||0,y2:A.coords.y2||0},this.type==="radial"&&(M.r1=A.coords.r1||0,M.r2=A.coords.r2||0),this.coords=M,this.colorStops=A.colorStops.slice()},addColorStop:function(A){for(var M in A){var Y=new e.Color(A[M]);this.colorStops.push({offset:parseFloat(M),color:Y.toRgb(),opacity:Y.getAlpha()})}return this},toObject:function(A){var M={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,M,A),M},toSVG:function(A,ze){var Y=g(this.coords,!0),de,ae,ze=ze||{},qe,Ue,hn=g(this.colorStops,!0),On=Y.r1>Y.r2,vn=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),bn=-this.offsetX,wn=-this.offsetY,Cn=!!ze.additionalTransform,En=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(hn.sort(function(Rn,Wn){return Rn.offset-Wn.offset}),En==="objectBoundingBox"?(bn/=A.width,wn/=A.height):(bn+=A.width/2,wn+=A.height/2),A.type==="path"&&this.gradientUnits!=="percentage"&&(bn-=A.pathOffset.x,wn-=A.pathOffset.y),vn[4]-=bn,vn[5]-=wn,Ue='id="SVGID_'+this.id+'" gradientUnits="'+En+'"',Ue+=' gradientTransform="'+(Cn?ze.additionalTransform+" ":"")+e.util.matrixToSVG(vn)+'" ',this.type==="linear"?qe=["<linearGradient ",Ue,' x1="',Y.x1,'" y1="',Y.y1,'" x2="',Y.x2,'" y2="',Y.y2,`">
`]:this.type==="radial"&&(qe=["<radialGradient ",Ue,' cx="',On?Y.x1:Y.x2,'" cy="',On?Y.y1:Y.y2,'" r="',On?Y.r1:Y.r2,'" fx="',On?Y.x2:Y.x1,'" fy="',On?Y.y2:Y.y1,`">
`]),this.type==="radial"){if(On)for(hn=hn.concat(),hn.reverse(),de=0,ae=hn.length;de<ae;de++)hn[de].offset=1-hn[de].offset;var _n=Math.min(Y.r1,Y.r2);if(_n>0){var Bn=Math.max(Y.r1,Y.r2),jn=_n/Bn;for(de=0,ae=hn.length;de<ae;de++)hn[de].offset+=jn*(1-hn[de].offset)}}for(de=0,ae=hn.length;de<ae;de++){var Un=hn[de];qe.push("<stop ",'offset="',Un.offset*100+"%",'" style="stop-color:',Un.color,typeof Un.opacity<"u"?";stop-opacity: "+Un.opacity:";",`"/>
`)}return qe.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),qe.join("")},toLive:function(A){var M,Y=e.util.object.clone(this.coords),de,ae;if(this.type){for(this.type==="linear"?M=A.createLinearGradient(Y.x1,Y.y1,Y.x2,Y.y2):this.type==="radial"&&(M=A.createRadialGradient(Y.x1,Y.y1,Y.r1,Y.x2,Y.y2,Y.r2)),de=0,ae=this.colorStops.length;de<ae;de++){var ze=this.colorStops[de].color,qe=this.colorStops[de].opacity,Ue=this.colorStops[de].offset;typeof qe<"u"&&(ze=new e.Color(ze).setAlpha(qe).toRgba()),M.addColorStop(Ue,ze)}return M}}}),e.util.object.extend(e.Gradient,{fromElement:function(A,M,Y,de){var ae=parseFloat(Y)/(/%$/.test(Y)?100:1);ae=ae<0?0:ae>1?1:ae,isNaN(ae)&&(ae=1);var ze=A.getElementsByTagName("stop"),qe,Ue=A.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",hn=A.getAttribute("gradientTransform")||"",On=[],vn,bn,wn=0,Cn=0,En;for(A.nodeName==="linearGradient"||A.nodeName==="LINEARGRADIENT"?(qe="linear",vn=d(A)):(qe="radial",vn=f(A)),bn=ze.length;bn--;)On.push(c(ze[bn],ae));En=e.parseTransformAttribute(hn),v(M,vn,de,Ue),Ue==="pixels"&&(wn=-M.left,Cn=-M.top);var _n=new e.Gradient({id:A.getAttribute("id"),type:qe,coords:vn,colorStops:On,gradientUnits:Ue,gradientTransform:En,offsetX:wn,offsetY:Cn});return _n}});function v(A,M,Y,de){var ae,ze;Object.keys(M).forEach(function(qe){ae=M[qe],ae==="Infinity"?ze=1:ae==="-Infinity"?ze=0:(ze=parseFloat(M[qe],10),typeof ae=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(ae)&&(ze*=.01,de==="pixels"&&((qe==="x1"||qe==="x2"||qe==="r2")&&(ze*=Y.viewBoxWidth||Y.width),(qe==="y1"||qe==="y2")&&(ze*=Y.viewBoxHeight||Y.height)))),M[qe]=ze})}}(),function(){var c=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(d,f){if(d||(d={}),this.id=e.Object.__uid++,this.setOptions(d),!d.source||d.source&&typeof d.source!="string"){f&&f(this);return}else{var g=this;this.source=e.util.createImage(),e.util.loadImage(d.source,function(v,A){g.source=v,f&&f(g,A)},null,this.crossOrigin)}},toObject:function(d){var f=e.Object.NUM_FRACTION_DIGITS,g,v;return typeof this.source.src=="string"?g=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(g=this.source.toDataURL()),v={type:"pattern",source:g,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,f),offsetY:c(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,v,d),v},toSVG:function(d){var f=typeof this.source=="function"?this.source():this.source,g=f.width/d.width,v=f.height/d.height,A=this.offsetX/d.width,M=this.offsetY/d.height,Y="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(v=1,M&&(v+=Math.abs(M))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(g=1,A&&(g+=Math.abs(A))),f.src?Y=f.src:f.toDataURL&&(Y=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+A+'" y="'+M+'" width="'+g+'" height="'+v+`">
<image x="0" y="0" width="`+f.width+'" height="'+f.height+'" xlink:href="'+Y+`"></image>
</pattern>
`},setOptions:function(d){for(var f in d)this[f]=d[f]},toLive:function(d){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||f.naturalWidth===0||f.naturalHeight===0)?"":d.createPattern(f,this.repeat)}})}(),function(c){var d=c.fabric||(c.fabric={}),f=d.util.toFixed;if(d.Shadow){d.warn("fabric.Shadow is already defined.");return}d.Shadow=d.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(g){typeof g=="string"&&(g=this._parseShadow(g));for(var v in g)this[v]=g[v];this.id=d.Object.__uid++},_parseShadow:function(g){var v=g.trim(),A=d.Shadow.reOffsetsAndBlur.exec(v)||[],M=v.replace(d.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:M.trim(),offsetX:parseFloat(A[1],10)||0,offsetY:parseFloat(A[2],10)||0,blur:parseFloat(A[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(g){var v=40,A=40,M=d.Object.NUM_FRACTION_DIGITS,Y=d.util.rotateVector({x:this.offsetX,y:this.offsetY},d.util.degreesToRadians(-g.angle)),de=20,ae=new d.Color(this.color);return g.width&&g.height&&(v=f((Math.abs(Y.x)+this.blur)/g.width,M)*100+de,A=f((Math.abs(Y.y)+this.blur)/g.height,M)*100+de),g.flipX&&(Y.x*=-1),g.flipY&&(Y.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+A+'%" height="'+(100+2*A)+'%" x="-'+v+'%" width="'+(100+2*v)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,M)+`"></feGaussianBlur>
	<feOffset dx="`+f(Y.x,M)+'" dy="'+f(Y.y,M)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+ae.toRgb()+'" flood-opacity="'+ae.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var g={},v=d.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(A){this[A]!==v[A]&&(g[A]=this[A])},this),g}}),d.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(n),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var c=e.util.object.extend,d=e.util.getElementOffset,f=e.util.removeFromArray,g=e.util.toFixed,v=e.util.transformPoint,A=e.util.invertTransform,M=e.util.getNodeCanvas,Y=e.util.createCanvasElement,de=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(ae,ze){ze||(ze={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(ae,ze)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(ae,ze){var qe=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(ae),this._initOptions(ze),this.interactive||this._initRetinaScaling(),ze.overlayImage&&this.setOverlayImage(ze.overlayImage,qe),ze.backgroundImage&&this.setBackgroundImage(ze.backgroundImage,qe),ze.backgroundColor&&this.setBackgroundColor(ze.backgroundColor,qe),ze.overlayColor&&this.setOverlayColor(ze.overlayColor,qe),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var ae=e.devicePixelRatio;this.__initRetinaScaling(ae,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(ae,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(ae,ze,qe){ze.setAttribute("width",this.width*ae),ze.setAttribute("height",this.height*ae),qe.scale(ae,ae)},calcOffset:function(){return this._offset=d(this.lowerCanvasEl),this},setOverlayImage:function(ae,ze,qe){return this.__setBgOverlayImage("overlayImage",ae,ze,qe)},setBackgroundImage:function(ae,ze,qe){return this.__setBgOverlayImage("backgroundImage",ae,ze,qe)},setOverlayColor:function(ae,ze){return this.__setBgOverlayColor("overlayColor",ae,ze)},setBackgroundColor:function(ae,ze){return this.__setBgOverlayColor("backgroundColor",ae,ze)},__setBgOverlayImage:function(ae,ze,qe,Ue){return typeof ze=="string"?e.util.loadImage(ze,function(hn,On){if(hn){var vn=new e.Image(hn,Ue);this[ae]=vn,vn.canvas=this}qe&&qe(hn,On)},this,Ue&&Ue.crossOrigin):(Ue&&ze.setOptions(Ue),this[ae]=ze,ze&&(ze.canvas=this),qe&&qe(ze,!1)),this},__setBgOverlayColor:function(ae,ze,qe){return this[ae]=ze,this._initGradient(ze,ae),this._initPattern(ze,ae,qe),this},_createCanvasElement:function(){var ae=Y();if(!ae||(ae.style||(ae.style={}),typeof ae.getContext>"u"))throw de;return ae},_initOptions:function(ae){var ze=this.lowerCanvasEl;this._setOptions(ae),this.width=this.width||parseInt(ze.width,10)||0,this.height=this.height||parseInt(ze.height,10)||0,this.lowerCanvasEl.style&&(ze.width=this.width,ze.height=this.height,ze.style.width=this.width+"px",ze.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(ae){ae&&ae.getContext?this.lowerCanvasEl=ae:this.lowerCanvasEl=e.util.getById(ae)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(ae,ze){return this.setDimensions({width:ae},ze)},setHeight:function(ae,ze){return this.setDimensions({height:ae},ze)},setDimensions:function(ae,ze){var qe;ze=ze||{};for(var Ue in ae)qe=ae[Ue],ze.cssOnly||(this._setBackstoreDimension(Ue,ae[Ue]),qe+="px",this.hasLostContext=!0),ze.backstoreOnly||this._setCssDimension(Ue,qe);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),ze.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(ae,ze){return this.lowerCanvasEl[ae]=ze,this.upperCanvasEl&&(this.upperCanvasEl[ae]=ze),this.cacheCanvasEl&&(this.cacheCanvasEl[ae]=ze),this[ae]=ze,this},_setCssDimension:function(ae,ze){return this.lowerCanvasEl.style[ae]=ze,this.upperCanvasEl&&(this.upperCanvasEl.style[ae]=ze),this.wrapperEl&&(this.wrapperEl.style[ae]=ze),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(ae){var ze=this._activeObject,qe=this.backgroundImage,Ue=this.overlayImage,hn,On,vn;for(this.viewportTransform=ae,On=0,vn=this._objects.length;On<vn;On++)hn=this._objects[On],hn.group||hn.setCoords(!0);return ze&&ze.setCoords(),qe&&qe.setCoords(!0),Ue&&Ue.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(ae,ze){var qe=ae,Ue=this.viewportTransform.slice(0);ae=v(ae,A(this.viewportTransform)),Ue[0]=ze,Ue[3]=ze;var hn=v(ae,Ue);return Ue[4]+=qe.x-hn.x,Ue[5]+=qe.y-hn.y,this.setViewportTransform(Ue)},setZoom:function(ae){return this.zoomToPoint(new e.Point(0,0),ae),this},absolutePan:function(ae){var ze=this.viewportTransform.slice(0);return ze[4]=-ae.x,ze[5]=-ae.y,this.setViewportTransform(ze)},relativePan:function(ae){return this.absolutePan(new e.Point(-ae.x-this.viewportTransform[4],-ae.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(ae){this.stateful&&ae.setupState(),ae._set("canvas",this),ae.setCoords(),this.fire("object:added",{target:ae}),ae.fire("added")},_onObjectRemoved:function(ae){this.fire("object:removed",{target:ae}),ae.fire("removed"),delete ae.canvas},clearContext:function(ae){return ae.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var ae=this.contextContainer;return this.renderCanvas(ae,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var ae={},ze=this.width,qe=this.height,Ue=A(this.viewportTransform);return ae.tl=v({x:0,y:0},Ue),ae.br=v({x:ze,y:qe},Ue),ae.tr=new e.Point(ae.br.x,ae.tl.y),ae.bl=new e.Point(ae.tl.x,ae.br.y),this.vptCoords=ae,ae},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(ae,ze){var qe=this.viewportTransform,Ue=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(ae),e.util.setImageSmoothing(ae,this.imageSmoothingEnabled),this.fire("before:render",{ctx:ae}),this._renderBackground(ae),ae.save(),ae.transform(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5]),this._renderObjects(ae,ze),ae.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(ae),Ue&&(Ue.canvas=this,Ue.shouldCache(),Ue._transformDone=!0,Ue.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(ae)),this._renderOverlay(ae),this.controlsAboveOverlay&&this.interactive&&this.drawControls(ae),this.fire("after:render",{ctx:ae})},drawClipPathOnCanvas:function(ae){var ze=this.viewportTransform,qe=this.clipPath;ae.save(),ae.transform(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]),ae.globalCompositeOperation="destination-in",qe.transform(ae),ae.scale(1/qe.zoomX,1/qe.zoomY),ae.drawImage(qe._cacheCanvas,-qe.cacheTranslationX,-qe.cacheTranslationY),ae.restore()},_renderObjects:function(ae,ze){var qe,Ue;for(qe=0,Ue=ze.length;qe<Ue;++qe)ze[qe]&&ze[qe].render(ae)},_renderBackgroundOrOverlay:function(ae,ze){var qe=this[ze+"Color"],Ue=this[ze+"Image"],hn=this.viewportTransform,On=this[ze+"Vpt"];if(!(!qe&&!Ue)){if(qe){ae.save(),ae.beginPath(),ae.moveTo(0,0),ae.lineTo(this.width,0),ae.lineTo(this.width,this.height),ae.lineTo(0,this.height),ae.closePath(),ae.fillStyle=qe.toLive?qe.toLive(ae,this):qe,On&&ae.transform(hn[0],hn[1],hn[2],hn[3],hn[4],hn[5]),ae.transform(1,0,0,1,qe.offsetX||0,qe.offsetY||0);var vn=qe.gradientTransform||qe.patternTransform;vn&&ae.transform(vn[0],vn[1],vn[2],vn[3],vn[4],vn[5]),ae.fill(),ae.restore()}Ue&&(ae.save(),On&&ae.transform(hn[0],hn[1],hn[2],hn[3],hn[4],hn[5]),Ue.render(ae),ae.restore())}},_renderBackground:function(ae){this._renderBackgroundOrOverlay(ae,"background")},_renderOverlay:function(ae){this._renderBackgroundOrOverlay(ae,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(ae){return this._centerObject(ae,new e.Point(this.getCenterPoint().x,ae.getCenterPoint().y))},centerObjectV:function(ae){return this._centerObject(ae,new e.Point(ae.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(ae){var ze=this.getCenterPoint();return this._centerObject(ae,ze)},viewportCenterObject:function(ae){var ze=this.getVpCenter();return this._centerObject(ae,ze)},viewportCenterObjectH:function(ae){var ze=this.getVpCenter();return this._centerObject(ae,new e.Point(ze.x,ae.getCenterPoint().y)),this},viewportCenterObjectV:function(ae){var ze=this.getVpCenter();return this._centerObject(ae,new e.Point(ae.getCenterPoint().x,ze.y))},getVpCenter:function(){var ae=this.getCenterPoint(),ze=A(this.viewportTransform);return v(ae,ze)},_centerObject:function(ae,ze){return ae.setPositionByOrigin(ze,"center","center"),ae.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(ae){return this.toDatalessObject(ae)},toObject:function(ae){return this._toObjectMethod("toObject",ae)},toDatalessObject:function(ae){return this._toObjectMethod("toDatalessObject",ae)},_toObjectMethod:function(ae,ze){var qe=this.clipPath,Ue={version:e.version,objects:this._toObjects(ae,ze)};return qe&&!qe.excludeFromExport&&(Ue.clipPath=this._toObject(this.clipPath,ae,ze)),c(Ue,this.__serializeBgOverlay(ae,ze)),e.util.populateWithProperties(this,Ue,ze),Ue},_toObjects:function(ae,ze){return this._objects.filter(function(qe){return!qe.excludeFromExport}).map(function(qe){return this._toObject(qe,ae,ze)},this)},_toObject:function(ae,ze,qe){var Ue;this.includeDefaultValues||(Ue=ae.includeDefaultValues,ae.includeDefaultValues=!1);var hn=ae[ze](qe);return this.includeDefaultValues||(ae.includeDefaultValues=Ue),hn},__serializeBgOverlay:function(ae,ze){var qe={},Ue=this.backgroundImage,hn=this.overlayImage,On=this.backgroundColor,vn=this.overlayColor;return On&&On.toObject?On.excludeFromExport||(qe.background=On.toObject(ze)):On&&(qe.background=On),vn&&vn.toObject?vn.excludeFromExport||(qe.overlay=vn.toObject(ze)):vn&&(qe.overlay=vn),Ue&&!Ue.excludeFromExport&&(qe.backgroundImage=this._toObject(Ue,ae,ze)),hn&&!hn.excludeFromExport&&(qe.overlayImage=this._toObject(hn,ae,ze)),qe},svgViewportTransformation:!0,toSVG:function(ae,ze){ae||(ae={}),ae.reviver=ze;var qe=[];return this._setSVGPreamble(qe,ae),this._setSVGHeader(qe,ae),this.clipPath&&qe.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(qe,"background"),this._setSVGBgOverlayImage(qe,"backgroundImage",ze),this._setSVGObjects(qe,ze),this.clipPath&&qe.push(`</g>
`),this._setSVGBgOverlayColor(qe,"overlay"),this._setSVGBgOverlayImage(qe,"overlayImage",ze),qe.push("</svg>"),qe.join("")},_setSVGPreamble:function(ae,ze){ze.suppressPreamble||ae.push('<?xml version="1.0" encoding="',ze.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(ae,ze){var qe=ze.width||this.width,Ue=ze.height||this.height,hn,On='viewBox="0 0 '+this.width+" "+this.height+'" ',vn=e.Object.NUM_FRACTION_DIGITS;ze.viewBox?On='viewBox="'+ze.viewBox.x+" "+ze.viewBox.y+" "+ze.viewBox.width+" "+ze.viewBox.height+'" ':this.svgViewportTransformation&&(hn=this.viewportTransform,On='viewBox="'+g(-hn[4]/hn[0],vn)+" "+g(-hn[5]/hn[3],vn)+" "+g(this.width/hn[0],vn)+" "+g(this.height/hn[3],vn)+'" '),ae.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',qe,'" ','height="',Ue,'" ',On,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(ze),`</defs>
`)},createSVGClipPathMarkup:function(ae){var ze=this.clipPath;return ze?(ze.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+ze.clipPathId+`" >
`+this.clipPath.toClipPathSVG(ae.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var ae=this,ze=["background","overlay"].map(function(qe){var Ue=ae[qe+"Color"];if(Ue&&Ue.toLive){var hn=ae[qe+"Vpt"],On=ae.viewportTransform,vn={width:ae.width/(hn?On[0]:1),height:ae.height/(hn?On[3]:1)};return Ue.toSVG(vn,{additionalTransform:hn?e.util.matrixToSVG(On):""})}});return ze.join("")},createSVGFontFacesMarkup:function(){var ae="",ze={},qe,Ue,hn,On,vn,bn,wn,Cn,En,_n=e.fontPaths,Bn=[];for(this._objects.forEach(function Un(Rn){Bn.push(Rn),Rn._objects&&Rn._objects.forEach(Un)}),Cn=0,En=Bn.length;Cn<En;Cn++)if(qe=Bn[Cn],Ue=qe.fontFamily,!(qe.type.indexOf("text")===-1||ze[Ue]||!_n[Ue])&&(ze[Ue]=!0,!!qe.styles)){hn=qe.styles;for(vn in hn){On=hn[vn];for(wn in On)bn=On[wn],Ue=bn.fontFamily,!ze[Ue]&&_n[Ue]&&(ze[Ue]=!0)}}for(var jn in ze)ae+=[`		@font-face {
`,"			font-family: '",jn,`';
`,"			src: url('",_n[jn],`');
`,`		}
`].join("");return ae&&(ae=['	<style type="text/css">',`<![CDATA[
`,ae,"]]>",`</style>
`].join("")),ae},_setSVGObjects:function(ae,ze){var qe,Ue,hn,On=this._objects;for(Ue=0,hn=On.length;Ue<hn;Ue++)qe=On[Ue],!qe.excludeFromExport&&this._setSVGObject(ae,qe,ze)},_setSVGObject:function(ae,ze,qe){ae.push(ze.toSVG(qe))},_setSVGBgOverlayImage:function(ae,ze,qe){this[ze]&&!this[ze].excludeFromExport&&this[ze].toSVG&&ae.push(this[ze].toSVG(qe))},_setSVGBgOverlayColor:function(ae,ze){var qe=this[ze+"Color"],Ue=this.viewportTransform,hn=this.width,On=this.height;if(qe)if(qe.toLive){var vn=qe.repeat,bn=e.util.invertTransform(Ue),wn=this[ze+"Vpt"],Cn=wn?e.util.matrixToSVG(bn):"";ae.push('<rect transform="'+Cn+" translate(",hn/2,",",On/2,')"',' x="',qe.offsetX-hn/2,'" y="',qe.offsetY-On/2,'" ','width="',vn==="repeat-y"||vn==="no-repeat"?qe.source.width:hn,'" height="',vn==="repeat-x"||vn==="no-repeat"?qe.source.height:On,'" fill="url(#SVGID_'+qe.id+')"',`></rect>
`)}else ae.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',qe,'"',`></rect>
`)},sendToBack:function(ae){if(!ae)return this;var ze=this._activeObject,qe,Ue,hn;if(ae===ze&&ae.type==="activeSelection")for(hn=ze._objects,qe=hn.length;qe--;)Ue=hn[qe],f(this._objects,Ue),this._objects.unshift(Ue);else f(this._objects,ae),this._objects.unshift(ae);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(ae){if(!ae)return this;var ze=this._activeObject,qe,Ue,hn;if(ae===ze&&ae.type==="activeSelection")for(hn=ze._objects,qe=0;qe<hn.length;qe++)Ue=hn[qe],f(this._objects,Ue),this._objects.push(Ue);else f(this._objects,ae),this._objects.push(ae);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(ae,ze){if(!ae)return this;var qe=this._activeObject,Ue,hn,On,vn,bn,wn=0;if(ae===qe&&ae.type==="activeSelection")for(bn=qe._objects,Ue=0;Ue<bn.length;Ue++)hn=bn[Ue],On=this._objects.indexOf(hn),On>0+wn&&(vn=On-1,f(this._objects,hn),this._objects.splice(vn,0,hn)),wn++;else On=this._objects.indexOf(ae),On!==0&&(vn=this._findNewLowerIndex(ae,On,ze),f(this._objects,ae),this._objects.splice(vn,0,ae));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(ae,ze,qe){var Ue,hn;if(qe)for(Ue=ze,hn=ze-1;hn>=0;--hn){var On=ae.intersectsWithObject(this._objects[hn])||ae.isContainedWithinObject(this._objects[hn])||this._objects[hn].isContainedWithinObject(ae);if(On){Ue=hn;break}}else Ue=ze-1;return Ue},bringForward:function(ae,ze){if(!ae)return this;var qe=this._activeObject,Ue,hn,On,vn,bn,wn=0;if(ae===qe&&ae.type==="activeSelection")for(bn=qe._objects,Ue=bn.length;Ue--;)hn=bn[Ue],On=this._objects.indexOf(hn),On<this._objects.length-1-wn&&(vn=On+1,f(this._objects,hn),this._objects.splice(vn,0,hn)),wn++;else On=this._objects.indexOf(ae),On!==this._objects.length-1&&(vn=this._findNewUpperIndex(ae,On,ze),f(this._objects,ae),this._objects.splice(vn,0,ae));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(ae,ze,qe){var Ue,hn,On;if(qe)for(Ue=ze,hn=ze+1,On=this._objects.length;hn<On;++hn){var vn=ae.intersectsWithObject(this._objects[hn])||ae.isContainedWithinObject(this._objects[hn])||this._objects[hn].isContainedWithinObject(ae);if(vn){Ue=hn;break}}else Ue=ze+1;return Ue},moveTo:function(ae,ze){return f(this._objects,ae),this._objects.splice(ze,0,ae),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(ae){ae.dispose&&ae.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(e.StaticCanvas.prototype,e.Observable),c(e.StaticCanvas.prototype,e.Collection),c(e.StaticCanvas.prototype,e.DataURLExporter),c(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(ae){var ze=Y();if(!ze||!ze.getContext)return null;var qe=ze.getContext("2d");if(!qe)return null;switch(ae){case"setLineDash":return typeof qe.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var ae=M(this.lowerCanvasEl);return ae&&ae.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(ae){var ze=M(this.lowerCanvasEl);return ze&&ze.createJPEGStream(ae)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var d=this.canvas.viewportTransform;c.save(),c.transform(d[0],d[1],d[2],d[3],d[4],d[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,d=this.shadow,f=c.contextTop,g=c.getZoom();c&&c._isRetinaScaling()&&(g*=e.devicePixelRatio),f.shadowColor=d.color,f.shadowBlur=d.blur*g,f.shadowOffsetX=d.offsetX*g,f.shadowOffsetY=d.offsetY*g}},needsFullRender:function(){var c=new e.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,d,f){var g=d.midPointFrom(f);return c.quadraticCurveTo(d.x,d.y,g.x,g.y),g},onMouseDown:function(c,d){this.canvas._isMainEvent(d.e)&&(this.drawStraightLine=d.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,d){if(this.canvas._isMainEvent(d.e)&&(this.drawStraightLine=d.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,g=f.length,v=this.canvas.contextTop;this._saveAndTransform(v),this.oldEnd&&(v.beginPath(),v.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(v,f[g-2],f[g-1],!0),v.stroke(),v.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var d=new e.Point(c.x,c.y);this._reset(),this._addPoint(d),this.canvas.contextTop.moveTo(d.x,d.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var d=new e.Point(c.x,c.y);return this._addPoint(d)},_render:function(c){var d,f,g=this._points[0],v=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&g.x===v.x&&g.y===v.y){var A=this.width/1e3;g=new e.Point(g.x,g.y),v=new e.Point(v.x,v.y),g.x-=A,v.x+=A}for(c.moveTo(g.x,g.y),d=1,f=this._points.length;d<f;d++)this._drawSegment(c,g,v),g=this._points[d],v=this._points[d+1];c.lineTo(g.x,g.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var d=this.width/1e3;return e.util.getSmoothPathFromPoints(c,d)},_isEmptySVGPath:function(c){var d=e.util.joinPath(c);return d==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var d=new e.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,d.shadow=new e.Shadow(this.shadow)),d},decimatePoints:function(c,d){if(c.length<=2)return c;var f=this.canvas.getZoom(),g=Math.pow(d/f,2),v,A=c.length-1,M=c[0],Y=[M],de;for(v=1;v<A-1;v++)de=Math.pow(M.x-c[v].x,2)+Math.pow(M.y-c[v].y,2),de>=g&&(M=c[v],Y.push(M));return Y.push(c[A]),Y},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var d=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(d)){this.canvas.requestRenderAll();return}var f=this.createPath(d);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var d=this.addPoint(c),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,d),f.restore()},dot:function(c,d){c.fillStyle=d.fill,c.beginPath(),c.arc(d.x,d.y,d.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,d,f,g=this.points;for(this._saveAndTransform(c),d=0,f=g.length;d<f;d++)this.dot(c,g[d]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,d,f;this.canvas.renderOnAddRemove=!1;var g=[];for(d=0,f=this.points.length;d<f;d++){var v=this.points[d],A=new e.Circle({radius:v.radius,left:v.x,top:v.y,originX:"center",originY:"center",fill:v.fill});this.shadow&&(A.shadow=new e.Shadow(this.shadow)),g.push(A)}var M=new e.Group(g);M.canvas=this.canvas,this.canvas.fire("before:path:created",{path:M}),this.canvas.add(M),this.canvas.fire("path:created",{path:M}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var d=new e.Point(c.x,c.y),f=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return d.radius=f,d.fill=g,this.points.push(d),d}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var d=[],f=0,g=this.sprayChunks.length;f<g;f++)for(var v=this.sprayChunks[f],A=0,M=v.length;A<M;A++){var Y=new e.Rect({width:v[A].width,height:v[A].width,left:v[A].x+1,top:v[A].y+1,originX:"center",originY:"center",fill:this.color});d.push(Y)}this.optimizeOverlapping&&(d=this._getOptimizedRects(d));var de=new e.Group(d);this.shadow&&de.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:de}),this.canvas.add(de),this.canvas.fire("path:created",{path:de}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var d={},f,g,v;for(g=0,v=c.length;g<v;g++)f=c[g].left+""+c[g].top,d[f]||(d[f]=c[g]);var A=[];for(f in d)A.push(d[f]);return A},render:function(c){var d=this.canvas.contextTop,f,g;for(d.fillStyle=this.color,this._saveAndTransform(d),f=0,g=c.length;f<g;f++){var v=c[f];typeof v.opacity<"u"&&(d.globalAlpha=v.opacity),d.fillRect(v.x,v.y,v.width,v.width)}d.restore()},_render:function(){var c=this.canvas.contextTop,d,f;for(c.fillStyle=this.color,this._saveAndTransform(c),d=0,f=this.sprayChunks.length;d<f;d++)this.render(this.sprayChunks[d]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var d,f,g,v=this.width/2,A;for(A=0;A<this.density;A++){d=e.util.getRandomInt(c.x-v,c.x+v),f=e.util.getRandomInt(c.y-v,c.y+v),this.dotWidthVariance?g=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):g=this.dotWidth;var M=new e.Point(d,f);M.width=g,this.randomOpacity&&(M.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(M)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var c=20,d=5,f=e.util.createCanvasElement(),g=f.getContext("2d");return f.width=f.height=c+d,g.fillStyle=this.color,g.beginPath(),g.arc(c/2,c/2,c/2,0,Math.PI*2,!1),g.closePath(),g.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var d=this.callSuper("createPath",c),f=d._getLeftTopCoords().scalarAdd(d.strokeWidth/2);return d.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),d}}),function(){var c=e.util.getPointer,d=e.util.degreesToRadians,f=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(v,A){A||(A={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(v,A),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var v=this.getActiveObjects(),A,M,Y;if(v.length>0&&!this.preserveObjectStacking){M=[],Y=[];for(var de=0,ae=this._objects.length;de<ae;de++)A=this._objects[de],v.indexOf(A)===-1?M.push(A):Y.push(A);v.length>1&&(this._activeObject._objects=Y),M.push.apply(M,Y)}else M=this._objects;return M},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var v=this.contextContainer;return this.renderCanvas(v,this._chooseObjectsToRender()),this},renderTopLayer:function(v){v.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(v),this.contextTopDirty=!0),v.restore()},renderTop:function(){var v=this.contextTop;return this.clearContext(v),this.renderTopLayer(v),this.fire("after:render"),this},_normalizePointer:function(v,A){var M=v.calcTransformMatrix(),Y=e.util.invertTransform(M),de=this.restorePointerVpt(A);return e.util.transformPoint(de,Y)},isTargetTransparent:function(v,A,M){if(v.shouldCache()&&v._cacheCanvas&&v!==this._activeObject){var Y=this._normalizePointer(v,{x:A,y:M}),de=Math.max(v.cacheTranslationX+Y.x*v.zoomX,0),ae=Math.max(v.cacheTranslationY+Y.y*v.zoomY,0),hn=e.util.isTransparent(v._cacheContext,Math.round(de),Math.round(ae),this.targetFindTolerance);return hn}var ze=this.contextCache,qe=v.selectionBackgroundColor,Ue=this.viewportTransform;v.selectionBackgroundColor="",this.clearContext(ze),ze.save(),ze.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5]),v.render(ze),ze.restore(),v.selectionBackgroundColor=qe;var hn=e.util.isTransparent(ze,A,M,this.targetFindTolerance);return hn},_isSelectionKeyPressed:function(v){var A=!1;return Array.isArray(this.selectionKey)?A=!!this.selectionKey.find(function(M){return v[M]===!0}):A=v[this.selectionKey],A},_shouldClearSelection:function(v,A){var M=this.getActiveObjects(),Y=this._activeObject;return!A||A&&Y&&M.length>1&&M.indexOf(A)===-1&&Y!==A&&!this._isSelectionKeyPressed(v)||A&&!A.evented||A&&!A.selectable&&Y&&Y!==A},_shouldCenterTransform:function(v,A,M){if(v){var Y;return A==="scale"||A==="scaleX"||A==="scaleY"||A==="resizing"?Y=this.centeredScaling||v.centeredScaling:A==="rotate"&&(Y=this.centeredRotation||v.centeredRotation),Y?!M:M}},_getOriginFromCorner:function(v,A){var M={x:v.originX,y:v.originY};return A==="ml"||A==="tl"||A==="bl"?M.x="right":(A==="mr"||A==="tr"||A==="br")&&(M.x="left"),A==="tl"||A==="mt"||A==="tr"?M.y="bottom":(A==="bl"||A==="mb"||A==="br")&&(M.y="top"),M},_getActionFromCorner:function(v,A,M,Y){if(!A||!v)return"drag";var de=Y.controls[A];return de.getActionName(M,de,Y)},_setupCurrentTransform:function(v,A,M){if(A){var Y=this.getPointer(v),de=A.__corner,ae=A.controls[de],ze=M&&de?ae.getActionHandler(v,A,ae):e.controlsUtils.dragHandler,qe=this._getActionFromCorner(M,de,v,A),Ue=this._getOriginFromCorner(A,de),hn=v[this.centeredKey],On={target:A,action:qe,actionHandler:ze,corner:de,scaleX:A.scaleX,scaleY:A.scaleY,skewX:A.skewX,skewY:A.skewY,offsetX:Y.x-A.left,offsetY:Y.y-A.top,originX:Ue.x,originY:Ue.y,ex:Y.x,ey:Y.y,lastX:Y.x,lastY:Y.y,theta:d(A.angle),width:A.width*A.scaleX,shiftKey:v.shiftKey,altKey:hn,original:e.util.saveObjectTransform(A)};this._shouldCenterTransform(A,qe,hn)&&(On.originX="center",On.originY="center"),On.original.originX=Ue.x,On.original.originY=Ue.y,this._currentTransform=On,this._beforeTransform(v)}},setCursor:function(v){this.upperCanvasEl.style.cursor=v},_drawSelection:function(v){var A=this._groupSelector,M=new e.Point(A.ex,A.ey),Y=e.util.transformPoint(M,this.viewportTransform),de=new e.Point(A.ex+A.left,A.ey+A.top),ae=e.util.transformPoint(de,this.viewportTransform),ze=Math.min(Y.x,ae.x),qe=Math.min(Y.y,ae.y),Ue=Math.max(Y.x,ae.x),hn=Math.max(Y.y,ae.y),On=this.selectionLineWidth/2;this.selectionColor&&(v.fillStyle=this.selectionColor,v.fillRect(ze,qe,Ue-ze,hn-qe)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(v.lineWidth=this.selectionLineWidth,v.strokeStyle=this.selectionBorderColor,ze+=On,qe+=On,Ue-=On,hn-=On,e.Object.prototype._setLineDash.call(this,v,this.selectionDashArray),v.strokeRect(ze,qe,Ue-ze,hn-qe))},findTarget:function(v,A){if(!this.skipTargetFind){var M=!0,Y=this.getPointer(v,M),de=this._activeObject,ae=this.getActiveObjects(),ze,qe,Ue=f(v),hn=ae.length>1&&!A||ae.length===1;if(this.targets=[],hn&&de._findTargetCorner(Y,Ue)||ae.length>1&&!A&&de===this._searchPossibleTargets([de],Y))return de;if(ae.length===1&&de===this._searchPossibleTargets([de],Y))if(this.preserveObjectStacking)ze=de,qe=this.targets,this.targets=[];else return de;var On=this._searchPossibleTargets(this._objects,Y);return v[this.altSelectionKey]&&On&&ze&&On!==ze&&(On=ze,this.targets=qe),On}},_checkTarget:function(v,A,M){if(A&&A.visible&&A.evented&&A.containsPoint(v))if((this.perPixelTargetFind||A.perPixelTargetFind)&&!A.isEditing){var Y=this.isTargetTransparent(A,M.x,M.y);if(!Y)return!0}else return!0},_searchPossibleTargets:function(v,A){for(var M,Y=v.length,de;Y--;){var ae=v[Y],ze=ae.group?this._normalizePointer(ae.group,A):A;if(this._checkTarget(ze,ae,A)){M=v[Y],M.subTargetCheck&&M instanceof e.Group&&(de=this._searchPossibleTargets(M._objects,A),de&&this.targets.push(de));break}}return M},restorePointerVpt:function(v){return e.util.transformPoint(v,e.util.invertTransform(this.viewportTransform))},getPointer:function(v,A){if(this._absolutePointer&&!A)return this._absolutePointer;if(this._pointer&&A)return this._pointer;var M=c(v),Y=this.upperCanvasEl,de=Y.getBoundingClientRect(),ae=de.width||0,ze=de.height||0,qe;(!ae||!ze)&&("top"in de&&"bottom"in de&&(ze=Math.abs(de.top-de.bottom)),"right"in de&&"left"in de&&(ae=Math.abs(de.right-de.left))),this.calcOffset(),M.x=M.x-this._offset.left,M.y=M.y-this._offset.top,A||(M=this.restorePointerVpt(M));var Ue=this.getRetinaScaling();return Ue!==1&&(M.x/=Ue,M.y/=Ue),ae===0||ze===0?qe={width:1,height:1}:qe={width:Y.width/ae,height:Y.height/ze},{x:M.x*qe.width,y:M.y*qe.height}},_createUpperCanvas:function(){var v=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),A=this.lowerCanvasEl,M=this.upperCanvasEl;M?M.className="":(M=this._createCanvasElement(),this.upperCanvasEl=M),e.util.addClass(M,"upper-canvas "+v),this.wrapperEl.appendChild(M),this._copyCanvasStyle(A,M),this._applyCanvasStyle(M),this.contextTop=M.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(v){var A=this.width||v.width,M=this.height||v.height;e.util.setStyle(v,{position:"absolute",width:A+"px",height:M+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),v.width=A,v.height=M,e.util.makeElementUnselectable(v)},_copyCanvasStyle:function(v,A){A.style.cssText=v.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var v=this._activeObject;return v?v.type==="activeSelection"&&v._objects?v._objects.slice(0):[v]:[]},_onObjectRemoved:function(v){v===this._activeObject&&(this.fire("before:selection:cleared",{target:v}),this._discardActiveObject(),this.fire("selection:cleared",{target:v}),v.fire("deselected")),v===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",v)},_fireSelectionEvents:function(v,A){var M=!1,Y=this.getActiveObjects(),de=[],ae=[];v.forEach(function(ze){Y.indexOf(ze)===-1&&(M=!0,ze.fire("deselected",{e:A,target:ze}),ae.push(ze))}),Y.forEach(function(ze){v.indexOf(ze)===-1&&(M=!0,ze.fire("selected",{e:A,target:ze}),de.push(ze))}),v.length>0&&Y.length>0?M&&this.fire("selection:updated",{e:A,selected:de,deselected:ae}):Y.length>0?this.fire("selection:created",{e:A,selected:de}):v.length>0&&this.fire("selection:cleared",{e:A,deselected:ae})},setActiveObject:function(v,A){var M=this.getActiveObjects();return this._setActiveObject(v,A),this._fireSelectionEvents(M,A),this},_setActiveObject:function(v,A){return this._activeObject===v||!this._discardActiveObject(A,v)||v.onSelect({e:A})?!1:(this._activeObject=v,!0)},_discardActiveObject:function(v,A){var M=this._activeObject;if(M){if(M.onDeselect({e:v,object:A}))return!1;this._activeObject=null}return!0},discardActiveObject:function(v){var A=this.getActiveObjects(),M=this.getActiveObject();return A.length&&this.fire("before:selection:cleared",{target:M,e:v}),this._discardActiveObject(v),this._fireSelectionEvents(A,v),this},dispose:function(){var v=this.wrapperEl;return this.removeListeners(),v.removeChild(this.upperCanvasEl),v.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(A){e.util.cleanUpJsdomNode(this[A]),this[A]=void 0}).bind(this)),v.parentNode&&v.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(v){var A=this._activeObject;A&&A._renderControls(v)},_toObject:function(v,A,M){var Y=this._realizeGroupTransformOnObject(v),de=this.callSuper("_toObject",v,A,M);return this._unwindGroupTransformOnObject(v,Y),de},_realizeGroupTransformOnObject:function(v){if(v.group&&v.group.type==="activeSelection"&&this._activeObject===v.group){var A=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],M={};return A.forEach(function(Y){M[Y]=v[Y]}),e.util.addTransformToObject(v,this._activeObject.calcOwnMatrix()),M}else return null},_unwindGroupTransformOnObject:function(v,A){A&&v.set(A)},_setSVGObject:function(v,A,M){var Y=this._realizeGroupTransformOnObject(A);this.callSuper("_setSVGObject",v,A,M),this._unwindGroupTransformOnObject(A,Y)},setViewportTransform:function(v){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,v)}});for(var g in e.StaticCanvas)g!=="prototype"&&(e.Canvas[g]=e.StaticCanvas[g])}(),function(){var c=e.util.addListener,d=e.util.removeListener,f=3,g=2,v=1,A={passive:!1};function M(Y,de){return Y.button&&Y.button===de-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(Y,de){var ae=this.upperCanvasEl,ze=this._getEventPrefix();Y(e.window,"resize",this._onResize),Y(ae,ze+"down",this._onMouseDown),Y(ae,ze+"move",this._onMouseMove,A),Y(ae,ze+"out",this._onMouseOut),Y(ae,ze+"enter",this._onMouseEnter),Y(ae,"wheel",this._onMouseWheel),Y(ae,"contextmenu",this._onContextMenu),Y(ae,"dblclick",this._onDoubleClick),Y(ae,"dragover",this._onDragOver),Y(ae,"dragenter",this._onDragEnter),Y(ae,"dragleave",this._onDragLeave),Y(ae,"drop",this._onDrop),this.enablePointerEvents||Y(ae,"touchstart",this._onTouchStart,A),typeof eventjs<"u"&&de in eventjs&&(eventjs[de](ae,"gesture",this._onGesture),eventjs[de](ae,"drag",this._onDrag),eventjs[de](ae,"orientation",this._onOrientationChange),eventjs[de](ae,"shake",this._onShake),eventjs[de](ae,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(d,"remove");var Y=this._getEventPrefix();d(e.document,Y+"up",this._onMouseUp),d(e.document,"touchend",this._onTouchEnd,A),d(e.document,Y+"move",this._onMouseMove,A),d(e.document,"touchmove",this._onMouseMove,A)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(Y,de){this.__onTransformGesture&&this.__onTransformGesture(Y,de)},_onDrag:function(Y,de){this.__onDrag&&this.__onDrag(Y,de)},_onMouseWheel:function(Y){this.__onMouseWheel(Y)},_onMouseOut:function(Y){var de=this._hoveredTarget;this.fire("mouse:out",{target:de,e:Y}),this._hoveredTarget=null,de&&de.fire("mouseout",{e:Y});var ae=this;this._hoveredTargets.forEach(function(ze){ae.fire("mouse:out",{target:de,e:Y}),ze&&de.fire("mouseout",{e:Y})}),this._hoveredTargets=[]},_onMouseEnter:function(Y){!this._currentTransform&&!this.findTarget(Y)&&(this.fire("mouse:over",{target:null,e:Y}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(Y,de){this.__onOrientationChange&&this.__onOrientationChange(Y,de)},_onShake:function(Y,de){this.__onShake&&this.__onShake(Y,de)},_onLongPress:function(Y,de){this.__onLongPress&&this.__onLongPress(Y,de)},_onDragOver:function(Y){Y.preventDefault();var de=this._simpleEventHandler("dragover",Y);this._fireEnterLeaveEvents(de,Y)},_onDrop:function(Y){return this._simpleEventHandler("drop:before",Y),this._simpleEventHandler("drop",Y)},_onContextMenu:function(Y){return this.stopContextMenu&&(Y.stopPropagation(),Y.preventDefault()),!1},_onDoubleClick:function(Y){this._cacheTransformEventData(Y),this._handleEvent(Y,"dblclick"),this._resetTransformEventData(Y)},getPointerId:function(Y){var de=Y.changedTouches;return de?de[0]&&de[0].identifier:this.enablePointerEvents?Y.pointerId:-1},_isMainEvent:function(Y){return Y.isPrimary===!0?!0:Y.isPrimary===!1?!1:Y.type==="touchend"&&Y.touches.length===0?!0:Y.changedTouches?Y.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(Y){Y.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(Y)),this.__onMouseDown(Y),this._resetTransformEventData();var de=this.upperCanvasEl,ae=this._getEventPrefix();c(e.document,"touchend",this._onTouchEnd,A),c(e.document,"touchmove",this._onMouseMove,A),d(de,ae+"down",this._onMouseDown)},_onMouseDown:function(Y){this.__onMouseDown(Y),this._resetTransformEventData();var de=this.upperCanvasEl,ae=this._getEventPrefix();d(de,ae+"move",this._onMouseMove,A),c(e.document,ae+"up",this._onMouseUp),c(e.document,ae+"move",this._onMouseMove,A)},_onTouchEnd:function(Y){if(!(Y.touches.length>0)){this.__onMouseUp(Y),this._resetTransformEventData(),this.mainTouchId=null;var de=this._getEventPrefix();d(e.document,"touchend",this._onTouchEnd,A),d(e.document,"touchmove",this._onMouseMove,A);var ae=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(ae.upperCanvasEl,de+"down",ae._onMouseDown),ae._willAddMouseDown=0},400)}},_onMouseUp:function(Y){this.__onMouseUp(Y),this._resetTransformEventData();var de=this.upperCanvasEl,ae=this._getEventPrefix();this._isMainEvent(Y)&&(d(e.document,ae+"up",this._onMouseUp),d(e.document,ae+"move",this._onMouseMove,A),c(de,ae+"move",this._onMouseMove,A))},_onMouseMove:function(Y){!this.allowTouchScrolling&&Y.preventDefault&&Y.preventDefault(),this.__onMouseMove(Y)},_onResize:function(){this.calcOffset()},_shouldRender:function(Y){var de=this._activeObject;return!!de!=!!Y||de&&Y&&de!==Y?!0:(de&&de.isEditing,!1)},__onMouseUp:function(Y){var de,ae=this._currentTransform,ze=this._groupSelector,qe=!1,Ue=!ze||ze.left===0&&ze.top===0;if(this._cacheTransformEventData(Y),de=this._target,this._handleEvent(Y,"up:before"),M(Y,f)){this.fireRightClick&&this._handleEvent(Y,"up",f,Ue);return}if(M(Y,g)){this.fireMiddleClick&&this._handleEvent(Y,"up",g,Ue),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(Y);return}if(this._isMainEvent(Y)){if(ae&&(this._finalizeCurrentTransform(Y),qe=ae.actionPerformed),!Ue){var hn=de===this._activeObject;this._maybeGroupObjects(Y),qe||(qe=this._shouldRender(de)||!hn&&de===this._activeObject)}var On,vn;if(de){if(On=de._findTargetCorner(this.getPointer(Y,!0),e.util.isTouchEvent(Y)),de.selectable&&de!==this._activeObject&&de.activeOn==="up")this.setActiveObject(de,Y),qe=!0;else{var bn=de.controls[On],wn=bn&&bn.getMouseUpHandler(Y,de,bn);wn&&(vn=this.getPointer(Y),wn(Y,ae,vn.x,vn.y))}de.isMoving=!1}if(ae&&(ae.target!==de||ae.corner!==On)){var Cn=ae.target&&ae.target.controls[ae.corner],En=Cn&&Cn.getMouseUpHandler(Y,de,bn);vn=vn||this.getPointer(Y),En&&En(Y,ae,vn.x,vn.y)}this._setCursorFromEvent(Y,de),this._handleEvent(Y,"up",v,Ue),this._groupSelector=null,this._currentTransform=null,de&&(de.__corner=0),qe?this.requestRenderAll():Ue||this.renderTop()}},_simpleEventHandler:function(Y,de){var ae=this.findTarget(de),ze=this.targets,qe={e:de,target:ae,subTargets:ze};if(this.fire(Y,qe),ae&&ae.fire(Y,qe),!ze)return ae;for(var Ue=0;Ue<ze.length;Ue++)ze[Ue].fire(Y,qe);return ae},_handleEvent:function(Y,de,ae,ze){var qe=this._target,Ue=this.targets||[],hn={e:Y,target:qe,subTargets:Ue,button:ae||v,isClick:ze||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};de==="up"&&(hn.currentTarget=this.findTarget(Y),hn.currentSubTargets=this.targets),this.fire("mouse:"+de,hn),qe&&qe.fire("mouse"+de,hn);for(var On=0;On<Ue.length;On++)Ue[On].fire("mouse"+de,hn)},_finalizeCurrentTransform:function(Y){var de=this._currentTransform,ae=de.target,ze={e:Y,target:ae,transform:de,action:de.action};ae._scaling&&(ae._scaling=!1),ae.setCoords(),(de.actionPerformed||this.stateful&&ae.hasStateChanged())&&this._fire("modified",ze)},_onMouseDownInDrawingMode:function(Y){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(Y).requestRenderAll();var de=this.getPointer(Y);this.freeDrawingBrush.onMouseDown(de,{e:Y,pointer:de}),this._handleEvent(Y,"down")},_onMouseMoveInDrawingMode:function(Y){if(this._isCurrentlyDrawing){var de=this.getPointer(Y);this.freeDrawingBrush.onMouseMove(de,{e:Y,pointer:de})}this.setCursor(this.freeDrawingCursor),this._handleEvent(Y,"move")},_onMouseUpInDrawingMode:function(Y){var de=this.getPointer(Y);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:Y,pointer:de}),this._handleEvent(Y,"up")},__onMouseDown:function(Y){this._cacheTransformEventData(Y),this._handleEvent(Y,"down:before");var de=this._target;if(M(Y,f)){this.fireRightClick&&this._handleEvent(Y,"down",f);return}if(M(Y,g)){this.fireMiddleClick&&this._handleEvent(Y,"down",g);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(Y);return}if(this._isMainEvent(Y)&&!this._currentTransform){var ae=this._pointer;this._previousPointer=ae;var ze=this._shouldRender(de),qe=this._shouldGroup(Y,de);if(this._shouldClearSelection(Y,de)?this.discardActiveObject(Y):qe&&(this._handleGrouping(Y,de),de=this._activeObject),this.selection&&(!de||!de.selectable&&!de.isEditing&&de!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),de){var Ue=de===this._activeObject;de.selectable&&de.activeOn==="down"&&this.setActiveObject(de,Y);var hn=de._findTargetCorner(this.getPointer(Y,!0),e.util.isTouchEvent(Y));if(de.__corner=hn,de===this._activeObject&&(hn||!qe)){this._setupCurrentTransform(Y,de,Ue);var On=de.controls[hn],ae=this.getPointer(Y),vn=On&&On.getMouseDownHandler(Y,de,On);vn&&vn(Y,this._currentTransform,ae.x,ae.y)}}this._handleEvent(Y,"down"),(ze||qe)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(Y){this._resetTransformEventData(),this._pointer=this.getPointer(Y,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(Y)||null},_beforeTransform:function(Y){var de=this._currentTransform;this.stateful&&de.target.saveState(),this.fire("before:transform",{e:Y,transform:de})},__onMouseMove:function(Y){this._handleEvent(Y,"move:before"),this._cacheTransformEventData(Y);var de,ae;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(Y);return}if(this._isMainEvent(Y)){var ze=this._groupSelector;ze?(ae=this._absolutePointer,ze.left=ae.x-ze.ex,ze.top=ae.y-ze.ey,this.renderTop()):this._currentTransform?this._transformObject(Y):(de=this.findTarget(Y)||null,this._setCursorFromEvent(Y,de),this._fireOverOutEvents(de,Y)),this._handleEvent(Y,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(Y,de){var ae=this._hoveredTarget,ze=this._hoveredTargets,qe=this.targets,Ue=Math.max(ze.length,qe.length);this.fireSyntheticInOutEvents(Y,de,{oldTarget:ae,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var hn=0;hn<Ue;hn++)this.fireSyntheticInOutEvents(qe[hn],de,{oldTarget:ze[hn],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=Y,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(Y,de){var ae=this._draggedoverTarget,ze=this._hoveredTargets,qe=this.targets,Ue=Math.max(ze.length,qe.length);this.fireSyntheticInOutEvents(Y,de,{oldTarget:ae,evtOut:"dragleave",evtIn:"dragenter"});for(var hn=0;hn<Ue;hn++)this.fireSyntheticInOutEvents(qe[hn],de,{oldTarget:ze[hn],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=Y},fireSyntheticInOutEvents:function(Y,de,ae){var ze,qe,Ue=ae.oldTarget,hn,On,vn=Ue!==Y,bn=ae.canvasEvtIn,wn=ae.canvasEvtOut;vn&&(ze={e:de,target:Y,previousTarget:Ue},qe={e:de,target:Ue,nextTarget:Y}),On=Y&&vn,hn=Ue&&vn,hn&&(wn&&this.fire(wn,qe),Ue.fire(ae.evtOut,qe)),On&&(bn&&this.fire(bn,ze),Y.fire(ae.evtIn,ze))},__onMouseWheel:function(Y){this._cacheTransformEventData(Y),this._handleEvent(Y,"wheel"),this._resetTransformEventData()},_transformObject:function(Y){var de=this.getPointer(Y),ae=this._currentTransform;ae.reset=!1,ae.shiftKey=Y.shiftKey,ae.altKey=Y[this.centeredKey],this._performTransformAction(Y,ae,de),ae.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(Y,de,ae){var ze=ae.x,qe=ae.y,Ue=de.action,hn=!1,On=de.actionHandler;On&&(hn=On(Y,de,ze,qe)),Ue==="drag"&&hn&&(de.target.isMoving=!0,this.setCursor(de.target.moveCursor||this.moveCursor)),de.actionPerformed=de.actionPerformed||hn},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(Y,de){if(!de)return this.setCursor(this.defaultCursor),!1;var ae=de.hoverCursor||this.hoverCursor,ze=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,qe=(!ze||!ze.contains(de))&&de._findTargetCorner(this.getPointer(Y,!0));qe?this.setCursor(this.getCornerCursor(qe,de,Y)):(de.subTargetCheck&&this.targets.concat().reverse().map(function(Ue){ae=Ue.hoverCursor||ae}),this.setCursor(ae))},getCornerCursor:function(Y,de,ae){var ze=de.controls[Y];return ze.cursorStyleHandler(ae,ze,de)}})}(),function(){var c=Math.min,d=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(f,g){var v=this._activeObject;return v&&this._isSelectionKeyPressed(f)&&g&&g.selectable&&this.selection&&(v!==g||v.type==="activeSelection")&&!g.onSelect({e:f})},_handleGrouping:function(f,g){var v=this._activeObject;v.__corner||g===v&&(g=this.findTarget(f,!0),!g||!g.selectable)||(v&&v.type==="activeSelection"?this._updateActiveSelection(g,f):this._createActiveSelection(g,f))},_updateActiveSelection:function(f,g){var v=this._activeObject,A=v._objects.slice(0);v.contains(f)?(v.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),v.size()===1&&this._setActiveObject(v.item(0),g)):(v.addWithUpdate(f),this._hoveredTarget=v,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(A,g)},_createActiveSelection:function(f,g){var v=this.getActiveObjects(),A=this._createGroup(f);this._hoveredTarget=A,this._setActiveObject(A,g),this._fireSelectionEvents(v,g)},_createGroup:function(f){var g=this._objects,v=g.indexOf(this._activeObject)<g.indexOf(f),A=v?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(A,{canvas:this})},_groupSelectedObjects:function(f){var g=this._collectObjects(f),v;g.length===1?this.setActiveObject(g[0],f):g.length>1&&(v=new e.ActiveSelection(g.reverse(),{canvas:this}),this.setActiveObject(v,f))},_collectObjects:function(f){for(var g=[],v,A=this._groupSelector.ex,M=this._groupSelector.ey,Y=A+this._groupSelector.left,de=M+this._groupSelector.top,ae=new e.Point(c(A,Y),c(M,de)),ze=new e.Point(d(A,Y),d(M,de)),qe=!this.selectionFullyContained,Ue=A===Y&&M===de,hn=this._objects.length;hn--&&(v=this._objects[hn],!(!(!v||!v.selectable||!v.visible)&&(qe&&v.intersectsWithRect(ae,ze,!0)||v.isContainedWithinRect(ae,ze,!0)||qe&&v.containsPoint(ae,null,!0)||qe&&v.containsPoint(ze,null,!0))&&(g.push(v),Ue))););return g.length>1&&(g=g.filter(function(On){return!On.onSelect({e:f})})),g},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var d=c.format||"png",f=c.quality||1,g=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),v=this.toCanvasElement(g,c);return e.util.toDataURL(v,d,f)},toCanvasElement:function(c,d){c=c||1,d=d||{};var f=(d.width||this.width)*c,g=(d.height||this.height)*c,v=this.getZoom(),A=this.width,M=this.height,Y=v*c,de=this.viewportTransform,ae=(de[4]-(d.left||0))*c,ze=(de[5]-(d.top||0))*c,qe=this.interactive,Ue=[Y,0,0,Y,ae,ze],hn=this.enableRetinaScaling,On=e.util.createCanvasElement(),vn=this.contextTop;return On.width=f,On.height=g,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=Ue,this.width=f,this.height=g,this.calcViewportBoundaries(),this.renderCanvas(On.getContext("2d"),this._objects),this.viewportTransform=de,this.width=A,this.height=M,this.calcViewportBoundaries(),this.interactive=qe,this.enableRetinaScaling=hn,this.contextTop=vn,On}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(c,d,f){if(c){var g=typeof c=="string"?JSON.parse(c):e.util.object.clone(c),v=this,A=g.clipPath,M=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete g.clipPath,this._enlivenObjects(g.objects,function(Y){v.clear(),v._setBgOverlay(g,function(){A?v._enlivenObjects([A],function(de){v.clipPath=de[0],v.__setupCanvas.call(v,g,Y,M,d)}):v.__setupCanvas.call(v,g,Y,M,d)})},f),this}},__setupCanvas:function(c,d,f,g){var v=this;d.forEach(function(A,M){v.insertAt(A,M)}),this.renderOnAddRemove=f,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),g&&g()},_setBgOverlay:function(c,d){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){d&&d();return}var g=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&d&&d()};this.__setBgOverlay("backgroundImage",c.backgroundImage,f,g),this.__setBgOverlay("overlayImage",c.overlayImage,f,g),this.__setBgOverlay("backgroundColor",c.background,f,g),this.__setBgOverlay("overlayColor",c.overlay,f,g)},__setBgOverlay:function(c,d,f,g){var v=this;if(!d){f[c]=!0,g&&g();return}c==="backgroundImage"||c==="overlayImage"?e.util.enlivenObjects([d],function(A){v[c]=A[0],f[c]=!0,g&&g()}):this["set"+e.util.string.capitalize(c,!0)](d,function(){f[c]=!0,g&&g()})},_enlivenObjects:function(c,d,f){if(!c||c.length===0){d&&d([]);return}e.util.enlivenObjects(c,function(g){d&&d(g)},null,f)},_toDataURL:function(c,d){this.clone(function(f){d(f.toDataURL(c))})},_toDataURLWithMultiplier:function(c,d,f){this.clone(function(g){f(g.toDataURLWithMultiplier(c,d))})},clone:function(c,d){var f=JSON.stringify(this.toJSON(d));this.cloneWithoutData(function(g){g.loadFromJSON(f,function(){c&&c(g)})})},cloneWithoutData:function(c){var d=e.util.createCanvasElement();d.width=this.width,d.height=this.height;var f=new e.Canvas(d);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),c&&c(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):c&&c(f)}}),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.util.object.clone,v=d.util.toFixed,A=d.util.string.capitalize,M=d.util.degreesToRadians,Y=!d.isLikelyNode,de=2;d.Object||(d.Object=d.util.createClass(d.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:Y,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(ae){ae&&this.setOptions(ae)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=d.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(ae){var ze=d.perfLimitSizeTotal,qe=ae.width,Ue=ae.height,hn=d.maxCacheSideLimit,On=d.minCacheSideLimit;if(qe<=hn&&Ue<=hn&&qe*Ue<=ze)return qe<On&&(ae.width=On),Ue<On&&(ae.height=On),ae;var vn=qe/Ue,bn=d.util.limitDimsByArea(vn,ze),wn=d.util.capValue,Cn=wn(On,bn.x,hn),En=wn(On,bn.y,hn);return qe>Cn&&(ae.zoomX/=qe/Cn,ae.width=Cn,ae.capped=!0),Ue>En&&(ae.zoomY/=Ue/En,ae.height=En,ae.capped=!0),ae},_getCacheCanvasDimensions:function(){var ae=this.getTotalObjectScaling(),ze=this._getTransformedDimensions(0,0),qe=ze.x*ae.scaleX/this.scaleX,Ue=ze.y*ae.scaleY/this.scaleY;return{width:qe+de,height:Ue+de,zoomX:ae.scaleX,zoomY:ae.scaleY,x:qe,y:Ue}},_updateCacheCanvas:function(){var ae=this.canvas;if(this.noScaleCache&&ae&&ae._currentTransform){var ze=ae._currentTransform.target,qe=ae._currentTransform.action;if(this===ze&&qe.slice&&qe.slice(0,5)==="scale")return!1}var Ue=this._cacheCanvas,hn=this._limitCacheSize(this._getCacheCanvasDimensions()),On=d.minCacheSideLimit,vn=hn.width,bn=hn.height,wn,Cn,En=hn.zoomX,_n=hn.zoomY,Bn=vn!==this.cacheWidth||bn!==this.cacheHeight,jn=this.zoomX!==En||this.zoomY!==_n,Un=Bn||jn,Rn=0,Wn=0,$n=!1;if(Bn){var Xn=this._cacheCanvas.width,xn=this._cacheCanvas.height,Mn=vn>Xn||bn>xn,Qn=(vn<Xn*.9||bn<xn*.9)&&Xn>On&&xn>On;$n=Mn||Qn,Mn&&!hn.capped&&(vn>On||bn>On)&&(Rn=vn*.1,Wn=bn*.1)}return this instanceof d.Text&&this.path&&(Un=!0,$n=!0,Rn+=this.getHeightOfLine(0)*this.zoomX,Wn+=this.getHeightOfLine(0)*this.zoomY),Un?($n?(Ue.width=Math.ceil(vn+Rn),Ue.height=Math.ceil(bn+Wn)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,Ue.width,Ue.height)),wn=hn.x/2,Cn=hn.y/2,this.cacheTranslationX=Math.round(Ue.width/2-wn)+wn,this.cacheTranslationY=Math.round(Ue.height/2-Cn)+Cn,this.cacheWidth=vn,this.cacheHeight=bn,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(En,_n),this.zoomX=En,this.zoomY=_n,!0):!1},setOptions:function(ae){this._setOptions(ae),this._initGradient(ae.fill,"fill"),this._initGradient(ae.stroke,"stroke"),this._initPattern(ae.fill,"fill"),this._initPattern(ae.stroke,"stroke")},transform:function(ae){var ze=this.group&&!this.group._transformDone||this.group&&this.canvas&&ae===this.canvas.contextTop,qe=this.calcTransformMatrix(!ze);ae.transform(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5])},toObject:function(ae){var ze=d.Object.NUM_FRACTION_DIGITS,qe={type:this.type,version:d.version,originX:this.originX,originY:this.originY,left:v(this.left,ze),top:v(this.top,ze),width:v(this.width,ze),height:v(this.height,ze),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:v(this.strokeWidth,ze),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:v(this.strokeMiterLimit,ze),scaleX:v(this.scaleX,ze),scaleY:v(this.scaleY,ze),angle:v(this.angle,ze),flipX:this.flipX,flipY:this.flipY,opacity:v(this.opacity,ze),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:v(this.skewX,ze),skewY:v(this.skewY,ze)};return this.clipPath&&!this.clipPath.excludeFromExport&&(qe.clipPath=this.clipPath.toObject(ae),qe.clipPath.inverted=this.clipPath.inverted,qe.clipPath.absolutePositioned=this.clipPath.absolutePositioned),d.util.populateWithProperties(this,qe,ae),this.includeDefaultValues||(qe=this._removeDefaultValues(qe)),qe},toDatalessObject:function(ae){return this.toObject(ae)},_removeDefaultValues:function(ae){var ze=d.util.getKlass(ae.type).prototype,qe=ze.stateProperties;return qe.forEach(function(Ue){Ue==="left"||Ue==="top"||(ae[Ue]===ze[Ue]&&delete ae[Ue],Array.isArray(ae[Ue])&&Array.isArray(ze[Ue])&&ae[Ue].length===0&&ze[Ue].length===0&&delete ae[Ue])}),ae},toString:function(){return"#<fabric."+A(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var ae=d.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(ae.scaleX),scaleY:Math.abs(ae.scaleY)}},getTotalObjectScaling:function(){var ae=this.getObjectScaling(),ze=ae.scaleX,qe=ae.scaleY;if(this.canvas){var Ue=this.canvas.getZoom(),hn=this.canvas.getRetinaScaling();ze*=Ue*hn,qe*=Ue*hn}return{scaleX:ze,scaleY:qe}},getObjectOpacity:function(){var ae=this.opacity;return this.group&&(ae*=this.group.getObjectOpacity()),ae},_set:function(ae,ze){var qe=ae==="scaleX"||ae==="scaleY",Ue=this[ae]!==ze,hn=!1;return qe&&(ze=this._constrainScale(ze)),ae==="scaleX"&&ze<0?(this.flipX=!this.flipX,ze*=-1):ae==="scaleY"&&ze<0?(this.flipY=!this.flipY,ze*=-1):ae==="shadow"&&ze&&!(ze instanceof d.Shadow)?ze=new d.Shadow(ze):ae==="dirty"&&this.group&&this.group.set("dirty",ze),this[ae]=ze,Ue&&(hn=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(ae)>-1?(this.dirty=!0,hn&&this.group.set("dirty",!0)):hn&&this.stateProperties.indexOf(ae)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:d.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(ae){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(ae.save(),this._setupCompositeOperation(ae),this.drawSelectionBackground(ae),this.transform(ae),this._setOpacity(ae),this._setShadow(ae,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(ae)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(ae),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),ae.restore())},renderCache:function(ae){ae=ae||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,ae.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(ae,ze){if(ae.save(),ze.inverted?ae.globalCompositeOperation="destination-out":ae.globalCompositeOperation="destination-in",ze.absolutePositioned){var qe=d.util.invertTransform(this.calcTransformMatrix());ae.transform(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5])}ze.transform(ae),ae.scale(1/ze.zoomX,1/ze.zoomY),ae.drawImage(ze._cacheCanvas,-ze.cacheTranslationX,-ze.cacheTranslationY),ae.restore()},drawObject:function(ae,ze){var qe=this.fill,Ue=this.stroke;ze?(this.fill="black",this.stroke="",this._setClippingProperties(ae)):this._renderBackground(ae),this._render(ae),this._drawClipPath(ae,this.clipPath),this.fill=qe,this.stroke=Ue},_drawClipPath:function(ae,ze){ze&&(ze.canvas=this.canvas,ze.shouldCache(),ze._transformDone=!0,ze.renderCache({forClipping:!0}),this.drawClipPathOnCache(ae,ze))},drawCacheOnCanvas:function(ae){ae.scale(1/this.zoomX,1/this.zoomY),ae.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(ae){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!ae&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!ae){var ze=this.cacheWidth/this.zoomX,qe=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-ze/2,-qe/2,ze,qe)}return!0}return!1},_renderBackground:function(ae){if(this.backgroundColor){var ze=this._getNonTransformedDimensions();ae.fillStyle=this.backgroundColor,ae.fillRect(-ze.x/2,-ze.y/2,ze.x,ze.y),this._removeShadow(ae)}},_setOpacity:function(ae){this.group&&!this.group._transformDone?ae.globalAlpha=this.getObjectOpacity():ae.globalAlpha*=this.opacity},_setStrokeStyles:function(ae,ze){var qe=ze.stroke;qe&&(ae.lineWidth=ze.strokeWidth,ae.lineCap=ze.strokeLineCap,ae.lineDashOffset=ze.strokeDashOffset,ae.lineJoin=ze.strokeLineJoin,ae.miterLimit=ze.strokeMiterLimit,qe.toLive?qe.gradientUnits==="percentage"||qe.gradientTransform||qe.patternTransform?this._applyPatternForTransformedGradient(ae,qe):(ae.strokeStyle=qe.toLive(ae,this),this._applyPatternGradientTransform(ae,qe)):ae.strokeStyle=ze.stroke)},_setFillStyles:function(ae,ze){var qe=ze.fill;qe&&(qe.toLive?(ae.fillStyle=qe.toLive(ae,this),this._applyPatternGradientTransform(ae,ze.fill)):ae.fillStyle=qe)},_setClippingProperties:function(ae){ae.globalAlpha=1,ae.strokeStyle="transparent",ae.fillStyle="#000000"},_setLineDash:function(ae,ze){!ze||ze.length===0||(1&ze.length&&ze.push.apply(ze,ze),ae.setLineDash(ze))},_renderControls:function(ae,ze){var qe=this.getViewportTransform(),Ue=this.calcTransformMatrix(),hn,On,vn;ze=ze||{},On=typeof ze.hasBorders<"u"?ze.hasBorders:this.hasBorders,vn=typeof ze.hasControls<"u"?ze.hasControls:this.hasControls,Ue=d.util.multiplyTransformMatrices(qe,Ue),hn=d.util.qrDecompose(Ue),ae.save(),ae.translate(hn.translateX,hn.translateY),ae.lineWidth=1*this.borderScaleFactor,this.group||(ae.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(hn.angle-=180),ae.rotate(M(this.group?hn.angle:this.angle)),ze.forActiveSelection||this.group?On&&this.drawBordersInGroup(ae,hn,ze):On&&this.drawBorders(ae,ze),vn&&this.drawControls(ae,ze),ae.restore()},_setShadow:function(ae){if(this.shadow){var ze=this.shadow,qe=this.canvas,Ue,hn=qe&&qe.viewportTransform[0]||1,On=qe&&qe.viewportTransform[3]||1;ze.nonScaling?Ue={scaleX:1,scaleY:1}:Ue=this.getObjectScaling(),qe&&qe._isRetinaScaling()&&(hn*=d.devicePixelRatio,On*=d.devicePixelRatio),ae.shadowColor=ze.color,ae.shadowBlur=ze.blur*d.browserShadowBlurConstant*(hn+On)*(Ue.scaleX+Ue.scaleY)/4,ae.shadowOffsetX=ze.offsetX*hn*Ue.scaleX,ae.shadowOffsetY=ze.offsetY*On*Ue.scaleY}},_removeShadow:function(ae){this.shadow&&(ae.shadowColor="",ae.shadowBlur=ae.shadowOffsetX=ae.shadowOffsetY=0)},_applyPatternGradientTransform:function(ae,ze){if(!ze||!ze.toLive)return{offsetX:0,offsetY:0};var qe=ze.gradientTransform||ze.patternTransform,Ue=-this.width/2+ze.offsetX||0,hn=-this.height/2+ze.offsetY||0;return ze.gradientUnits==="percentage"?ae.transform(this.width,0,0,this.height,Ue,hn):ae.transform(1,0,0,1,Ue,hn),qe&&ae.transform(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5]),{offsetX:Ue,offsetY:hn}},_renderPaintInOrder:function(ae){this.paintFirst==="stroke"?(this._renderStroke(ae),this._renderFill(ae)):(this._renderFill(ae),this._renderStroke(ae))},_render:function(){},_renderFill:function(ae){this.fill&&(ae.save(),this._setFillStyles(ae,this),this.fillRule==="evenodd"?ae.fill("evenodd"):ae.fill(),ae.restore())},_renderStroke:function(ae){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(ae),ae.save(),this.strokeUniform&&this.group){var ze=this.getObjectScaling();ae.scale(1/ze.scaleX,1/ze.scaleY)}else this.strokeUniform&&ae.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(ae,this.strokeDashArray),this._setStrokeStyles(ae,this),ae.stroke(),ae.restore()}},_applyPatternForTransformedGradient:function(ae,ze){var qe=this._limitCacheSize(this._getCacheCanvasDimensions()),Ue=d.util.createCanvasElement(),hn,On=this.canvas.getRetinaScaling(),vn=qe.x/this.scaleX/On,bn=qe.y/this.scaleY/On;Ue.width=vn,Ue.height=bn,hn=Ue.getContext("2d"),hn.beginPath(),hn.moveTo(0,0),hn.lineTo(vn,0),hn.lineTo(vn,bn),hn.lineTo(0,bn),hn.closePath(),hn.translate(vn/2,bn/2),hn.scale(qe.zoomX/this.scaleX/On,qe.zoomY/this.scaleY/On),this._applyPatternGradientTransform(hn,ze),hn.fillStyle=ze.toLive(ae),hn.fill(),ae.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),ae.scale(On*this.scaleX/qe.zoomX,On*this.scaleY/qe.zoomY),ae.strokeStyle=hn.createPattern(Ue,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var ae=d.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",ae.scaleX),this.set("scaleY",ae.scaleY),this.angle=ae.angle,this.skewX=ae.skewX,this.skewY=0}},_removeTransformMatrix:function(ae){var ze=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),ze=d.util.transformPoint(ze,this.transformMatrix)),this.transformMatrix=null,ae&&(this.scaleX*=ae.scaleX,this.scaleY*=ae.scaleY,this.cropX=ae.cropX,this.cropY=ae.cropY,ze.x+=ae.offsetLeft,ze.y+=ae.offsetTop,this.width=ae.width,this.height=ae.height),this.setPositionByOrigin(ze,"center","center")},clone:function(ae,ze){var qe=this.toObject(ze);this.constructor.fromObject?this.constructor.fromObject(qe,ae):d.Object._fromObject("Object",qe,ae)},cloneAsImage:function(ae,ze){var qe=this.toCanvasElement(ze);return ae&&ae(new d.Image(qe)),this},toCanvasElement:function(ae){ae||(ae={});var ze=d.util,qe=ze.saveObjectTransform(this),Ue=this.group,hn=this.shadow,On=Math.abs,vn=(ae.multiplier||1)*(ae.enableRetinaScaling?d.devicePixelRatio:1);delete this.group,ae.withoutTransform&&ze.resetObjectTransform(this),ae.withoutShadow&&(this.shadow=null);var bn=d.util.createCanvasElement(),wn=this.getBoundingRect(!0,!0),Cn=this.shadow,En,_n={x:0,y:0},Bn,jn,Un;Cn&&(Bn=Cn.blur,Cn.nonScaling?En={scaleX:1,scaleY:1}:En=this.getObjectScaling(),_n.x=2*Math.round(On(Cn.offsetX)+Bn)*On(En.scaleX),_n.y=2*Math.round(On(Cn.offsetY)+Bn)*On(En.scaleY)),jn=wn.width+_n.x,Un=wn.height+_n.y,bn.width=Math.ceil(jn),bn.height=Math.ceil(Un);var Rn=new d.StaticCanvas(bn,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});ae.format==="jpeg"&&(Rn.backgroundColor="#fff"),this.setPositionByOrigin(new d.Point(Rn.width/2,Rn.height/2),"center","center");var Wn=this.canvas;Rn.add(this);var $n=Rn.toCanvasElement(vn||1,ae);return this.shadow=hn,this.set("canvas",Wn),Ue&&(this.group=Ue),this.set(qe).setCoords(),Rn._objects=[],Rn.dispose(),Rn=null,$n},toDataURL:function(ae){return ae||(ae={}),d.util.toDataURL(this.toCanvasElement(ae),ae.format||"png",ae.quality||1)},isType:function(ae){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===ae},complexity:function(){return 1},toJSON:function(ae){return this.toObject(ae)},rotate:function(ae){var ze=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return ze&&this._setOriginToCenter(),this.set("angle",ae),ze&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(ae,ze){ze=ze||this.canvas.getPointer(ae);var qe=new d.Point(ze.x,ze.y),Ue=this._getLeftTopCoords();return this.angle&&(qe=d.util.rotatePoint(qe,Ue,M(-this.angle))),{x:qe.x-Ue.x,y:qe.y-Ue.y}},_setupCompositeOperation:function(ae){this.globalCompositeOperation&&(ae.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){d.runningAnimations&&d.runningAnimations.cancelByTarget(this)}}),d.util.createAccessors&&d.util.createAccessors(d.Object),f(d.Object.prototype,d.Observable),d.Object.NUM_FRACTION_DIGITS=2,d.Object.ENLIVEN_PROPS=["clipPath"],d.Object._fromObject=function(ae,ze,qe,Ue){var hn=d[ae];ze=g(ze,!0),d.util.enlivenPatterns([ze.fill,ze.stroke],function(On){typeof On[0]<"u"&&(ze.fill=On[0]),typeof On[1]<"u"&&(ze.stroke=On[1]),d.util.enlivenObjectEnlivables(ze,ze,function(){var vn=Ue?new hn(ze[Ue],ze):new hn(ze);qe&&qe(vn)})})},d.Object.__uid=0)}(n),function(){var c=e.util.degreesToRadians,d={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(g,v,A,M,Y){var de=g.x,ae=g.y,ze,qe,Ue;return typeof v=="string"?v=d[v]:v-=.5,typeof M=="string"?M=d[M]:M-=.5,ze=M-v,typeof A=="string"?A=f[A]:A-=.5,typeof Y=="string"?Y=f[Y]:Y-=.5,qe=Y-A,(ze||qe)&&(Ue=this._getTransformedDimensions(),de=g.x+ze*Ue.x,ae=g.y+qe*Ue.y),new e.Point(de,ae)},translateToCenterPoint:function(g,v,A){var M=this.translateToGivenOrigin(g,v,A,"center","center");return this.angle?e.util.rotatePoint(M,g,c(this.angle)):M},translateToOriginPoint:function(g,v,A){var M=this.translateToGivenOrigin(g,"center","center",v,A);return this.angle?e.util.rotatePoint(M,g,c(this.angle)):M},getCenterPoint:function(){var g=new e.Point(this.left,this.top);return this.translateToCenterPoint(g,this.originX,this.originY)},getPointByOrigin:function(g,v){var A=this.getCenterPoint();return this.translateToOriginPoint(A,g,v)},toLocalPoint:function(g,v,A){var M=this.getCenterPoint(),Y,de;return typeof v<"u"&&typeof A<"u"?Y=this.translateToGivenOrigin(M,"center","center",v,A):Y=new e.Point(this.left,this.top),de=new e.Point(g.x,g.y),this.angle&&(de=e.util.rotatePoint(de,M,-c(this.angle))),de.subtractEquals(Y)},setPositionByOrigin:function(g,v,A){var M=this.translateToCenterPoint(g,v,A),Y=this.translateToOriginPoint(M,this.originX,this.originY);this.set("left",Y.x),this.set("top",Y.y)},adjustPosition:function(g){var v=c(this.angle),A=this.getScaledWidth(),M=e.util.cos(v)*A,Y=e.util.sin(v)*A,de,ae;typeof this.originX=="string"?de=d[this.originX]:de=this.originX-.5,typeof g=="string"?ae=d[g]:ae=g-.5,this.left+=M*(ae-de),this.top+=Y*(ae-de),this.setCoords(),this.originX=g},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var g=this.getCenterPoint();this.originX="center",this.originY="center",this.left=g.x,this.top=g.y},_resetOrigin:function(){var g=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=g.x,this.top=g.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(A){return[new e.Point(A.tl.x,A.tl.y),new e.Point(A.tr.x,A.tr.y),new e.Point(A.br.x,A.br.y),new e.Point(A.bl.x,A.bl.y)]}var d=e.util,f=d.degreesToRadians,g=d.multiplyTransformMatrices,v=d.transformPoint;d.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(A,M){return M?A?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),A?this.aCoords:this.lineCoords)},getCoords:function(A,M){return c(this._getCoords(A,M))},intersectsWithRect:function(A,M,Y,de){var ae=this.getCoords(Y,de),ze=e.Intersection.intersectPolygonRectangle(ae,A,M);return ze.status==="Intersection"},intersectsWithObject:function(A,M,Y){var de=e.Intersection.intersectPolygonPolygon(this.getCoords(M,Y),A.getCoords(M,Y));return de.status==="Intersection"||A.isContainedWithinObject(this,M,Y)||this.isContainedWithinObject(A,M,Y)},isContainedWithinObject:function(A,M,Y){for(var de=this.getCoords(M,Y),ae=M?A.aCoords:A.lineCoords,ze=0,qe=A._getImageLines(ae);ze<4;ze++)if(!A.containsPoint(de[ze],qe))return!1;return!0},isContainedWithinRect:function(A,M,Y,de){var ae=this.getBoundingRect(Y,de);return ae.left>=A.x&&ae.left+ae.width<=M.x&&ae.top>=A.y&&ae.top+ae.height<=M.y},containsPoint:function(A,ze,Y,de){var ae=this._getCoords(Y,de),ze=ze||this._getImageLines(ae),qe=this._findCrossPoints(A,ze);return qe!==0&&qe%2===1},isOnScreen:function(A){if(!this.canvas)return!1;var M=this.canvas.vptCoords.tl,Y=this.canvas.vptCoords.br,de=this.getCoords(!0,A);return de.some(function(ae){return ae.x<=Y.x&&ae.x>=M.x&&ae.y<=Y.y&&ae.y>=M.y})||this.intersectsWithRect(M,Y,!0,A)?!0:this._containsCenterOfCanvas(M,Y,A)},_containsCenterOfCanvas:function(A,M,Y){var de={x:(A.x+M.x)/2,y:(A.y+M.y)/2};return!!this.containsPoint(de,null,!0,Y)},isPartiallyOnScreen:function(A){if(!this.canvas)return!1;var M=this.canvas.vptCoords.tl,Y=this.canvas.vptCoords.br;if(this.intersectsWithRect(M,Y,!0,A))return!0;var de=this.getCoords(!0,A).every(function(ae){return(ae.x>=Y.x||ae.x<=M.x)&&(ae.y>=Y.y||ae.y<=M.y)});return de&&this._containsCenterOfCanvas(M,Y,A)},_getImageLines:function(A){var M={topline:{o:A.tl,d:A.tr},rightline:{o:A.tr,d:A.br},bottomline:{o:A.br,d:A.bl},leftline:{o:A.bl,d:A.tl}};return M},_findCrossPoints:function(A,M){var Y,de,ae,ze,qe,Ue=0,hn;for(var On in M)if(hn=M[On],!(hn.o.y<A.y&&hn.d.y<A.y)&&!(hn.o.y>=A.y&&hn.d.y>=A.y)&&(hn.o.x===hn.d.x&&hn.o.x>=A.x?qe=hn.o.x:(Y=0,de=(hn.d.y-hn.o.y)/(hn.d.x-hn.o.x),ae=A.y-Y*A.x,ze=hn.o.y-de*hn.o.x,qe=-(ae-ze)/(Y-de)),qe>=A.x&&(Ue+=1),Ue===2))break;return Ue},getBoundingRect:function(A,M){var Y=this.getCoords(A,M);return d.makeBoundingBoxFromPoints(Y)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(A){return Math.abs(A)<this.minScaleLimit?A<0?-this.minScaleLimit:this.minScaleLimit:A===0?1e-4:A},scale:function(A){return this._set("scaleX",A),this._set("scaleY",A),this.setCoords()},scaleToWidth:function(A,M){var Y=this.getBoundingRect(M).width/this.getScaledWidth();return this.scale(A/this.width/Y)},scaleToHeight:function(A,M){var Y=this.getBoundingRect(M).height/this.getScaledHeight();return this.scale(A/this.height/Y)},calcLineCoords:function(){var A=this.getViewportTransform(),M=this.padding,Y=f(this.angle),de=d.cos(Y),ae=d.sin(Y),ze=de*M,qe=ae*M,Ue=ze+qe,hn=ze-qe,On=this.calcACoords(),vn={tl:v(On.tl,A),tr:v(On.tr,A),bl:v(On.bl,A),br:v(On.br,A)};return M&&(vn.tl.x-=hn,vn.tl.y-=Ue,vn.tr.x+=Ue,vn.tr.y-=hn,vn.bl.x-=Ue,vn.bl.y+=hn,vn.br.x+=hn,vn.br.y+=Ue),vn},calcOCoords:function(){var A=this._calcRotateMatrix(),M=this._calcTranslateMatrix(),Y=this.getViewportTransform(),de=g(Y,M),ae=g(de,A),ae=g(ae,[1/Y[0],0,0,1/Y[3],0,0]),ze=this._calculateCurrentDimensions(),qe={};return this.forEachControl(function(Ue,hn,On){qe[hn]=Ue.positionHandler(ze,ae,On)}),qe},calcACoords:function(){var A=this._calcRotateMatrix(),M=this._calcTranslateMatrix(),Y=g(M,A),de=this._getTransformedDimensions(),ae=de.x/2,ze=de.y/2;return{tl:v({x:-ae,y:-ze},Y),tr:v({x:ae,y:-ze},Y),bl:v({x:-ae,y:ze},Y),br:v({x:ae,y:ze},Y)}},setCoords:function(A){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),A?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return d.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var A=this.getCenterPoint();return[1,0,0,1,A.x,A.y]},transformMatrixKey:function(A){var M="_",Y="";return!A&&this.group&&(Y=this.group.transformMatrixKey(A)+M),Y+this.top+M+this.left+M+this.scaleX+M+this.scaleY+M+this.skewX+M+this.skewY+M+this.angle+M+this.originX+M+this.originY+M+this.width+M+this.height+M+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(A){var M=this.calcOwnMatrix();if(A||!this.group)return M;var Y=this.transformMatrixKey(A),de=this.matrixCache||(this.matrixCache={});return de.key===Y?de.value:(this.group&&(M=g(this.group.calcTransformMatrix(!1),M)),de.key=Y,de.value=M,M)},calcOwnMatrix:function(){var A=this.transformMatrixKey(!0),M=this.ownMatrixCache||(this.ownMatrixCache={});if(M.key===A)return M.value;var Y=this._calcTranslateMatrix(),de={angle:this.angle,translateX:Y[4],translateY:Y[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return M.key=A,M.value=d.composeMatrix(de),M.value},_getNonTransformedDimensions:function(){var A=this.strokeWidth,M=this.width+A,Y=this.height+A;return{x:M,y:Y}},_getTransformedDimensions:function(A,M){typeof A>"u"&&(A=this.skewX),typeof M>"u"&&(M=this.skewY);var Y,de,ae,ze=A===0&&M===0;if(this.strokeUniform?(de=this.width,ae=this.height):(Y=this._getNonTransformedDimensions(),de=Y.x,ae=Y.y),ze)return this._finalizeDimensions(de*this.scaleX,ae*this.scaleY);var qe=d.sizeAfterTransform(de,ae,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:A,skewY:M});return this._finalizeDimensions(qe.x,qe.y)},_finalizeDimensions:function(A,M){return this.strokeUniform?{x:A+this.strokeWidth,y:M+this.strokeWidth}:{x:A,y:M}},_calculateCurrentDimensions:function(){var A=this.getViewportTransform(),M=this._getTransformedDimensions(),Y=v(M,A,!0);return Y.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(f,g){if(g){if(g.toLive)return f+": url(#SVGID_"+g.id+"); ";var v=new e.Color(g),A=f+": "+v.toRgb()+"; ",M=v.getAlpha();return M!==1&&(A+=f+"-opacity: "+M.toString()+"; "),A}else return f+": none; "}var d=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(f){var g=this.fillRule?this.fillRule:"nonzero",v=this.strokeWidth?this.strokeWidth:"0",A=this.strokeDashArray?this.strokeDashArray.join(" "):"none",M=this.strokeDashOffset?this.strokeDashOffset:"0",Y=this.strokeLineCap?this.strokeLineCap:"butt",de=this.strokeLineJoin?this.strokeLineJoin:"miter",ae=this.strokeMiterLimit?this.strokeMiterLimit:"4",ze=typeof this.opacity<"u"?this.opacity:"1",qe=this.visible?"":" visibility: hidden;",Ue=f?"":this.getSvgFilter(),hn=c("fill",this.fill),On=c("stroke",this.stroke);return[On,"stroke-width: ",v,"; ","stroke-dasharray: ",A,"; ","stroke-linecap: ",Y,"; ","stroke-dashoffset: ",M,"; ","stroke-linejoin: ",de,"; ","stroke-miterlimit: ",ae,"; ",hn,"fill-rule: ",g,"; ","opacity: ",ze,";",Ue,qe].join("")},getSvgSpanStyles:function(f,g){var v="; ",M=f.fontFamily?"font-family: "+(f.fontFamily.indexOf("'")===-1&&f.fontFamily.indexOf('"')===-1?"'"+f.fontFamily+"'":f.fontFamily)+v:"",A=f.strokeWidth?"stroke-width: "+f.strokeWidth+v:"",M=M,Y=f.fontSize?"font-size: "+f.fontSize+"px"+v:"",de=f.fontStyle?"font-style: "+f.fontStyle+v:"",ae=f.fontWeight?"font-weight: "+f.fontWeight+v:"",ze=f.fill?c("fill",f.fill):"",qe=f.stroke?c("stroke",f.stroke):"",Ue=this.getSvgTextDecoration(f),hn=f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"";return Ue&&(Ue="text-decoration: "+Ue+v),[qe,A,M,Y,de,ae,Ue,ze,hn,g?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(g){return f[g.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,g){var v=f?this.calcTransformMatrix():this.calcOwnMatrix(),A='transform="'+e.util.matrixToSVG(v);return A+(g||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var g=e.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',d(-this.width/2,g),'" y="',d(-this.height/2,g),'" width="',d(this.width,g),'" height="',d(this.height,g),`"></rect>
`)}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,g){g=g||{};var v=g.reviver,A=g.additionalTransform||"",M=[this.getSvgTransform(!0,A),this.getSvgCommons()].join(""),Y=f.indexOf("COMMON_PARTS");return f[Y]=M,v?v(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,g){g=g||{};var v=g.noStyle,A=g.reviver,M=v?"":'style="'+this.getSvgStyles()+'" ',Y=g.withShadow?'style="'+this.getSvgFilter()+'" ':"",de=this.clipPath,ae=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",ze=de&&de.absolutePositioned,qe=this.stroke,Ue=this.fill,hn=this.shadow,On,vn=[],bn,wn=f.indexOf("COMMON_PARTS"),Cn=g.additionalTransform;return de&&(de.clipPathId="CLIPPATH_"+e.Object.__uid++,bn='<clipPath id="'+de.clipPathId+`" >
`+de.toClipPathSVG(A)+`</clipPath>
`),ze&&vn.push("<g ",Y,this.getSvgCommons(),` >
`),vn.push("<g ",this.getSvgTransform(!1),ze?"":Y+this.getSvgCommons(),` >
`),On=[M,ae,v?"":this.addPaintOrder()," ",Cn?'transform="'+Cn+'" ':""].join(""),f[wn]=On,Ue&&Ue.toLive&&vn.push(Ue.toSVG(this)),qe&&qe.toLive&&vn.push(qe.toSVG(this)),hn&&vn.push(hn.toSVG(this)),de&&vn.push(bn),vn.push(f.join("")),vn.push(`</g>
`),ze&&vn.push(`</g>
`),A?A(vn.join("")):vn.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=e.util.object.extend,d="stateProperties";function f(v,A,M){var Y={},de=!0;M.forEach(function(ae){Y[ae]=v[ae]}),c(v[A],Y,de)}function g(v,A,M){if(v===A)return!0;if(Array.isArray(v)){if(!Array.isArray(A)||v.length!==A.length)return!1;for(var Y=0,de=v.length;Y<de;Y++)if(!g(v[Y],A[Y]))return!1;return!0}else if(v&&typeof v=="object"){var ae=Object.keys(v),ze;if(!A||typeof A!="object"||!M&&ae.length!==Object.keys(A).length)return!1;for(var Y=0,de=ae.length;Y<de;Y++)if(ze=ae[Y],!(ze==="canvas"||ze==="group")&&!g(v[ze],A[ze]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(v){v=v||d;var A="_"+v;return Object.keys(this[A]).length<this[v].length?!0:!g(this[A],this,!0)},saveState:function(v){var A=v&&v.propertySet||d,M="_"+A;return this[M]?(f(this,M,this[A]),v&&v.stateProperties&&f(this,M,v.stateProperties),this):this.setupState(v)},setupState:function(v){v=v||{};var A=v.propertySet||d;return v.propertySet=A,this["_"+A]={},this.saveState(v),this}})}(),function(){var c=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(d,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var g=d.x,v=d.y,A,M,Y=Object.keys(this.oCoords),de=Y.length-1,ae;for(this.__corner=0;de>=0;de--)if(ae=Y[de],!!this.isControlVisible(ae)&&(M=this._getImageLines(f?this.oCoords[ae].touchCorner:this.oCoords[ae].corner),A=this._findCrossPoints({x:g,y:v},M),A!==0&&A%2===1))return this.__corner=ae,ae;return!1},forEachControl:function(d){for(var f in this.controls)d(this.controls[f],f,this)},_setCornerCoords:function(){var d=this.oCoords;for(var f in d){var g=this.controls[f];d[f].corner=g.calcCornerCoords(this.angle,this.cornerSize,d[f].x,d[f].y,!1),d[f].touchCorner=g.calcCornerCoords(this.angle,this.touchCornerSize,d[f].x,d[f].y,!0)}},drawSelectionBackground:function(d){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;d.save();var f=this.getCenterPoint(),g=this._calculateCurrentDimensions(),v=this.canvas.viewportTransform;return d.translate(f.x,f.y),d.scale(1/v[0],1/v[3]),d.rotate(c(this.angle)),d.fillStyle=this.selectionBackgroundColor,d.fillRect(-g.x/2,-g.y/2,g.x,g.y),d.restore(),this},drawBorders:function(d,f){f=f||{};var g=this._calculateCurrentDimensions(),v=this.borderScaleFactor,A=g.x+v,M=g.y+v,Y=typeof f.hasControls<"u"?f.hasControls:this.hasControls,de=!1;return d.save(),d.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(d,f.borderDashArray||this.borderDashArray),d.strokeRect(-A/2,-M/2,A,M),Y&&(d.beginPath(),this.forEachControl(function(ae,ze,qe){ae.withConnection&&ae.getVisibility(qe,ze)&&(de=!0,d.moveTo(ae.x*A,ae.y*M),d.lineTo(ae.x*A+ae.offsetX,ae.y*M+ae.offsetY))}),de&&d.stroke()),d.restore(),this},drawBordersInGroup:function(d,f,g){g=g||{};var v=e.util.sizeAfterTransform(this.width,this.height,f),A=this.strokeWidth,M=this.strokeUniform,Y=this.borderScaleFactor,de=v.x+A*(M?this.canvas.getZoom():f.scaleX)+Y,ae=v.y+A*(M?this.canvas.getZoom():f.scaleY)+Y;return d.save(),this._setLineDash(d,g.borderDashArray||this.borderDashArray),d.strokeStyle=g.borderColor||this.borderColor,d.strokeRect(-de/2,-ae/2,de,ae),d.restore(),this},drawControls:function(d,f){f=f||{},d.save();var g=this.canvas.getRetinaScaling(),v,A;return d.setTransform(g,0,0,g,0,0),d.strokeStyle=d.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(d.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(d,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(v=this.group.calcTransformMatrix()),this.forEachControl(function(M,Y,de){A=de.oCoords[Y],M.getVisibility(de,Y)&&(v&&(A=e.util.transformPoint(A,v)),M.render(d,A.x,A.y,f,de))}),d.restore(),this},isControlVisible:function(d){return this.controls[d]&&this.controls[d].getVisibility(this,d)},setControlVisible:function(d,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[d]=f,this},setControlsVisibility:function(d){d||(d={});for(var f in d)this.setControlVisible(f,d[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,d){d=d||{};var f=function(){},g=d.onComplete||f,v=d.onChange||f,A=this;return e.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(M){c.set("left",M),A.requestRenderAll(),v()},onComplete:function(){c.setCoords(),g()}})},fxCenterObjectV:function(c,d){d=d||{};var f=function(){},g=d.onComplete||f,v=d.onChange||f,A=this;return e.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(M){c.set("top",M),A.requestRenderAll(),v()},onComplete:function(){c.setCoords(),g()}})},fxRemove:function(c,d){d=d||{};var f=function(){},g=d.onComplete||f,v=d.onChange||f,A=this;return e.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(M){c.set("opacity",M),A.requestRenderAll(),v()},onComplete:function(){A.remove(c),g()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],d,f,g=[];for(d in arguments[0])c.push(d);for(var v=0,A=c.length;v<A;v++)d=c[v],f=v!==A-1,g.push(this._animate(d,arguments[0][d],arguments[1],f));return g}else return this._animate.apply(this,arguments)},_animate:function(c,d,f,g){var v=this,A;d=d.toString(),f?f=e.util.object.clone(f):f={},~c.indexOf(".")&&(A=c.split("."));var M=v.colorProperties.indexOf(c)>-1||A&&v.colorProperties.indexOf(A[1])>-1,Y=A?this.get(A[0])[A[1]]:this.get(c);"from"in f||(f.from=Y),M||(~d.indexOf("=")?d=Y+parseFloat(d.replace("=","")):d=parseFloat(d));var de={target:this,startValue:f.from,endValue:d,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(ae,ze,qe){return f.abort.call(v,ae,ze,qe)},onChange:function(ae,ze,qe){A?v[A[0]][A[1]]=ae:v.set(c,ae),!g&&f.onChange&&f.onChange(ae,ze,qe)},onComplete:function(ae,ze,qe){g||(v.setCoords(),f.onComplete&&f.onComplete(ae,ze,qe))}};return M?e.util.animateColor(de.startValue,de.endValue,de.duration,de):e.util.animate(de)}}),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.util.object.clone,v={x1:1,x2:1,y1:1,y2:1};if(d.Line){d.warn("fabric.Line is already defined");return}d.Line=d.util.createClass(d.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:d.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(M,Y){M||(M=[0,0,0,0]),this.callSuper("initialize",Y),this.set("x1",M[0]),this.set("y1",M[1]),this.set("x2",M[2]),this.set("y2",M[3]),this._setWidthHeight(Y)},_setWidthHeight:function(M){M||(M={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in M?M.left:this._getLeftToOriginX(),this.top="top"in M?M.top:this._getTopToOriginY()},_set:function(M,Y){return this.callSuper("_set",M,Y),typeof v[M]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:A({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:A({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(M){M.beginPath();var Y=this.calcLinePoints();M.moveTo(Y.x1,Y.y1),M.lineTo(Y.x2,Y.y2),M.lineWidth=this.strokeWidth;var de=M.strokeStyle;M.strokeStyle=this.stroke||M.fillStyle,this.stroke&&this._renderStroke(M),M.strokeStyle=de},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(M){return f(this.callSuper("toObject",M),this.calcLinePoints())},_getNonTransformedDimensions:function(){var M=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(M.y-=this.strokeWidth),this.height===0&&(M.x-=this.strokeWidth)),M},calcLinePoints:function(){var M=this.x1<=this.x2?-1:1,Y=this.y1<=this.y2?-1:1,de=M*this.width*.5,ae=Y*this.height*.5,ze=M*this.width*-.5,qe=Y*this.height*-.5;return{x1:de,x2:ze,y1:ae,y2:qe}},_toSVG:function(){var M=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',M.x1,'" y1="',M.y1,'" x2="',M.x2,'" y2="',M.y2,`" />
`]}}),d.Line.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),d.Line.fromElement=function(M,Y,de){de=de||{};var ae=d.parseAttributes(M,d.Line.ATTRIBUTE_NAMES),ze=[ae.x1||0,ae.y1||0,ae.x2||0,ae.y2||0];Y(new d.Line(ze,f(ae,de)))},d.Line.fromObject=function(M,Y){function de(ze){delete ze.points,Y&&Y(ze)}var ae=g(M,!0);ae.points=[M.x1,M.y1,M.x2,M.y2],d.Object._fromObject("Line",ae,de,"points")};function A(M,Y){var de=M.origin,ae=M.axis1,ze=M.axis2,qe=M.dimension,Ue=Y.nearest,hn=Y.center,On=Y.farthest;return function(){switch(this.get(de)){case Ue:return Math.min(this.get(ae),this.get(ze));case hn:return Math.min(this.get(ae),this.get(ze))+.5*this.get(qe);case On:return Math.max(this.get(ae),this.get(ze))}}}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.degreesToRadians;if(d.Circle){d.warn("fabric.Circle is already defined.");return}d.Circle=d.util.createClass(d.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:d.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(v,A){return this.callSuper("_set",v,A),v==="radius"&&this.setRadius(A),this},toObject:function(v){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(v))},_toSVG:function(){var v,A=0,M=0,Y=(this.endAngle-this.startAngle)%360;if(Y===0)v=["<circle ","COMMON_PARTS",'cx="'+A+'" cy="'+M+'" ','r="',this.radius,`" />
`];else{var de=f(this.startAngle),ae=f(this.endAngle),ze=this.radius,qe=d.util.cos(de)*ze,Ue=d.util.sin(de)*ze,hn=d.util.cos(ae)*ze,On=d.util.sin(ae)*ze,vn=Y>180?"1":"0";v=['<path d="M '+qe+" "+Ue," A "+ze+" "+ze," 0 ",+vn+" 1"," "+hn+" "+On,'" ',"COMMON_PARTS",` />
`]}return v},_render:function(v){v.beginPath(),v.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(v)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(v){return this.radius=v,this.set("width",v*2).set("height",v*2)}}),d.Circle.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),d.Circle.fromElement=function(v,A){var M=d.parseAttributes(v,d.Circle.ATTRIBUTE_NAMES);if(!g(M))throw new Error("value of `r` attribute is required and can not be negative");M.left=(M.left||0)-M.radius,M.top=(M.top||0)-M.radius,A(new d.Circle(M))};function g(v){return"radius"in v&&v.radius>=0}d.Circle.fromObject=function(v,A){d.Object._fromObject("Circle",v,A)}}(n),function(c){var d=c.fabric||(c.fabric={});if(d.Triangle){d.warn("fabric.Triangle is already defined");return}d.Triangle=d.util.createClass(d.Object,{type:"triangle",width:100,height:100,_render:function(f){var g=this.width/2,v=this.height/2;f.beginPath(),f.moveTo(-g,v),f.lineTo(0,-v),f.lineTo(g,v),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,g=this.height/2,v=[-f+" "+g,"0 "+-g,f+" "+g].join(",");return["<polygon ","COMMON_PARTS",'points="',v,'" />']}}),d.Triangle.fromObject=function(f,g){return d.Object._fromObject("Triangle",f,g)}}(n),function(c){var d=c.fabric||(c.fabric={}),f=Math.PI*2;if(d.Ellipse){d.warn("fabric.Ellipse is already defined.");return}d.Ellipse=d.util.createClass(d.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:d.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this.set("rx",g&&g.rx||0),this.set("ry",g&&g.ry||0)},_set:function(g,v){switch(this.callSuper("_set",g,v),g){case"rx":this.rx=v,this.set("width",v*2);break;case"ry":this.ry=v,this.set("height",v*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(g){g.beginPath(),g.save(),g.transform(1,0,0,this.ry/this.rx,0,0),g.arc(0,0,this.rx,0,f,!1),g.restore(),this._renderPaintInOrder(g)}}),d.Ellipse.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),d.Ellipse.fromElement=function(g,v){var A=d.parseAttributes(g,d.Ellipse.ATTRIBUTE_NAMES);A.left=(A.left||0)-A.rx,A.top=(A.top||0)-A.ry,v(new d.Ellipse(A))},d.Ellipse.fromObject=function(g,v){d.Object._fromObject("Ellipse",g,v)}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend;if(d.Rect){d.warn("fabric.Rect is already defined");return}d.Rect=d.util.createClass(d.Object,{stateProperties:d.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:d.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(g){var v=this.rx?Math.min(this.rx,this.width/2):0,A=this.ry?Math.min(this.ry,this.height/2):0,M=this.width,Y=this.height,de=-this.width/2,ae=-this.height/2,ze=v!==0||A!==0,qe=1-.5522847498;g.beginPath(),g.moveTo(de+v,ae),g.lineTo(de+M-v,ae),ze&&g.bezierCurveTo(de+M-qe*v,ae,de+M,ae+qe*A,de+M,ae+A),g.lineTo(de+M,ae+Y-A),ze&&g.bezierCurveTo(de+M,ae+Y-qe*A,de+M-qe*v,ae+Y,de+M-v,ae+Y),g.lineTo(de+v,ae+Y),ze&&g.bezierCurveTo(de+qe*v,ae+Y,de,ae+Y-qe*A,de,ae+Y-A),g.lineTo(de,ae+A),ze&&g.bezierCurveTo(de,ae+qe*A,de+qe*v,ae,de+v,ae),g.closePath(),this._renderPaintInOrder(g)},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){var g=-this.width/2,v=-this.height/2;return["<rect ","COMMON_PARTS",'x="',g,'" y="',v,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),d.Rect.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),d.Rect.fromElement=function(g,v,A){if(!g)return v(null);A=A||{};var M=d.parseAttributes(g,d.Rect.ATTRIBUTE_NAMES);M.left=M.left||0,M.top=M.top||0,M.height=M.height||0,M.width=M.width||0;var Y=new d.Rect(f(A?d.util.object.clone(A):{},M));Y.visible=Y.visible&&Y.width>0&&Y.height>0,v(Y)},d.Rect.fromObject=function(g,v){return d.Object._fromObject("Rect",g,v)}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.util.array.min,v=d.util.array.max,A=d.util.toFixed,M=d.util.projectStrokeOnPoints;if(d.Polyline){d.warn("fabric.Polyline is already defined");return}d.Polyline=d.util.createClass(d.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:d.Object.prototype.cacheProperties.concat("points"),initialize:function(Y,de){de=de||{},this.points=Y||[],this.callSuper("initialize",de),this._setPositionDimensions(de)},_projectStrokeOnPoints:function(){return M(this.points,this,!0)},_setPositionDimensions:function(Y){var de=this._calcDimensions(Y),ae,ze=this.exactBoundingBox?this.strokeWidth:0;this.width=de.width-ze,this.height=de.height-ze,Y.fromSVG||(ae=this.translateToGivenOrigin({x:de.left-this.strokeWidth/2+ze/2,y:de.top-this.strokeWidth/2+ze/2},"left","top",this.originX,this.originY)),typeof Y.left>"u"&&(this.left=Y.fromSVG?de.left:ae.x),typeof Y.top>"u"&&(this.top=Y.fromSVG?de.top:ae.y),this.pathOffset={x:de.left+this.width/2+ze/2,y:de.top+this.height/2+ze/2}},_calcDimensions:function(){var Y=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,de=g(Y,"x")||0,ae=g(Y,"y")||0,ze=v(Y,"x")||0,qe=v(Y,"y")||0,Ue=ze-de,hn=qe-ae;return{left:de,top:ae,width:Ue,height:hn}},toObject:function(Y){return f(this.callSuper("toObject",Y),{points:this.points.concat()})},_toSVG:function(){for(var Y=[],de=this.pathOffset.x,ae=this.pathOffset.y,ze=d.Object.NUM_FRACTION_DIGITS,qe=0,Ue=this.points.length;qe<Ue;qe++)Y.push(A(this.points[qe].x-de,ze),",",A(this.points[qe].y-ae,ze)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',Y.join(""),`" />
`]},commonRender:function(Y){var de,ae=this.points.length,ze=this.pathOffset.x,qe=this.pathOffset.y;if(!ae||isNaN(this.points[ae-1].y))return!1;Y.beginPath(),Y.moveTo(this.points[0].x-ze,this.points[0].y-qe);for(var Ue=0;Ue<ae;Ue++)de=this.points[Ue],Y.lineTo(de.x-ze,de.y-qe);return!0},_render:function(Y){this.commonRender(Y)&&this._renderPaintInOrder(Y)},complexity:function(){return this.get("points").length}}),d.Polyline.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(),d.Polyline.fromElementGenerator=function(Y){return function(de,ae,ze){if(!de)return ae(null);ze||(ze={});var qe=d.parsePointsAttribute(de.getAttribute("points")),Ue=d.parseAttributes(de,d[Y].ATTRIBUTE_NAMES);Ue.fromSVG=!0,ae(new d[Y](qe,f(Ue,ze)))}},d.Polyline.fromElement=d.Polyline.fromElementGenerator("Polyline"),d.Polyline.fromObject=function(Y,de){return d.Object._fromObject("Polyline",Y,de,"points")}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.projectStrokeOnPoints;if(d.Polygon){d.warn("fabric.Polygon is already defined");return}d.Polygon=d.util.createClass(d.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(g){this.commonRender(g)&&(g.closePath(),this._renderPaintInOrder(g))}}),d.Polygon.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(),d.Polygon.fromElement=d.Polyline.fromElementGenerator("Polygon"),d.Polygon.fromObject=function(g,v){d.Object._fromObject("Polygon",g,v,"points")}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.array.min,g=d.util.array.max,v=d.util.object.extend,A=d.util.object.clone,M=d.util.toFixed;if(d.Path){d.warn("fabric.Path is already defined");return}d.Path=d.util.createClass(d.Object,{type:"path",path:null,cacheProperties:d.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:d.Object.prototype.stateProperties.concat("path"),initialize:function(Y,de){de=A(de||{}),delete de.path,this.callSuper("initialize",de),this._setPath(Y||[],de)},_setPath:function(Y,de){this.path=d.util.makePathSimpler(Array.isArray(Y)?Y:d.util.parsePath(Y)),d.Polyline.prototype._setPositionDimensions.call(this,de||{})},_renderPathCommands:function(Y){var de,ae=0,ze=0,qe=0,Ue=0,hn=0,On=0,vn=-this.pathOffset.x,bn=-this.pathOffset.y;Y.beginPath();for(var wn=0,Cn=this.path.length;wn<Cn;++wn)switch(de=this.path[wn],de[0]){case"L":qe=de[1],Ue=de[2],Y.lineTo(qe+vn,Ue+bn);break;case"M":qe=de[1],Ue=de[2],ae=qe,ze=Ue,Y.moveTo(qe+vn,Ue+bn);break;case"C":qe=de[5],Ue=de[6],hn=de[3],On=de[4],Y.bezierCurveTo(de[1]+vn,de[2]+bn,hn+vn,On+bn,qe+vn,Ue+bn);break;case"Q":Y.quadraticCurveTo(de[1]+vn,de[2]+bn,de[3]+vn,de[4]+bn),qe=de[3],Ue=de[4],hn=de[1],On=de[2];break;case"z":case"Z":qe=ae,Ue=ze,Y.closePath();break}},_render:function(Y){this._renderPathCommands(Y),this._renderPaintInOrder(Y)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(Y){return v(this.callSuper("toObject",Y),{path:this.path.map(function(de){return de.slice()})})},toDatalessObject:function(Y){var de=this.toObject(["sourcePath"].concat(Y));return de.sourcePath&&delete de.path,de},_toSVG:function(){var Y=d.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',Y,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var Y=d.Object.NUM_FRACTION_DIGITS;return" translate("+M(-this.pathOffset.x,Y)+", "+M(-this.pathOffset.y,Y)+")"},toClipPathSVG:function(Y){var de=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:Y,additionalTransform:de})},toSVG:function(Y){var de=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:Y,additionalTransform:de})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var Y=[],de=[],ae,ze=0,qe=0,Ue=0,hn=0,On,vn=0,bn=this.path.length;vn<bn;++vn){switch(ae=this.path[vn],ae[0]){case"L":Ue=ae[1],hn=ae[2],On=[];break;case"M":Ue=ae[1],hn=ae[2],ze=Ue,qe=hn,On=[];break;case"C":On=d.util.getBoundsOfCurve(Ue,hn,ae[1],ae[2],ae[3],ae[4],ae[5],ae[6]),Ue=ae[5],hn=ae[6];break;case"Q":On=d.util.getBoundsOfCurve(Ue,hn,ae[1],ae[2],ae[1],ae[2],ae[3],ae[4]),Ue=ae[3],hn=ae[4];break;case"z":case"Z":Ue=ze,hn=qe;break}On.forEach(function(Un){Y.push(Un.x),de.push(Un.y)}),Y.push(Ue),de.push(hn)}var wn=f(Y)||0,Cn=f(de)||0,En=g(Y)||0,_n=g(de)||0,Bn=En-wn,jn=_n-Cn;return{left:wn,top:Cn,width:Bn,height:jn}}}),d.Path.fromObject=function(Y,de){if(typeof Y.sourcePath=="string"){var ae=Y.sourcePath;d.loadSVGFromURL(ae,function(ze){var qe=ze[0];qe.setOptions(Y),Y.clipPath?d.util.enlivenObjects([Y.clipPath],function(Ue){qe.clipPath=Ue[0],de&&de(qe)}):de&&de(qe)})}else d.Object._fromObject("Path",Y,de,"path")},d.Path.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(["d"]),d.Path.fromElement=function(Y,de,ae){var ze=d.parseAttributes(Y,d.Path.ATTRIBUTE_NAMES);ze.fromSVG=!0,de(new d.Path(ze.d,v(ze,ae)))}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.array.min,g=d.util.array.max;d.Group||(d.Group=d.util.createClass(d.Object,d.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(v,A,M){A=A||{},this._objects=[],M&&this.callSuper("initialize",A),this._objects=v||[];for(var Y=this._objects.length;Y--;)this._objects[Y].group=this;if(M)this._updateObjectsACoords();else{var de=A&&A.centerPoint;A.originX!==void 0&&(this.originX=A.originX),A.originY!==void 0&&(this.originY=A.originY),de||this._calcBounds(),this._updateObjectsCoords(de),delete A.centerPoint,this.callSuper("initialize",A)}this.setCoords()},_updateObjectsACoords:function(){for(var v=!0,A=this._objects.length;A--;)this._objects[A].setCoords(v)},_updateObjectsCoords:function(A){for(var A=A||this.getCenterPoint(),M=this._objects.length;M--;)this._updateObjectCoords(this._objects[M],A)},_updateObjectCoords:function(v,A){var M=v.left,Y=v.top,de=!0;v.set({left:M-A.x,top:Y-A.y}),v.group=this,v.setCoords(de)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(v){var A=!!this.group;return this._restoreObjectsState(),d.util.resetObjectTransform(this),v&&(A&&d.util.removeTransformFromObject(v,this.group.calcTransformMatrix()),this._objects.push(v),v.group=this,v._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,A?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(v){return this._restoreObjectsState(),d.util.resetObjectTransform(this),this.remove(v),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(v){this.dirty=!0,v.group=this,v._set("canvas",this.canvas)},_onObjectRemoved:function(v){this.dirty=!0,delete v.group},_set:function(v,A){var M=this._objects.length;if(this.useSetOnGroup)for(;M--;)this._objects[M].setOnGroup(v,A);if(v==="canvas")for(;M--;)this._objects[M]._set(v,A);d.Object.prototype._set.call(this,v,A)},toObject:function(v){var A=this.includeDefaultValues,M=this._objects.filter(function(de){return!de.excludeFromExport}).map(function(de){var ae=de.includeDefaultValues;de.includeDefaultValues=A;var ze=de.toObject(v);return de.includeDefaultValues=ae,ze}),Y=d.Object.prototype.toObject.call(this,v);return Y.objects=M,Y},toDatalessObject:function(v){var A,M=this.sourcePath;if(M)A=M;else{var Y=this.includeDefaultValues;A=this._objects.map(function(ae){var ze=ae.includeDefaultValues;ae.includeDefaultValues=Y;var qe=ae.toDatalessObject(v);return ae.includeDefaultValues=ze,qe})}var de=d.Object.prototype.toDatalessObject.call(this,v);return de.objects=A,de},render:function(v){this._transformDone=!0,this.callSuper("render",v),this._transformDone=!1},shouldCache:function(){var v=d.Object.prototype.shouldCache.call(this);if(v){for(var A=0,M=this._objects.length;A<M;A++)if(this._objects[A].willDrawShadow())return this.ownCaching=!1,!1}return v},willDrawShadow:function(){if(d.Object.prototype.willDrawShadow.call(this))return!0;for(var v=0,A=this._objects.length;v<A;v++)if(this._objects[v].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(v){for(var A=0,M=this._objects.length;A<M;A++)this._objects[A].render(v);this._drawClipPath(v,this.clipPath)},isCacheDirty:function(v){if(this.callSuper("isCacheDirty",v))return!0;if(!this.statefullCache)return!1;for(var A=0,M=this._objects.length;A<M;A++)if(this._objects[A].isCacheDirty(!0)){if(this._cacheCanvas){var Y=this.cacheWidth/this.zoomX,de=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Y/2,-de/2,Y,de)}return!0}return!1},_restoreObjectsState:function(){var v=this.calcOwnMatrix();return this._objects.forEach(function(A){d.util.addTransformToObject(A,v),delete A.group,A.setCoords()}),this},destroy:function(){return this._objects.forEach(function(v){v.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(v){v.dispose&&v.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var v=this._objects,A=this.canvas;this._objects=[];var M=this.toObject();delete M.objects;var Y=new d.ActiveSelection([]);return Y.set(M),Y.type="activeSelection",A.remove(this),v.forEach(function(de){de.group=Y,de.dirty=!0,A.add(de)}),Y.canvas=A,Y._objects=v,A._activeObject=Y,Y.setCoords(),Y}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var v=!0;return this.forEachObject(function(A){A.setCoords(v)}),this},_calcBounds:function(v){for(var A=[],M=[],Y,de,ae,ze=["tr","br","bl","tl"],qe=0,Ue=this._objects.length,hn,On=ze.length;qe<Ue;++qe){for(Y=this._objects[qe],ae=Y.calcACoords(),hn=0;hn<On;hn++)de=ze[hn],A.push(ae[de].x),M.push(ae[de].y);Y.aCoords=ae}this._getBounds(A,M,v)},_getBounds:function(v,A,M){var Y=new d.Point(f(v),f(A)),de=new d.Point(g(v),g(A)),ae=Y.y||0,ze=Y.x||0,qe=de.x-Y.x||0,Ue=de.y-Y.y||0;this.width=qe,this.height=Ue,M||this.setPositionByOrigin({x:ze,y:ae},"left","top")},_toSVG:function(v){for(var A=["<g ","COMMON_PARTS",` >
`],M=0,Y=this._objects.length;M<Y;M++)A.push("		",this._objects[M].toSVG(v));return A.push(`</g>
`),A},getSvgStyles:function(){var v=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",A=this.visible?"":" visibility: hidden;";return[v,this.getSvgFilter(),A].join("")},toClipPathSVG:function(v){for(var A=[],M=0,Y=this._objects.length;M<Y;M++)A.push("	",this._objects[M].toClipPathSVG(v));return this._createBaseClipPathSVGMarkup(A,{reviver:v})}}),d.Group.fromObject=function(v,A){var M=v.objects,Y=d.util.object.clone(v,!0);if(delete Y.objects,typeof M=="string"){d.loadSVGFromURL(M,function(de){var ae=d.util.groupSVGElements(de,v,M),ze=Y.clipPath;delete Y.clipPath,ae.set(Y),ze?d.util.enlivenObjects([ze],function(qe){ae.clipPath=qe[0],A&&A(ae)}):A&&A(ae)});return}d.util.enlivenObjects(M,function(de){d.util.enlivenObjectEnlivables(v,Y,function(){A&&A(new d.Group(de,Y,!0))})})})}(n),function(c){var d=c.fabric||(c.fabric={});d.ActiveSelection||(d.ActiveSelection=d.util.createClass(d.Group,{type:"activeSelection",initialize:function(f,g){g=g||{},this._objects=f||[];for(var v=this._objects.length;v--;)this._objects[v].group=this;g.originX&&(this.originX=g.originX),g.originY&&(this.originY=g.originY),this._calcBounds(),this._updateObjectsCoords(),d.Object.prototype.initialize.call(this,g),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var g=d.Object.prototype.toObject.call(this),v=new d.Group([]);if(delete g.type,v.set(g),f.forEach(function(M){M.canvas.remove(M),M.group=v}),v._objects=f,!this.canvas)return v;var A=this.canvas;return A.add(v),A._activeObject=v,v.setCoords(),v},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,g,v){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",f,g),v=v||{},typeof v.hasControls>"u"&&(v.hasControls=!1),v.forActiveSelection=!0;for(var A=0,M=this._objects.length;A<M;A++)this._objects[A]._renderControls(f,v);f.restore()}}),d.ActiveSelection.fromObject=function(f,g){d.util.enlivenObjects(f.objects,function(v){delete f.objects,g&&g(new d.ActiveSelection(v,f,!0))})})}(n),function(c){var d=e.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,g){g||(g={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",g),this._initElement(f,g)},getElement:function(){return this._element||{}},setElement:function(f,g){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(g),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var g=e.filterBackend;g&&g.evictCachesForKey&&g.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(f){e.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){var g=this.width/2,v=this.height/2;f.beginPath(),f.moveTo(-g,-v),f.lineTo(g,-v),f.lineTo(g,v),f.lineTo(-g,v),f.lineTo(-g,-v),f.closePath()}},toObject:function(f){var g=[];this.filters.forEach(function(A){A&&g.push(A.toObject())});var v=d(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g});return this.resizeFilter&&(v.resizeFilter=this.resizeFilter.toObject()),v},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var f=[],g=[],v,A=this._element,M=-this.width/2,Y=-this.height/2,de="",ae="";if(!A)return[];if(this.hasCrop()){var ze=e.Object.__uid++;f.push('<clipPath id="imageCrop_'+ze+`">
`,'	<rect x="'+M+'" y="'+Y+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),de=' clip-path="url(#imageCrop_'+ze+')" '}if(this.imageSmoothing||(ae='" image-rendering="optimizeSpeed'),g.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',M-this.cropX,'" y="',Y-this.cropY,'" width="',A.width||A.naturalWidth,'" height="',A.height||A.height,ae,'"',de,`></image>
`),this.stroke||this.strokeDashArray){var qe=this.fill;this.fill=null,v=["	<rect ",'x="',M,'" y="',Y,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=qe}return this.paintFirst!=="fill"?f=f.concat(v,g):f=f.concat(g,v),f},getSrc:function(f){var g=f?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src"):g.src:this.src||""},setSrc:function(f,g,v){return e.util.loadImage(f,function(A,M){this.setElement(A,v),this._setWidthHeight(),g&&g(this,M)},this,v&&v.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,g=this.minimumScaleTrigger,v=this.getTotalObjectScaling(),A=v.scaleX,M=v.scaleY,Y=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||A>g&&M>g){this._element=Y,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=A,this._lastScaleY=M;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var de=e.util.createCanvasElement(),ae=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,ze=Y.width,qe=Y.height;de.width=ze,de.height=qe,this._element=de,this._lastScaleX=f.scaleX=A,this._lastScaleY=f.scaleY=M,e.filterBackend.applyFilters([f],Y,ze,qe,this._element,ae),this._filterScalingX=de.width/this._originalElement.width,this._filterScalingY=de.height/this._originalElement.height},applyFilters:function(f){if(f=f||this.filters||[],f=f.filter(function(Y){return Y&&!Y.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),f.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var g=this._originalElement,v=g.naturalWidth||g.width,A=g.naturalHeight||g.height;if(this._element===this._originalElement){var M=e.util.createCanvasElement();M.width=v,M.height=A,this._element=M,this._filteredEl=M}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,v,A),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(f,this._originalElement,v,A,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){e.util.setImageSmoothing(f,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){e.util.setImageSmoothing(f,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var g=this._element;if(g){var v=this._filterScalingX,A=this._filterScalingY,M=this.width,Y=this.height,de=Math.min,ae=Math.max,ze=ae(this.cropX,0),qe=ae(this.cropY,0),Ue=g.naturalWidth||g.width,hn=g.naturalHeight||g.height,On=ze*v,vn=qe*A,bn=de(M*v,Ue-On),wn=de(Y*A,hn-vn),Cn=-M/2,En=-Y/2,_n=de(M,Ue/v-ze),Bn=de(Y,hn/A-qe);g&&f.drawImage(g,On,vn,bn,wn,Cn,En,_n,Bn)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,g){this.setElement(e.util.getById(f),g),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,g){f&&f.length?e.util.enlivenObjects(f,function(v){g&&g(v)},"fabric.Image.filters"):g&&g()},_setWidthHeight:function(f){f||(f={});var g=this.getElement();this.width=f.width||g.naturalWidth||g.width||0,this.height=f.height||g.naturalHeight||g.height||0},parsePreserveAspectRatioAttribute:function(){var f=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),g=this._element.width,v=this._element.height,A=1,M=1,Y=0,de=0,ae=0,ze=0,qe,Ue=this.width,hn=this.height,On={width:Ue,height:hn};return f&&(f.alignX!=="none"||f.alignY!=="none")?(f.meetOrSlice==="meet"&&(A=M=e.util.findScaleToFit(this._element,On),qe=(Ue-g*A)/2,f.alignX==="Min"&&(Y=-qe),f.alignX==="Max"&&(Y=qe),qe=(hn-v*M)/2,f.alignY==="Min"&&(de=-qe),f.alignY==="Max"&&(de=qe)),f.meetOrSlice==="slice"&&(A=M=e.util.findScaleToCover(this._element,On),qe=g-Ue/A,f.alignX==="Mid"&&(ae=qe/2),f.alignX==="Max"&&(ae=qe),qe=v-hn/M,f.alignY==="Mid"&&(ze=qe/2),f.alignY==="Max"&&(ze=qe),g=Ue/A,v=hn/M)):(A=Ue/g,M=hn/v),{width:g,height:v,scaleX:A,scaleY:M,offsetLeft:Y,offsetTop:de,cropX:ae,cropY:ze}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(f,g){var v=e.util.object.clone(f);e.util.loadImage(v.src,function(A,M){if(M){g&&g(null,!0);return}e.Image.prototype._initFilters.call(v,v.filters,function(Y){v.filters=Y||[],e.Image.prototype._initFilters.call(v,[v.resizeFilter],function(de){v.resizeFilter=de[0],e.util.enlivenObjectEnlivables(v,v,function(){var ae=new e.Image(A,v);g(ae,!1)})})})},null,v.crossOrigin)},e.Image.fromURL=function(f,g,v){e.util.loadImage(f,function(A,M){g&&g(new e.Image(A,v),M)},null,v&&v.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(f,g,v){var A=e.parseAttributes(f,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(A["xlink:href"],g,d(v?e.util.object.clone(v):{},A))}}(n),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var d=function(){},f=c.onComplete||d,g=c.onChange||d,v=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(A){v.rotate(A),g()},onComplete:function(){v.setCoords(),f()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(f,g){var v="precision "+g+` float;
void main(){}`,A=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(A,v),f.compileShader(A),!!f.getShaderParameter(A,f.COMPILE_STATUS)}e.isWebglSupported=function(f){if(e.isLikelyNode)return!1;f=f||e.WebglFilterBackend.prototype.tileSize;var g=document.createElement("canvas"),v=g.getContext("webgl")||g.getContext("experimental-webgl"),A=!1;if(v){e.maxTextureSize=v.getParameter(v.MAX_TEXTURE_SIZE),A=e.maxTextureSize>=f;for(var M=["highp","mediump","lowp"],Y=0;Y<3;Y++)if(c(v,M[Y])){e.webGlPrecision=M[Y];break}}return this.isSupported=A,A},e.WebglFilterBackend=d;function d(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}d.prototype={tileSize:2048,resources:{},setupGLContext:function(f,g){this.dispose(),this.createWebGLCanvas(f,g),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,g)},chooseFastestCopyGLTo2DMethod:function(f,g){var v=typeof window.performance<"u",A;try{new ImageData(1,1),A=!0}catch{A=!1}var M=typeof ArrayBuffer<"u",Y=typeof Uint8ClampedArray<"u";if(v&&A&&M&&Y){var de=e.util.createCanvasElement(),ae=new ArrayBuffer(f*g*4);if(e.forceGLPutImageData){this.imageBuffer=ae,this.copyGLTo2D=l;return}var ze={imageBuffer:ae,destinationWidth:f,destinationHeight:g,targetCanvas:de},qe,Ue,hn;de.width=f,de.height=g,qe=window.performance.now(),a.call(ze,this.gl,ze),Ue=window.performance.now()-qe,qe=window.performance.now(),l.call(ze,this.gl,ze),hn=window.performance.now()-qe,Ue>hn?(this.imageBuffer=ae,this.copyGLTo2D=l):this.copyGLTo2D=a}},createWebGLCanvas:function(f,g){var v=e.util.createCanvasElement();v.width=f,v.height=g;var A={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},M=v.getContext("webgl",A);M||(M=v.getContext("experimental-webgl",A)),M&&(M.clearColor(0,0,0,0),this.canvas=v,this.gl=M)},applyFilters:function(f,g,v,A,M,Y){var de=this.gl,ae;Y&&(ae=this.getCachedTexture(Y,g));var ze={originalWidth:g.width||g.originalWidth,originalHeight:g.height||g.originalHeight,sourceWidth:v,sourceHeight:A,destinationWidth:v,destinationHeight:A,context:de,sourceTexture:this.createTexture(de,v,A,!ae&&g),targetTexture:this.createTexture(de,v,A),originalTexture:ae||this.createTexture(de,v,A,!ae&&g),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:M},qe=de.createFramebuffer();return de.bindFramebuffer(de.FRAMEBUFFER,qe),f.forEach(function(Ue){Ue&&Ue.applyTo(ze)}),s(ze),this.copyGLTo2D(de,ze),de.bindTexture(de.TEXTURE_2D,null),de.deleteTexture(ze.sourceTexture),de.deleteTexture(ze.targetTexture),de.deleteFramebuffer(qe),M.getContext("2d").setTransform(1,0,0,1,0,0),ze},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,g,v,A,M){var Y=f.createTexture();return f.bindTexture(f.TEXTURE_2D,Y),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,M||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,M||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),A?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,A):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,g,v,0,f.RGBA,f.UNSIGNED_BYTE,null),Y},getCachedTexture:function(f,g){if(this.textureCache[f])return this.textureCache[f];var v=this.createTexture(this.gl,g.width,g.height,g);return this.textureCache[f]=v,v},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,g={renderer:"",vendor:""};if(!f)return g;var v=f.getExtension("WEBGL_debug_renderer_info");if(v){var A=f.getParameter(v.UNMASKED_RENDERER_WEBGL),M=f.getParameter(v.UNMASKED_VENDOR_WEBGL);A&&(g.renderer=A.toLowerCase()),M&&(g.vendor=M.toLowerCase())}return this.gpuInfo=g,g}}}();function s(c){var d=c.targetCanvas,f=d.width,g=d.height,v=c.destinationWidth,A=c.destinationHeight;(f!==v||g!==A)&&(d.width=v,d.height=A)}function a(c,d){var f=c.canvas,g=d.targetCanvas,v=g.getContext("2d");v.translate(0,g.height),v.scale(1,-1);var A=f.height-g.height;v.drawImage(f,0,A,g.width,g.height,0,0,g.width,g.height)}function l(c,d){var f=d.targetCanvas,g=f.getContext("2d"),v=d.destinationWidth,A=d.destinationHeight,M=v*A*4,Y=new Uint8Array(this.imageBuffer,0,M),de=new Uint8ClampedArray(this.imageBuffer,0,M);c.readPixels(0,0,v,A,c.RGBA,c.UNSIGNED_BYTE,Y);var ae=new ImageData(de,v,A);g.putImageData(ae,0,0)}(function(){var c=function(){};e.Canvas2dFilterBackend=d;function d(){}d.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(f,g,v,A,M){var Y=M.getContext("2d");Y.drawImage(g,0,0,v,A);var de=Y.getImageData(0,0,v,A),ae=Y.getImageData(0,0,v,A),ze={sourceWidth:v,sourceHeight:A,imageData:de,originalEl:g,originalImageData:ae,canvasEl:M,ctx:Y,filterBackend:this};return f.forEach(function(qe){qe.applyTo(ze)}),(ze.imageData.width!==v||ze.imageData.height!==A)&&(M.width=ze.imageData.width,M.height=ze.imageData.height),Y.putImageData(ze.imageData,0,0),ze}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var d in c)this[d]=c[d]},createProgram:function(c,d,f){d=d||this.fragmentSource,f=f||this.vertexSource,e.webGlPrecision!=="highp"&&(d=d.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var g=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(g,f),c.compileShader(g),!c.getShaderParameter(g,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(g));var v=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(v,d),c.compileShader(v),!c.getShaderParameter(v,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(v));var A=c.createProgram();if(c.attachShader(A,g),c.attachShader(A,v),c.linkProgram(A),!c.getProgramParameter(A,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(A));var M=this.getAttributeLocations(c,A),Y=this.getUniformLocations(c,A)||{};return Y.uStepW=c.getUniformLocation(A,"uStepW"),Y.uStepH=c.getUniformLocation(A,"uStepH"),{program:A,attributeLocations:M,uniformLocations:Y}},getAttributeLocations:function(c,d){return{aPosition:c.getAttribLocation(d,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,d,f){var g=d.aPosition,v=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,v),c.enableVertexAttribArray(g),c.vertexAttribPointer(g,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,f,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var d=c.context,f,g;c.passes>1?(f=c.destinationWidth,g=c.destinationHeight,(c.sourceWidth!==f||c.sourceHeight!==g)&&(d.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(d,f,g)),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,c.targetTexture,0)):(d.bindFramebuffer(d.FRAMEBUFFER,null),d.finish())},_swapTextures:function(c){c.passes--,c.pass++;var d=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=d},isNeutralState:function(){var c=this.mainParameter,d=e.Image.filters[this.type].prototype;if(c)if(Array.isArray(d[c])){for(var f=d[c].length;f--;)if(this[c][f]!==d[c][f])return!1;return!0}else return d[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var d=c.context,f=this.retrieveShader(c);c.pass===0&&c.originalTexture?d.bindTexture(d.TEXTURE_2D,c.originalTexture):d.bindTexture(d.TEXTURE_2D,c.sourceTexture),d.useProgram(f.program),this.sendAttributeData(d,f.attributeLocations,c.aPosition),d.uniform1f(f.uniformLocations.uStepW,1/c.sourceWidth),d.uniform1f(f.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(d,f.uniformLocations),d.viewport(0,0,c.destinationWidth,c.destinationHeight),d.drawArrays(d.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,d,f){c.activeTexture(f),c.bindTexture(c.TEXTURE_2D,d),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,d){c.activeTexture(d),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var d=document.createElement("canvas");d.width=c.sourceWidth,d.height=c.sourceHeight,c.helpLayer=d}},toObject:function(){var c={type:this.type},d=this.mainParameter;return d&&(c[d]=this[d]),c},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(c,d){var f=new e.Image.filters[c.type](c);return d&&d(f),f},function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.ColorMatrix=g(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(v){this.callSuper("initialize",v),this.matrix=this.matrix.slice(0)},applyTo2d:function(v){var A=v.imageData,M=A.data,Y=M.length,de=this.matrix,ae,ze,qe,Ue,hn,On=this.colorsOnly;for(hn=0;hn<Y;hn+=4)ae=M[hn],ze=M[hn+1],qe=M[hn+2],On?(M[hn]=ae*de[0]+ze*de[1]+qe*de[2]+de[4]*255,M[hn+1]=ae*de[5]+ze*de[6]+qe*de[7]+de[9]*255,M[hn+2]=ae*de[10]+ze*de[11]+qe*de[12]+de[14]*255):(Ue=M[hn+3],M[hn]=ae*de[0]+ze*de[1]+qe*de[2]+Ue*de[3]+de[4]*255,M[hn+1]=ae*de[5]+ze*de[6]+qe*de[7]+Ue*de[8]+de[9]*255,M[hn+2]=ae*de[10]+ze*de[11]+qe*de[12]+Ue*de[13]+de[14]*255,M[hn+3]=ae*de[15]+ze*de[16]+qe*de[17]+Ue*de[18]+de[19]*255)},getUniformLocations:function(v,A){return{uColorMatrix:v.getUniformLocation(A,"uColorMatrix"),uConstants:v.getUniformLocation(A,"uConstants")}},sendUniformData:function(v,A){var M=this.matrix,Y=[M[0],M[1],M[2],M[3],M[5],M[6],M[7],M[8],M[10],M[11],M[12],M[13],M[15],M[16],M[17],M[18]],de=[M[4],M[9],M[14],M[19]];v.uniformMatrix4fv(A.uColorMatrix,!1,Y),v.uniform4fv(A.uConstants,de)}}),d.Image.filters.ColorMatrix.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Brightness=g(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(v){if(this.brightness!==0){var A=v.imageData,M=A.data,Y,de=M.length,ae=Math.round(this.brightness*255);for(Y=0;Y<de;Y+=4)M[Y]=M[Y]+ae,M[Y+1]=M[Y+1]+ae,M[Y+2]=M[Y+2]+ae}},getUniformLocations:function(v,A){return{uBrightness:v.getUniformLocation(A,"uBrightness")}},sendUniformData:function(v,A){v.uniform1f(A.uBrightness,this.brightness)}}),d.Image.filters.Brightness.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.Image.filters,v=d.util.createClass;g.Convolute=v(g.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(A){var M=Math.sqrt(this.matrix.length),Y=this.type+"_"+M+"_"+(this.opaque?1:0),de=this.fragmentSource[Y];return A.programCache.hasOwnProperty(Y)||(A.programCache[Y]=this.createProgram(A.context,de)),A.programCache[Y]},applyTo2d:function(A){var M=A.imageData,Y=M.data,de=this.matrix,ae=Math.round(Math.sqrt(de.length)),ze=Math.floor(ae/2),qe=M.width,Ue=M.height,hn=A.ctx.createImageData(qe,Ue),On=hn.data,vn=this.opaque?1:0,bn,wn,Cn,En,_n,Bn,jn,Un,Rn,Wn,$n,Xn,xn;for($n=0;$n<Ue;$n++)for(Wn=0;Wn<qe;Wn++){for(_n=($n*qe+Wn)*4,bn=0,wn=0,Cn=0,En=0,xn=0;xn<ae;xn++)for(Xn=0;Xn<ae;Xn++)jn=$n+xn-ze,Bn=Wn+Xn-ze,!(jn<0||jn>=Ue||Bn<0||Bn>=qe)&&(Un=(jn*qe+Bn)*4,Rn=de[xn*ae+Xn],bn+=Y[Un]*Rn,wn+=Y[Un+1]*Rn,Cn+=Y[Un+2]*Rn,vn||(En+=Y[Un+3]*Rn));On[_n]=bn,On[_n+1]=wn,On[_n+2]=Cn,vn?On[_n+3]=Y[_n+3]:On[_n+3]=En}A.imageData=hn},getUniformLocations:function(A,M){return{uMatrix:A.getUniformLocation(M,"uMatrix"),uOpaque:A.getUniformLocation(M,"uOpaque"),uHalfSize:A.getUniformLocation(M,"uHalfSize"),uSize:A.getUniformLocation(M,"uSize")}},sendUniformData:function(A,M){A.uniform1fv(M.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),d.Image.filters.Convolute.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Grayscale=g(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(v){var A=v.imageData,M=A.data,Y,de=M.length,ae,ze=this.mode;for(Y=0;Y<de;Y+=4)ze==="average"?ae=(M[Y]+M[Y+1]+M[Y+2])/3:ze==="lightness"?ae=(Math.min(M[Y],M[Y+1],M[Y+2])+Math.max(M[Y],M[Y+1],M[Y+2]))/2:ze==="luminosity"&&(ae=.21*M[Y]+.72*M[Y+1]+.07*M[Y+2]),M[Y]=ae,M[Y+1]=ae,M[Y+2]=ae},retrieveShader:function(v){var A=this.type+"_"+this.mode;if(!v.programCache.hasOwnProperty(A)){var M=this.fragmentSource[this.mode];v.programCache[A]=this.createProgram(v.context,M)}return v.programCache[A]},getUniformLocations:function(v,A){return{uMode:v.getUniformLocation(A,"uMode")}},sendUniformData:function(v,A){var M=1;v.uniform1i(A.uMode,M)},isNeutralState:function(){return!1}}),d.Image.filters.Grayscale.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Invert=g(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(v){var A=v.imageData,M=A.data,Y,de=M.length;for(Y=0;Y<de;Y+=4)M[Y]=255-M[Y],M[Y+1]=255-M[Y+1],M[Y+2]=255-M[Y+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(v,A){return{uInvert:v.getUniformLocation(A,"uInvert")}},sendUniformData:function(v,A){v.uniform1i(A.uInvert,this.invert)}}),d.Image.filters.Invert.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.Image.filters,v=d.util.createClass;g.Noise=v(g.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(A){if(this.noise!==0){var M=A.imageData,Y=M.data,de,ae=Y.length,ze=this.noise,qe;for(de=0,ae=Y.length;de<ae;de+=4)qe=(.5-Math.random())*ze,Y[de]+=qe,Y[de+1]+=qe,Y[de+2]+=qe}},getUniformLocations:function(A,M){return{uNoise:A.getUniformLocation(M,"uNoise"),uSeed:A.getUniformLocation(M,"uSeed")}},sendUniformData:function(A,M){A.uniform1f(M.uNoise,this.noise/255),A.uniform1f(M.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),d.Image.filters.Noise.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Pixelate=g(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(v){var A=v.imageData,M=A.data,Y=A.height,de=A.width,ae,ze,qe,Ue,hn,On,vn,bn,wn,Cn,En;for(ze=0;ze<Y;ze+=this.blocksize)for(qe=0;qe<de;qe+=this.blocksize)for(ae=ze*4*de+qe*4,Ue=M[ae],hn=M[ae+1],On=M[ae+2],vn=M[ae+3],Cn=Math.min(ze+this.blocksize,Y),En=Math.min(qe+this.blocksize,de),bn=ze;bn<Cn;bn++)for(wn=qe;wn<En;wn++)ae=bn*4*de+wn*4,M[ae]=Ue,M[ae+1]=hn,M[ae+2]=On,M[ae+3]=vn},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(v,A){return{uBlocksize:v.getUniformLocation(A,"uBlocksize"),uStepW:v.getUniformLocation(A,"uStepW"),uStepH:v.getUniformLocation(A,"uStepH")}},sendUniformData:function(v,A){v.uniform1f(A.uBlocksize,this.blocksize)}}),d.Image.filters.Pixelate.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.extend,g=d.Image.filters,v=d.util.createClass;g.RemoveColor=v(g.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(A){var M=A.imageData,Y=M.data,de,ae=this.distance*255,ze,qe,Ue,hn=new d.Color(this.color).getSource(),On=[hn[0]-ae,hn[1]-ae,hn[2]-ae],vn=[hn[0]+ae,hn[1]+ae,hn[2]+ae];for(de=0;de<Y.length;de+=4)ze=Y[de],qe=Y[de+1],Ue=Y[de+2],ze>On[0]&&qe>On[1]&&Ue>On[2]&&ze<vn[0]&&qe<vn[1]&&Ue<vn[2]&&(Y[de+3]=0)},getUniformLocations:function(A,M){return{uLow:A.getUniformLocation(M,"uLow"),uHigh:A.getUniformLocation(M,"uHigh")}},sendUniformData:function(A,M){var Y=new d.Color(this.color).getSource(),de=parseFloat(this.distance),ae=[0+Y[0]/255-de,0+Y[1]/255-de,0+Y[2]/255-de,1],ze=[Y[0]/255+de,Y[1]/255+de,Y[2]/255+de,1];A.uniform4fv(M.uLow,ae),A.uniform4fv(M.uHigh,ze)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),d.Image.filters.RemoveColor.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass,v={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var A in v)f[A]=g(f.ColorMatrix,{type:A,matrix:v[A],mainParameter:!1,colorsOnly:!0}),d.Image.filters[A].fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric,f=d.Image.filters,g=d.util.createClass;f.BlendColor=g(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(v){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[v]+`}
}`},retrieveShader:function(v){var A=this.type+"_"+this.mode,M;return v.programCache.hasOwnProperty(A)||(M=this.buildSource(this.mode),v.programCache[A]=this.createProgram(v.context,M)),v.programCache[A]},applyTo2d:function(v){var A=v.imageData,M=A.data,Y=M.length,de,ae,ze,qe,Ue,hn,On,vn=1-this.alpha;On=new d.Color(this.color).getSource(),de=On[0]*this.alpha,ae=On[1]*this.alpha,ze=On[2]*this.alpha;for(var bn=0;bn<Y;bn+=4)switch(qe=M[bn],Ue=M[bn+1],hn=M[bn+2],this.mode){case"multiply":M[bn]=qe*de/255,M[bn+1]=Ue*ae/255,M[bn+2]=hn*ze/255;break;case"screen":M[bn]=255-(255-qe)*(255-de)/255,M[bn+1]=255-(255-Ue)*(255-ae)/255,M[bn+2]=255-(255-hn)*(255-ze)/255;break;case"add":M[bn]=qe+de,M[bn+1]=Ue+ae,M[bn+2]=hn+ze;break;case"diff":case"difference":M[bn]=Math.abs(qe-de),M[bn+1]=Math.abs(Ue-ae),M[bn+2]=Math.abs(hn-ze);break;case"subtract":M[bn]=qe-de,M[bn+1]=Ue-ae,M[bn+2]=hn-ze;break;case"darken":M[bn]=Math.min(qe,de),M[bn+1]=Math.min(Ue,ae),M[bn+2]=Math.min(hn,ze);break;case"lighten":M[bn]=Math.max(qe,de),M[bn+1]=Math.max(Ue,ae),M[bn+2]=Math.max(hn,ze);break;case"overlay":M[bn]=de<128?2*qe*de/255:255-2*(255-qe)*(255-de)/255,M[bn+1]=ae<128?2*Ue*ae/255:255-2*(255-Ue)*(255-ae)/255,M[bn+2]=ze<128?2*hn*ze/255:255-2*(255-hn)*(255-ze)/255;break;case"exclusion":M[bn]=de+qe-2*de*qe/255,M[bn+1]=ae+Ue-2*ae*Ue/255,M[bn+2]=ze+hn-2*ze*hn/255;break;case"tint":M[bn]=de+qe*vn,M[bn+1]=ae+Ue*vn,M[bn+2]=ze+hn*vn}},getUniformLocations:function(v,A){return{uColor:v.getUniformLocation(A,"uColor")}},sendUniformData:function(v,A){var M=new d.Color(this.color).getSource();M[0]=this.alpha*M[0]/255,M[1]=this.alpha*M[1]/255,M[2]=this.alpha*M[2]/255,M[3]=this.alpha,v.uniform4fv(A.uColor,M)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),d.Image.filters.BlendColor.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric,f=d.Image.filters,g=d.util.createClass;f.BlendImage=g(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(v){var A=this.type+"_"+this.mode,M=this.fragmentSource[this.mode];return v.programCache.hasOwnProperty(A)||(v.programCache[A]=this.createProgram(v.context,M)),v.programCache[A]},applyToWebGL:function(v){var A=v.context,M=this.createTexture(v.filterBackend,this.image);this.bindAdditionalTexture(A,M,A.TEXTURE1),this.callSuper("applyToWebGL",v),this.unbindAdditionalTexture(A,A.TEXTURE1)},createTexture:function(v,A){return v.getCachedTexture(A.cacheKey,A._element)},calculateMatrix:function(){var v=this.image,A=v._element.width,M=v._element.height;return[1/v.scaleX,0,0,0,1/v.scaleY,0,-v.left/A,-v.top/M,1]},applyTo2d:function(v){var A=v.imageData,M=v.filterBackend.resources,Y=A.data,de=Y.length,ae=A.width,ze=A.height,qe,Ue,hn,On,vn,bn,wn,Cn,En,_n,Bn=this.image,jn;M.blendImage||(M.blendImage=d.util.createCanvasElement()),En=M.blendImage,_n=En.getContext("2d"),En.width!==ae||En.height!==ze?(En.width=ae,En.height=ze):_n.clearRect(0,0,ae,ze),_n.setTransform(Bn.scaleX,0,0,Bn.scaleY,Bn.left,Bn.top),_n.drawImage(Bn._element,0,0,ae,ze),jn=_n.getImageData(0,0,ae,ze).data;for(var Un=0;Un<de;Un+=4)switch(vn=Y[Un],bn=Y[Un+1],wn=Y[Un+2],Cn=Y[Un+3],qe=jn[Un],Ue=jn[Un+1],hn=jn[Un+2],On=jn[Un+3],this.mode){case"multiply":Y[Un]=vn*qe/255,Y[Un+1]=bn*Ue/255,Y[Un+2]=wn*hn/255,Y[Un+3]=Cn*On/255;break;case"mask":Y[Un+3]=On;break}},getUniformLocations:function(v,A){return{uTransformMatrix:v.getUniformLocation(A,"uTransformMatrix"),uImage:v.getUniformLocation(A,"uImage")}},sendUniformData:function(v,A){var M=this.calculateMatrix();v.uniform1i(A.uImage,1),v.uniformMatrix3fv(A.uTransformMatrix,!1,M)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),d.Image.filters.BlendImage.fromObject=function(v,A){d.Image.fromObject(v.image,function(M){var Y=d.util.object.clone(v);Y.image=M,A(new d.Image.filters.BlendImage(Y))})}}(n),function(c){var d=c.fabric||(c.fabric={}),f=Math.pow,g=Math.floor,v=Math.sqrt,A=Math.abs,M=Math.round,Y=Math.sin,de=Math.ceil,ae=d.Image.filters,ze=d.util.createClass;ae.Resize=ze(ae.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(qe,Ue){return{uDelta:qe.getUniformLocation(Ue,"uDelta"),uTaps:qe.getUniformLocation(Ue,"uTaps")}},sendUniformData:function(qe,Ue){qe.uniform2fv(Ue.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),qe.uniform1fv(Ue.uTaps,this.taps)},retrieveShader:function(qe){var Ue=this.getFilterWindow(),hn=this.type+"_"+Ue;if(!qe.programCache.hasOwnProperty(hn)){var On=this.generateShader(Ue);qe.programCache[hn]=this.createProgram(qe.context,On)}return qe.programCache[hn]},getFilterWindow:function(){var qe=this.tempScale;return Math.ceil(this.lanczosLobes/qe)},getTaps:function(){for(var qe=this.lanczosCreate(this.lanczosLobes),Ue=this.tempScale,hn=this.getFilterWindow(),On=new Array(hn),vn=1;vn<=hn;vn++)On[vn-1]=qe(vn*Ue);return On},generateShader:function(On){for(var Ue=new Array(On),hn=this.fragmentSourceTOP,On,vn=1;vn<=On;vn++)Ue[vn-1]=vn+".0 * uDelta";return hn+="uniform float uTaps["+On+`];
`,hn+=`void main() {
`,hn+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,hn+=`  float sum = 1.0;
`,Ue.forEach(function(bn,wn){hn+="  color += texture2D(uTexture, vTexCoord + "+bn+") * uTaps["+wn+`];
`,hn+="  color += texture2D(uTexture, vTexCoord - "+bn+") * uTaps["+wn+`];
`,hn+="  sum += 2.0 * uTaps["+wn+`];
`}),hn+=`  gl_FragColor = color / sum;
`,hn+="}",hn},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(qe){qe.webgl?(qe.passes++,this.width=qe.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=qe.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),qe.destinationWidth=this.dW,this._setupFrameBuffer(qe),this.applyToWebGL(qe),this._swapTextures(qe),qe.sourceWidth=qe.destinationWidth,this.height=qe.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),qe.destinationHeight=this.dH,this._setupFrameBuffer(qe),this.applyToWebGL(qe),this._swapTextures(qe),qe.sourceHeight=qe.destinationHeight):this.applyTo2d(qe)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(qe){return function(Ue){if(Ue>=qe||Ue<=-qe)return 0;if(Ue<11920929e-14&&Ue>-11920929e-14)return 1;Ue*=Math.PI;var hn=Ue/qe;return Y(Ue)/Ue*Y(hn)/hn}},applyTo2d:function(qe){var Ue=qe.imageData,hn=this.scaleX,On=this.scaleY;this.rcpScaleX=1/hn,this.rcpScaleY=1/On;var vn=Ue.width,bn=Ue.height,wn=M(vn*hn),Cn=M(bn*On),En;this.resizeType==="sliceHack"?En=this.sliceByTwo(qe,vn,bn,wn,Cn):this.resizeType==="hermite"?En=this.hermiteFastResize(qe,vn,bn,wn,Cn):this.resizeType==="bilinear"?En=this.bilinearFiltering(qe,vn,bn,wn,Cn):this.resizeType==="lanczos"&&(En=this.lanczosResize(qe,vn,bn,wn,Cn)),qe.imageData=En},sliceByTwo:function(qe,Ue,hn,On,vn){var bn=qe.imageData,wn=.5,Cn=!1,En=!1,_n=Ue*wn,Bn=hn*wn,jn=d.filterBackend.resources,Un,Rn,Wn=0,$n=0,Xn=Ue,xn=0;for(jn.sliceByTwo||(jn.sliceByTwo=document.createElement("canvas")),Un=jn.sliceByTwo,(Un.width<Ue*1.5||Un.height<hn)&&(Un.width=Ue*1.5,Un.height=hn),Rn=Un.getContext("2d"),Rn.clearRect(0,0,Ue*1.5,hn),Rn.putImageData(bn,0,0),On=g(On),vn=g(vn);!Cn||!En;)Ue=_n,hn=Bn,On<g(_n*wn)?_n=g(_n*wn):(_n=On,Cn=!0),vn<g(Bn*wn)?Bn=g(Bn*wn):(Bn=vn,En=!0),Rn.drawImage(Un,Wn,$n,Ue,hn,Xn,xn,_n,Bn),Wn=Xn,$n=xn,xn+=Bn;return Rn.getImageData(Wn,$n,On,vn)},lanczosResize:function(qe,Ue,hn,On,vn){function bn(Qn){var Nn,Hn,Dn,An,Ln,Yn,er,tr,Gn,ir,cr;for(xn.x=(Qn+.5)*Bn,Mn.x=g(xn.x),Nn=0;Nn<vn;Nn++){for(xn.y=(Nn+.5)*jn,Mn.y=g(xn.y),Ln=0,Yn=0,er=0,tr=0,Gn=0,Hn=Mn.x-Wn;Hn<=Mn.x+Wn;Hn++)if(!(Hn<0||Hn>=Ue)){ir=g(1e3*A(Hn-xn.x)),Xn[ir]||(Xn[ir]={});for(var Tn=Mn.y-$n;Tn<=Mn.y+$n;Tn++)Tn<0||Tn>=hn||(cr=g(1e3*A(Tn-xn.y)),Xn[ir][cr]||(Xn[ir][cr]=_n(v(f(ir*Un,2)+f(cr*Rn,2))/1e3)),Dn=Xn[ir][cr],Dn>0&&(An=(Tn*Ue+Hn)*4,Ln+=Dn,Yn+=Dn*wn[An],er+=Dn*wn[An+1],tr+=Dn*wn[An+2],Gn+=Dn*wn[An+3]))}An=(Nn*On+Qn)*4,En[An]=Yn/Ln,En[An+1]=er/Ln,En[An+2]=tr/Ln,En[An+3]=Gn/Ln}return++Qn<On?bn(Qn):Cn}var wn=qe.imageData.data,Cn=qe.ctx.createImageData(On,vn),En=Cn.data,_n=this.lanczosCreate(this.lanczosLobes),Bn=this.rcpScaleX,jn=this.rcpScaleY,Un=2/this.rcpScaleX,Rn=2/this.rcpScaleY,Wn=de(Bn*this.lanczosLobes/2),$n=de(jn*this.lanczosLobes/2),Xn={},xn={},Mn={};return bn(0)},bilinearFiltering:function(qe,Ue,hn,On,vn){var bn,wn,Cn,En,_n,Bn,jn,Un,Rn,Wn,$n,Xn,xn=0,Mn,Qn=this.rcpScaleX,Nn=this.rcpScaleY,Hn=4*(Ue-1),Dn=qe.imageData,An=Dn.data,Ln=qe.ctx.createImageData(On,vn),Yn=Ln.data;for(jn=0;jn<vn;jn++)for(Un=0;Un<On;Un++)for(_n=g(Qn*Un),Bn=g(Nn*jn),Rn=Qn*Un-_n,Wn=Nn*jn-Bn,Mn=4*(Bn*Ue+_n),$n=0;$n<4;$n++)bn=An[Mn+$n],wn=An[Mn+4+$n],Cn=An[Mn+Hn+$n],En=An[Mn+Hn+4+$n],Xn=bn*(1-Rn)*(1-Wn)+wn*Rn*(1-Wn)+Cn*Wn*(1-Rn)+En*Rn*Wn,Yn[xn++]=Xn;return Ln},hermiteFastResize:function(qe,Ue,hn,On,vn){for(var bn=this.rcpScaleX,wn=this.rcpScaleY,Cn=de(bn/2),En=de(wn/2),_n=qe.imageData,Bn=_n.data,jn=qe.ctx.createImageData(On,vn),Un=jn.data,Rn=0;Rn<vn;Rn++)for(var Wn=0;Wn<On;Wn++){for(var $n=(Wn+Rn*On)*4,Xn=0,xn=0,Mn=0,Qn=0,Nn=0,Hn=0,Dn=0,An=(Rn+.5)*wn,Ln=g(Rn*wn);Ln<(Rn+1)*wn;Ln++)for(var Yn=A(An-(Ln+.5))/En,er=(Wn+.5)*bn,tr=Yn*Yn,Gn=g(Wn*bn);Gn<(Wn+1)*bn;Gn++){var ir=A(er-(Gn+.5))/Cn,cr=v(tr+ir*ir);cr>1&&cr<-1||(Xn=2*cr*cr*cr-3*cr*cr+1,Xn>0&&(ir=4*(Gn+Ln*Ue),Dn+=Xn*Bn[ir+3],Mn+=Xn,Bn[ir+3]<255&&(Xn=Xn*Bn[ir+3]/250),Qn+=Xn*Bn[ir],Nn+=Xn*Bn[ir+1],Hn+=Xn*Bn[ir+2],xn+=Xn))}Un[$n]=Qn/xn,Un[$n+1]=Nn/xn,Un[$n+2]=Hn/xn,Un[$n+3]=Dn/Mn}return jn},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),d.Image.filters.Resize.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Contrast=g(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(v){if(this.contrast!==0){var A=v.imageData,M,de,Y=A.data,de=Y.length,ae=Math.floor(this.contrast*255),ze=259*(ae+255)/(255*(259-ae));for(M=0;M<de;M+=4)Y[M]=ze*(Y[M]-128)+128,Y[M+1]=ze*(Y[M+1]-128)+128,Y[M+2]=ze*(Y[M+2]-128)+128}},getUniformLocations:function(v,A){return{uContrast:v.getUniformLocation(A,"uContrast")}},sendUniformData:function(v,A){v.uniform1f(A.uContrast,this.contrast)}}),d.Image.filters.Contrast.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Saturation=g(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(v){if(this.saturation!==0){var A=v.imageData,M=A.data,Y=M.length,de=-this.saturation,ae,ze;for(ae=0;ae<Y;ae+=4)ze=Math.max(M[ae],M[ae+1],M[ae+2]),M[ae]+=ze!==M[ae]?(ze-M[ae])*de:0,M[ae+1]+=ze!==M[ae+1]?(ze-M[ae+1])*de:0,M[ae+2]+=ze!==M[ae+2]?(ze-M[ae+2])*de:0}},getUniformLocations:function(v,A){return{uSaturation:v.getUniformLocation(A,"uSaturation")}},sendUniformData:function(v,A){v.uniform1f(A.uSaturation,-this.saturation)}}),d.Image.filters.Saturation.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Vibrance=g(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(v){if(this.vibrance!==0){var A=v.imageData,M=A.data,Y=M.length,de=-this.vibrance,ae,ze,qe,Ue;for(ae=0;ae<Y;ae+=4)ze=Math.max(M[ae],M[ae+1],M[ae+2]),qe=(M[ae]+M[ae+1]+M[ae+2])/3,Ue=Math.abs(ze-qe)*2/255*de,M[ae]+=ze!==M[ae]?(ze-M[ae])*Ue:0,M[ae+1]+=ze!==M[ae+1]?(ze-M[ae+1])*Ue:0,M[ae+2]+=ze!==M[ae+2]?(ze-M[ae+2])*Ue:0}},getUniformLocations:function(v,A){return{uVibrance:v.getUniformLocation(A,"uVibrance")}},sendUniformData:function(v,A){v.uniform1f(A.uVibrance,-this.vibrance)}}),d.Image.filters.Vibrance.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Blur=g(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(v){v.webgl?(this.aspectRatio=v.sourceWidth/v.sourceHeight,v.passes++,this._setupFrameBuffer(v),this.horizontal=!0,this.applyToWebGL(v),this._swapTextures(v),this._setupFrameBuffer(v),this.horizontal=!1,this.applyToWebGL(v),this._swapTextures(v)):this.applyTo2d(v)},applyTo2d:function(v){v.imageData=this.simpleBlur(v)},simpleBlur:function(v){var A=v.filterBackend.resources,M,Y,de=v.imageData.width,ae=v.imageData.height;A.blurLayer1||(A.blurLayer1=d.util.createCanvasElement(),A.blurLayer2=d.util.createCanvasElement()),M=A.blurLayer1,Y=A.blurLayer2,(M.width!==de||M.height!==ae)&&(Y.width=M.width=de,Y.height=M.height=ae);var ze=M.getContext("2d"),qe=Y.getContext("2d"),Ue=15,hn,On,vn,bn,wn=this.blur*.06*.5;for(ze.putImageData(v.imageData,0,0),qe.clearRect(0,0,de,ae),bn=-Ue;bn<=Ue;bn++)hn=(Math.random()-.5)/4,On=bn/Ue,vn=wn*On*de+hn,qe.globalAlpha=1-Math.abs(On),qe.drawImage(M,vn,hn),ze.drawImage(Y,0,0),qe.globalAlpha=1,qe.clearRect(0,0,Y.width,Y.height);for(bn=-Ue;bn<=Ue;bn++)hn=(Math.random()-.5)/4,On=bn/Ue,vn=wn*On*ae+hn,qe.globalAlpha=1-Math.abs(On),qe.drawImage(M,hn,vn),ze.drawImage(Y,0,0),qe.globalAlpha=1,qe.clearRect(0,0,Y.width,Y.height);v.ctx.drawImage(M,0,0);var Cn=v.ctx.getImageData(0,0,M.width,M.height);return ze.globalAlpha=1,ze.clearRect(0,0,M.width,M.height),Cn},getUniformLocations:function(v,A){return{delta:v.getUniformLocation(A,"uDelta")}},sendUniformData:function(v,A){var M=this.chooseRightDelta();v.uniform2fv(A.delta,M)},chooseRightDelta:function(){var v=1,A=[0,0],M;return this.horizontal?this.aspectRatio>1&&(v=1/this.aspectRatio):this.aspectRatio<1&&(v=this.aspectRatio),M=v*this.blur*.12,this.horizontal?A[0]=M:A[1]=M,A}}),f.Blur.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Gamma=g(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(v){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,v)},applyTo2d:function(v){var A=v.imageData,M=A.data,Y=this.gamma,de=M.length,ae=1/Y[0],ze=1/Y[1],qe=1/Y[2],Ue;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),Ue=0,de=256;Ue<de;Ue++)this.rVals[Ue]=Math.pow(Ue/255,ae)*255,this.gVals[Ue]=Math.pow(Ue/255,ze)*255,this.bVals[Ue]=Math.pow(Ue/255,qe)*255;for(Ue=0,de=M.length;Ue<de;Ue+=4)M[Ue]=this.rVals[M[Ue]],M[Ue+1]=this.gVals[M[Ue+1]],M[Ue+2]=this.bVals[M[Ue+2]]},getUniformLocations:function(v,A){return{uGamma:v.getUniformLocation(A,"uGamma")}},sendUniformData:function(v,A){v.uniform3fv(A.uGamma,this.gamma)}}),d.Image.filters.Gamma.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.Composed=g(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(v){this.callSuper("initialize",v),this.subFilters=this.subFilters.slice(0)},applyTo:function(v){v.passes+=this.subFilters.length-1,this.subFilters.forEach(function(A){A.applyTo(v)})},toObject:function(){return d.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(v){return v.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(v){return!v.isNeutralState()})}}),d.Image.filters.Composed.fromObject=function(v,A){var M=v.subFilters||[],Y=M.map(function(ae){return new d.Image.filters[ae.type](ae)}),de=new d.Image.filters.Composed({subFilters:Y});return A&&A(de),de}}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.Image.filters,g=d.util.createClass;f.HueRotation=g(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var v=this.rotation*Math.PI,A=d.util.cos(v),M=d.util.sin(v),Y=1/3,de=Math.sqrt(Y)*M,ae=1-A;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=A+ae/3,this.matrix[1]=Y*ae-de,this.matrix[2]=Y*ae+de,this.matrix[5]=Y*ae+de,this.matrix[6]=A+Y*ae,this.matrix[7]=Y*ae-de,this.matrix[10]=Y*ae-de,this.matrix[11]=Y*ae+de,this.matrix[12]=A+Y*ae},isNeutralState:function(v){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,v)},applyTo:function(v){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,v)}}),d.Image.filters.HueRotation.fromObject=d.Image.filters.BaseFilter.fromObject}(n),function(c){var d=c.fabric||(c.fabric={}),f=d.util.object.clone;if(d.Text){d.warn("fabric.Text is already defined");return}var g="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");d.Text=d.util.createClass(d.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:d.Object.prototype.stateProperties.concat(g),cacheProperties:d.Object.prototype.cacheProperties.concat(g),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(v,A){this.styles=A?A.styles||{}:{},this.text=v,this.__skipDimension=!0,this.callSuper("initialize",A),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var v=this.path;v&&(v.segmentsInfo=d.util.getPathSegmentsInfo(v.path))},getMeasuringContext:function(){return d._measuringContext||(d._measuringContext=this.canvas&&this.canvas.contextCache||d.util.createCanvasElement().getContext("2d")),d._measuringContext},_splitText:function(){var v=this._splitTextIntoLines(this.text);return this.textLines=v.lines,this._textLines=v.graphemeLines,this._unwrappedTextLines=v._unwrappedLines,this._text=v.graphemeText,v},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var v,A,M,Y,de,ae,ze,qe=0,Ue=this._textLines.length;qe<Ue;qe++)if(!(this.textAlign!=="justify"&&(qe===Ue-1||this.isEndOfWrapping(qe)))&&(Y=0,de=this._textLines[qe],A=this.getLineWidth(qe),A<this.width&&(ze=this.textLines[qe].match(this._reSpacesAndTabs)))){M=ze.length,v=(this.width-A)/M;for(var hn=0,On=de.length;hn<=On;hn++)ae=this.__charBounds[qe][hn],this._reSpaceAndTab.test(de[hn])?(ae.width+=v,ae.kernedWidth+=v,ae.left+=Y,Y+=v):ae.left+=Y}},isEndOfWrapping:function(v){return v===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var v=this.callSuper("_getCacheCanvasDimensions"),A=this.fontSize;return v.width+=A*v.zoomX,v.height+=A*v.zoomY,v},_render:function(v){var A=this.path;A&&!A.isNotVisible()&&A._render(v),this._setTextStyles(v),this._renderTextLinesBackground(v),this._renderTextDecoration(v,"underline"),this._renderText(v),this._renderTextDecoration(v,"overline"),this._renderTextDecoration(v,"linethrough")},_renderText:function(v){this.paintFirst==="stroke"?(this._renderTextStroke(v),this._renderTextFill(v)):(this._renderTextFill(v),this._renderTextStroke(v))},_setTextStyles:function(v,A,M){if(v.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":v.textBaseline="middle";break;case"ascender":v.textBaseline="top";break;case"descender":v.textBaseline="bottom";break}v.font=this._getFontDeclaration(A,M)},calcTextWidth:function(){for(var v=this.getLineWidth(0),A=1,M=this._textLines.length;A<M;A++){var Y=this.getLineWidth(A);Y>v&&(v=Y)}return v},_renderTextLine:function(v,A,M,Y,de,ae){this._renderChars(v,A,M,Y,de,ae)},_renderTextLinesBackground:function(v){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var A,M,Y=v.fillStyle,de,ae,ze=this._getLeftOffset(),qe=this._getTopOffset(),Ue=0,hn=0,On,vn,bn=this.path,wn,Cn=0,En=this._textLines.length;Cn<En;Cn++){if(A=this.getHeightOfLine(Cn),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Cn)){qe+=A;continue}de=this._textLines[Cn],M=this._getLineLeftOffset(Cn),hn=0,Ue=0,ae=this.getValueOfPropertyAt(Cn,0,"textBackgroundColor");for(var _n=0,Bn=de.length;_n<Bn;_n++)On=this.__charBounds[Cn][_n],vn=this.getValueOfPropertyAt(Cn,_n,"textBackgroundColor"),bn?(v.save(),v.translate(On.renderLeft,On.renderTop),v.rotate(On.angle),v.fillStyle=vn,vn&&v.fillRect(-On.width/2,-A/this.lineHeight*(1-this._fontSizeFraction),On.width,A/this.lineHeight),v.restore()):vn!==ae?(wn=ze+M+Ue,this.direction==="rtl"&&(wn=this.width-wn-hn),v.fillStyle=ae,ae&&v.fillRect(wn,qe,hn,A/this.lineHeight),Ue=On.left,hn=On.width,ae=vn):hn+=On.kernedWidth;vn&&!bn&&(wn=ze+M+Ue,this.direction==="rtl"&&(wn=this.width-wn-hn),v.fillStyle=vn,v.fillRect(wn,qe,hn,A/this.lineHeight)),qe+=A}v.fillStyle=Y,this._removeShadow(v)}},getFontCache:function(v){var A=v.fontFamily.toLowerCase();d.charWidthsCache[A]||(d.charWidthsCache[A]={});var M=d.charWidthsCache[A],Y=v.fontStyle.toLowerCase()+"_"+(v.fontWeight+"").toLowerCase();return M[Y]||(M[Y]={}),M[Y]},_measureChar:function(v,A,M,Y){var de=this.getFontCache(A),ae=this._getFontDeclaration(A),ze=this._getFontDeclaration(Y),qe=M+v,Ue=ae===ze,hn,On,vn,bn=A.fontSize/this.CACHE_FONT_SIZE,wn;if(M&&de[M]!==void 0&&(vn=de[M]),de[v]!==void 0&&(wn=hn=de[v]),Ue&&de[qe]!==void 0&&(On=de[qe],wn=On-vn),hn===void 0||vn===void 0||On===void 0){var Cn=this.getMeasuringContext();this._setTextStyles(Cn,A,!0)}return hn===void 0&&(wn=hn=Cn.measureText(v).width,de[v]=hn),vn===void 0&&Ue&&M&&(vn=Cn.measureText(M).width,de[M]=vn),Ue&&On===void 0&&(On=Cn.measureText(qe).width,de[qe]=On,wn=On-vn),{width:hn*bn,kernedWidth:wn*bn}},getHeightOfChar:function(v,A){return this.getValueOfPropertyAt(v,A,"fontSize")},measureLine:function(v){var A=this._measureLine(v);return this.charSpacing!==0&&(A.width-=this._getWidthOfCharSpacing()),A.width<0&&(A.width=0),A},_measureLine:function(v){var A=0,M,Y,de=this._textLines[v],ae,ze,qe=0,Ue=new Array(de.length),hn=0,On,vn,bn=this.path,wn=this.pathSide==="right";for(this.__charBounds[v]=Ue,M=0;M<de.length;M++)Y=de[M],ze=this._getGraphemeBox(Y,v,M,ae),Ue[M]=ze,A+=ze.kernedWidth,ae=Y;if(Ue[M]={left:ze?ze.left+ze.width:0,width:0,kernedWidth:0,height:this.fontSize},bn){switch(vn=bn.segmentsInfo[bn.segmentsInfo.length-1].length,On=d.util.getPointOnPath(bn.path,0,bn.segmentsInfo),On.x+=bn.pathOffset.x,On.y+=bn.pathOffset.y,this.textAlign){case"left":hn=wn?vn-A:0;break;case"center":hn=(vn-A)/2;break;case"right":hn=wn?0:vn-A;break}for(hn+=this.pathStartOffset*(wn?-1:1),M=wn?de.length-1:0;wn?M>=0:M<de.length;wn?M--:M++)ze=Ue[M],hn>vn?hn%=vn:hn<0&&(hn+=vn),this._setGraphemeOnPath(hn,ze,On),hn+=ze.kernedWidth}return{width:A,numOfSpaces:qe}},_setGraphemeOnPath:function(v,A,M){var Y=v+A.kernedWidth/2,de=this.path,ae=d.util.getPointOnPath(de.path,Y,de.segmentsInfo);A.renderLeft=ae.x-M.x,A.renderTop=ae.y-M.y,A.angle=ae.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(v,A,M,Y,de){var ae=this.getCompleteStyleDeclaration(A,M),ze=Y?this.getCompleteStyleDeclaration(A,M-1):{},qe=this._measureChar(v,ae,Y,ze),Ue=qe.kernedWidth,hn=qe.width,On;this.charSpacing!==0&&(On=this._getWidthOfCharSpacing(),hn+=On,Ue+=On);var vn={width:hn,left:0,height:ae.fontSize,kernedWidth:Ue,deltaY:ae.deltaY};if(M>0&&!de){var bn=this.__charBounds[A][M-1];vn.left=bn.left+bn.width+qe.kernedWidth-qe.width}return vn},getHeightOfLine:function(v){if(this.__lineHeights[v])return this.__lineHeights[v];for(var A=this._textLines[v],M=this.getHeightOfChar(v,0),Y=1,de=A.length;Y<de;Y++)M=Math.max(this.getHeightOfChar(v,Y),M);return this.__lineHeights[v]=M*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var v,A=0,M=0,Y=this._textLines.length;M<Y;M++)v=this.getHeightOfLine(M),A+=M===Y-1?v/this.lineHeight:v;return A},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(v,A){v.save();for(var M=0,Y=this._getLeftOffset(),de=this._getTopOffset(),ae=0,ze=this._textLines.length;ae<ze;ae++){var qe=this.getHeightOfLine(ae),Ue=qe/this.lineHeight,hn=this._getLineLeftOffset(ae);this._renderTextLine(A,v,this._textLines[ae],Y+hn,de+M+Ue,ae),M+=qe}v.restore()},_renderTextFill:function(v){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(v,"fillText")},_renderTextStroke:function(v){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(v),v.save(),this._setLineDash(v,this.strokeDashArray),v.beginPath(),this._renderTextCommon(v,"strokeText"),v.closePath(),v.restore())},_renderChars:function(v,A,M,Y,de,ae){var ze=this.getHeightOfLine(ae),qe=this.textAlign.indexOf("justify")!==-1,Ue,hn,On="",vn,bn=0,wn,Cn=this.path,En=!qe&&this.charSpacing===0&&this.isEmptyStyles(ae)&&!Cn,_n=this.direction==="ltr",Bn=this.direction==="ltr"?1:-1,jn,Un=A.canvas.getAttribute("dir");if(A.save(),Un!==this.direction&&(A.canvas.setAttribute("dir",_n?"ltr":"rtl"),A.direction=_n?"ltr":"rtl",A.textAlign=_n?"left":"right"),de-=ze*this._fontSizeFraction/this.lineHeight,En){this._renderChar(v,A,ae,0,M.join(""),Y,de,ze),A.restore();return}for(var Rn=0,Wn=M.length-1;Rn<=Wn;Rn++)wn=Rn===Wn||this.charSpacing||Cn,On+=M[Rn],vn=this.__charBounds[ae][Rn],bn===0?(Y+=Bn*(vn.kernedWidth-vn.width),bn+=vn.width):bn+=vn.kernedWidth,qe&&!wn&&this._reSpaceAndTab.test(M[Rn])&&(wn=!0),wn||(Ue=Ue||this.getCompleteStyleDeclaration(ae,Rn),hn=this.getCompleteStyleDeclaration(ae,Rn+1),wn=d.util.hasStyleChanged(Ue,hn,!1)),wn&&(Cn?(A.save(),A.translate(vn.renderLeft,vn.renderTop),A.rotate(vn.angle),this._renderChar(v,A,ae,Rn,On,-bn/2,0,ze),A.restore()):(jn=Y,this._renderChar(v,A,ae,Rn,On,jn,de,ze)),On="",Ue=hn,Y+=Bn*bn,bn=0);A.restore()},_applyPatternGradientTransformText:function(v){var A=d.util.createCanvasElement(),M,Y=this.width+this.strokeWidth,de=this.height+this.strokeWidth;return A.width=Y,A.height=de,M=A.getContext("2d"),M.beginPath(),M.moveTo(0,0),M.lineTo(Y,0),M.lineTo(Y,de),M.lineTo(0,de),M.closePath(),M.translate(Y/2,de/2),M.fillStyle=v.toLive(M),this._applyPatternGradientTransform(M,v),M.fill(),M.createPattern(A,"no-repeat")},handleFiller:function(v,A,M){var Y,de;return M.toLive?M.gradientUnits==="percentage"||M.gradientTransform||M.patternTransform?(Y=-this.width/2,de=-this.height/2,v.translate(Y,de),v[A]=this._applyPatternGradientTransformText(M),{offsetX:Y,offsetY:de}):(v[A]=M.toLive(v,this),this._applyPatternGradientTransform(v,M)):(v[A]=M,{offsetX:0,offsetY:0})},_setStrokeStyles:function(v,A){return v.lineWidth=A.strokeWidth,v.lineCap=this.strokeLineCap,v.lineDashOffset=this.strokeDashOffset,v.lineJoin=this.strokeLineJoin,v.miterLimit=this.strokeMiterLimit,this.handleFiller(v,"strokeStyle",A.stroke)},_setFillStyles:function(v,A){return this.handleFiller(v,"fillStyle",A.fill)},_renderChar:function(v,A,M,Y,de,ae,ze){var qe=this._getStyleDeclaration(M,Y),Ue=this.getCompleteStyleDeclaration(M,Y),hn=v==="fillText"&&Ue.fill,On=v==="strokeText"&&Ue.stroke&&Ue.strokeWidth,vn,bn;!On&&!hn||(A.save(),hn&&(vn=this._setFillStyles(A,Ue)),On&&(bn=this._setStrokeStyles(A,Ue)),A.font=this._getFontDeclaration(Ue),qe&&qe.textBackgroundColor&&this._removeShadow(A),qe&&qe.deltaY&&(ze+=qe.deltaY),hn&&A.fillText(de,ae-vn.offsetX,ze-vn.offsetY),On&&A.strokeText(de,ae-bn.offsetX,ze-bn.offsetY),A.restore())},setSuperscript:function(v,A){return this._setScript(v,A,this.superscript)},setSubscript:function(v,A){return this._setScript(v,A,this.subscript)},_setScript:function(v,A,M){var Y=this.get2DCursorLocation(v,!0),de=this.getValueOfPropertyAt(Y.lineIndex,Y.charIndex,"fontSize"),ae=this.getValueOfPropertyAt(Y.lineIndex,Y.charIndex,"deltaY"),ze={fontSize:de*M.size,deltaY:ae+de*M.baseline};return this.setSelectionStyles(ze,v,A),this},_getLineLeftOffset:function(v){var A=this.getLineWidth(v),M=this.width-A,Y=this.textAlign,de=this.direction,ze,ae=0,ze=this.isEndOfWrapping(v);return Y==="justify"||Y==="justify-center"&&!ze||Y==="justify-right"&&!ze||Y==="justify-left"&&!ze?0:(Y==="center"&&(ae=M/2),Y==="right"&&(ae=M),Y==="justify-center"&&(ae=M/2),Y==="justify-right"&&(ae=M),de==="rtl"&&(ae-=M),ae)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var v=this._forceClearCache;return v||(v=this.hasStateChanged("_dimensionAffectingProps")),v&&(this.dirty=!0,this._forceClearCache=!1),v},getLineWidth:function(v){if(this.__lineWidths[v]!==void 0)return this.__lineWidths[v];var A=this.measureLine(v),M=A.width;return this.__lineWidths[v]=M,M},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(v,A,M){var Y=this._getStyleDeclaration(v,A);return Y&&typeof Y[M]<"u"?Y[M]:this[M]},_renderTextDecoration:function(v,A){if(!(!this[A]&&!this.styleHas(A))){for(var M,Y,de,ae,ze,qe,Ue,hn,On=this._getLeftOffset(),vn=this._getTopOffset(),bn,wn,Cn,En,_n,Bn,jn,Un,Rn=this.path,Wn=this._getWidthOfCharSpacing(),$n=this.offsets[A],Xn=0,xn=this._textLines.length;Xn<xn;Xn++){if(M=this.getHeightOfLine(Xn),!this[A]&&!this.styleHas(A,Xn)){vn+=M;continue}Ue=this._textLines[Xn],Bn=M/this.lineHeight,ae=this._getLineLeftOffset(Xn),wn=0,Cn=0,hn=this.getValueOfPropertyAt(Xn,0,A),Un=this.getValueOfPropertyAt(Xn,0,"fill"),bn=vn+Bn*(1-this._fontSizeFraction),Y=this.getHeightOfChar(Xn,0),ze=this.getValueOfPropertyAt(Xn,0,"deltaY");for(var Mn=0,Qn=Ue.length;Mn<Qn;Mn++)if(En=this.__charBounds[Xn][Mn],_n=this.getValueOfPropertyAt(Xn,Mn,A),jn=this.getValueOfPropertyAt(Xn,Mn,"fill"),de=this.getHeightOfChar(Xn,Mn),qe=this.getValueOfPropertyAt(Xn,Mn,"deltaY"),Rn&&_n&&jn)v.save(),v.fillStyle=Un,v.translate(En.renderLeft,En.renderTop),v.rotate(En.angle),v.fillRect(-En.kernedWidth/2,$n*de+qe,En.kernedWidth,this.fontSize/15),v.restore();else if((_n!==hn||jn!==Un||de!==Y||qe!==ze)&&Cn>0){var Nn=On+ae+wn;this.direction==="rtl"&&(Nn=this.width-Nn-Cn),hn&&Un&&(v.fillStyle=Un,v.fillRect(Nn,bn+$n*Y+ze,Cn,this.fontSize/15)),wn=En.left,Cn=En.width,hn=_n,Un=jn,Y=de,ze=qe}else Cn+=En.kernedWidth;var Nn=On+ae+wn;this.direction==="rtl"&&(Nn=this.width-Nn-Cn),v.fillStyle=jn,_n&&jn&&v.fillRect(Nn,bn+$n*Y+ze,Cn-Wn,this.fontSize/15),vn+=M}this._removeShadow(v)}},_getFontDeclaration:function(v,A){var M=v||this,Y=this.fontFamily,de=d.Text.genericFonts.indexOf(Y.toLowerCase())>-1,ae=Y===void 0||Y.indexOf("'")>-1||Y.indexOf(",")>-1||Y.indexOf('"')>-1||de?M.fontFamily:'"'+M.fontFamily+'"';return[d.isLikelyNode?M.fontWeight:M.fontStyle,d.isLikelyNode?M.fontStyle:M.fontWeight,A?this.CACHE_FONT_SIZE+"px":M.fontSize+"px",ae].join(" ")},render:function(v){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",v)))},_splitTextIntoLines:function(v){for(var A=v.split(this._reNewline),M=new Array(A.length),Y=[`
`],de=[],ae=0;ae<A.length;ae++)M[ae]=d.util.string.graphemeSplit(A[ae]),de=de.concat(M[ae],Y);return de.pop(),{_unwrappedLines:M,lines:A,graphemeText:de,graphemeLines:M}},toObject:function(v){var A=g.concat(v),M=this.callSuper("toObject",A);return M.styles=d.util.stylesToArray(this.styles,this.text),M.path&&(M.path=this.path.toObject()),M},set:function(v,A){this.callSuper("set",v,A);var M=!1,Y=!1;if(typeof v=="object")for(var de in v)de==="path"&&this.setPathInfo(),M=M||this._dimensionAffectingProps.indexOf(de)!==-1,Y=Y||de==="path";else M=this._dimensionAffectingProps.indexOf(v)!==-1,Y=v==="path";return Y&&this.setPathInfo(),M&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),d.Text.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),d.Text.DEFAULT_SVG_FONT_SIZE=16,d.Text.fromElement=function(v,A,M){if(!v)return A(null);var Y=d.parseAttributes(v,d.Text.ATTRIBUTE_NAMES),de=Y.textAnchor||"left";if(M=d.util.object.extend(M?f(M):{},Y),M.top=M.top||0,M.left=M.left||0,Y.textDecoration){var ae=Y.textDecoration;ae.indexOf("underline")!==-1&&(M.underline=!0),ae.indexOf("overline")!==-1&&(M.overline=!0),ae.indexOf("line-through")!==-1&&(M.linethrough=!0),delete M.textDecoration}"dx"in Y&&(M.left+=Y.dx),"dy"in Y&&(M.top+=Y.dy),"fontSize"in M||(M.fontSize=d.Text.DEFAULT_SVG_FONT_SIZE);var ze="";"textContent"in v?ze=v.textContent:"firstChild"in v&&v.firstChild!==null&&"data"in v.firstChild&&v.firstChild.data!==null&&(ze=v.firstChild.data),ze=ze.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var qe=M.strokeWidth;M.strokeWidth=0;var Ue=new d.Text(ze,M),hn=Ue.getScaledHeight()/Ue.height,On=(Ue.height+Ue.strokeWidth)*Ue.lineHeight-Ue.height,vn=On*hn,bn=Ue.getScaledHeight()+vn,wn=0;de==="center"&&(wn=Ue.getScaledWidth()/2),de==="right"&&(wn=Ue.getScaledWidth()),Ue.set({left:Ue.left-wn,top:Ue.top-(bn-Ue.fontSize*(.07+Ue._fontSizeFraction))/Ue.lineHeight,strokeWidth:typeof qe<"u"?qe:1}),A(Ue)},d.Text.fromObject=function(v,A){var M=f(v),Y=v.path;return delete M.path,d.Object._fromObject("Text",M,function(de){de.styles=d.util.stylesFromArray(v.styles,v.text),Y?d.Object._fromObject("Path",Y,function(ae){de.set("path",ae),A(de)},"path"):A(de)},"text")},d.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],d.util.createAccessors&&d.util.createAccessors(d.Text)}(n),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var d=typeof c>"u"?this.styles:{line:this.styles[c]};for(var f in d)for(var g in d[f])for(var v in d[f][g])return!1;return!0},styleHas:function(c,d){if(!this.styles||!c||c===""||typeof d<"u"&&!this.styles[d])return!1;var f=typeof d>"u"?this.styles:{0:this.styles[d]};for(var g in f)for(var v in f[g])if(typeof f[g][v][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var d=this.styles,f=0,g,v,A=!0,M=0,Y;for(var de in d){g=0;for(var ae in d[de]){var Y=d[de][ae],ze=Y.hasOwnProperty(c);f++,ze?(v?Y[c]!==v&&(A=!1):v=Y[c],Y[c]===this[c]&&delete Y[c]):A=!1,Object.keys(Y).length!==0?g++:delete d[de][ae]}g===0&&delete d[de]}for(var qe=0;qe<this._textLines.length;qe++)M+=this._textLines[qe].length;A&&f===M&&(this[c]=v,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var d=this.styles,f,g,v;for(g in d){f=d[g];for(v in f)delete f[v][c],Object.keys(f[v]).length===0&&delete f[v];Object.keys(f).length===0&&delete d[g]}}},_extendStyles:function(c,d){var f=this.get2DCursorLocation(c);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),d)},get2DCursorLocation:function(c,d){typeof c>"u"&&(c=this.selectionStart);for(var f=d?this._unwrappedTextLines:this._textLines,g=f.length,v=0;v<g;v++){if(c<=f[v].length)return{lineIndex:v,charIndex:c};c-=f[v].length+this.missingNewlineOffset(v)}return{lineIndex:v-1,charIndex:f[v-1].length<c?f[v-1].length:c}},getSelectionStyles:function(c,d,f){typeof c>"u"&&(c=this.selectionStart||0),typeof d>"u"&&(d=this.selectionEnd||c);for(var g=[],v=c;v<d;v++)g.push(this.getStyleAtPosition(v,f));return g},getStyleAtPosition:function(c,d){var f=this.get2DCursorLocation(c),g=d?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex);return g||{}},setSelectionStyles:function(c,d,f){typeof d>"u"&&(d=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||d);for(var g=d;g<f;g++)this._extendStyles(g,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,d){var f=this.styles&&this.styles[c];return f?f[d]:null},getCompleteStyleDeclaration:function(c,d){for(var f=this._getStyleDeclaration(c,d)||{},g={},v,A=0;A<this._styleProperties.length;A++)v=this._styleProperties[A],g[v]=typeof f[v]>"u"?this[v]:f[v];return g},_setStyleDeclaration:function(c,d,f){this.styles[c][d]=f},_deleteStyleDeclaration:function(c,d){delete this.styles[c][d]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(d){d.textDecoration&&(d.textDecoration.indexOf("underline")>-1&&(d.underline=!0),d.textDecoration.indexOf("line-through")>-1&&(d.linethrough=!0),d.textDecoration.indexOf("overline")>-1&&(d.overline=!0),delete d.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(d,f){this.callSuper("initialize",d,f),this.initBehavior()},setSelectionStart:function(d){d=Math.max(d,0),this._updateAndFire("selectionStart",d)},setSelectionEnd:function(d){d=Math.min(d,this.text.length),this._updateAndFire("selectionEnd",d)},_updateAndFire:function(d,f){this[d]!==f&&(this._fireSelectionChanged(),this[d]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(d){this.clearContextTop(),this.callSuper("render",d),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(d){this.callSuper("_render",d)},clearContextTop:function(d){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this.canvas.contextTop,g=this.canvas.viewportTransform;f.save(),f.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this.transform(f),this._clearTextArea(f),d||f.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var d=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(d,f):this.renderSelection(d,f),f.restore()}},_clearTextArea:function(d){var f=this.width+4,g=this.height+4;d.clearRect(-f/2,-g/2,f,g)},_getCursorBoundaries:function(d){typeof d>"u"&&(d=this.selectionStart);var f=this._getLeftOffset(),g=this._getTopOffset(),v=this._getCursorBoundariesOffsets(d);return{left:f,top:g,leftOffset:v.left,topOffset:v.top}},_getCursorBoundariesOffsets:function(d){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,g,v,A=0,M=0,Y,de=this.get2DCursorLocation(d);v=de.charIndex,g=de.lineIndex;for(var ae=0;ae<g;ae++)A+=this.getHeightOfLine(ae);f=this._getLineLeftOffset(g);var ze=this.__charBounds[g][v];return ze&&(M=ze.left),this.charSpacing!==0&&v===this._textLines[g].length&&(M-=this._getWidthOfCharSpacing()),Y={top:A,left:f+(M>0?M:0)},this.direction==="rtl"&&(Y.left*=-1),this.cursorOffsetCache=Y,this.cursorOffsetCache},renderCursor:function(d,f){var g=this.get2DCursorLocation(),v=g.lineIndex,A=g.charIndex>0?g.charIndex-1:0,M=this.getValueOfPropertyAt(v,A,"fontSize"),Y=this.scaleX*this.canvas.getZoom(),de=this.cursorWidth/Y,ae=d.topOffset,ze=this.getValueOfPropertyAt(v,A,"deltaY");ae+=(1-this._fontSizeFraction)*this.getHeightOfLine(v)/this.lineHeight-M*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(d,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(v,A,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(d.left+d.leftOffset-de/2,ae+d.top+ze,de,M)},renderSelection:function(d,f){for(var g=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,v=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,A=this.textAlign.indexOf("justify")!==-1,M=this.get2DCursorLocation(g),Y=this.get2DCursorLocation(v),de=M.lineIndex,ae=Y.lineIndex,ze=M.charIndex<0?0:M.charIndex,qe=Y.charIndex<0?0:Y.charIndex,Ue=de;Ue<=ae;Ue++){var hn=this._getLineLeftOffset(Ue)||0,On=this.getHeightOfLine(Ue),vn=0,bn=0,wn=0;if(Ue===de&&(bn=this.__charBounds[de][ze].left),Ue>=de&&Ue<ae)wn=A&&!this.isEndOfWrapping(Ue)?this.width:this.getLineWidth(Ue)||5;else if(Ue===ae)if(qe===0)wn=this.__charBounds[ae][qe].left;else{var Cn=this._getWidthOfCharSpacing();wn=this.__charBounds[ae][qe-1].left+this.__charBounds[ae][qe-1].width-Cn}vn=On,(this.lineHeight<1||Ue===ae&&this.lineHeight>1)&&(On/=this.lineHeight);var En=d.left+hn+bn,_n=wn-bn,Bn=On,jn=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",Bn=1,jn=On):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(En=this.width-En-_n),f.fillRect(En,d.top+d.topOffset+jn,_n,Bn),d.topOffset+=vn}},getCurrentCharFontSize:function(){var d=this._getCurrentCharIndex();return this.getValueOfPropertyAt(d.l,d.c,"fontSize")},getCurrentCharColor:function(){var d=this._getCurrentCharIndex();return this.getValueOfPropertyAt(d.l,d.c,"fill")},_getCurrentCharIndex:function(){var d=this.get2DCursorLocation(this.selectionStart,!0),f=d.charIndex>0?d.charIndex-1:0;return{l:d.lineIndex,c:f}}}),e.IText.fromObject=function(d,f){var g=e.util.stylesFromArray(d.styles,d.text),v=Object.assign({},d,{styles:g});if(c(v),v.styles)for(var A in v.styles)for(var M in v.styles[A])c(v.styles[A][M]);e.Object._fromObject("IText",v,f,"text")}}(),function(){var c=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var d=this;this.on("added",function(){var f=d.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,d._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(d))})},initRemovedHandler:function(){var d=this;this.on("removed",function(){var f=d.canvas;f&&(f._iTextInstances=f._iTextInstances||[],e.util.removeFromArray(f._iTextInstances,d),f._iTextInstances.length===0&&(f._hasITextHandlers=!1,d._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(d){d._mouseUpITextHandler=function(){d._iTextInstances&&d._iTextInstances.forEach(function(f){f.__isMousedown=!1})},d.on("mouse:up",d._mouseUpITextHandler)},_removeCanvasHandlers:function(d){d.off("mouse:up",d._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(d,f,g,v){var A;return A={isAborted:!1,abort:function(){this.isAborted=!0}},d.animate("_currentCursorOpacity",f,{duration:g,onComplete:function(){A.isAborted||d[v]()},onChange:function(){d.canvas&&d.selectionStart===d.selectionEnd&&d.renderCursorOrSelection()},abort:function(){return A.isAborted}}),A},_onTickComplete:function(){var d=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){d._currentTickCompleteState=d._animateCursor(d,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(d){var f=this,g=d?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},g)},abortCursorAnimation:function(){var d=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,d&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(d){var f=0,g=d-1;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)f++,g--;for(;/\S/.test(this._text[g])&&g>-1;)f++,g--;return d-f},findWordBoundaryRight:function(d){var f=0,g=d;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)f++,g++;for(;/\S/.test(this._text[g])&&g<this._text.length;)f++,g++;return d+f},findLineBoundaryLeft:function(d){for(var f=0,g=d-1;!/\n/.test(this._text[g])&&g>-1;)f++,g--;return d-f},findLineBoundaryRight:function(d){for(var f=0,g=d;!/\n/.test(this._text[g])&&g<this._text.length;)f++,g++;return d+f},searchWordBoundary:function(d,f){for(var g=this._text,v=this._reSpace.test(g[d])?d-1:d,A=g[v],M=e.reNonWord;!M.test(A)&&v>0&&v<g.length;)v+=f,A=g[v];return M.test(A)&&(v+=f===1?0:1),v},selectWord:function(d){d=d||this.selectionStart;var f=this.searchWordBoundary(d,-1),g=this.searchWordBoundary(d,1);this.selectionStart=f,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(d){d=d||this.selectionStart;var f=this.findLineBoundaryLeft(d),g=this.findLineBoundaryRight(d);return this.selectionStart=f,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(d){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(d),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(d){d._iTextInstances&&d._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(d){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(d.e),g=this.selectionStart,v=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||g===v)&&(g===f||v===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==g||this.selectionEnd!==v)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(d,f,g){var v=g.slice(0,d),A=e.util.string.graphemeSplit(v).length;if(d===f)return{selectionStart:A,selectionEnd:A};var M=g.slice(d,f),Y=e.util.string.graphemeSplit(M).length;return{selectionStart:A,selectionEnd:A+Y}},fromGraphemeToStringSelection:function(d,f,g){var v=g.slice(0,d),A=v.join("").length;if(d===f)return{selectionStart:A,selectionEnd:A};var M=g.slice(d,f),Y=M.join("").length;return{selectionStart:A,selectionEnd:A+Y}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var d=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=d.selectionStart,this.hiddenTextarea.selectionEnd=d.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var d=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=d.selectionEnd,this.inCompositionMode||(this.selectionStart=d.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var d=this._calcTextareaPosition();this.hiddenTextarea.style.left=d.left,this.hiddenTextarea.style.top=d.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var d=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(d),g=this.get2DCursorLocation(d),v=g.lineIndex,A=g.charIndex,M=this.getValueOfPropertyAt(v,A,"fontSize")*this.lineHeight,Y=f.leftOffset,de=this.calcTransformMatrix(),ae={x:f.left+Y,y:f.top+f.topOffset+M},ze=this.canvas.getRetinaScaling(),qe=this.canvas.upperCanvasEl,Ue=qe.width/ze,hn=qe.height/ze,On=Ue-M,vn=hn-M,bn=qe.clientWidth/Ue,wn=qe.clientHeight/hn;return ae=e.util.transformPoint(ae,de),ae=e.util.transformPoint(ae,this.canvas.viewportTransform),ae.x*=bn,ae.y*=wn,ae.x<0&&(ae.x=0),ae.x>On&&(ae.x=On),ae.y<0&&(ae.y=0),ae.y>vn&&(ae.y=vn),ae.x+=this.canvas._offset.left,ae.y+=this.canvas._offset.top,{left:ae.x+"px",top:ae.y+"px",fontSize:M+"px",charHeight:M}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var d=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),d&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),d&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var d in this.styles)this._textLines[d]||delete this.styles[d]},removeStyleFromTo:function(d,f){var g=this.get2DCursorLocation(d,!0),v=this.get2DCursorLocation(f,!0),A=g.lineIndex,M=g.charIndex,Y=v.lineIndex,de=v.charIndex,ae,ze;if(A!==Y){if(this.styles[A])for(ae=M;ae<this._unwrappedTextLines[A].length;ae++)delete this.styles[A][ae];if(this.styles[Y])for(ae=de;ae<this._unwrappedTextLines[Y].length;ae++)ze=this.styles[Y][ae],ze&&(this.styles[A]||(this.styles[A]={}),this.styles[A][M+ae-de]=ze);for(ae=A+1;ae<=Y;ae++)delete this.styles[ae];this.shiftLineStyles(Y,A-Y)}else if(this.styles[A]){ze=this.styles[A];var qe=de-M,Ue,hn;for(ae=M;ae<de;ae++)delete ze[ae];for(hn in this.styles[A])Ue=parseInt(hn,10),Ue>=de&&(ze[Ue-qe]=ze[hn],delete ze[hn])}},shiftLineStyles:function(d,f){var g=c(this.styles);for(var v in this.styles){var A=parseInt(v,10);A>d&&(this.styles[A+f]=g[A],g[A-f]||delete this.styles[A])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(d,f,g,v){var A,M={},Y=!1,de=this._unwrappedTextLines[d].length===f;g||(g=1),this.shiftLineStyles(d,g),this.styles[d]&&(A=this.styles[d][f===0?f:f-1]);for(var ae in this.styles[d]){var ze=parseInt(ae,10);ze>=f&&(Y=!0,M[ze-f]=this.styles[d][ae],de&&f===0||delete this.styles[d][ae])}var qe=!1;for(Y&&!de&&(this.styles[d+g]=M,qe=!0),qe&&g--;g>0;)v&&v[g-1]?this.styles[d+g]={0:c(v[g-1])}:A?this.styles[d+g]={0:c(A)}:delete this.styles[d+g],g--;this._forceClearCache=!0},insertCharStyleObject:function(d,f,g,v){this.styles||(this.styles={});var A=this.styles[d],M=A?c(A):{};g||(g=1);for(var Y in M){var de=parseInt(Y,10);de>=f&&(A[de+g]=M[de],M[de-g]||delete A[de])}if(this._forceClearCache=!0,v){for(;g--;)Object.keys(v[g]).length&&(this.styles[d]||(this.styles[d]={}),this.styles[d][f+g]=c(v[g]));return}if(A)for(var ae=A[f?f-1:1];ae&&g--;)this.styles[d][f+g]=c(ae)},insertNewStyleBlock:function(d,f,g){for(var v=this.get2DCursorLocation(f,!0),A=[0],M=0,Y=0;Y<d.length;Y++)d[Y]===`
`?(M++,A[M]=0):A[M]++;A[0]>0&&(this.insertCharStyleObject(v.lineIndex,v.charIndex,A[0],g),g=g&&g.slice(A[0]+1)),M&&this.insertNewlineStyleObject(v.lineIndex,v.charIndex+A[0],M);for(var Y=1;Y<M;Y++)A[Y]>0?this.insertCharStyleObject(v.lineIndex+Y,0,A[Y],g):g&&this.styles[v.lineIndex+Y]&&g[0]&&(this.styles[v.lineIndex+Y][0]=g[0]),g=g&&g.slice(A[Y]+1);A[Y]>0&&this.insertCharStyleObject(v.lineIndex+Y,0,A[Y],g)},setSelectionStartEndWithShift:function(d,f,g){g<=d?(f===d?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=d),this.selectionStart=g):g>d&&g<f?this._selectionDirection==="right"?this.selectionEnd=g:this.selectionStart=g:(f===d?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=g)},setSelectionInBoundaries:function(){var d=this.text.length;this.selectionStart>d?this.selectionStart=d:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>d?this.selectionEnd=d:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var d=c.pointer;this.isTripleClick(d)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=d,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var d=this.canvas._activeObject;if(d&&d!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var d=this.getSelectionStartFromPointer(c),f=this.selectionStart,g=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(f,g,d):(this.selectionStart=d,this.selectionEnd=d),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var d=this.getLocalPointer(c),f=0,g=0,v=0,A=0,M=0,Y,de,ae=0,ze=this._textLines.length;ae<ze&&v<=d.y;ae++)v+=this.getHeightOfLine(ae)*this.scaleY,M=ae,ae>0&&(A+=this._textLines[ae-1].length+this.missingNewlineOffset(ae-1));Y=this._getLineLeftOffset(M),g=Y*this.scaleX,de=this._textLines[M],this.direction==="rtl"&&(d.x=this.width*this.scaleX-d.x+g);for(var qe=0,Ue=de.length;qe<Ue&&(f=g,g+=this.__charBounds[M][qe].kernedWidth*this.scaleX,g<=d.x);qe++)A++;return this._getNewSelectionStartFromOffset(d,f,g,A,Ue)},_getNewSelectionStartFromOffset:function(c,d,f,g,v){var A=c.x-d,M=f-c.x,Y=M>A||M<0?0:1,de=g+Y;return this.flipX&&(de=v-de),de>this._text.length&&(de=this._text.length),de}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var d=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in d)this[d[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var d=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,g=this._text.length,v=f.length,A,M,Y=v-g,de=this.selectionStart,ae=this.selectionEnd,ze=de!==ae,qe,Ue,hn;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var On=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),vn=de>On.selectionStart;ze?(A=this._text.slice(de,ae),Y+=ae-de):v<g&&(vn?A=this._text.slice(ae+Y,ae):A=this._text.slice(de,de-Y)),M=f.slice(On.selectionEnd-Y,On.selectionEnd),A&&A.length&&(M.length&&(qe=this.getSelectionStyles(de,de+1,!1),qe=M.map(function(){return qe[0]})),ze?(Ue=de,hn=ae):vn?(Ue=ae-A.length,hn=ae):(Ue=ae,hn=ae+A.length),this.removeStyleFromTo(Ue,hn)),M.length&&(d&&M.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(qe=e.copiedTextStyle),this.insertNewStyleBlock(M,de,qe)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(c,d){var f=this._getLineLeftOffset(c),g;return d>0&&(g=this.__charBounds[c][d-1],f+=g.left+g.width),f},getDownCursorOffset:function(c,d){var f=this._getSelectionForOffset(c,d),g=this.get2DCursorLocation(f),v=g.lineIndex;if(v===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-f;var A=g.charIndex,M=this._getWidthBeforeCursor(v,A),Y=this._getIndexOnLine(v+1,M),de=this._textLines[v].slice(A);return de.length+Y+1+this.missingNewlineOffset(v)},_getSelectionForOffset:function(c,d){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&d?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,d){var f=this._getSelectionForOffset(c,d),g=this.get2DCursorLocation(f),v=g.lineIndex;if(v===0||c.metaKey||c.keyCode===33)return-f;var A=g.charIndex,M=this._getWidthBeforeCursor(v,A),Y=this._getIndexOnLine(v-1,M),de=this._textLines[v].slice(0,A),ae=this.missingNewlineOffset(v-1);return-this._textLines[v-1].length+Y-de.length+(1-ae)},_getIndexOnLine:function(c,d){for(var f=this._textLines[c],g=this._getLineLeftOffset(c),v=g,A=0,M,Y,de=0,ae=f.length;de<ae;de++)if(M=this.__charBounds[c][de].width,v+=M,v>d){Y=!0;var ze=v-M,qe=v,Ue=Math.abs(ze-d),hn=Math.abs(qe-d);A=hn<Ue?de:de-1;break}return Y||(A=f.length-1),A},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,d){var f="get"+c+"CursorOffset",g=this[f](d,this._selectionDirection==="right");d.shiftKey?this.moveCursorWithShift(g):this.moveCursorWithoutShift(g),g!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var d=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,d),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,d,f){var g;if(c.altKey)g=this["findWordBoundary"+f](this[d]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)g=this["findLineBoundary"+f](this[d]);else return this[d]+=f==="Left"?-1:1,!0;if(typeof g<"u"&&this[d]!==g)return this[d]=g,!0},_moveLeft:function(c,d){return this._move(c,d,"Left")},_moveRight:function(c,d){return this._move(c,d,"Right")},moveCursorLeftWithoutShift:function(c){var d=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(d=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,d},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,d){var f="moveCursor"+c+"With";this._currentCursorOpacity=1,d.shiftKey?f+="Shift":f+="outShift",this[f](d)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var d=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(d=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,d},removeChars:function(c,d){typeof d>"u"&&(d=c+1),this.removeStyleFromTo(c,d),this._text.splice(c,d-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,d,f,g){typeof g>"u"&&(g=f),g>f&&this.removeStyleFromTo(f,g);var v=e.util.string.graphemeSplit(c);this.insertNewStyleBlock(v,f,d),this._text=[].concat(this._text.slice(0,f),v,this._text.slice(g)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=e.util.toFixed,d=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(g)},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var g=!0,v=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",v?'text-decoration="'+v+'" ':"",'style="',this.getSvgStyles(g),'"',this.addPaintOrder()," >",f.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(f,g){var v=[],A=[],M=f,Y;this._setSVGBg(A);for(var de=0,ae=this._textLines.length;de<ae;de++)Y=this._getLineLeftOffset(de),(this.textBackgroundColor||this.styleHas("textBackgroundColor",de))&&this._setSVGTextLineBg(A,de,g+Y,M),this._setSVGTextLineText(v,de,g+Y,M),M+=this.getHeightOfLine(de);return{textSpans:v,textBgRects:A}},_createTextCharSpan:function(f,g,v,A){var M=f!==f.trim()||f.match(d),Y=this.getSvgSpanStyles(g,M),de=Y?'style="'+Y+'"':"",ae=g.deltaY,ze="",qe=e.Object.NUM_FRACTION_DIGITS;return ae&&(ze=' dy="'+c(ae,qe)+'" '),['<tspan x="',c(v,qe),'" y="',c(A,qe),'" ',ze,de,">",e.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,g,v,A){var M=this.getHeightOfLine(g),Y=this.textAlign.indexOf("justify")!==-1,de,ae,ze="",qe,Ue,hn=0,On=this._textLines[g],vn;A+=M*(1-this._fontSizeFraction)/this.lineHeight;for(var bn=0,wn=On.length-1;bn<=wn;bn++)vn=bn===wn||this.charSpacing,ze+=On[bn],qe=this.__charBounds[g][bn],hn===0?(v+=qe.kernedWidth-qe.width,hn+=qe.width):hn+=qe.kernedWidth,Y&&!vn&&this._reSpaceAndTab.test(On[bn])&&(vn=!0),vn||(de=de||this.getCompleteStyleDeclaration(g,bn),ae=this.getCompleteStyleDeclaration(g,bn+1),vn=e.util.hasStyleChanged(de,ae,!0)),vn&&(Ue=this._getStyleDeclaration(g,bn)||{},f.push(this._createTextCharSpan(ze,Ue,v,A)),ze="",de=ae,v+=hn,hn=0)},_pushTextBgRect:function(f,g,v,A,M,Y){var de=e.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(g),' x="',c(v,de),'" y="',c(A,de),'" width="',c(M,de),'" height="',c(Y,de),`"></rect>
`)},_setSVGTextLineBg:function(f,g,v,A){for(var M=this._textLines[g],Y=this.getHeightOfLine(g)/this.lineHeight,de=0,ae=0,ze,qe,Ue=this.getValueOfPropertyAt(g,0,"textBackgroundColor"),hn=0,On=M.length;hn<On;hn++)ze=this.__charBounds[g][hn],qe=this.getValueOfPropertyAt(g,hn,"textBackgroundColor"),qe!==Ue?(Ue&&this._pushTextBgRect(f,Ue,v+ae,A,de,Y),ae=ze.left,de=ze.width,Ue=qe):de+=ze.kernedWidth;qe&&this._pushTextBgRect(f,qe,v+ae,A,de,Y)},_getFillAttributes:function(f){var g=f&&typeof f=="string"?new e.Color(f):"";return!g||!g.getSource()||g.getAlpha()===1?'fill="'+f+'"':'opacity="'+g.getAlpha()+'" fill="'+g.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(f){for(var g=0,v=0,A=0;A<f;A++)g+=this.getHeightOfLine(A);return v=this.getHeightOfLine(A),{lineTop:g,offset:(this._fontSizeMult-this._fontSizeFraction)*v/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){var g=e.Object.prototype.getSvgStyles.call(this,f);return g+" white-space: pre;"}})}(),function(c){var d=c.fabric||(c.fabric={});d.Textbox=d.util.createClass(d.IText,d.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:d.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var g=0,v=0,A=0,M={},Y=0;Y<f.graphemeLines.length;Y++)f.graphemeText[A]===`
`&&Y>0?(v=0,A++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[A])&&Y>0&&(v++,A++),M[Y]={line:g,offset:v},A+=f.graphemeLines[Y].length,v+=f.graphemeLines[Y].length;return M},styleHas:function(f,g){if(this._styleMap&&!this.isWrapping){var v=this._styleMap[g];v&&(g=v.line)}return d.Text.prototype.styleHas.call(this,f,g)},isEmptyStyles:function(f){if(!this.styles)return!0;var g=0,v=f+1,A,M,Y=!1,de=this._styleMap[f],ae=this._styleMap[f+1];de&&(f=de.line,g=de.offset),ae&&(v=ae.line,Y=v===f,A=ae.offset),M=typeof f>"u"?this.styles:{line:this.styles[f]};for(var ze in M)for(var qe in M[ze])if(qe>=g&&(!Y||qe<A))for(var Ue in M[ze][qe])return!1;return!0},_getStyleDeclaration:function(f,g){if(this._styleMap&&!this.isWrapping){var v=this._styleMap[f];if(!v)return null;f=v.line,g=v.offset+g}return this.callSuper("_getStyleDeclaration",f,g)},_setStyleDeclaration:function(f,g,v){var A=this._styleMap[f];f=A.line,g=A.offset+g,this.styles[f][g]=v},_deleteStyleDeclaration:function(f,g){var v=this._styleMap[f];f=v.line,g=v.offset+g,delete this.styles[f][g]},_getLineStyle:function(f){var g=this._styleMap[f];return!!this.styles[g.line]},_setLineStyle:function(f){var g=this._styleMap[f];this.styles[g.line]={}},_wrapText:function(f,g){var v=[],A;for(this.isWrapping=!0,A=0;A<f.length;A++)v=v.concat(this._wrapLine(f[A],A,g));return this.isWrapping=!1,v},_measureWord:function(f,g,v){var A=0,M,Y=!0;v=v||0;for(var de=0,ae=f.length;de<ae;de++){var ze=this._getGraphemeBox(f[de],g,de+v,M,Y);A+=ze.kernedWidth,M=f[de]}return A},_wrapLine:function(f,g,v,En){var M=0,Y=this.splitByGrapheme,de=[],ae=[],ze=Y?d.util.string.graphemeSplit(f):f.split(this._wordJoiners),qe="",Ue=0,hn=Y?"":" ",On=0,vn=0,bn=0,wn=!0,Cn=this._getWidthOfCharSpacing(),En=En||0;ze.length===0&&ze.push([]),v-=En;for(var _n=0;_n<ze.length;_n++)qe=Y?ze[_n]:d.util.string.graphemeSplit(ze[_n]),On=this._measureWord(qe,g,Ue),Ue+=qe.length,M+=vn+On-Cn,M>v&&!wn?(de.push(ae),ae=[],M=On,wn=!0):M+=Cn,!wn&&!Y&&ae.push(hn),ae=ae.concat(qe),vn=Y?0:this._measureWord([hn],g,Ue),Ue++,wn=!1,On>bn&&(bn=On);return _n&&de.push(ae),bn+En>this.dynamicMinWidth&&(this.dynamicMinWidth=bn-Cn+En),de},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f){return this.splitByGrapheme?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var g=d.Text.prototype._splitTextIntoLines.call(this,f),v=this._wrapText(g.lines,this.width),A=new Array(v.length),M=0;M<v.length;M++)A[M]=v[M].join("");return g.lines=A,g.graphemeLines=v,g},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var g in this._styleMap)this._textLines[g]&&(f[this._styleMap[g].line]=1);for(var g in this.styles)f[g]||delete this.styles[g]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),d.Textbox.fromObject=function(f,g){var v=d.util.stylesFromArray(f.styles,f.text),A=Object.assign({},f,{styles:v});return d.Object._fromObject("Textbox",A,g,"text")}}(n),function(){var c=e.controlsUtils,d=c.scaleSkewCursorStyleHandler,f=c.scaleCursorStyleHandler,g=c.scalingEqually,v=c.scalingYOrSkewingX,A=c.scalingXOrSkewingY,M=c.scaleOrSkewActionName,Y=e.Object.prototype.controls;if(Y.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:d,actionHandler:A,getActionName:M}),Y.mr=new e.Control({x:.5,y:0,cursorStyleHandler:d,actionHandler:A,getActionName:M}),Y.mb=new e.Control({x:0,y:.5,cursorStyleHandler:d,actionHandler:v,getActionName:M}),Y.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:d,actionHandler:v,getActionName:M}),Y.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:g}),Y.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:g}),Y.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:g}),Y.br=new e.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:g}),Y.mtr=new e.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var de=e.Textbox.prototype.controls={};de.mtr=Y.mtr,de.tr=Y.tr,de.br=Y.br,de.tl=Y.tl,de.bl=Y.bl,de.mt=Y.mt,de.mb=Y.mb,de.mr=new e.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:d,actionName:"resizing"}),de.ml=new e.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:d,actionName:"resizing"})}}()})(fabric);var CanvasToolEnum=(n=>(n.select="select",n.move="move",n.brush="brush",n.lasso="lasso",n))(CanvasToolEnum||{}),LayerTypeEnum=(n=>(n.image="image",n.expandRect="expandRect",n.lassoInpaint="lassoInpaint",n.inpaint="inpaint",n.handdraw="handdraw",n.img2img="img2img",n.sketch2img="sketch2img",n.nullLayer="null",n.layers="layers",n))(LayerTypeEnum||{}),AIFunctionEnum=(n=>(n.expand="expand",n.lasso="lasso",n.inpaint="inpaint",n.img2img="img2img",n.handdraw="handdraw",n.img2sketch="img2sketch",n))(AIFunctionEnum||{});const tmpLayerTypes=["expandRect","lassoInpaint","img2img","sketch2img"],brushLayerTypes=["inpaint","handdraw"];class CanvasState{constructor(e=()=>{},r=()=>{},o=()=>{}){pr(this,"canvas");pr(this,"layers",ref([]));pr(this,"saveCallback");pr(this,"redoCallback");pr(this,"undoCallback");pr(this,"state",reactive({brushSize:15,brushColor:"#000000",aiStrength:80,isDragging:!1,lastPosX:0,lastPosY:0,selectedLayersIds:[],selectedTool:"select",lastOptImageId:0,postivePrompt:"",negativePrompt:"",n_iter:1,steps:20,viewPortTransform:[1,0,0,1,0,0]}));pr(this,"history",reactive({currentIndex:-1,canvas:[],states:[]}));pr(this,"renderHookLock",!1);pr(this,"canvasRenderTimer",0);pr(this,"isRenderByUndoRedo",!1);pr(this,"isRenderByUndoRedoHook",!1);pr(this,"lastOpsImageLayerID",0);pr(this,"isResizeCanvas",!1);pr(this,"isResizeView",!1);pr(this,"brushPathStr","");pr(this,"brushStarted",!1);pr(this,"brushingLock",!1);pr(this,"isSelChangeByTool",!1);pr(this,"bindCanvas",e=>{this.canvas=e,e.on("mouse:wheel",r=>{var o=r.e.deltaY;this.isResizeView=!0,o>0?e.zoomToPoint({x:1200/2*.666,y:800/2*.666},e.getZoom()*.9):e.zoomToPoint({x:1200/2*.666,y:800/2*.666},e.getZoom()*1.1),r.e.preventDefault(),r.e.stopPropagation()}),e.on("selection:created",r=>{this.selChangeHook()}),e.on("selection:updated",r=>{this.selChangeHook()}),e.on("selection:cleared",r=>{this.selChangeHook()}),e.on("object:modified",r=>{}),e.on("after:render",r=>{this.afterRenderHook()}),e.on("mouse:down:before",r=>{this.canvas.isDrawingMode&&(this.brushingLock=!0)}),e.on("mouse:down",r=>{if(this.state.selectedTool==="move")this.state.isDragging=!0,this.state.lastPosX=r.e.clientX,this.state.lastPosY=r.e.clientY;else if(this.state.selectedTool=="lasso"){var o=e.getPointer(r.e);this.brushPathStr="M "+o.x+" "+o.y,this.brushStarted=!0}}),e.on("mouse:move",r=>{if(this.state.isDragging){let o=r.e,s=e.viewportTransform;if(s==null)return;s[4]+=o.clientX-this.state.lastPosX,s[5]+=o.clientY-this.state.lastPosY,this.state.lastPosX=o.clientX,this.state.lastPosY=o.clientY,e.requestRenderAll()}if(this.state.selectedTool=="lasso"){if(!this.brushStarted)return;let o=e.getPointer(r.e);this.brushPathStr+=" L "+o.x+" "+o.y}}),e.on("mouse:up",r=>{this.state.isDragging&&(e.setViewportTransform(e.viewportTransform),this.state.isDragging=!1),e.isDrawingMode&&(this.brushingLock=!1)}),e.on("path:created",r=>{const o=()=>{const a=this.selectedLayer;if(a==null)return;const l=a.left||0,c=a.top||0,d=(a.left||0)+(a.width||0)*(a.scaleX||1),f=(a.top||0)+(a.height||0)*(a.scaleY||1);let g=this.brushPathStr.replace(/M | Z|L /g,"").split(" ");const v=[];for(let Y=0;Y<g.length;Y++){let de=parseFloat(g[Y]);Y%2===1?de<c?de=c:de>f&&(de=f):de<l?de=l:de>d&&(de=d),v.push(de)}const A=v.reduce(function(Y,de,ae,ze){return ae==0?Y+="M "+de.toFixed(3)+" ":ae%2===0?Y+="L "+de.toFixed(3)+" ":ae==v.length-1?Y+=de.toFixed(3)+" Z":Y+=de.toFixed(3)+" ",Y},""),M=new fabric.fabric.Path(A,{fill:"rgba(0,0,0,0.3)",lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,lockScalingFlip:!0});this.initAditorData(M,"套索路径","lassoInpaint",{denoising_strength:75,bind_image_id:a.aditorData.id}),e.add(M),e.setActiveObject(M)};e.isDrawingMode&&(this.brushingLock=!1,this.brushStarted=!1);const s=r.path;if(e.remove(s),this.state.selectedTool=="brush"){const a=this.selectedLayer;a!=null&&brushLayerTypes.includes(a.aditorData.type)&&(a.addWithUpdate(s),a.setCoords(),e.setActiveObject(a),e.renderAll())}else if(this.state.selectedTool=="lasso"){let a=e.getPointer(r.e);this.brushPathStr+=" L "+a.x+" "+a.y+" Z",o(),this.brushPathStr=""}}),e.on("drop",r=>{var a;const o=r.e;if(o.stopPropagation(),o.preventDefault(),o==null)return;let s=(a=o.dataTransfer)==null?void 0:a.files;if(!(!s||s.length===0))for(let l=0;l<s.length;l++){const c=s[l];if(["image/png","image/jpeg","image/jpg","image/webp"].includes(c.type)){const d=new FileReader,f=new Image;d.onload=()=>{const g=d.result;f.src=g},f.onload=()=>{const g=new fabric.fabric.Image(f);this.initAditorData(g,"自定义图片","image",{denoising_strength:0}),g.on("moving",()=>{g.aditorData.on_moving.forEach(v=>v(g))}),g.on("scaling",()=>{g.aditorData.on_scaling.forEach(v=>v(g))}),e.add(g),e.renderAll()},d.readAsDataURL(c)}}})});pr(this,"selChangeHook",()=>{this.updateSelInfo(),this.isSelChangeByTool==!1&&(this.state.selectedTool==="brush"?brushLayerTypes.includes(this.selectedLayerType)?this.setCanvasTool("brush"):this.setCanvasTool("select"):this.state.selectedTool==="move"?this.selectedLayerType!="null"?this.setCanvasTool("select"):this.setCanvasTool("move"):this.state.selectedTool==="select"?this.setCanvasTool("select"):this.state.selectedTool==="lasso"&&(this.selectedLayerType=="image"?this.setCanvasTool("lasso"):this.setCanvasTool("select")))});pr(this,"updateSelInfo",()=>{if(this.brushingLock==!1&&this.isRenderByUndoRedo==!1){const e=this.canvas.getActiveObject();if(e!=null&&e!=null)if("aditorData"in e)this.state.selectedLayersIds=[e.aditorData.id];else{const r=this.canvas.getActiveObjects();this.state.selectedLayersIds=r.map(o=>o.aditorData.id)}else this.state.selectedLayersIds=[];this.state.lastOptImageId=this.lastOpsImageLayerID,this.lastOpsImageLayerID=0}});pr(this,"afterRenderHook",()=>{this.setLayers(),this.state.viewPortTransform=this.canvas.viewportTransform||[1,0,0,1,0,0],this.renderHookLock||(clearTimeout(this.canvasRenderTimer),this.canvasRenderTimer=setTimeout(()=>{this.renderHookLock=!0,this.isRenderByUndoRedo?(this.isRenderByUndoRedoHook||this.canvasUndoRedoHook(),this.isRenderByUndoRedo=!1):(this.clearTmpLayer(),this.saveHistory()),this.renderHookLock=!1},300))});pr(this,"initAditorData",(e,r,o="handdraw",s={})=>{function a(){var l=new Date().getTime(),c=Math.floor(Math.random()*9999+1e3),d=Number(l+String(c));return d}e.set("aditorData",{id:a(),name:r,prompt:"",neg_prompt:"",prompt_arr:[],neg_prompt_arr:[],denoising_strength:50,type:o,mask_type:"origin",on_moving:[],on_scaling:[],bind_image_id:0}),this.updateAditorData(e,s)});pr(this,"updateAditorData",(e,r)=>{Object.keys(r).forEach(o=>{e.aditorData.hasOwnProperty(o)&&(e.aditorData[o]=r[o])})});pr(this,"setLayers",()=>{const e=this.canvas.getObjects();this.layers.value=e});pr(this,"getAditorObjects",()=>this.canvas.getObjects());pr(this,"canvasUndoRedoHook",()=>{this.isRenderByUndoRedoHook=!0,this.state.selectedLayersIds.length===1?(this.activeTmpLayer(),this.setActiveObject(this.selectedLayer),this.canvas.renderAll()):this.state.selectedLayersIds.length>1&&(this.state.selectedLayersIds=[],this.canvas.renderAll()),this.isRenderByUndoRedoHook=!1});pr(this,"activeTmpLayer",()=>{this.getAditorObjects().forEach(e=>{tmpLayerTypes.includes(e.aditorData.type)&&e.aditorData.type=="expandRect"&&e.on("scaling",this.initOnScaling)})});pr(this,"clearTmpLayer",()=>{let e=!1;this.getAditorObjects().forEach(r=>{tmpLayerTypes.includes(r.aditorData.type)&&this.selectedLayerID!=r.aditorData.id&&(this.canvas.remove(r),e=!0)}),e&&this.canvas.renderAll()});pr(this,"initOnScaling",e=>{const r=this.getLastOptImage();if(r==null||e.transform==null)return;const o=e.transform.corner,s=e.transform.target,a=r.scaleX||1,l=r.scaleY||1,c=r.left||0,d=r.top||0,f=r.width||0,g=r.height||0,v=c+a*f,A=d+l*g,M=s.left||0,Y=s.top||0,de=s.scaleX||1,ae=s.scaleY||1,ze=s.width||0,qe=s.height||0,Ue=M+de*ze,hn=Y+ae*qe,On=e.transform.scaleX,vn=e.transform.scaleY,bn=e.transform.original.top,wn=e.transform.original.left,Cn=Math.abs((wn-c)/ze),En=Math.abs((d-bn)/qe);if(["tr","mr","br"].includes(o)&&Ue<v){const _n=(v-Ue)/f;s.scaleX=de+_n}if(["tl","ml","bl"].includes(o)&&M>c){const _n=On*ze/f;s.left=c,s.scaleX=_n-Cn}if(["br","mb","bl"].includes(o)&&hn<A){const _n=(A-hn)/g;s.scaleY=ae+_n}if(["tl","mt","tr"].includes(o)&&Y>d){const _n=vn*qe/g;s.top=d,s.scaleY=_n-En}});pr(this,"getLastOptImage",()=>{if(this.state.lastOptImageId>0)return this.findLayerByID(this.state.lastOptImageId)});pr(this,"saveHistory",()=>{if(this.isResizeCanvas){this.isResizeCanvas=!1;return}if(this.isResizeView){this.isResizeView=!1;return}const e=a=>{if(typeof a!="object")return a;const l=Array.isArray(a)?[]:{};for(let c in a)l[c]=e(a[c]);return l},r=["aditorData","selectable","lockMovementX","lockMovementY","lockScalingX","lockScalingY","lockRotation","lockScalingFlip","cornerColor","cornerStyle"],o=this.canvas.toDatalessJSON(r),s=e(toRaw(this.state));this.updateAditorNodeData(o,s)});pr(this,"updateAditorNodeData",(e,r)=>{const o={canvas:e,state:r};this.saveCallback&&this.saveCallback(o)});pr(this,"setActiveObject",e=>{e&&this.canvas.setActiveObject(e)});pr(this,"brushSizeComputed",computed({get:()=>this.state.brushSize,set:e=>this.state.brushSize=e}));pr(this,"brushColorComputed",computed({get:()=>this.state.brushColor,set:e=>this.state.brushColor=e}));pr(this,"aiStrengthComputed",computed({get:()=>this.state.aiStrength,set:e=>this.state.aiStrength=e}));pr(this,"selectedToolComputed",computed({get:()=>this.state.selectedTool,set:e=>{this.isSelChangeByTool=!0,this.setCanvasTool(e)}}));pr(this,"nIterComputed",computed({get:()=>this.state.n_iter,set:e=>this.state.n_iter=e}));pr(this,"allShowLayersComputed",computed(()=>{const e=this.layers.value.filter(r=>!tmpLayerTypes.includes(r.aditorData.type));return e.length==0?[]:e}));pr(this,"postivePromptComputed",computed({get:()=>this.state.postivePrompt,set:e=>this.state.postivePrompt=e}));pr(this,"negativePromptComputed",computed({get:()=>this.state.negativePrompt,set:e=>this.state.negativePrompt=e}));pr(this,"setCanvasTool",e=>{const r=()=>{const s=this.canvas.getObjects();for(var a in s)s[a].selectable=!1},o=()=>{const s=this.canvas.getObjects();for(var a in s)s[a].selectable=!0};e=="select"?(this.canvas.isDrawingMode=!1,this.canvas.notAllowedCursor="allowed",this.state.selectedTool=e,this.canvas.selection=!0,o()):e=="move"?(this.canvas.isDrawingMode=!1,this.canvas.notAllowedCursor="not-allowed",this.state.selectedTool=e,this.canvas.selection=!1,r()):e=="brush"?["handdraw","inpaint","lassoInpaint"].includes(this.selectedLayerType)&&(this.canvas.freeDrawingBrush=new fabric.fabric.PencilBrush(this.canvas),this.canvas.freeDrawingBrush.color=this.state.brushColor,this.canvas.freeDrawingBrush.width=this.state.brushSize,this.canvas.isDrawingMode=!0,this.state.selectedTool=e,r()):e=="lasso"&&this.selectedLayerType=="image"&&(this.canvas.freeDrawingBrush=new fabric.fabric.PencilBrush(this.canvas),this.canvas.freeDrawingBrush.color=this.state.brushColor,this.canvas.freeDrawingBrush.width=3,this.canvas.isDrawingMode=!0,this.state.selectedTool=e,r()),this.isSelChangeByTool!=!1&&(e=="move"&&(this.canvas.discardActiveObject(),this.canvas.renderAll()),this.isSelChangeByTool=!1)});pr(this,"aiFuncEvent",e=>{e=="handdraw"?this.aiFuncAddHanddraw():e=="expand"?this.aiFuncExpand():e=="inpaint"?this.aiFuncInpaint():e=="img2img"?this.aiFuncImg2Img():e=="img2sketch"&&this.aiFuncimg2sketch()});pr(this,"aiFuncAddHanddraw",()=>{const e=new fabric.fabric.Group([],{left:0,top:0,width:800,height:600});this.initAditorData(e,"手绘出图层","handdraw",{denoising_strength:75}),this.canvas.add(e),this.canvas.renderAll()});pr(this,"aiFuncExpand",()=>{const e=this.selectedLayer;if(e!=null)if(e.aditorData.type==="image"){this.lastOpsImageLayerID=e.aditorData.id;const r=e!=null&&e.scaleX?e.scaleX:1,o=e!=null&&e.scaleY?e.scaleY:1,s=new fabric.fabric.Rect({left:e.left,top:e.top,width:e.width,height:e.height,fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",strokeWidth:0,lockMovementX:!0,lockMovementY:!0,lockScalingX:!1,lockScalingY:!1,lockRotation:!0,lockScalingFlip:!0,scaleX:r,scaleY:o});s.setOptions({cornerColor:"black",cornerStyle:"inverted"}),s.set({strokeLineCap:"butt"}),s.on("scaling",this.initOnScaling),this.initAditorData(s,"扩图层","expandRect",{denoising_strength:75,bind_image_id:e.aditorData.id}),this.canvas.add(s),this.canvas.setActiveObject(s),this.canvas.renderAll()}else console.log("选中对象无法扩图")});pr(this,"aiFuncInpaint",()=>{const e=this.selectedLayer;if(e!=null&&e.aditorData.type==="image"){const r=e.left,o=e.top,s=new fabric.fabric.Group([],{left:r,top:o,width:(e.width||0)*(e.scaleX||1),height:(e.height||0)*(e.scaleY||1)});this.initAditorData(s,"涂抹重绘层","inpaint",{denoising_strength:75,bind_image_id:e.aditorData.id}),this.canvas.add(s),this.canvas.setActiveObject(s),this.canvas.renderAll(),this.selectedToolComputed.value="brush"}});pr(this,"aiFuncImg2Img",()=>{const e=this.selectedLayer;if(e!=null&&e.aditorData.type==="image"){const r=e.left,o=e.top,s=new fabric.fabric.Group([],{left:r,top:o,width:(e.width||0)*(e.scaleX||1),height:(e.height||0)*(e.scaleY||1),lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,lockScalingFlip:!0});this.initAditorData(s,"图生图","img2img",{denoising_strength:75,bind_image_id:e.aditorData.id}),this.canvas.add(s),this.canvas.setActiveObject(s),this.canvas.renderAll()}});pr(this,"aiFuncimg2sketch",()=>{const e=this.selectedLayer;if(e!=null&&e.aditorData.type==="image"){const r=e.left,o=e.top,s=new fabric.fabric.Group([],{left:r,top:o,width:(e.width||0)*(e.scaleX||1),height:(e.height||0)*(e.scaleY||1),lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,lockScalingFlip:!0});this.initAditorData(s,"草图生图","sketch2img",{denoising_strength:75,bind_image_id:e.aditorData.id}),this.canvas.add(s),this.canvas.setActiveObject(s),this.canvas.renderAll()}});pr(this,"isSelectedLayer",e=>this.state.selectedLayersIds.some(r=>r===e.aditorData.id));pr(this,"toggleLayer",e=>{const r=this.findLayerByID(e);r&&(this.state.selectedLayersIds.includes(r.aditorData.id)||(this.canvas.setActiveObject(r),this.canvas.renderAll()))});pr(this,"handleLayerForward",e=>{const r=this.findLayerByID(e);r&&this.canvas.bringForward(r),this.canvas.renderAll()});pr(this,"handleLayerBackward",e=>{const r=this.findLayerByID(e);r&&this.canvas.sendBackwards(r),this.canvas.renderAll()});pr(this,"handleDeleteLayer",e=>{if(Array.isArray(e)&&e.length>=1)e.forEach(r=>{if(r>=1){const o=this.findLayerByID(r);o&&this.canvas.remove(o)}}),this.canvas.renderAll();else if(!isNaN(parseFloat(e))){const r=this.findLayerByID(e);r&&this.canvas.remove(r),this.canvas.renderAll()}});pr(this,"handleKeydown",e=>(e.ctrlKey?e.key==="z"||e.key==="Z"?this.undoCallback():e.key==="y"||e.key==="Y"?this.redoCallback():e.key:e.key=="Delete"&&this.handleDeleteLayer(this.state.selectedLayersIds),!1));pr(this,"loadCanvasFromJSON",e=>{const r=toRaw(e);try{r!=null&&r.state&&(this.state=Object.assign(this.state,r.state)),r!=null&&r.canvas&&this.canvas.loadFromJSON(_fixFabricExportBug(r.canvas),()=>{this.isRenderByUndoRedo=!0,this.state.viewPortTransform&&this.canvas.setViewportTransform(this.state.viewPortTransform)})}catch(o){this.isRenderByUndoRedo=!1,console.error("加载画布数据失败,原因:"),console.error(o)}});pr(this,"undo",e=>{this.isRenderByUndoRedo=!0,this.loadCanvasFromJSON(e)});pr(this,"redo",e=>{this.isRenderByUndoRedo=!0,this.loadCanvasFromJSON(e)});pr(this,"resizeCanvas",()=>{const e=calCanvasWidth(getWindowWidth());return this.isResizeCanvas=!0,this.canvas.setDimensions({width:e,height:589}),e});this.saveCallback=e,this.undoCallback=r,this.redoCallback=o}get selectedLayer(){return this.state.selectedLayersIds.length==1?this.findLayerByID(this.state.selectedLayersIds[0]):(this.state.selectedLayersIds.length==0,void 0)}get selectedLayerID(){return this.state.selectedLayersIds.length==1?this.state.selectedLayersIds[0]:(this.state.selectedLayersIds.length==0,-1)}get selectedLayerType(){var e;return this.state.selectedLayersIds.length==1?((e=this.selectedLayer)==null?void 0:e.aditorData.type)||"null":(this.state.selectedLayersIds.length==0,"null")}get funcName(){const e=this.selectedLayerType;return e=="expandRect"?"：扩图":e=="handdraw"?"：手绘出图":e=="img2img"?"：图生图":e=="inpaint"?"：涂鸦修图":e=="lassoInpaint"?"：套索修图":e=="sketch2img"?"：草图生图":""}get getCanvas(){return this.canvas}getLayerTypeByID(e){const r=this.findLayerByID(e);return r?r.aditorData.type:"null"}findLayerByID(e){if(!(e==null||e===0))return this.layers.value===null?void 0:toRaw(this.layers.value.find(r=>r.aditorData.id===e))}get rawState(){return toRaw(this.state)}}const initCanvas=(n,e={})=>{const r=calCanvasWidth(getWindowWidth());let o=calCanvasWidth(e.width||r);const s=new fabric.fabric.Canvas(n,{width:o,height:559});return s.setZoom(s.getZoom()*.666),s},_fixFabricExportBug=n=>{const e=r=>{for(let o in r)typeof r[o]=="object"&&Object.keys(r[o]).length===0&&(r[o]=null);"objects"in r&&Array.isArray(r.objects)&&r.objects.forEach(o=>{e(o)})};return e(n),n},getWindowWidth=()=>{const n=globalState.asideWidth+240+240+80+30;return window.innerWidth-n},calCanvasWidth=n=>{let o=n;return o=n+480<980?500:n,o=o+480>1440?960:o,o},_withScopeId$3=n=>(pushScopeId("data-v-c3e98d29"),n=n(),popScopeId(),n),_hoisted_1$7={class:"aditor-inner-box"},_hoisted_2$5={class:"el-col"},_hoisted_3$3={class:"el-col-tool-outer"},_hoisted_4$3=_withScopeId$3(()=>createBaseVNode("div",{class:"tool-title"},"AI画布",-1)),_hoisted_5$3={class:"tool-body-canvas"},_hoisted_6$3={class:"el-col"},_hoisted_7$3={class:"el-col-tool-outer"},_hoisted_8$3=_withScopeId$3(()=>createBaseVNode("div",{class:"tool-title"},"工具",-1)),_hoisted_9$2={class:"tool-body"},_hoisted_10$2={class:"tool-box"},_hoisted_11$2=_withScopeId$3(()=>createBaseVNode("div",null,"正向提示",-1)),_hoisted_12$1={class:"tool-box"},_hoisted_13$1=_withScopeId$3(()=>createBaseVNode("div",null,"负向提示",-1)),_hoisted_14$1={class:"tool-box"},_hoisted_15$1=_withScopeId$3(()=>createBaseVNode("div",null,"AI强度",-1)),_hoisted_16$1={class:"tool-box"},_hoisted_17$1=_withScopeId$3(()=>createBaseVNode("div",null,"张数",-1)),_hoisted_18$1={style:{width:"100%"}},_hoisted_19$1={class:"demo-color-block"},_hoisted_20$1=_withScopeId$3(()=>createBaseVNode("span",{class:"demonstration"},"画笔颜色",-1)),_hoisted_21$1={class:"slider-demo-block"},_hoisted_22$1=_withScopeId$3(()=>createBaseVNode("span",{class:"demonstration"},"画笔粗细",-1)),_hoisted_23$1={class:"el-col"},_hoisted_24$1={class:"el-col-tool-outer"},_hoisted_25$1={class:"tool-title"},_hoisted_26$1=_withScopeId$3(()=>createBaseVNode("span",null,"图层",-1)),_hoisted_27$1={class:"tool-body tool-layer-body"},_hoisted_28$1=["onClick"],_hoisted_29$1={style:{display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_30$1={class:"aditor-outputs"},_hoisted_31$1={class:"gallery"},_hoisted_32$1=["src"],_sfc_main$7=defineComponent({name:"aditorCanvas",config:{secondaryType:u.BlockLeaf,dataKeyName:"content"},inheritAttrs:!0,__name:"aditorCanvas",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=ref(null),r=ref(null),o=ref(null),s=ref(["1"]),a=n,l=ae=>{at(a.docView,a.aNode.start,ae)},c=()=>{a.docView.undo()},d=()=>{a.docView.redo()},f=new CanvasState(l,c,d),g=(ae,ze,qe)=>{(qe==null?void 0:qe.name)==="undo"?nextTick(()=>f.undo(a.aNode.data)):(qe==null?void 0:qe.name)==="redo"&&nextTick(()=>f.redo(a.aNode.data))},v=ref(!1),A=async()=>await request.sdProgress().then(ae=>{if(ae.status==200){let ze=ae.data.progress?ae.data.progress:0;return{status:!0,progress:Math.min(Math.ceil(ze*100),100),msg:ae.data.msg}}else return{status:!1,progress:0,msg:ae.data.msg}}).catch(ae=>({status:!1,progress:0,msg:ae})),M=async()=>{if(v.value){request.sd2Interrupt({});return}v.value=!0,events.emit("show-progress"),events.emit("start-server-polling",{callback:A,interval:100});try{const ae=Y();await request.aiDraw(ae).then(ze=>{var qe;try{if(ze.status==200)if(((qe=ze.data.images)==null?void 0:qe.length)>=1){const Ue=[];for(let hn of ze.data.images){let On=(hn==null?void 0:hn.type)||"data:image/png;base64,";for(let vn of hn.images){let bn=vn;On==="data:image/png;base64,"&&(bn=On+bn),Ue.push({src:bn})}}a.aNode.data.outputs?at(a.docView,a.aNode.start,Object.assign(a.aNode.data,{outputs:a.aNode.data.outputs.concat(Ue)})):at(a.docView,a.aNode.start,Object.assign(a.aNode.data,{outputs:Ue}))}else console.warn(ze.data.messeage)}catch(Ue){console.warn(Ue)}return!0}).catch(ze=>(console.warn(ze),!1))}catch{}v.value=!1,events.emit("hide-progress"),events.emit("stop-server-polling")},Y=()=>{const ae=[],ze={width:800,height:600,left:0,top:0,draw_type:LayerTypeEnum.img2img,denoising_strength:(f.aiStrengthComputed.value/100).toFixed(2),prompt:f.rawState.postivePrompt,neg_prompt:f.rawState.negativePrompt,n_iter:f.rawState.n_iter,steps:f.rawState.steps};if([LayerTypeEnum.inpaint,LayerTypeEnum.lassoInpaint,LayerTypeEnum.img2img,LayerTypeEnum.sketch2img].includes(f.selectedLayerType)){const Ue=f.selectedLayer;if(Ue==null)return;const hn=f.findLayerByID(Ue.aditorData.bind_image_id);if(hn==null)return;if(hn){const On=hn.width?hn.width:0,vn=hn.height?hn.height:0,bn=hn.scaleX?hn.scaleX:1,wn=hn.scaleY?hn.scaleY:1,Cn=hn.left?hn.left:0,En=hn.top?hn.top:0;ze.width=On*bn,ze.height=vn*wn,ze.left=Cn,ze.top=En,ze.draw_type=Ue.aditorData.type,ae.push({src:hn.toDataURL({format:"png",multiplier:1}),image_type:hn.aditorData.type,top:En,left:Cn,height:Math.ceil(vn*wn),width:Math.ceil(On*bn)}),ae.push({src:Ue.toDataURL({format:"png",multiplier:1}),image_type:Ue.aditorData.type,top:Ue.top,left:Ue.left,height:Math.ceil((Ue.height||0)*(Ue.scaleY||1)),width:Math.ceil((Ue.width||0)*(Ue.scaleX||1))})}else return v.value=!1,!1}else if(LayerTypeEnum.handdraw===f.selectedLayerType){const Ue=f.selectedLayer;if(Ue)ze.width=(Ue.width||0)*(Ue.scaleX||1),ze.height=(Ue.height||0)*(Ue.scaleY||1),ze.left=Ue.left||0,ze.top=Ue.top||0,ze.draw_type=Ue.aditorData.type,ae.push({src:Ue.toDataURL({format:"png",multiplier:1}),image_type:Ue.aditorData.type,top:Ue.top,left:Ue.left,height:Math.ceil((Ue.height||0)*(Ue.scaleY||1)),width:Math.ceil((Ue.width||0)*(Ue.scaleX||1))});else return v.value=!1,!1}else if(LayerTypeEnum.expandRect===f.selectedLayerType){const Ue=f.selectedLayer;if(Ue==null)return;const hn=f.findLayerByID(Ue.aditorData.bind_image_id);if(hn&&Ue)ze.width=(Ue.width||0)*(Ue.scaleX||1),ze.height=(Ue.height||0)*(Ue.scaleY||1),ze.left=Ue.left||0,ze.top=Ue.top||0,ze.draw_type=Ue.aditorData.type,ae.push({src:hn.toDataURL({format:"png",multiplier:1}),image_type:hn.aditorData.type,top:hn.top,left:hn.left,height:Math.ceil((hn.height||0)*(hn.scaleY||1)),width:Math.ceil((hn.width||0)*(hn.scaleX||1))}),ae.push({src:Ue.toDataURL({format:"png",multiplier:1}),image_type:Ue.aditorData.type,top:Ue.top,left:Ue.left,height:Math.ceil((Ue.height||0)*(Ue.scaleY||1)),width:Math.ceil((Ue.width||0)*(Ue.scaleX||1))});else return v.value=!1,!1}else return v.value=!1,!1;return{fname:"magic_draw",imgs:ae,canvas_info:ze}},de=()=>{const ae=f.resizeCanvas();o.value.style.width=ae+480+"px"};return onMounted(()=>{const ae=initCanvas(r.value);f.bindCanvas(ae),window.addEventListener("resize",de),f.loadCanvasFromJSON(a.aNode.data),a.docView.bindViewEventHook("afterUpdateState",g),de()}),onBeforeUnmount(()=>{window.removeEventListener("resize",de),a.docView.unbindViewEventHook("afterUpdateState",g)}),(ae,ze)=>{const qe=ElInput,Ue=ElSlider,hn=ElInputNumber,On=ElButton,vn=ElDivider,bn=ElIcon,wn=ElRadioButton,Cn=ElRadioGroup,En=ElSpace,_n=ElColorPicker,Bn=ElButtonGroup$1,jn=ElCollapseItem,Un=ElCollapse;return openBlock(),createElementBlock("div",{class:"aditor-block-outer",ref_key:"canvasBodyRef",ref:o,contenteditable:"false","aditor-ignore-event":""},[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$3,[_hoisted_4$3,createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",{class:"canvas-container",ref_key:"canvasContainerRef",ref:e,tabindex:"0",onKeydown:ze[0]||(ze[0]=(...Rn)=>unref(f).handleKeydown&&unref(f).handleKeydown(...Rn))},[createBaseVNode("canvas",{ref_key:"canvasRef",ref:r},null,512)],544)])])]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,[_hoisted_8$3,createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[_hoisted_11$2,createVNode(qe,{size:"small",ref:"layerPromptRef",modelValue:unref(f).postivePromptComputed.value,"onUpdate:modelValue":ze[1]||(ze[1]=Rn=>unref(f).postivePromptComputed.value=Rn)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_12$1,[_hoisted_13$1,createVNode(qe,{size:"small",ref:"layerPromptRef",modelValue:unref(f).negativePromptComputed.value,"onUpdate:modelValue":ze[2]||(ze[2]=Rn=>unref(f).negativePromptComputed.value=Rn)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_14$1,[_hoisted_15$1,createVNode(Ue,{size:"small",modelValue:unref(f).aiStrengthComputed.value,"onUpdate:modelValue":ze[3]||(ze[3]=Rn=>unref(f).aiStrengthComputed.value=Rn)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_16$1,[_hoisted_17$1,createVNode(hn,{size:"small",modelValue:unref(f).nIterComputed.value,"onUpdate:modelValue":ze[4]||(ze[4]=Rn=>unref(f).nIterComputed.value=Rn),min:1,max:50},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_18$1,[createVNode(On,{style:{width:"100%"},size:"small",type:"default",onClick:M,disabled:unref(f).funcName==""},{icon:withCtx(()=>[createVNode(unref(RunIcon))]),default:withCtx(()=>[createTextVNode(toDisplayString(v.value?"停止":"运行")+toDisplayString(unref(f).funcName),1)]),_:1},8,["disabled"])]),createVNode(vn),createBaseVNode("div",null,[createVNode(Cn,{modelValue:unref(f).selectedToolComputed.value,"onUpdate:modelValue":ze[5]||(ze[5]=Rn=>unref(f).selectedToolComputed.value=Rn),size:"small"},{default:withCtx(()=>[createVNode(wn,{label:unref(CanvasToolEnum).select,value:unref(CanvasToolEnum).select},{default:withCtx(()=>[createTextVNode(" 选择"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(CursorIcon))]),_:1})]),_:1},8,["label","value"]),createVNode(wn,{label:unref(CanvasToolEnum).move,value:unref(CanvasToolEnum).move},{default:withCtx(()=>[createTextVNode(" 移动"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(MoveIcon))]),_:1})]),_:1},8,["label","value"]),createVNode(wn,{label:unref(CanvasToolEnum).brush,value:unref(CanvasToolEnum).brush,disabled:!unref(brushLayerTypes).includes(unref(f).selectedLayerType)},{default:withCtx(()=>[createTextVNode(" 画笔"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(BrushIcon))]),_:1})]),_:1},8,["label","value","disabled"])]),_:1},8,["modelValue"])]),createVNode(vn),createBaseVNode("div",null,[createVNode(En,{wrap:""},{default:withCtx(()=>[createVNode(On,{size:"small",onClick:ze[6]||(ze[6]=withModifiers(Rn=>unref(f).aiFuncEvent(unref(AIFunctionEnum).expand),["stop"])),disabled:unref(LayerTypeEnum).image!==unref(f).selectedLayerType},{default:withCtx(()=>[createTextVNode(" 扩图"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(AutoFitWidthIcon))]),_:1})]),_:1},8,["disabled"]),createVNode(On,{size:"small",onClick:ze[7]||(ze[7]=withModifiers(Rn=>unref(f).selectedToolComputed.value=unref(CanvasToolEnum).lasso,["stop"])),disabled:unref(LayerTypeEnum).image!==unref(f).selectedLayerType},{default:withCtx(()=>[createTextVNode(" 圈选重绘"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(LassoIcon))]),_:1})]),_:1},8,["disabled"]),createVNode(On,{size:"small",onClick:ze[8]||(ze[8]=withModifiers(Rn=>unref(f).aiFuncEvent(unref(AIFunctionEnum).inpaint),["stop"])),disabled:unref(LayerTypeEnum).image!==unref(f).selectedLayerType},{default:withCtx(()=>[createTextVNode(" 涂抹重绘"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(PaintBrushIcon))]),_:1})]),_:1},8,["disabled"]),createVNode(On,{size:"small",onClick:ze[9]||(ze[9]=withModifiers(Rn=>unref(f).aiFuncEvent(unref(AIFunctionEnum).img2img),["stop"])),disabled:unref(LayerTypeEnum).image!==unref(f).selectedLayerType},{default:withCtx(()=>[createTextVNode(" 图生图"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(Img2ImgIcon))]),_:1})]),_:1},8,["disabled"]),createVNode(On,{size:"small",onClick:ze[10]||(ze[10]=withModifiers(Rn=>unref(f).aiFuncEvent(unref(AIFunctionEnum).img2sketch),["stop"])),disabled:unref(LayerTypeEnum).image!==unref(f).selectedLayerType},{default:withCtx(()=>[createTextVNode(" 草图生图"),createVNode(bn,{class:"el-icon--right"},{default:withCtx(()=>[createVNode(unref(TransBrushIcon))]),_:1})]),_:1},8,["disabled"])]),_:1})]),createVNode(vn),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_19$1,[_hoisted_20$1,createVNode(_n,{onActiveChange:ze[11]||(ze[11]=Rn=>unref(f).brushColorComputed.value=Rn||"#000000"),modelValue:unref(f).brushColorComputed.value,"onUpdate:modelValue":ze[12]||(ze[12]=Rn=>unref(f).brushColorComputed.value=Rn)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_21$1,[_hoisted_22$1,createVNode(Ue,{modelValue:unref(f).brushSizeComputed.value,"onUpdate:modelValue":ze[13]||(ze[13]=Rn=>unref(f).brushSizeComputed.value=Rn)},null,8,["modelValue"])])])])])]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",_hoisted_24$1,[createBaseVNode("div",_hoisted_25$1,[_hoisted_26$1,createVNode(On,{size:"small",onClick:ze[14]||(ze[14]=withModifiers(Rn=>unref(f).aiFuncEvent(unref(AIFunctionEnum).handdraw),["stop"]))},{default:withCtx(()=>[createVNode(bn,null,{default:withCtx(()=>[createVNode(unref(AddIcon))]),_:1}),createTextVNode("新建图层 ")]),_:1})]),createBaseVNode("div",_hoisted_27$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f).allShowLayersComputed.value,(Rn,Wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["tool-layer-outer",[unref(f).isSelectedLayer(Rn)?"layer-selected":null]]),onClick:withModifiers($n=>unref(f).toggleLayer(Rn.aditorData.id),["stop"])},[createBaseVNode("div",_hoisted_29$1,[createBaseVNode("div",null,toDisplayString(Rn.aditorData.name),1),createBaseVNode("div",null,[createVNode(Bn,{size:"small"},{default:withCtx(()=>[createVNode(On,{type:"default",onClick:withModifiers($n=>unref(f).handleLayerBackward(Rn.aditorData.id),["stop"])},{icon:withCtx(()=>[createVNode(bn,null,{default:withCtx(()=>[createVNode(unref(ArrowUpIcon))]),_:1})]),_:2},1032,["onClick"]),createVNode(On,{type:"default",onClick:withModifiers($n=>unref(f).handleLayerForward(Rn.aditorData.id),["stop"])},{icon:withCtx(()=>[createVNode(bn,null,{default:withCtx(()=>[createVNode(unref(ArrowDownIcon))]),_:1})]),_:2},1032,["onClick"]),createVNode(On,{type:"default",onClick:withModifiers($n=>unref(f).handleDeleteLayer(Rn.aditorData.id),["stop"])},{icon:withCtx(()=>[createVNode(bn,null,{default:withCtx(()=>[createVNode(unref(CloseIcon))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])],10,_hoisted_28$1))),256))])])])]),withDirectives(createBaseVNode("div",_hoisted_30$1,[createVNode(Un,{modelValue:s.value,"onUpdate:modelValue":ze[15]||(ze[15]=Rn=>s.value=Rn)},{default:withCtx(()=>[createVNode(jn,{title:"画布输出",name:"1"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_31$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.aNode.data.outputs,(Rn,Wn)=>(openBlock(),createElementBlock("div",{class:"image-container",key:Wn},[createBaseVNode("img",{src:Rn.src,class:"image"},null,8,_hoisted_32$1)]))),128))])]),_:1})]),_:1},8,["modelValue"])],512),[[vShow,a.aNode.data.outputs&&a.aNode.data.outputs.length>0]])],512)}}}),AditorCanvas=_export_sfc(_sfc_main$7,[["__scopeId","data-v-c3e98d29"]]),config$7={secondaryType:u.BlockLeaf,dataKeyName:"src",validStyleList:[]},_sfc_main$6=defineComponent({name:"aditorAudio",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){return{selOffsetCor:computed(()=>n.aNode.length()==0?1:0)}},config:config$7}),_hoisted_1$6={class:"aditor-audio"},_hoisted_2$4=["src"];function _sfc_render$6(n,e,r,o,s,a){return openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("audio",{controls:"",src:n.aNode.data.src},null,8,_hoisted_2$4)])}const AditorAudio=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-a3146701"]]),config$6={secondaryType:u.Child,dataKeyName:"content",validStyleList:[]},_sfc_main$5=defineComponent({name:"aditorTitleParagraph",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=computed(()=>n.aNode.children.length>0&&n.aNode.children[0].length()==0?n.aNode.children[0].start:n.aNode.start),r=computed(()=>n.aNode.children.length>0&&n.aNode.children[0].length()==0?3:0),o=computed(()=>n.aNode.data.level==null?"1":n.aNode.data.level);return{selStart:e,selOffsetCor:r,titleLevel:o}},config:config$6}),_hoisted_1$5=["selstart","seloffsetcor"],_hoisted_2$3=["selstart"];function _sfc_render$5(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:normalizeClass(`aditor-title-${n.titleLevel}`),style:normalizeStyle(n.aNode.style),selstart:n.selStart,seloffsetcor:n.selOffsetCor},[renderSlot(n.$slots,"default",{},void 0,!0),n.aNode.children.length==1&&n.aNode.children[0].length()==0?(openBlock(),createElementBlock("br",{key:0,selstart:n.selStart},null,8,_hoisted_2$3)):createCommentVNode("",!0)],14,_hoisted_1$5)}const AditorTitleParagraph=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-5ccb0a4e"]]),allConfig=ref([]);request.getConfig().then(n=>{n.status&&n.data.status&&(allConfig.value=n.data.contents)});const setConfig=async(n,e)=>n.trim()==""||n==null?void 0:(e==null&&(e=""),await request.setConfig({key:n,value:e}).then(o=>(o.status&&o.data.status&&(allConfig.value=o.data.contents),o)).catch(o=>o)),configState={allConfig,setConfig},config$5={secondaryType:u.BlockLeaf,defaultData:{config_key:"工作目录"},dataKeyName:"config_key",validStyleList:[]},_sfc_main$4=defineComponent({name:"aditorConfig",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=configState.allConfig,r=ref(""),o=ref(""),s=()=>{o.value in e.value&&(r.value=e.value[o.value],at(n.docView,n.aNode.start,Object.assign({},n.aNode.data,{config_key:o.value})))},a=async()=>{var l;if(o.value in e.value){const c=await configState.setConfig(o.value,r.value);(c==null?void 0:c.status)===200&&((l=c==null?void 0:c.data)!=null&&l.status)?ElMessage({showClose:!0,duration:0,message:"更新成功",type:"success"}):ElMessage({message:"更新失败",type:"error"})}};return onMounted(()=>{n.aNode.data.config_key&&(o.value=n.aNode.data.config_key,o.value in e.value&&(r.value=e.value[o.value]))}),{input:r,select:o,configs:e,handleChange:s,handleSave:a}},config:config$5}),_withScopeId$2=n=>(pushScopeId("data-v-d17ac890"),n=n(),popScopeId(),n),_hoisted_1$4={class:"aditor-ai-config",contenteditable:"false","aditor-ignore-event":""},_hoisted_2$2={class:"config-box"},_hoisted_3$2=_withScopeId$2(()=>createBaseVNode("div",{class:"config-title"},"配置项",-1)),_hoisted_4$2={class:"config-value"},_hoisted_5$2={class:"config-box"},_hoisted_6$2=_withScopeId$2(()=>createBaseVNode("div",{class:"config-title"},"值",-1)),_hoisted_7$2={class:"config-value"},_hoisted_8$2={class:"config-button-box"};function _sfc_render$4(n,e,r,o,s,a){const l=ElOption,c=ElSelect,d=ElInput,f=ElButton;return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$2,[_hoisted_3$2,createBaseVNode("div",_hoisted_4$2,[createVNode(c,{modelValue:n.select,"onUpdate:modelValue":e[0]||(e[0]=g=>n.select=g),onChange:n.handleChange,placeholder:"配置项"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.configs,(g,v,A)=>(openBlock(),createBlock(l,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),createBaseVNode("div",_hoisted_5$2,[_hoisted_6$2,createBaseVNode("div",_hoisted_7$2,[createVNode(d,{modelValue:n.input,"onUpdate:modelValue":e[1]||(e[1]=g=>n.input=g),style:{"max-width":"600px"},placeholder:"请输入配置值",class:"input-with-select"},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_8$2,[createVNode(f,{onClick:n.handleSave},{default:withCtx(()=>[createTextVNode("更新")]),_:1},8,["onClick"])])])}const AditorConfig=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-d17ac890"]]),config$4={secondaryType:u.BlockLeaf,dataKeyName:"msgs",validStyleList:[],defaultData:{msgs:[]}},_sfc_main$3=defineComponent({name:"aditorAIChat",components:{AssistantIcon,UserIcon},props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=ref(!0),r=ref(""),o=ref("gpt3.5"),s=ref(null),a=computed(()=>n.aNode.data.msgs),l=()=>{const M={"gpt3.5":c,sd2:f,vits:g,qianfan:d};aiAsk(n.docView,n.aNode,o.value,M[o.value]()),r.value=""},c=()=>({type:"text",name:"gpt3.5",role:"user",data:[{type:"text",text:r.value}]}),d=()=>({type:"text",name:"qianfan",role:"user",data:[{type:"text",text:r.value}]}),f=()=>({name:"sd2",role:"user",type:"text",data:[{type:"text",text:`请根据下面文字做画
`+r.value}],params:{width:800,height:600,fname:"txt2img",cfg_scale:7.5,n_iter:1,steps:20,seed:-1,prompt:r.value,negative_prompt:"(worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, (ugly:1.331), (duplicate:1.331), (morbid:1.21), (mutilated:1.21), (tranny:1.331), mutated hands, (poorly drawn hands:1.5), blurry, (bad anatomy:1.21), (bad proportions:1.331), extra limbs, (disfigured:1.331), (missing arms:1.331), (extra legs:1.331), (fused fingers:1.61051), (too many fingers:1.61051), (unclear eyes:1.331), lowers, bad hands, missing fingers, extra digit,bad hands, missing fingers, (((extra arms and legs)))"}}),g=()=>({name:"vits",role:"user",type:"text",data:[{type:"text",text:`请帮我把下面文字转成语音:
`+r.value}],params:{text:r.value}});return{inputVal:r,selectedModel:o,aditorAIChatRef:s,dataRef:a,sendAIMsg:l,deleteMsg:M=>{deleteMsg(n.docView,n.aNode,M)},copyMsg:M=>{var Y,de;if(s.value&&((Y=s.value)!=null&&Y.children[M])){const ae=(de=s.value)==null?void 0:de.children[M],ze=ae==null?void 0:ae.querySelector(".msg-chat-bubble");if(ze){const qe=document.createRange();qe.selectNode(ze);const Ue=window.getSelection();Ue==null||Ue.removeAllRanges(),Ue==null||Ue.addRange(qe),document.execCommand("copy"),Ue==null||Ue.removeAllRanges()}}},isAsking:isAsking.value,isShow:e}},config:config$4}),_withScopeId$1=n=>(pushScopeId("data-v-40471b4e"),n=n(),popScopeId(),n),_hoisted_1$3={class:"aditor-ai-chat",contenteditable:"false","aditor-ignore-event":""},_hoisted_2$1={class:"aditor-aichat-title"},_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("div",null,"AIChat",-1)),_hoisted_4$1={ref:"aditorAIChatRef",class:"aditor-aichat-content"},_hoisted_5$1={key:0,class:"aditor-ai-msg-box msg-box-assistant"},_hoisted_6$1={class:"msg-avator"},_hoisted_7$1={class:"msg-avator-inner"},_hoisted_8$1={class:"msg-content-box"},_hoisted_9$1={class:"msg-content-inner"},_hoisted_10$1={key:0,class:"msg-chat-think"},_hoisted_11$1=_withScopeId$1(()=>createBaseVNode("span",null,"思考中",-1)),_hoisted_12=_withScopeId$1(()=>createBaseVNode("div",{class:"dot-loader"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_13=[_hoisted_11$1,_hoisted_12],_hoisted_14={key:1,class:"msg-chat-bubble"},_hoisted_15=["textContent"],_hoisted_16=["src"],_hoisted_17=["src"],_hoisted_18={class:"msg-operator"},_hoisted_19={class:"msg-operator-inner"},_hoisted_20=["onClick"],_hoisted_21=["onClick"],_hoisted_22={key:1,class:"aditor-ai-msg-box msg-box-user"},_hoisted_23={class:"msg-content-box"},_hoisted_24={class:"msg-content-inner"},_hoisted_25={key:0,class:"msg-chat-think"},_hoisted_26=_withScopeId$1(()=>createBaseVNode("span",null,"思考中",-1)),_hoisted_27=_withScopeId$1(()=>createBaseVNode("div",{class:"dot-loader"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_28=[_hoisted_26,_hoisted_27],_hoisted_29={key:1,class:"msg-chat-bubble"},_hoisted_30=["textContent"],_hoisted_31=["src"],_hoisted_32=["src"],_hoisted_33={class:"msg-operator"},_hoisted_34={class:"msg-operator-inner"},_hoisted_35=["onClick"],_hoisted_36=["onClick"],_hoisted_37={class:"msg-avator"},_hoisted_38={class:"msg-avator-inner"},_hoisted_39={class:"aditor-aichat-input"},_hoisted_40={style:{display:"flex","margin-left":"10px"}};function _sfc_render$3(n,e,r,o,s,a){const l=ElSwitch,c=resolveComponent("AssistantIcon"),d=resolveComponent("UserIcon"),f=ElInput,g=ElOption,v=ElSelect,A=ElButton;return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$1,[_hoisted_3$1,createBaseVNode("div",null,[createVNode(l,{modelValue:n.isShow,"onUpdate:modelValue":e[0]||(e[0]=M=>n.isShow=M),class:"ml-2","inline-prompt":"","active-text":"收起","inactive-text":"展示"},null,8,["modelValue"])])]),withDirectives(createBaseVNode("div",_hoisted_4$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.dataRef,(M,Y)=>(openBlock(),createElementBlock("div",null,[M.role==="assistant"?(openBlock(),createElementBlock("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createVNode(c,{width:"18"})])]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[M.status===!1?(openBlock(),createElementBlock("div",_hoisted_10$1,_hoisted_13)):(openBlock(),createElementBlock("div",_hoisted_14,[(openBlock(!0),createElementBlock(Fragment,null,renderList(M.data,(de,ae)=>(openBlock(),createElementBlock("div",null,[de.type==="text"?(openBlock(),createElementBlock("span",{key:0,textContent:toDisplayString(de.text)},null,8,_hoisted_15)):createCommentVNode("",!0),de.type==="image"?(openBlock(),createElementBlock("img",{key:1,src:de.src,style:{"max-width":"150px","max-height":"200px"}},null,8,_hoisted_16)):createCommentVNode("",!0),de.type==="audio"?(openBlock(),createElementBlock("audio",{key:2,src:de.src,controls:""},null,8,_hoisted_17)):createCommentVNode("",!0)]))),256))]))]),createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[createBaseVNode("button",{onClick:de=>n.deleteMsg(Y)},"删除",8,_hoisted_20),createBaseVNode("button",{onClick:de=>n.copyMsg(Y)},"复制",8,_hoisted_21)])])])])):M.role==="user"?(openBlock(),createElementBlock("div",_hoisted_22,[createBaseVNode("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[M.status===!1?(openBlock(),createElementBlock("div",_hoisted_25,_hoisted_28)):(openBlock(),createElementBlock("div",_hoisted_29,[(openBlock(!0),createElementBlock(Fragment,null,renderList(M.data,(de,ae)=>(openBlock(),createElementBlock("div",null,[de.type==="text"?(openBlock(),createElementBlock("span",{key:0,textContent:toDisplayString(de.text)},null,8,_hoisted_30)):createCommentVNode("",!0),de.type==="image"?(openBlock(),createElementBlock("img",{key:1,src:de.src,style:{"max-width":"150px","max-height":"200px"}},null,8,_hoisted_31)):createCommentVNode("",!0),de.type==="audio"?(openBlock(),createElementBlock("audio",{key:2,src:de.src,controls:""},null,8,_hoisted_32)):createCommentVNode("",!0)]))),256))]))]),createBaseVNode("div",_hoisted_33,[createBaseVNode("div",_hoisted_34,[createBaseVNode("button",{onClick:de=>n.deleteMsg(Y)},"删除",8,_hoisted_35),createBaseVNode("button",{onClick:de=>n.copyMsg(Y)},"复制",8,_hoisted_36)])])]),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[createVNode(d,{width:"18"})])])])):createCommentVNode("",!0)]))),256))],512),[[vShow,n.isShow]]),withDirectives(createBaseVNode("div",_hoisted_39,[createVNode(f,{modelValue:n.inputVal,"onUpdate:modelValue":e[1]||(e[1]=M=>n.inputVal=M),placeholder:"请输入消息",class:"input-with-select",type:"textarea",autosize:{minRows:1,maxRows:5}},null,8,["modelValue"]),createBaseVNode("div",_hoisted_40,[createVNode(v,{modelValue:n.selectedModel,"onUpdate:modelValue":e[2]||(e[2]=M=>n.selectedModel=M),placeholder:"gpt3.5",style:{width:"115px","font-size":"12px"}},{default:withCtx(()=>[createVNode(g,{label:"gpt3.5",value:"gpt3.5"}),createVNode(g,{label:"sd2",value:"sd2"}),createVNode(g,{label:"vits",value:"vits"}),createVNode(g,{label:"qianfan",value:"qianfan"})]),_:1},8,["modelValue"]),createVNode(A,{class:"aditor-ai-send",disabled:n.isAsking,onClick:n.sendAIMsg},{default:withCtx(()=>[createTextVNode("发送")]),_:1},8,["disabled","onClick"])])],512),[[vShow,n.isShow]])])}const AditorAIChat=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-40471b4e"]]),config$3={secondaryType:u.BlockLeaf,dataKeyName:"href",validStyleList:[]},_sfc_main$2=defineComponent({name:"aditorPDF",components:{PDFIcon},props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){const e=ref(!1),r=ref(1),o=ref(1),s=f=>{const g=f.split(",")[1],v=atob(g),A=[];for(let Y=0;Y<v.length;Y+=512){const de=v.slice(Y,Y+512),ae=new Array(de.length);for(let qe=0;qe<de.length;qe++)ae[qe]=de.charCodeAt(qe);const ze=new Uint8Array(ae);A.push(ze)}return new Blob(A,{type:"application/pdf"})},a=()=>{const f=n.aNode.data.href,g=s(f),v=URL.createObjectURL(g);window.open(v,"_blank")},l=f=>(f=parseInt(f.toString()),isNaN(f)||f<1?0:f-1);return{showButtons:e,openPDF:a,pdf2AditorNode:(f=!1)=>{const g=l(r.value),v=l(o.value);request.pdf2html({href:n.aNode.data.href,is_all:f,page_start:g,page_end:v}).then(A=>{if(A.status===200){const{html:M}=A.data,Y=M.split(`
`),de=[];Y.forEach((Cn,En)=>{if(Cn.trim()==="")return;const _n=x$1("aditorText",{},{},Cn),Bn=x$1("aditorParagraph",{},{});Bn.children.push(_n),de.push(Bn)});const ae=">>> PDF转换完成("+(f?"全部":"第"+g+"到"+v)+"页) <<<",ze=x$1("aditorText",{"font-weight":"bold","background-color":"#67c23a"},{},ae),qe=x$1("aditorParagraph",{"text-align":"center"},{});qe.children.push(ze),de.push(qe);const Ue=">>> PDF转换开始("+(f?"全部":"第"+g+"到"+v)+"页) <<<",hn=x$1("aditorText",{"font-weight":"bold","background-color":"#67c23a"},{},Ue),On=x$1("aditorParagraph",{"text-align":"center"},{});On.children.push(hn),de.unshift(On);const vn=n.docView.docState.findNodeRootIndexByPos(n.aNode.start),bn=n.docView.docState.root.children[vn-1].dfsDeepestRightEndNode(),wn=[];vn!==-1?wn.push({start:bn.end,end:bn.end,startOffset:bn.length(),endOffset:bn.length()}):wn.push({start:n.docView.docState.root.start,end:n.docView.docState.root.start,startOffset:0,endOffset:0}),n.docView.dispatchViewEvent(new Event("keydown"),ot.INSERT_NODES_SELECTIONS,wn,n.docView.docState,{nodeList:de})}}).catch(A=>{console.error(A)})},formatSize:f=>f===0?"0B":f?f<1024?f+"B":f<1024*1024?(f/1024).toFixed(2)+"KB":f<1024*1024*1024?(f/1024/1024).toFixed(2)+"MB":(f/1024/1024/1024).toFixed(2)+"GB":"无大小信息",pageStart:r,pageEnd:o}},config:config$3}),_withScopeId=n=>(pushScopeId("data-v-bab31011"),n=n(),popScopeId(),n),_hoisted_1$2={class:"pdf-card",contenteditable:"false","aditor-ignore-event":""},_hoisted_2={class:"pdf-card-top"},_hoisted_3={class:"pdf-icon"},_hoisted_4={class:"pdf-info"},_hoisted_5={class:"pdf-name"},_hoisted_6={class:"pdf-size"},_hoisted_7={class:"buttons"},_hoisted_8={class:"get-by-pages"},_hoisted_9=_withScopeId(()=>createBaseVNode("div",null,"到",-1)),_hoisted_10=_withScopeId(()=>createBaseVNode("div",null,"页",-1)),_hoisted_11={class:"get-page-cancel"};function _sfc_render$2(n,e,r,o,s,a){const l=resolveComponent("PDFIcon"),c=ElIcon,d=ElPopover;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(c,{size:40,class:"el-icon--right"},{default:withCtx(()=>[createVNode(l)]),_:1})]),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,toDisplayString(n.aNode.data.name),1),createBaseVNode("div",_hoisted_6,toDisplayString(n.formatSize(n.aNode.data.size)),1)]),createBaseVNode("div",_hoisted_7,[createBaseVNode("button",{onClick:e[0]||(e[0]=(...f)=>n.openPDF&&n.openPDF(...f))},"新窗口打开"),createBaseVNode("button",{onClick:e[1]||(e[1]=f=>n.pdf2AditorNode(!0))},"转文本"),createVNode(d,{visible:n.showButtons,placement:"bottom",width:190},{reference:withCtx(()=>[createBaseVNode("button",{onClick:e[6]||(e[6]=f=>n.showButtons=!n.showButtons)},"分页转")]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[2]||(e[2]=f=>n.pageStart=f)},null,512),[[vModelText,n.pageStart]]),_hoisted_9,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[3]||(e[3]=f=>n.pageEnd=f)},null,512),[[vModelText,n.pageEnd]]),_hoisted_10,createBaseVNode("button",{onClick:e[4]||(e[4]=f=>{n.showButtons=!1,n.pdf2AditorNode(!1)})},"确定")]),createBaseVNode("div",_hoisted_11,[createBaseVNode("button",{onClick:e[5]||(e[5]=f=>n.showButtons=!1)},"取消")])]),_:1},8,["visible"])])])])}const AditorPDF=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-bab31011"]]);class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,o){[e,r]=clip(this,e,r);let s=[];return this.decompose(0,e,s,2),o.length&&o.decompose(0,o.length,s,3),this.decompose(r,this.length,s,1),TextNode.from(s,this.length-(r-e)+o.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=clip(this,e,r);let o=[];return this.decompose(e,r,o,0),TextNode.from(o,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),o=this.length-this.scanIdentical(e,-1),s=new RawTextCursor(this),a=new RawTextCursor(e);for(let l=r,c=r;;){if(s.next(l),a.next(l),l=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(c+=s.value.length,s.done||c>=o)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,r=this.length){return new PartialTextCursor(this,e,r)}iterLines(e,r){let o;if(e==null)o=this.iter();else{r==null&&(r=this.lines+1);let s=this.line(e).from;o=this.iterRange(s,Math.max(s,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor(o)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,r=textLength(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,o,s){for(let a=0;;a++){let l=this.text[a],c=s+l.length;if((r?o:c)>=e)return new Line(s,c,o,l);s=c+1,o++}}decompose(e,r,o,s){let a=e<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(s&1){let l=o.pop(),c=appendText(a.text,l.text.slice(),0,a.length);if(c.length<=32)o.push(new TextLeaf(c,l.length+a.length));else{let d=c.length>>1;o.push(new TextLeaf(c.slice(0,d)),new TextLeaf(c.slice(d)))}}else o.push(a)}replace(e,r,o){if(!(o instanceof TextLeaf))return super.replace(e,r,o);[e,r]=clip(this,e,r);let s=appendText(this.text,appendText(o.text,sliceText(this.text,0,e)),r),a=this.length+o.length-(r-e);return s.length<=32?new TextLeaf(s,a):TextNode.from(TextLeaf.split(s,[]),a)}sliceString(e,r=this.length,o=`
`){[e,r]=clip(this,e,r);let s="";for(let a=0,l=0;a<=r&&l<this.text.length;l++){let c=this.text[l],d=a+c.length;a>e&&l&&(s+=o),e<d&&r>a&&(s+=c.slice(Math.max(0,e-a),r-a)),a=d+1}return s}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let o=[],s=-1;for(let a of e)o.push(a),s+=a.length+1,o.length==32&&(r.push(new TextLeaf(o,s)),o=[],s=-1);return s>-1&&r.push(new TextLeaf(o,s)),r}}class TextNode extends Text{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let o of e)this.lines+=o.lines}lineInner(e,r,o,s){for(let a=0;;a++){let l=this.children[a],c=s+l.length,d=o+l.lines-1;if((r?d:c)>=e)return l.lineInner(e,r,o,s);s=c+1,o=d+1}}decompose(e,r,o,s){for(let a=0,l=0;l<=r&&a<this.children.length;a++){let c=this.children[a],d=l+c.length;if(e<=d&&r>=l){let f=s&((l<=e?1:0)|(d>=r?2:0));l>=e&&d<=r&&!f?o.push(c):c.decompose(e-l,r-l,o,f)}l=d+1}}replace(e,r,o){if([e,r]=clip(this,e,r),o.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.length;if(e>=a&&r<=c){let d=l.replace(e-a,r-a,o),f=this.lines-l.lines+d.lines;if(d.lines<f>>4&&d.lines>f>>6){let g=this.children.slice();return g[s]=d,new TextNode(g,this.length-(r-e)+o.length)}return super.replace(a,c,d)}a=c+1}return super.replace(e,r,o)}sliceString(e,r=this.length,o=`
`){[e,r]=clip(this,e,r);let s="";for(let a=0,l=0;a<this.children.length&&l<=r;a++){let c=this.children[a],d=l+c.length;l>e&&a&&(s+=o),e<d&&r>l&&(s+=c.sliceString(e-l,r-l,o)),l=d+1}return s}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof TextNode))return 0;let o=0,[s,a,l,c]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=r,a+=r){if(s==l||a==c)return o;let d=this.children[s],f=e.children[a];if(d!=f)return o+d.scanIdentical(f,r);o+=d.length+1}}static from(e,r=e.reduce((o,s)=>o+s.length+1,-1)){let o=0;for(let M of e)o+=M.lines;if(o<32){let M=[];for(let Y of e)Y.flatten(M);return new TextLeaf(M,r)}let s=Math.max(32,o>>5),a=s<<1,l=s>>1,c=[],d=0,f=-1,g=[];function v(M){let Y;if(M.lines>a&&M instanceof TextNode)for(let de of M.children)v(de);else M.lines>l&&(d>l||!d)?(A(),c.push(M)):M instanceof TextLeaf&&d&&(Y=g[g.length-1])instanceof TextLeaf&&M.lines+Y.lines<=32?(d+=M.lines,f+=M.length+1,g[g.length-1]=new TextLeaf(Y.text.concat(M.text),Y.length+1+M.length)):(d+M.lines>s&&A(),d+=M.lines,f+=M.length+1,g.push(M))}function A(){d!=0&&(c.push(g.length==1?g[0]:TextNode.from(g,f)),f=-1,d=g.length=0)}for(let M of e)v(M);return A(),c.length==1?c[0]:new TextNode(c,r)}}Text.empty=new TextLeaf([""],0);function textLength(n){let e=-1;for(let r of n)e+=r.length+1;return e}function appendText(n,e,r=0,o=1e9){for(let s=0,a=0,l=!0;a<n.length&&s<=o;a++){let c=n[a],d=s+c.length;d>=r&&(d>o&&(c=c.slice(0,o-s)),s<r&&(c=c.slice(r-s)),l?(e[e.length-1]+=c,l=!1):e.push(c)),s=d+1}return e}function sliceText(n,e,r){return appendText(n,[""],e,r)}class RawTextCursor{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let o=this.nodes.length-1,s=this.nodes[o],a=this.offsets[o],l=a>>1,c=s instanceof TextLeaf?s.text.length:s.children.length;if(l==(r>0?c:0)){if(o==0)return this.done=!0,this.value="",this;r>0&&this.offsets[o-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(r>0?0:1)){if(this.offsets[o]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof TextLeaf){let d=s.text[l+(r<0?-1:0)];if(this.offsets[o]+=r,d.length>Math.max(0,e))return this.value=e==0?d:r>0?d.slice(e):d.slice(0,d.length-e),this;e-=d.length}else{let d=s.children[l+(r<0?-1:0)];e>d.length?(e-=d.length,this.offsets[o]+=r):(r<0&&this.offsets[o]--,this.nodes.push(d),this.offsets.push(r>0?1:(d instanceof TextLeaf?d.text.length:d.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,r,o){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,r>o?-1:1),this.pos=r>o?e.length:0,this.from=Math.min(r,o),this.to=Math.max(r,o)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let o=r<0?this.pos-this.from:this.to-this.pos;e>o&&(e=o),o-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*r,this.value=s.length<=o?s:r<0?s.slice(s.length-o):s.slice(0,o),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:o,value:s}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,r,o,s){this.from=e,this.to=r,this.number=o,this.text=s}get length(){return this.to-this.from}}function clip(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<extend.length;n++)extend[n]+=extend[n-1];function isExtendingChar(n){for(let e=1;e<extend.length;e+=2)if(extend[e]>n)return extend[e-1]<=n;return!1}function isRegionalIndicator(n){return n>=127462&&n<=127487}const ZWJ=8205;function findClusterBreak(n,e,r=!0,o=!0){return(r?nextClusterBreak:prevClusterBreak)(n,e,o)}function nextClusterBreak(n,e,r){if(e==n.length)return e;e&&surrogateLow(n.charCodeAt(e))&&surrogateHigh(n.charCodeAt(e-1))&&e--;let o=codePointAt(n,e);for(e+=codePointSize(o);e<n.length;){let s=codePointAt(n,e);if(o==ZWJ||s==ZWJ||r&&isExtendingChar(s))e+=codePointSize(s),o=s;else if(isRegionalIndicator(s)){let a=0,l=e-2;for(;l>=0&&isRegionalIndicator(codePointAt(n,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function prevClusterBreak(n,e,r){for(;e>0;){let o=nextClusterBreak(n,e-2,r);if(o<e)return o;e--}return 0}function surrogateLow(n){return n>=56320&&n<57344}function surrogateHigh(n){return n>=55296&&n<56320}function codePointAt(n,e){let r=n.charCodeAt(e);if(!surrogateHigh(r)||e+1==n.length)return r;let o=n.charCodeAt(e+1);return surrogateLow(o)?(r-55296<<10)+(o-56320)+65536:r}function fromCodePoint(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function codePointSize(n){return n<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r+1];e+=o<0?this.sections[r]:o}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,o=0,s=0;r<this.sections.length;){let a=this.sections[r++],l=this.sections[r++];l<0?(e(o,s,a),s+=a):s+=l,o+=a}}iterChangedRanges(e,r=!1){iterChanges(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let o=this.sections[r++],s=this.sections[r++];s<0?e.push(o,s):e.push(s,o)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,r=!1){return e.empty?this:mapSet(this,e,r)}mapPos(e,r=-1,o=MapMode.Simple){let s=0,a=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],d=this.sections[l++],f=s+c;if(d<0){if(f>e)return a+(e-s);a+=c}else{if(o!=MapMode.Simple&&f>=e&&(o==MapMode.TrackDel&&s<e&&f>e||o==MapMode.TrackBefore&&s<e||o==MapMode.TrackAfter&&f>e))return null;if(f>e||f==e&&r<0&&!c)return e==s||r<0?a:a+d;a+=d}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,r=e){for(let o=0,s=0;o<this.sections.length&&s<=r;){let a=this.sections[o++],l=this.sections[o++],c=s+a;if(l>=0&&s<=r&&c>=e)return s<e&&c>r?"cover":!0;s=c}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let o=this.sections[r++],s=this.sections[r++];e+=(e?" ":"")+o+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,o,s,a,l)=>e=e.replace(s,s+(o-r),l),!1),e}mapDesc(e,r=!1){return mapSet(this,e,r,!0)}invert(e){let r=this.sections.slice(),o=[];for(let s=0,a=0;s<r.length;s+=2){let l=r[s],c=r[s+1];if(c>=0){r[s]=c,r[s+1]=l;let d=s>>1;for(;o.length<d;)o.push(Text.empty);o.push(l?e.slice(a,a+l):Text.empty)}a+=l}return new ChangeSet(r,o)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,r=!1){return e.empty?this:mapSet(this,e,r,!0)}iterChanges(e,r=!1){iterChanges(this,e,r)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let r=[],o=[],s=[],a=new SectionIter(this);e:for(let l=0,c=0;;){let d=l==e.length?1e9:e[l++];for(;c<d||c==d&&a.len==0;){if(a.done)break e;let g=Math.min(a.len,d-c);addSection(s,g,-1);let v=a.ins==-1?-1:a.off==0?a.ins:0;addSection(r,g,v),v>0&&addInsert(o,r,a.text),a.forward(g),c+=g}let f=e[l++];for(;c<f;){if(a.done)break e;let g=Math.min(a.len,f-c);addSection(r,g,-1),addSection(s,g,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(g),c+=g}}return{changes:new ChangeSet(r,o),filtered:ChangeDesc.create(s)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r],s=this.sections[r+1];s<0?e.push(o):s==0?e.push([o]):e.push([o].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,o){let s=[],a=[],l=0,c=null;function d(g=!1){if(!g&&!s.length)return;l<r&&addSection(s,r-l,-1);let v=new ChangeSet(s,a);c=c?c.compose(v.map(c)):v,s=[],a=[],l=0}function f(g){if(Array.isArray(g))for(let v of g)f(v);else if(g instanceof ChangeSet){if(g.length!=r)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${r})`);d(),c=c?c.compose(g.map(c)):g}else{let{from:v,to:A=v,insert:M}=g;if(v>A||v<0||A>r)throw new RangeError(`Invalid change range ${v} to ${A} (in doc of length ${r})`);let Y=M?typeof M=="string"?Text.of(M.split(o||DefaultSplit)):M:Text.empty,de=Y.length;if(v==A&&de==0)return;v<l&&d(),v>l&&addSection(s,v-l,-1),addSection(s,A-v,de),addInsert(a,s,Y),l=A}}return f(e),d(!c),c}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],o=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")r.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)r.push(a[0],0);else{for(;o.length<s;)o.push(Text.empty);o[s]=Text.of(a.slice(1)),r.push(a[0],o[s].length)}}}return new ChangeSet(r,o)}static createSet(e,r){return new ChangeSet(e,r)}}function addSection(n,e,r,o=!1){if(e==0&&r<=0)return;let s=n.length-2;s>=0&&r<=0&&r==n[s+1]?n[s]+=e:e==0&&n[s]==0?n[s+1]+=r:o?(n[s]+=e,n[s+1]+=r):n.push(e,r)}function addInsert(n,e,r){if(r.length==0)return;let o=e.length-2>>1;if(o<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<o;)n.push(Text.empty);n.push(r)}}function iterChanges(n,e,r){let o=n.inserted;for(let s=0,a=0,l=0;l<n.sections.length;){let c=n.sections[l++],d=n.sections[l++];if(d<0)s+=c,a+=c;else{let f=s,g=a,v=Text.empty;for(;f+=c,g+=d,d&&o&&(v=v.append(o[l-2>>1])),!(r||l==n.sections.length||n.sections[l+1]<0);)c=n.sections[l++],d=n.sections[l++];e(s,f,a,g,v),s=f,a=g}}}function mapSet(n,e,r,o=!1){let s=[],a=o?[]:null,l=new SectionIter(n),c=new SectionIter(e);for(let d=-1;;)if(l.ins==-1&&c.ins==-1){let f=Math.min(l.len,c.len);addSection(s,f,-1),l.forward(f),c.forward(f)}else if(c.ins>=0&&(l.ins<0||d==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!r))){let f=c.len;for(addSection(s,c.ins,-1);f;){let g=Math.min(l.len,f);l.ins>=0&&d<l.i&&l.len<=g&&(addSection(s,0,l.ins),a&&addInsert(a,s,l.text),d=l.i),l.forward(g),f-=g}c.next()}else if(l.ins>=0){let f=0,g=l.len;for(;g;)if(c.ins==-1){let v=Math.min(g,c.len);f+=v,g-=v,c.forward(v)}else if(c.ins==0&&c.len<g)g-=c.len,c.next();else break;addSection(s,f,d<l.i?l.ins:0),a&&d<l.i&&addInsert(a,s,l.text),d=l.i,l.forward(l.len-g)}else{if(l.done&&c.done)return a?ChangeSet.createSet(s,a):ChangeDesc.create(s);throw new Error("Mismatched change set lengths")}}function composeSets(n,e,r=!1){let o=[],s=r?[]:null,a=new SectionIter(n),l=new SectionIter(e);for(let c=!1;;){if(a.done&&l.done)return s?ChangeSet.createSet(o,s):ChangeDesc.create(o);if(a.ins==0)addSection(o,a.len,0,c),a.next();else if(l.len==0&&!l.done)addSection(o,0,l.ins,c),s&&addInsert(s,o,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let d=Math.min(a.len2,l.len),f=o.length;if(a.ins==-1){let g=l.ins==-1?-1:l.off?0:l.ins;addSection(o,d,g,c),s&&g&&addInsert(s,o,l.text)}else l.ins==-1?(addSection(o,a.off?0:a.len,d,c),s&&addInsert(s,o,a.textBit(d))):(addSection(o,a.off?0:a.len,l.off?0:l.ins,c),s&&!l.off&&addInsert(s,o,l.text));c=(a.ins>d||l.ins>=0&&l.len>d)&&(c||o.length>f),a.forward2(d),l.forward(d)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Text.empty:e[r]}textBit(e){let{inserted:r}=this.set,o=this.i-2>>1;return o>=r.length&&!e?Text.empty:r[o].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,r,o){this.from=e,this.to=r,this.flags=o}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let o,s;return this.empty?o=s=e.mapPos(this.from,r):(o=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),o==this.from&&s==this.to?this:new SelectionRange(o,s,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return EditorSelection.range(e,r);let o=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return EditorSelection.range(this.anchor,o)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,r,o){return new SelectionRange(e,r,o)}}class EditorSelection{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:EditorSelection.create(this.ranges.map(o=>o.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let o=0;o<this.ranges.length;o++)if(!this.ranges[o].eq(e.ranges[o],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,r=!0){return EditorSelection.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let o=this.ranges.slice();return o[r]=e,EditorSelection.create(o,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(r=>SelectionRange.fromJSON(r)),e.main)}static single(e,r=e){return new EditorSelection([EditorSelection.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let o=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=o:a.from<o)return EditorSelection.normalized(e.slice(),r);o=a.to}return new EditorSelection(e,r)}static cursor(e,r=0,o,s){return SelectionRange.create(e,e,(r==0?0:r<0?8:16)|(o==null?7:Math.min(6,o))|(s??16777215)<<6)}static range(e,r,o,s){let a=(o??16777215)<<6|(s==null?7:Math.min(6,s));return r<e?SelectionRange.create(r,e,48|a):SelectionRange.create(e,r,(r>e?8:0)|a)}static normalized(e,r=0){let o=e[r];e.sort((s,a)=>s.from-a.from),r=e.indexOf(o);for(let s=1;s<e.length;s++){let a=e[s],l=e[s-1];if(a.empty?a.from<=l.to:a.from<l.to){let c=l.from,d=Math.max(a.to,l.to);s<=r&&r--,e.splice(--s,2,a.anchor>a.head?EditorSelection.range(d,c):EditorSelection.range(c,d))}}return new EditorSelection(e,r)}}function checkSelection(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,r,o,s,a){this.combine=e,this.compareInput=r,this.compare=o,this.isStatic=s,this.id=nextID++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new Facet(e.combine||(r=>r),e.compareInput||((r,o)=>r===o),e.compare||(e.combine?(r,o)=>r===o:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,r)}from(e,r){return r||(r=o=>o),this.compute([e],o=>r(o.field(e)))}}function sameArray$1(n,e){return n==e||n.length==e.length&&n.every((r,o)=>r===e[o])}class FacetProvider{constructor(e,r,o,s){this.dependencies=e,this.facet=r,this.type=o,this.value=s,this.id=nextID++}dynamicSlot(e){var r;let o=this.value,s=this.facet.compareInput,a=this.id,l=e[a]>>1,c=this.type==2,d=!1,f=!1,g=[];for(let v of this.dependencies)v=="doc"?d=!0:v=="selection"?f=!0:((r=e[v.id])!==null&&r!==void 0?r:1)&1||g.push(e[v.id]);return{create(v){return v.values[l]=o(v),1},update(v,A){if(d&&A.docChanged||f&&(A.docChanged||A.selection)||ensureAll(v,g)){let M=o(v);if(c?!compareArray(M,v.values[l],s):!s(M,v.values[l]))return v.values[l]=M,1}return 0},reconfigure:(v,A)=>{let M,Y=A.config.address[a];if(Y!=null){let de=getAddr(A,Y);if(this.dependencies.every(ae=>ae instanceof Facet?A.facet(ae)===v.facet(ae):ae instanceof StateField?A.field(ae,!1)==v.field(ae,!1):!0)||(c?compareArray(M=o(v),de,s):s(M=o(v),de)))return v.values[l]=de,0}else M=o(v);return v.values[l]=M,1}}}}function compareArray(n,e,r){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++)if(!r(n[o],e[o]))return!1;return!0}function ensureAll(n,e){let r=!1;for(let o of e)ensureAddr(n,o)&1&&(r=!0);return r}function dynamicFacetSlot(n,e,r){let o=r.map(d=>n[d.id]),s=r.map(d=>d.type),a=o.filter(d=>!(d&1)),l=n[e.id]>>1;function c(d){let f=[];for(let g=0;g<o.length;g++){let v=getAddr(d,o[g]);if(s[g]==2)for(let A of v)f.push(A);else f.push(v)}return e.combine(f)}return{create(d){for(let f of o)ensureAddr(d,f);return d.values[l]=c(d),1},update(d,f){if(!ensureAll(d,a))return 0;let g=c(d);return e.compare(g,d.values[l])?0:(d.values[l]=g,1)},reconfigure(d,f){let g=ensureAll(d,o),v=f.config.facets[e.id],A=f.facet(e);if(v&&!g&&sameArray$1(r,v))return d.values[l]=A,0;let M=c(d);return e.compare(M,A)?(d.values[l]=A,0):(d.values[l]=M,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,r,o,s,a){this.id=e,this.createF=r,this.updateF=o,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let r=new StateField(nextID++,e.create,e.update,e.compare||((o,s)=>o===s),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(initField).find(o=>o.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:o=>(o.values[r]=this.create(o),1),update:(o,s)=>{let a=o.values[r],l=this.updateF(a,s);return this.compareF(a,l)?0:(o.values[r]=l,1)},reconfigure:(o,s)=>s.config.address[this.id]!=null?(o.values[r]=s.field(this),0):(o.values[r]=this.create(o),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(n){return e=>new PrecExtension(e,n)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,r){this.inner=e,this.prec=r}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,r){this.compartment=e,this.inner=r}}class Configuration{constructor(e,r,o,s,a,l){for(this.base=e,this.compartments=r,this.dynamicSlots=o,this.address=s,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<o.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,o){let s=[],a=Object.create(null),l=new Map;for(let A of flatten(e,r,l))A instanceof StateField?s.push(A):(a[A.facet.id]||(a[A.facet.id]=[])).push(A);let c=Object.create(null),d=[],f=[];for(let A of s)c[A.id]=f.length<<1,f.push(M=>A.slot(M));let g=o==null?void 0:o.config.facets;for(let A in a){let M=a[A],Y=M[0].facet,de=g&&g[A]||[];if(M.every(ae=>ae.type==0))if(c[Y.id]=d.length<<1|1,sameArray$1(de,M))d.push(o.facet(Y));else{let ae=Y.combine(M.map(ze=>ze.value));d.push(o&&Y.compare(ae,o.facet(Y))?o.facet(Y):ae)}else{for(let ae of M)ae.type==0?(c[ae.id]=d.length<<1|1,d.push(ae.value)):(c[ae.id]=f.length<<1,f.push(ze=>ae.dynamicSlot(ze)));c[Y.id]=f.length<<1,f.push(ae=>dynamicFacetSlot(ae,Y,M))}}let v=f.map(A=>A(c));return new Configuration(e,l,v,c,d,a)}}function flatten(n,e,r){let o=[[],[],[],[],[]],s=new Map;function a(l,c){let d=s.get(l);if(d!=null){if(d<=c)return;let f=o[d].indexOf(l);f>-1&&o[d].splice(f,1),l instanceof CompartmentInstance&&r.delete(l.compartment)}if(s.set(l,c),Array.isArray(l))for(let f of l)a(f,c);else if(l instanceof CompartmentInstance){if(r.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;r.set(l.compartment,f),a(f,c)}else if(l instanceof PrecExtension)a(l.inner,l.prec);else if(l instanceof StateField)o[c].push(l),l.provides&&a(l.provides,c);else if(l instanceof FacetProvider)o[c].push(l),l.facet.extensions&&a(l.facet.extensions,Prec_.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(f,c)}}return a(n,Prec_.default),o.reduce((l,c)=>l.concat(c))}function ensureAddr(n,e){if(e&1)return 2;let r=e>>1,o=n.status[r];if(o==4)throw new Error("Cyclic dependency between fields and/or facets");if(o&2)return o;n.status[r]=4;let s=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|s}function getAddr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:n=>n.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:n=>n.length?n[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:n=>n.length?n[0]:!1});class Annotation{constructor(e,r){this.type=e,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let o=[];for(let s of e){let a=s.map(r);a&&o.push(a)}return o}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,r,o,s,a,l){this.startState=e,this.changes=r,this.selection=o,this.effects=s,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,o&&checkSelection(o,r.newLength),a.some(c=>c.type==Transaction.time)||(this.annotations=a.concat(Transaction.time.of(Date.now())))}static create(e,r,o,s,a,l){return new Transaction(e,r,o,s,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(n,e){let r=[];for(let o=0,s=0;;){let a,l;if(o<n.length&&(s==e.length||e[s]>=n[o]))a=n[o++],l=n[o++];else if(s<e.length)a=e[s++],l=e[s++];else return r;!r.length||r[r.length-1]<a?r.push(a,l):r[r.length-1]<l&&(r[r.length-1]=l)}}function mergeTransaction(n,e,r){var o;let s,a,l;return r?(s=e.changes,a=ChangeSet.empty(e.changes.length),l=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),a=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(s)),{changes:l,selection:e.selection?e.selection.map(a):(o=n.selection)===null||o===void 0?void 0:o.map(s),effects:StateEffect.mapEffects(n.effects,s).concat(StateEffect.mapEffects(e.effects,a)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(n,e,r){let o=e.selection,s=asArray$1(e.annotations);return e.userEvent&&(s=s.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],r,n.facet(lineSeparator)),selection:o&&(o instanceof EditorSelection?o:EditorSelection.single(o.anchor,o.head)),effects:asArray$1(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(n,e,r){let o=resolveTransactionInner(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(r=!1);let l=!!e[a].sequential;o=mergeTransaction(o,resolveTransactionInner(n,e[a],l?o.changes.newLength:n.doc.length),l)}let s=Transaction.create(n,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return extendTransaction(r?filterTransaction(s):s)}function filterTransaction(n){let e=n.startState,r=!0;for(let s of e.facet(changeFilter)){let a=s(n);if(a===!1){r=!1;break}Array.isArray(a)&&(r=r===!0?a:joinRanges(r,a))}if(r!==!0){let s,a;if(r===!1)a=n.changes.invertedDesc,s=ChangeSet.empty(e.doc.length);else{let l=n.changes.filter(r);s=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}n=Transaction.create(e,s,n.selection&&n.selection.map(a),StateEffect.mapEffects(n.effects,a),n.annotations,n.scrollIntoView)}let o=e.facet(transactionFilter);for(let s=o.length-1;s>=0;s--){let a=o[s](n);a instanceof Transaction?n=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Transaction?n=a[0]:n=resolveTransaction(e,asArray$1(a),!1)}return n}function extendTransaction(n){let e=n.startState,r=e.facet(transactionExtender),o=n;for(let s=r.length-1;s>=0;s--){let a=r[s](n);a&&Object.keys(a).length&&(o=mergeTransaction(o,resolveTransactionInner(e,a,n.changes.newLength),!0))}return o==n?n:Transaction.create(e,n.changes,n.selection,o.effects,o.annotations,o.scrollIntoView)}const none$2=[];function asArray$1(n){return n==null?none$2:Array.isArray(n)?n:[n]}var CharCategory=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(n){}function hasWordChar(n){if(wordChar)return wordChar.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(n){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,r,o,s,a,l){this.config=e,this.doc=r,this.selection=o,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)ensureAddr(this,c<<1);this.computeSlot=null}field(e,r=!0){let o=this.config.address[e.id];if(o==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,o),getAddr(this,o)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let r=this.config,{base:o,compartments:s}=r;for(let c of e.effects)c.is(Compartment.reconfigure)?(r&&(s=new Map,r.compartments.forEach((d,f)=>s.set(f,d)),r=null),s.set(c.value.compartment,c.value.extension)):c.is(StateEffect.reconfigure)?(r=null,o=c.value):c.is(StateEffect.appendConfig)&&(r=null,o=asArray$1(o).concat(c.value));let a;r?a=e.startState.values.slice():(r=Configuration.resolve(o,s,this),a=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(d,f)=>f.reconfigure(d,this),null).values);let l=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(r,e.newDoc,l,a,(c,d)=>d.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:EditorSelection.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,o=e(r.ranges[0]),s=this.changes(o.changes),a=[o.range],l=asArray$1(o.effects);for(let c=1;c<r.ranges.length;c++){let d=e(r.ranges[c]),f=this.changes(d.changes),g=f.map(s);for(let A=0;A<c;A++)a[A]=a[A].map(g);let v=s.mapDesc(f,!0);a.push(d.range.map(v)),s=s.compose(g),l=StateEffect.mapEffects(l,g).concat(StateEffect.mapEffects(asArray$1(d.effects),v))}return{changes:s,selection:EditorSelection.create(a,r.mainIndex),effects:l}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let o in e){let s=e[o];s instanceof StateField&&this.config.address[s.id]!=null&&(r[o]=s.spec.toJSON(this.field(e[o]),this))}return r}static fromJSON(e,r={},o){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(o){for(let a in o)if(Object.prototype.hasOwnProperty.call(e,a)){let l=o[a],c=e[a];s.push(l.init(d=>l.spec.fromJSON(c,d)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:r.extensions?s.concat([r.extensions]):s})}static create(e={}){let r=Configuration.resolve(e.extensions||[],new Map),o=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),s=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(s,o.length),r.staticFacet(allowMultipleSelections)||(s=s.asSingle()),new EditorState(r,o,s,r.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...r){for(let o of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(o,e)){e=o[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(o,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>r.length?o:r[a-1]})),e}languageDataAt(e,r,o=-1){let s=[];for(let a of this.facet(languageData))for(let l of a(this,r,o))Object.prototype.hasOwnProperty.call(l,e)&&s.push(l[e]);return s}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:o,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-o,c=e-o;for(;l>0;){let d=findClusterBreak(r,l,!1);if(a(r.slice(d,l))!=CharCategory.Word)break;l=d}for(;c<s;){let d=findClusterBreak(r,c);if(a(r.slice(c,d))!=CharCategory.Word)break;c=d}return l==c?null:EditorSelection.range(l+o,c+o)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:n=>n.length?n[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(n,e){let r=Object.keys(n),o=Object.keys(e);return r.length==o.length&&r.every(s=>n[s]==e[s])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(n,e,r={}){let o={};for(let s of n)for(let a of Object.keys(s)){let l=s[a],c=o[a];if(c===void 0)o[a]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(r,a))o[a]=r[a](c,l);else throw new Error("Config merge conflict for field "+a)}for(let s in e)o[s]===void 0&&(o[s]=e[s]);return o}class RangeValue{eq(e){return this==e}range(e,r=e){return Range$1.create(e,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Ui{constructor(e,r,o){this.from=e,this.to=r,this.value=o}static create(e,r,o){return new Ui(e,r,o)}};function cmpRange(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Chunk{constructor(e,r,o,s){this.from=e,this.to=r,this.value=o,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,r,o,s=0){let a=o?this.to:this.from;for(let l=s,c=a.length;;){if(l==c)return l;let d=l+c>>1,f=a[d]-e||(o?this.value[d].endSide:this.value[d].startSide)-r;if(d==l)return f>=0?l:c;f>=0?c=d:l=d+1}}between(e,r,o,s){for(let a=this.findIndex(r,-1e9,!0),l=this.findIndex(o,1e9,!1,a);a<l;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,r){let o=[],s=[],a=[],l=-1,c=-1;for(let d=0;d<this.value.length;d++){let f=this.value[d],g=this.from[d]+e,v=this.to[d]+e,A,M;if(g==v){let Y=r.mapPos(g,f.startSide,f.mapMode);if(Y==null||(A=M=Y,f.startSide!=f.endSide&&(M=r.mapPos(g,f.endSide),M<A)))continue}else if(A=r.mapPos(g,f.startSide),M=r.mapPos(v,f.endSide),A>M||A==M&&f.startSide>0&&f.endSide<=0)continue;(M-A||f.endSide-f.startSide)<0||(l<0&&(l=A),f.point&&(c=Math.max(c,M-A)),o.push(f),s.push(A-l),a.push(M-l))}return{mapped:o.length?new Chunk(s,a,o,c):null,pos:l}}}class RangeSet{constructor(e,r,o,s){this.chunkPos=e,this.chunk=r,this.nextLayer=o,this.maxPoint=s}static create(e,r,o,s){return new RangeSet(e,r,o,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:o=!1,filterFrom:s=0,filterTo:a=this.length}=e,l=e.filter;if(r.length==0&&!l)return this;if(o&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let c=new LayerCursor(this,null,-1).goto(0),d=0,f=[],g=new RangeSetBuilder;for(;c.value||d<r.length;)if(d<r.length&&(c.from-r[d].from||c.startSide-r[d].value.startSide)>=0){let v=r[d++];g.addInner(v.from,v.to,v.value)||f.push(v)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(d==r.length||this.chunkEnd(c.chunkIndex)<r[d].from)&&(!l||s>this.chunkEnd(c.chunkIndex)||a<this.chunkPos[c.chunkIndex])&&g.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||s>c.to||a<c.from||l(c.from,c.to,c.value))&&(g.addInner(c.from,c.to,c.value)||f.push(Range$1.create(c.from,c.to,c.value))),c.next());return g.finishInner(this.nextLayer.isEmpty&&!f.length?RangeSet.empty:this.nextLayer.update({add:f,filter:l,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],o=[],s=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],d=this.chunk[l],f=e.touchesRange(c,c+d.length);if(f===!1)s=Math.max(s,d.maxPoint),r.push(d),o.push(e.mapPos(c));else if(f===!0){let{mapped:g,pos:v}=d.map(c,e);g&&(s=Math.max(s,g.maxPoint),r.push(g),o.push(v))}}let a=this.nextLayer.map(e);return r.length==0?a:new RangeSet(o,r,a||RangeSet.empty,s)}between(e,r,o){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s];if(r>=a&&e<=a+l.length&&l.between(a,e-a,r-a,o)===!1)return}this.nextLayer.between(e,r,o)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return HeapCursor.from(e).goto(r)}static compare(e,r,o,s,a=-1){let l=e.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=a),c=r.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=a),d=findSharedChunks(l,c,o),f=new SpanCursor(l,d,a),g=new SpanCursor(c,d,a);o.iterGaps((v,A,M)=>compare(f,v,g,A,M,s)),o.empty&&o.length==0&&compare(f,0,g,0,0,s)}static eq(e,r,o=0,s){s==null&&(s=999999999);let a=e.filter(g=>!g.isEmpty&&r.indexOf(g)<0),l=r.filter(g=>!g.isEmpty&&e.indexOf(g)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let c=findSharedChunks(a,l),d=new SpanCursor(a,c,0).goto(o),f=new SpanCursor(l,c,0).goto(o);for(;;){if(d.to!=f.to||!sameValues(d.active,f.active)||d.point&&(!f.point||!d.point.eq(f.point)))return!1;if(d.to>s)return!0;d.next(),f.next()}}static spans(e,r,o,s,a=-1){let l=new SpanCursor(e,null,a).goto(r),c=r,d=l.openStart;for(;;){let f=Math.min(l.to,o);if(l.point){let g=l.activeForPoint(l.to),v=l.pointFrom<r?g.length+1:l.point.startSide<0?g.length:Math.min(g.length,d);s.point(c,f,l.point,g,v,l.pointRank),d=Math.min(l.openEnd(f),g.length)}else f>c&&(s.span(c,f,l.active,d),d=l.openEnd(f));if(l.to>o)return d+(l.point&&l.to>o?1:0);c=l.to,l.next()}}static of(e,r=!1){let o=new RangeSetBuilder;for(let s of e instanceof Range$1?[e]:r?lazySort(e):e)o.add(s.from,s.to,s.value);return o.finish()}static join(e){if(!e.length)return RangeSet.empty;let r=e[e.length-1];for(let o=e.length-2;o>=0;o--)for(let s=e[o];s!=RangeSet.empty;s=s.nextLayer)r=new RangeSet(s.chunkPos,s.chunk,r,Math.max(s.maxPoint,r.maxPoint));return r}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let o=n[r];if(cmpRange(e,o)>0)return n.slice().sort(cmpRange);e=o}return n}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,o){this.addInner(e,r,o)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,r,o)}addInner(e,r,o){let s=e-this.lastTo||o.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||o.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=o,this.lastFrom=e,this.lastTo=r,this.value.push(o),o.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let o=r.value.length-1;return this.last=r.value[o],this.lastFrom=r.from[o]+e,this.lastTo=r.to[o]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(n,e,r){let o=new Map;for(let a of n)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&o.set(a.chunk[l],a.chunkPos[l]);let s=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let c=o.get(a.chunk[l]);c!=null&&(r?r.mapPos(c):c)==a.chunkPos[l]&&!(r!=null&&r.touchesRange(c,c+a.chunk[l].length))&&s.add(a.chunk[l])}return s}class LayerCursor{constructor(e,r,o,s=0){this.layer=e,this.skip=r,this.minPoint=o,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,o){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,o=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!o||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],o=e+r.from[this.rangeIndex];if(this.from=o,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,r=null,o=-1){let s=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=o&&s.push(new LayerCursor(l,r,o,a));return s.length==1?s[0]:new HeapCursor(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let o of this.heap)o.goto(e,r);for(let o=this.heap.length>>1;o>=0;o--)heapBubble(this.heap,o);return this.next(),this}forward(e,r){for(let o of this.heap)o.forward(e,r);for(let o=this.heap.length>>1;o>=0;o--)heapBubble(this.heap,o);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(n,e){for(let r=n[e];;){let o=(e<<1)+1;if(o>=n.length)break;let s=n[o];if(o+1<n.length&&s.compare(n[o+1])>=0&&(s=n[o+1],o++),r.compare(s)<0)break;n[o]=r,n[e]=s,e=o}}class SpanCursor{constructor(e,r,o){this.minPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,r,o)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let r=0,{value:o,to:s,rank:a}=this.cursor;for(;r<this.activeRank.length&&(a-this.activeRank[r]||s-this.activeTo[r])>0;)r++;insert(this.active,r,o),insert(this.activeTo,r,s),insert(this.activeRank,r,a),e&&insert(e,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let o=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),o&&remove(o,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(o),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(o){this.openStart=0;for(let s=o.length-1;s>=0&&o[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let o=this.active.length-1;o>=0&&!(this.activeRank[o]<this.pointRank);o--)(this.activeTo[o]>e||this.activeTo[o]==e&&this.active[o].endSide>=this.point.endSide)&&r.push(this.active[o]);return r.reverse()}openEnd(e){let r=0;for(let o=this.activeTo.length-1;o>=0&&this.activeTo[o]>e;o--)r++;return r}}function compare(n,e,r,o,s,a){n.goto(e),r.goto(o);let l=o+s,c=o,d=o-e;for(;;){let f=n.to+d-r.to||n.endSide-r.endSide,g=f<0?n.to+d:r.to,v=Math.min(g,l);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&sameValues(n.activeForPoint(n.to),r.activeForPoint(r.to))||a.comparePoint(c,v,n.point,r.point):v>c&&!sameValues(n.active,r.active)&&a.compareRange(c,v,n.active,r.active),g>l)break;c=g,f<=0&&n.next(),f>=0&&r.next()}}function sameValues(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function remove(n,e){for(let r=e,o=n.length-1;r<o;r++)n[r]=n[r+1];n.pop()}function insert(n,e,r){for(let o=n.length-1;o>=e;o--)n[o+1]=n[o];n[e]=r}function findMinIndex(n,e){let r=-1,o=1e9;for(let s=0;s<e.length;s++)(e[s]-o||n[s].endSide-n[r].endSide)<0&&(r=s,o=e[s]);return r}function countColumn(n,e,r=n.length){let o=0;for(let s=0;s<r;)n.charCodeAt(s)==9?(o+=e-o%e,s++):(o++,s=findClusterBreak(n,s));return o}function findColumn(n,e,r,o){for(let s=0,a=0;;){if(a>=e)return s;if(s==n.length)break;a+=n.charCodeAt(s)==9?r-a%r:1,s=findClusterBreak(n,s)}return o===!0?-1:n.length}const C$1="ͼ",COUNT=typeof Symbol>"u"?"__"+C$1:Symbol.for(C$1),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,r){this.rules=[];let{finish:o}=r||{};function s(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,c,d,f){let g=[],v=/^@(\w+)\b/.exec(l[0]),A=v&&v[1]=="keyframes";if(v&&c==null)return d.push(l[0]+";");for(let M in c){let Y=c[M];if(/&/.test(M))a(M.split(/,\s*/).map(de=>l.map(ae=>de.replace(/&/,ae))).reduce((de,ae)=>de.concat(ae)),Y,d);else if(Y&&typeof Y=="object"){if(!v)throw new RangeError("The value of a property ("+M+") should be a primitive value.");a(s(M),Y,g,A)}else Y!=null&&g.push(M.replace(/_.*/,"").replace(/[A-Z]/g,de=>"-"+de.toLowerCase())+": "+Y+";")}(g.length||A)&&d.push((o&&!v&&!f?l.map(o):l).join(", ")+" {"+g.join(" ")+"}")}for(let l in e)a(s(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C$1+e.toString(36)}static mount(e,r,o){let s=e[SET],a=o&&o.nonce;s?a&&s.setNonce(a):s=new StyleSet(e,a),s.mount(Array.isArray(r)?r:[r],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,r){let o=e.ownerDocument||e,s=o.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=adoptedSet.get(o);if(a)return e[SET]=a;this.sheet=new s.CSSStyleSheet,adoptedSet.set(o,this)}else this.styleTag=o.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[SET]=this}mount(e,r){let o=this.sheet,s=0,a=0;for(let l=0;l<e.length;l++){let c=e[l],d=this.modules.indexOf(c);if(d<a&&d>-1&&(this.modules.splice(d,1),a--,d=-1),d==-1){if(this.modules.splice(a++,0,c),o)for(let f=0;f<c.rules.length;f++)o.insertRule(c.rules[f],s++)}else{for(;a<d;)s+=this.modules[a++].rules.length;s+=c.rules.length,a++}}if(o)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let l="";for(let d=0;d<this.modules.length;d++)l+=this.modules[d].getRules()+`
`;this.styleTag.textContent=l;let c=r.head||r;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(n){var e=mac&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ie$1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?shift:base)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function getSelection(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function contains(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function deepActiveElement(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hasSelection(n,e){if(!e.anchorNode)return!1;try{return contains(n,e.anchorNode)}catch{return!1}}function clientRectsFor(n){return n.nodeType==3?textRange(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function isEquivalentPosition(n,e,r,o){return r?scanFor(n,e,r,o,-1)||scanFor(n,e,r,o,1):!1}function domIndex(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function isBlockElement(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function scanFor(n,e,r,o,s){for(;;){if(n==r&&e==o)return!0;if(e==(s<0?0:maxOffset(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;e=domIndex(n)+(s<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?maxOffset(n):0}else return!1}}function maxOffset(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function flattenRect(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function windowRect(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function getScale(n,e){let r=e.width/n.offsetWidth,o=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(o>.995&&o<1.005||!isFinite(o)||Math.abs(e.height-n.offsetHeight)<1)&&(o=1),{scaleX:r,scaleY:o}}function scrollRectIntoView(n,e,r,o,s,a,l,c){let d=n.ownerDocument,f=d.defaultView||window;for(let g=n,v=!1;g&&!v;)if(g.nodeType==1){let A,M=g==d.body,Y=1,de=1;if(M)A=windowRect(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(v=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let qe=g.getBoundingClientRect();({scaleX:Y,scaleY:de}=getScale(g,qe)),A={left:qe.left,right:qe.left+g.clientWidth*Y,top:qe.top,bottom:qe.top+g.clientHeight*de}}let ae=0,ze=0;if(s=="nearest")e.top<A.top?(ze=-(A.top-e.top+l),r>0&&e.bottom>A.bottom+ze&&(ze=e.bottom-A.bottom+ze+l)):e.bottom>A.bottom&&(ze=e.bottom-A.bottom+l,r<0&&e.top-ze<A.top&&(ze=-(A.top+ze-e.top+l)));else{let qe=e.bottom-e.top,Ue=A.bottom-A.top;ze=(s=="center"&&qe<=Ue?e.top+qe/2-Ue/2:s=="start"||s=="center"&&r<0?e.top-l:e.bottom-Ue+l)-A.top}if(o=="nearest"?e.left<A.left?(ae=-(A.left-e.left+a),r>0&&e.right>A.right+ae&&(ae=e.right-A.right+ae+a)):e.right>A.right&&(ae=e.right-A.right+a,r<0&&e.left<A.left+ae&&(ae=-(A.left+ae-e.left+a))):ae=(o=="center"?e.left+(e.right-e.left)/2-(A.right-A.left)/2:o=="start"==c?e.left-a:e.right-(A.right-A.left)+a)-A.left,ae||ze)if(M)f.scrollBy(ae,ze);else{let qe=0,Ue=0;if(ze){let hn=g.scrollTop;g.scrollTop+=ze/de,Ue=(g.scrollTop-hn)*de}if(ae){let hn=g.scrollLeft;g.scrollLeft+=ae/Y,qe=(g.scrollLeft-hn)*Y}e={left:e.left-qe,top:e.top-Ue,right:e.right-qe,bottom:e.bottom-Ue},qe&&Math.abs(qe-ae)<1&&(o="nearest"),Ue&&Math.abs(Ue-ze)<1&&(s="nearest")}if(M)break;g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function scrollableParent(n){let e=n.ownerDocument;for(let r=n.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:o}=e;this.set(r,Math.min(e.anchorOffset,r?maxOffset(r):0),o,Math.min(e.focusOffset,o?maxOffset(o):0))}set(e,r,o,s){this.anchorNode=e,this.anchorOffset=r,this.focusNode=o,this.focusOffset=s}}let preventScrollSupported=null;function focusPreventScroll(n){if(n.setActive)return n.setActive();if(preventScrollSupported)return n.focus(preventScrollSupported);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<e.length;){let o=e[r++],s=e[r++],a=e[r++];o.scrollTop!=s&&(o.scrollTop=s),o.scrollLeft!=a&&(o.scrollLeft=a)}}}let scratchRange;function textRange(n,e,r=e){let o=scratchRange||(scratchRange=document.createRange());return o.setEnd(n,r),o.setStart(n,e),o}function dispatchKey(n,e,r,o){let s={key:e,code:e,keyCode:r,which:r,cancelable:!0};o&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=o);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,n.dispatchEvent(a);let l=new KeyboardEvent("keyup",s);return l.synthetic=!0,n.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function getRoot(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function clearAttributes(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function atElementStart(n,e){let r=e.focusNode,o=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=o)return!1;for(o=Math.min(o,maxOffset(r));;)if(o){if(r.nodeType!=1)return!1;let s=r.childNodes[o-1];s.contentEditable=="false"?o--:(r=s,o=maxOffset(r))}else{if(r==n)return!0;o=domIndex(r),r=r.parentNode}}function isScrolledToBottom(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function textNodeBefore(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o>0)return{node:r,offset:o};if(r.nodeType==1&&o>0){if(r.contentEditable=="false")return null;r=r.childNodes[o-1],o=maxOffset(r)}else if(r.parentNode&&!isBlockElement(r))o=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o<r.nodeValue.length)return{node:r,offset:o};if(r.nodeType==1&&o<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[o],o=0}else if(r.parentNode&&!isBlockElement(r))o=domIndex(r)+1,r=r.parentNode;else return null}}class DOMPos{constructor(e,r,o=!0){this.node=e,this.offset=r,this.precise=o}static before(e,r){return new DOMPos(e.parentNode,domIndex(e),r)}static after(e,r){return new DOMPos(e.parentNode,domIndex(e)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let o of this.children){if(o==e)return r;r+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let o=this.dom,s=null,a;for(let l of this.children){if(l.flags&7){if(!l.dom&&(a=s?s.nextSibling:o.firstChild)){let c=ContentView.get(a);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(a)}l.sync(e,r),l.flags&=-8}if(a=s?s.nextSibling:o.firstChild,r&&!r.written&&r.node==o&&a!=l.dom&&(r.written=!0),l.dom.parentNode==o)for(;a&&a!=l.dom;)a=rm$1(a);else o.insertBefore(l.dom,a);s=l.dom}for(a=s?s.nextSibling:o.firstChild,a&&r&&r.node==o&&(r.written=!0);a;)a=rm$1(a)}else if(this.flags&1)for(let o of this.children)o.flags&7&&(o.sync(e,r),o.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let o;if(e==this.dom)o=this.dom.childNodes[r];else{let s=maxOffset(e)==0?0:r==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;s==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?s=-1:s=1),e=a}s<0?o=e:o=e.nextSibling}if(o==this.dom.firstChild)return 0;for(;o&&!ContentView.get(o);)o=o.nextSibling;if(!o)return this.length;for(let s=0,a=0;;s++){let l=this.children[s];if(l.dom==o)return a;a+=l.length+l.breakAfter}}domBoundsAround(e,r,o=0){let s=-1,a=-1,l=-1,c=-1;for(let d=0,f=o,g=o;d<this.children.length;d++){let v=this.children[d],A=f+v.length;if(f<e&&A>r)return v.domBoundsAround(e,r,f);if(A>=e&&s==-1&&(s=d,a=f),f>r&&v.dom.parentNode==this.dom){l=d,c=g;break}g=A,f=A+v.breakAfter}return{from:a,to:c<0?o+this.length:c,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,o=noChildren){this.markDirty();for(let s=e;s<r;s++){let a=this.children[s];a.parent==this&&o.indexOf(a)<0&&a.destroy()}this.children.splice(e,r-e,...o);for(let s=0;s<o.length;s++)o[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,o,s,a,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ChildCursor{constructor(e,r,o){this.children=e,this.pos=r,this.i=o,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let o=this.children[--this.i];this.pos-=o.length+o.breakAfter}}}function replaceRange(n,e,r,o,s,a,l,c,d){let{children:f}=n,g=f.length?f[e]:null,v=a.length?a[a.length-1]:null,A=v?v.breakAfter:l;if(!(e==o&&g&&!l&&!A&&a.length<2&&g.merge(r,s,a.length?v:null,r==0,c,d))){if(o<f.length){let M=f[o];M&&(s<M.length||M.breakAfter&&(v!=null&&v.breakAfter))?(e==o&&(M=M.split(s),s=0),!A&&v&&M.merge(0,s,v,!0,0,d)?a[a.length-1]=M:((s||M.children.length&&!M.children[0].length)&&M.merge(0,s,null,!1,0,d),a.push(M))):M!=null&&M.breakAfter&&(v?v.breakAfter=1:l=1),o++}for(g&&(g.breakAfter=l,r>0&&(!l&&a.length&&g.merge(r,g.length,a[0],!1,c,0)?g.breakAfter=a.shift().breakAfter:(r<g.length||g.children.length&&g.children[g.children.length-1].length==0)&&g.merge(r,g.length,null,!1,c,0),e++));e<o&&a.length;)if(f[o-1].become(a[a.length-1]))o--,a.pop(),d=a.length?0:c;else if(f[e].become(a[0]))e++,a.shift(),c=a.length?0:d;else break;!a.length&&e&&o<f.length&&!f[e-1].breakAfter&&f[o].merge(0,0,f[e-1],!1,c,d)&&e--,(e<o||a.length)&&n.replaceChildren(e,o,a)}}function mergeChildrenInto(n,e,r,o,s,a){let l=n.childCursor(),{i:c,off:d}=l.findPos(r,1),{i:f,off:g}=l.findPos(e,-1),v=e-r;for(let A of o)v+=A.length;n.length+=v,replaceRange(n,f,g,c,d,o,0,s,a)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,o){return this.flags&8||o&&(!(o instanceof TextView)||this.length-(r-e)+o.length>MaxJoinLen||o.flags&8)?!1:(this.text=this.text.slice(0,e)+(o?o.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,r,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return textCoords(this.dom,e,r)}}class MarkView extends ContentView{constructor(e,r=[],o=0){super(),this.mark=e,this.children=r,this.length=o;for(let s of r)s.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,o,s,a,l){return o&&(!(o instanceof MarkView&&o.mark.eq(this.mark))||e&&a<=0||r<this.length&&l<=0)?!1:(mergeChildrenInto(this,e,r,o?o.children.slice():[],a-1,l-1),this.markDirty(),!0)}split(e){let r=[],o=0,s=-1,a=0;for(let c of this.children){let d=o+c.length;d>e&&r.push(o<e?c.split(e-o):c),s<0&&o>=e&&(s=a),o=d,a++}let l=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new MarkView(this.mark,r,l)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,r){return coordsInChildren(this,e,r)}}function textCoords(n,e,r){let o=n.nodeValue.length;e>o&&(e=o);let s=e,a=e,l=0;e==0&&r<0||e==o&&r>=0?browser.chrome||browser.gecko||(e?(s--,l=1):a<o&&(a++,l=-1)):r<0?s--:a<o&&a++;let c=textRange(n,s,a).getClientRects();if(!c.length)return null;let d=c[(l?l<0:r>=0)?0:c.length-1];return browser.safari&&!l&&d.width==0&&(d=Array.prototype.find.call(c,f=>f.width)||d),l?flattenRect(d,l<0):d||null}class WidgetView extends ContentView{static create(e,r,o){return new WidgetView(e,r,o)}constructor(e,r,o){super(),this.widget=e,this.length=r,this.side=o,this.prevWidget=null}split(e){let r=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,o,s,a,l){return o&&(!(o instanceof WidgetView)||!this.widget.compare(o.widget)||e>0&&a<=0||r<this.length&&l<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,o=r&&r.state.doc,s=this.posAtStart;return o?o.slice(s,s+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let o=this.widget.coordsAt(this.dom,e,r);if(o)return o;let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?s.length-1:0;a=s[c],!(e>0?c==0:c==s.length-1||a.top<a.bottom);c+=l?-1:1);return flattenRect(a,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(n,e){let r=n.dom,{children:o}=n,s=0;for(let a=0;s<o.length;s++){let l=o[s],c=a+l.length;if(!(c==a&&l.getSide()<=0)){if(e>a&&e<c&&l.dom.parentNode==r)return l.domAtPos(e-a);if(e<=a)break;a=c}}for(let a=s;a>0;a--){let l=o[a-1];if(l.dom.parentNode==r)return l.domAtPos(l.length)}for(let a=s;a<o.length;a++){let l=o[a];if(l.dom.parentNode==r)return l.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(n,e,r){let o,{children:s}=n;r>0&&e instanceof MarkView&&s.length&&(o=s[s.length-1])instanceof MarkView&&o.mark.eq(e.mark)?joinInlineInto(o,e.children[0],r-1):(s.push(e),e.setParent(n)),n.length+=e.length}function coordsInChildren(n,e,r){let o=null,s=-1,a=null,l=-1;function c(f,g){for(let v=0,A=0;v<f.children.length&&A<=g;v++){let M=f.children[v],Y=A+M.length;Y>=g&&(M.children.length?c(M,g-A):(!a||a.isHidden&&r>0)&&(Y>g||A==Y&&M.getSide()>0)?(a=M,l=g-A):(A<g||A==Y&&M.getSide()<0&&!M.isHidden)&&(o=M,s=g-A)),A=Y}}c(n,e);let d=(r<0?o:a)||o||a;return d?d.coordsAt(Math.max(0,d==o?s:l),r):fallbackRect(n)}function fallbackRect(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=clientRectsFor(e);return r[r.length-1]||null}function combineAttrs(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const noAttrs=Object.create(null);function attrsEq(n,e,r){if(n==e)return!0;n||(n=noAttrs),e||(e=noAttrs);let o=Object.keys(n),s=Object.keys(e);if(o.length-(r&&o.indexOf(r)>-1?1:0)!=s.length-(r&&s.indexOf(r)>-1?1:0))return!1;for(let a of o)if(a!=r&&(s.indexOf(a)==-1||n[a]!==e[a]))return!1;return!0}function updateAttrs(n,e,r){let o=!1;if(e)for(let s in e)r&&s in r||(o=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(r)for(let s in r)e&&e[s]==r[s]||(o=!0,s=="style"?n.style.cssText=r[s]:n.setAttribute(s,r[s]));return o}function getAttrs$1(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let o=n.attributes[r];e[o.name]=o.value}return e}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,o,s,a,l){if(o){if(!(o instanceof LineView))return!1;this.dom||o.transferDOM(this)}return s&&this.setDeco(o?o.attrs:null),mergeChildrenInto(this,e,r,o?o.children.slice():[],a,l),!0}split(e){let r=new LineView;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:o,off:s}=this.childPos(e);s&&(r.append(this.children[o].split(s),0),this.children[o].merge(s,this.children[o].length,null,!1,0,0),o++);for(let a=o;a<this.children.length;a++)r.append(this.children[a],0);for(;o>0&&this.children[o-1].length==0;)this.children[--o].destroy();return this.children.length=o,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){joinInlineInto(this,e,r)}addLineDeco(e){let r=e.spec.attributes,o=e.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),o&&(this.attrs=combineAttrs({class:o},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var o;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let s=this.dom.lastChild;for(;s&&ContentView.get(s)instanceof MarkView;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((o=ContentView.get(s))===null||o===void 0?void 0:o.isEditable)==!1&&(!browser.ios||!this.children.some(a=>a instanceof TextView))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let o of this.children){if(!(o instanceof TextView)||/[^ -~]/.test(o.text))return null;let s=clientRectsFor(o.dom);if(s.length!=1)return null;e+=s[0].width,r=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let o=coordsInChildren(this,e,r);if(!this.children.length&&o&&this.parent){let{heightOracle:s}=this.parent.view.viewState,a=o.bottom-o.top;if(Math.abs(a-s.lineHeight)<2&&s.textHeight<a){let l=(a-s.textHeight)/2;return{top:o.top+l,bottom:o.bottom-l,left:o.left,right:o.left}}}return o}become(e){return!1}covers(){return!0}static find(e,r){for(let o=0,s=0;o<e.children.length;o++){let a=e.children[o],l=s+a.length;if(l>=r){if(a instanceof LineView)return a;if(l>r)break}s=l+a.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,r,o){super(),this.widget=e,this.length=r,this.deco=o,this.breakAfter=0,this.prevWidget=null}merge(e,r,o,s,a,l){return o&&(!(o instanceof BlockWidgetView)||!this.widget.compare(o.widget)||e>0&&a<=0||r<this.length&&l<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let o=new BlockWidgetView(this.widget,r,this.deco);return o.breakAfter=this.breakAfter,o}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:o}=this.deco;return r==o?!1:e<0?r<0:o>0}}class WidgetType{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,o){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,r,o,s){super(),this.startSide=e,this.endSide=r,this.widget=o,this.spec=s}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),o=!!e.block;return r+=o&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(e,r,r,o,e.widget||null,!1)}static replace(e){let r=!!e.block,o,s;if(e.isBlockGap)o=-5e8,s=4e8;else{let{start:a,end:l}=getInclusive(e,r);o=(a?r?-3e8:-1:5e8)-1,s=(l?r?2e8:1:-6e8)+1}return new PointDecoration(e,o,s,r,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,r=!1){return RangeSet.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:r,end:o}=getInclusive(e);super(r?-1:5e8,o?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,o;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((o=e.attrs)===null||o===void 0?void 0:o.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,r,o,s,a,l){super(r,o,a,e),this.block=s,this.isReplace=l,this.mapMode=s?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}PointDecoration.prototype.point=!0;function getInclusive(n,e=!1){let{inclusiveStart:r,inclusiveEnd:o}=n;return r==null&&(r=n.inclusive),o==null&&(o=n.inclusive),{start:r??e,end:o??e}}function widgetsEq(n,e){return n==e||!!(n&&e&&n.compare(e))}function addRange(n,e,r,o=0){let s=r.length-1;s>=0&&r[s]+o>=n?r[s]=Math.max(r[s],e):r.push(n,e)}class ContentBuilder{constructor(e,r,o,s){this.doc=e,this.pos=r,this.end=o,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,r,o){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:l,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-o)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+s)),r),o),this.atCursorPos=!0,this.textOff+=s,e-=s,o=0}}span(e,r,o,s){this.buildText(r-e,o,s),this.pos=r,this.openStart<0&&(this.openStart=s)}point(e,r,o,s,a,l){if(this.disallowBlockEffectsFor[l]&&o instanceof PointDecoration){if(o.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=r-e;if(o instanceof PointDecoration)if(o.block)o.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(o.widget||NullWidget.block,c,o));else{let d=WidgetView.create(o.widget||NullWidget.inline,c,c?0:o.startSide),f=this.atCursorPos&&!d.isEditable&&a<=s.length&&(e<r||o.startSide>0),g=!d.isEditable&&(e<r||a>s.length||o.startSide<=0),v=this.getLine();this.pendingBuffer==2&&!f&&!d.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),f&&(v.append(wrapMarks(new WidgetBufferView(1),s),a),a=s.length+Math.max(0,a-s.length)),v.append(wrapMarks(d,s),a),this.atCursorPos=g,this.pendingBuffer=g?e<r||a>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(o);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=a)}static build(e,r,o,s,a){let l=new ContentBuilder(e,r,o,a);return l.openEnd=RangeSet.spans(s,r,o,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function wrapMarks(n,e){for(let r of e)n=new MarkView(r,[n],n.length);return n}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);Brackets[e]=r,Brackets[r]=-e}function charType(n){return n<=247?LowTypes[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ArabicTypes[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,r,o){this.from=e,this.to=r,this.level=o}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,o,s){let a=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=r&&c.to>=r){if(c.level==o)return l;(a<0||(s!=0?s<0?c.from<r:c.to>r:e[a].level>c.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function isolatesEq(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],s=e[r];if(o.from!=s.from||o.to!=s.to||o.direction!=s.direction||!isolatesEq(o.inner,s.inner))return!1}return!0}const types=[];function computeCharTypes(n,e,r,o,s){for(let a=0;a<=o.length;a++){let l=a?o[a-1].to:e,c=a<o.length?o[a].from:r,d=a?256:s;for(let f=l,g=d,v=d;f<c;f++){let A=charType(n.charCodeAt(f));A==512?A=g:A==8&&v==4&&(A=16),types[f]=A==4?2:A,A&7&&(v=A),g=A}for(let f=l,g=d,v=d;f<c;f++){let A=types[f];if(A==128)f<c-1&&g==types[f+1]&&g&24?A=types[f]=g:types[f]=256;else if(A==64){let M=f+1;for(;M<c&&types[M]==64;)M++;let Y=f&&g==8||M<r&&types[M]==8?v==1?1:8:256;for(let de=f;de<M;de++)types[de]=Y;f=M-1}else A==8&&v==1&&(types[f]=1);g=A,A&7&&(v=A)}}}function processBracketPairs(n,e,r,o,s){let a=s==1?2:1;for(let l=0,c=0,d=0;l<=o.length;l++){let f=l?o[l-1].to:e,g=l<o.length?o[l].from:r;for(let v=f,A,M,Y;v<g;v++)if(M=Brackets[A=n.charCodeAt(v)])if(M<0){for(let de=c-3;de>=0;de-=3)if(BracketStack[de+1]==-M){let ae=BracketStack[de+2],ze=ae&2?s:ae&4?ae&1?a:s:0;ze&&(types[v]=types[BracketStack[de]]=ze),c=de;break}}else{if(BracketStack.length==189)break;BracketStack[c++]=v,BracketStack[c++]=A,BracketStack[c++]=d}else if((Y=types[v])==2||Y==1){let de=Y==s;d=de?0:1;for(let ae=c-3;ae>=0;ae-=3){let ze=BracketStack[ae+2];if(ze&2)break;if(de)BracketStack[ae+2]|=2;else{if(ze&4)break;BracketStack[ae+2]|=4}}}}}function processNeutrals(n,e,r,o){for(let s=0,a=o;s<=r.length;s++){let l=s?r[s-1].to:n,c=s<r.length?r[s].from:e;for(let d=l;d<c;){let f=types[d];if(f==256){let g=d+1;for(;;)if(g==c){if(s==r.length)break;g=r[s++].to,c=s<r.length?r[s].from:e}else if(types[g]==256)g++;else break;let v=a==1,A=(g<e?types[g]:o)==1,M=v==A?v?1:2:o;for(let Y=g,de=s,ae=de?r[de-1].to:n;Y>d;)Y==ae&&(Y=r[--de].from,ae=de?r[de-1].to:n),types[--Y]=M;d=g}else a=f,d++}}}function emitSpans(n,e,r,o,s,a,l){let c=o%2?2:1;if(o%2==s%2)for(let d=e,f=0;d<r;){let g=!0,v=!1;if(f==a.length||d<a[f].from){let de=types[d];de!=c&&(g=!1,v=de==16)}let A=!g&&c==1?[]:null,M=g?o:o+1,Y=d;e:for(;;)if(f<a.length&&Y==a[f].from){if(v)break e;let de=a[f];if(!g)for(let ae=de.to,ze=f+1;;){if(ae==r)break e;if(ze<a.length&&a[ze].from==ae)ae=a[ze++].to;else{if(types[ae]==c)break e;break}}if(f++,A)A.push(de);else{de.from>d&&l.push(new BidiSpan(d,de.from,M));let ae=de.direction==LTR!=!(M%2);computeSectionOrder(n,ae?o+1:o,s,de.inner,de.from,de.to,l),d=de.to}Y=de.to}else{if(Y==r||(g?types[Y]!=c:types[Y]==c))break;Y++}A?emitSpans(n,d,Y,o+1,s,A,l):d<Y&&l.push(new BidiSpan(d,Y,M)),d=Y}else for(let d=r,f=a.length;d>e;){let g=!0,v=!1;if(!f||d>a[f-1].to){let de=types[d-1];de!=c&&(g=!1,v=de==16)}let A=!g&&c==1?[]:null,M=g?o:o+1,Y=d;e:for(;;)if(f&&Y==a[f-1].to){if(v)break e;let de=a[--f];if(!g)for(let ae=de.from,ze=f;;){if(ae==e)break e;if(ze&&a[ze-1].to==ae)ae=a[--ze].from;else{if(types[ae-1]==c)break e;break}}if(A)A.push(de);else{de.to<d&&l.push(new BidiSpan(de.to,d,M));let ae=de.direction==LTR!=!(M%2);computeSectionOrder(n,ae?o+1:o,s,de.inner,de.from,de.to,l),d=de.from}Y=de.from}else{if(Y==e||(g?types[Y-1]!=c:types[Y-1]==c))break;Y--}A?emitSpans(n,Y,d,o+1,s,A,l):Y<d&&l.push(new BidiSpan(Y,d,M)),d=Y}}function computeSectionOrder(n,e,r,o,s,a,l){let c=e%2?2:1;computeCharTypes(n,s,a,o,c),processBracketPairs(n,s,a,o,c),processNeutrals(s,a,o,c),emitSpans(n,s,a,e,r,o,l)}function computeOrder(n,e,r){if(!n)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!r.length&&!BidiRE.test(n))return trivialOrder(n.length);if(r.length)for(;n.length>types.length;)types[types.length]=256;let o=[],s=e==LTR?0:1;return computeSectionOrder(n,s,s,r,0,n.length,o),o}function trivialOrder(n){return[new BidiSpan(0,n,0)]}let movedOver="";function moveVisually(n,e,r,o,s){var a;let l=o.head-n.from,c=BidiSpan.find(e,l,(a=o.bidiLevel)!==null&&a!==void 0?a:-1,o.assoc),d=e[c],f=d.side(s,r);if(l==f){let A=c+=s?1:-1;if(A<0||A>=e.length)return null;d=e[c=A],l=d.side(!s,r),f=d.side(s,r)}let g=findClusterBreak(n.text,l,d.forward(s,r));(g<d.from||g>d.to)&&(g=f),movedOver=n.text.slice(Math.min(l,g),Math.max(l,g));let v=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return v&&g==f&&v.level+(s?0:1)<d.level?EditorSelection.cursor(v.side(!s,r)+n.from,v.forward(s,r)?1:-1,v.level):EditorSelection.cursor(g+n.from,d.forward(s,r)?-1:1,d.level)}function autoDirection(n,e,r){for(let o=e;o<r;o++){let s=charType(n.charCodeAt(o));if(s==1)return LTR;if(s==2||s==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),perLineTextDirection=Facet.define({combine:n=>n.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:n=>n.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,r="nearest",o="nearest",s=5,a=5,l=!1){this.range=e,this.y=r,this.x=o,this.yMargin=s,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(n,e)=>n.map(e)});function logException(n,e,r){let o=n.facet(exceptionSink);o.length?o[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const editable=Facet.define({combine:n=>n.length?n[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,r,o,s,a){this.id=e,this.create=r,this.domEventHandlers=o,this.domEventObservers=s,this.extension=a(this)}static define(e,r){const{eventHandlers:o,eventObservers:s,provide:a,decorations:l}=r||{};return new ViewPlugin(nextPluginID++,e,o,s,c=>{let d=[viewPlugin.of(c)];return l&&d.push(decorations.of(f=>{let g=f.plugin(c);return g?l(g):Decoration.none})),a&&d.push(a(c)),d})}static fromClass(e,r){return ViewPlugin.define(o=>new e(o),r)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(o){if(logException(r.state,o,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){logException(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(o){logException(e.state,o,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(n,e){let r=n.state.facet(bidiIsolatedRanges);if(!r.length)return r;let o=r.map(a=>a instanceof Function?a(n):a),s=[];return RangeSet.spans(o,e.from,e.to,{point(){},span(a,l,c,d){let f=a-e.from,g=l-e.from,v=s;for(let A=c.length-1;A>=0;A--,d--){let M=c[A].spec.bidiIsolate,Y;if(M==null&&(M=autoDirection(e.text,f,g)),d>0&&v.length&&(Y=v[v.length-1]).to==f&&Y.direction==M)Y.to=g,v=Y.inner;else{let de={from:f,to:g,direction:M,inner:[]};v.push(de),v=de.inner}}}}),s}const scrollMargins=Facet.define();function getScrollMargins(n){let e=0,r=0,o=0,s=0;for(let a of n.state.facet(scrollMargins)){let l=a(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(r=Math.max(r,l.right)),l.top!=null&&(o=Math.max(o,l.top)),l.bottom!=null&&(s=Math.max(s,l.bottom)))}return{left:e,right:r,top:o,bottom:s}}const styleModule=Facet.define();class ChangedRange{constructor(e,r,o,s){this.fromA=e,this.toA=r,this.fromB=o,this.toB=s}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,o=this;for(;r>0;r--){let s=e[r-1];if(!(s.fromA>o.toA)){if(s.toA<o.fromA)break;o=o.join(s),e.splice(r-1,1)}}return e.splice(r,0,o),e}static extendWithRanges(e,r){if(r.length==0)return e;let o=[];for(let s=0,a=0,l=0,c=0;;s++){let d=s==e.length?null:e[s],f=l-c,g=d?d.fromB:1e9;for(;a<r.length&&r[a]<g;){let v=r[a],A=r[a+1],M=Math.max(c,v),Y=Math.min(g,A);if(M<=Y&&new ChangedRange(M+f,Y+f,M,Y).addToSet(o),A>g)break;a+=2}if(!d)return o;new ChangedRange(d.fromA,d.toA,d.fromB,d.toB).addToSet(o),l=d.toA,c=d.toB}}}class ViewUpdate{constructor(e,r,o){this.view=e,this.state=r,this.transactions=o,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let a of o)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,l,c,d)=>s.push(new ChangedRange(a,l,c,d))),this.changedRanges=s}static create(e,r,o){return new ViewUpdate(e,r,o)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let o=e.changedRanges;this.minWidth>0&&o.length&&(o.every(({fromA:f,toA:g})=>g<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let s=-1;this.view.inputState.composing>=0&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?s=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?findCompositionRange(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:g}=this.hasComposition;o=new ChangedRange(f,g,e.changes.mapPos(f,-1),e.changes.mapPos(g,1)).addToSet(o.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(browser.ie||browser.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),d=findChangedDeco(l,c,e.changes);return o=ChangedRange.extendWithRanges(o,d),!(this.flags&7)&&o.length==0?!1:(this.updateInner(o,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,o){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,o);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=browser.chrome||browser.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||s.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof BlockWidgetView&&l.widget instanceof BlockGapWidget&&a.push(l.dom);s.updateGaps(a)}updateChildren(e,r,o){let s=o?o.range.addToSet(e.slice()):e,a=this.childCursor(r);for(let l=s.length-1;;l--){let c=l>=0?s[l]:null;if(!c)break;let{fromA:d,toA:f,fromB:g,toB:v}=c,A,M,Y,de;if(o&&o.range.fromB<v&&o.range.toB>g){let hn=ContentBuilder.build(this.view.state.doc,g,o.range.fromB,this.decorations,this.dynamicDecorationMap),On=ContentBuilder.build(this.view.state.doc,o.range.toB,v,this.decorations,this.dynamicDecorationMap);M=hn.breakAtStart,Y=hn.openStart,de=On.openEnd;let vn=this.compositionView(o);On.breakAtStart?vn.breakAfter=1:On.content.length&&vn.merge(vn.length,vn.length,On.content[0],!1,On.openStart,0)&&(vn.breakAfter=On.content[0].breakAfter,On.content.shift()),hn.content.length&&vn.merge(0,0,hn.content[hn.content.length-1],!0,0,hn.openEnd)&&hn.content.pop(),A=hn.content.concat(vn).concat(On.content)}else({content:A,breakAtStart:M,openStart:Y,openEnd:de}=ContentBuilder.build(this.view.state.doc,g,v,this.decorations,this.dynamicDecorationMap));let{i:ae,off:ze}=a.findPos(f,1),{i:qe,off:Ue}=a.findPos(d,-1);replaceRange(this,qe,Ue,ae,ze,A,M,Y,de)}o&&this.fixCompositionDOM(o)}compositionView(e){let r=new TextView(e.text.nodeValue);r.flags|=8;for(let{deco:s}of e.marks)r=new MarkView(s,[r],r.length);let o=new LineView;return o.append(r,0),o}fixCompositionDOM(e){let r=(a,l)=>{l.flags|=8|(l.children.some(d=>d.flags&7)?1:0),this.markedForComposition.add(l);let c=ContentView.get(a);c&&c!=l&&(c.dom=null),l.setDOM(a)},o=this.childPos(e.range.fromB,1),s=this.children[o.i];r(e.line,s);for(let a=e.marks.length-1;a>=-1;a--)o=s.childPos(o.off,1),s=s.children[o.i],r(a>=0?e.marks[a].node:e.text,s)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let o=this.view.root.activeElement,s=o==this.dom,a=!s&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(o&&this.dom.contains(o));if(!(s||r||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,d=this.moveToLine(this.domAtPos(c.anchor)),f=c.empty?d:this.moveToLine(this.domAtPos(c.head));if(browser.gecko&&c.empty&&!this.hasComposition&&betweenUneditable(d)){let v=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(v,d.node.childNodes[d.offset]||null)),d=f=new DOMPos(v,0),l=!0}let g=this.view.observer.selectionRange;(l||!g.focusNode||(!isEquivalentPosition(d.node,d.offset,g.anchorNode,g.anchorOffset)||!isEquivalentPosition(f.node,f.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,c))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(g.focusNode)&&inUneditable(g.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let v=getSelection(this.view.root);if(v)if(c.empty){if(browser.gecko){let A=nextToUneditable(d.node,d.offset);if(A&&A!=3){let M=(A==1?textNodeBefore:textNodeAfter)(d.node,d.offset);M&&(d=new DOMPos(M.node,M.offset))}}v.collapse(d.node,d.offset),c.bidiLevel!=null&&v.caretBidiLevel!==void 0&&(v.caretBidiLevel=c.bidiLevel)}else if(v.extend){v.collapse(d.node,d.offset);try{v.extend(f.node,f.offset)}catch{}}else{let A=document.createRange();c.anchor>c.head&&([d,f]=[f,d]),A.setEnd(f.node,f.offset),A.setStart(d.node,d.offset),v.removeAllRanges(),v.addRange(A)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(d,f)),this.impreciseAnchor=d.precise?null:new DOMPos(g.anchorNode,g.anchorOffset),this.impreciseHead=f.precise?null:new DOMPos(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,o=getSelection(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!o||!r.empty||!r.assoc||!o.modify)return;let l=LineView.find(this,r.head);if(!l)return;let c=l.posAtStart;if(r.head==c||r.head==c+l.length)return;let d=this.coordsAt(r.head,-1),f=this.coordsAt(r.head,1);if(!d||!f||d.bottom>f.top)return;let g=this.domAtPos(r.head+r.assoc);o.collapse(g.node,g.offset),o.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let v=e.observer.selectionRange;e.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=r.from&&o.collapse(s,a)}moveToLine(e){let r=this.dom,o;if(e.node!=r)return e;for(let s=e.offset;!o&&s<r.childNodes.length;s++){let a=ContentView.get(r.childNodes[s]);a instanceof LineView&&(o=a.domAtPos(0))}for(let s=e.offset-1;!o&&s>=0;s--){let a=ContentView.get(r.childNodes[s]);a instanceof LineView&&(o=a.domAtPos(a.length))}return o?new DOMPos(o.node,o.offset,!0):e}nearest(e){for(let r=e;r;){let o=ContentView.get(r);if(o&&o.rootView==this)return o;r=r.parentNode}return null}posFromDOM(e,r){let o=this.nearest(e);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(e,r)+o.posAtStart}domAtPos(e){let{i:r,off:o}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let s=this.children[r];if(o<s.length||s instanceof LineView)break;r++,o=0}return this.children[r].domAtPos(o)}coordsAt(e,r){let o=null,s=0;for(let a=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],d=a-c.breakAfter,f=d-c.length;if(d<e)break;f<=e&&(f<e||c.covers(-1))&&(d>e||c.covers(1))&&(!o||c instanceof LineView&&!(o instanceof LineView&&r>=0))&&(o=c,s=f),a=f}return o?o.coordsAt(e-s,r):null}coordsForChar(e){let{i:r,off:o}=this.childPos(e,1),s=this.children[r];if(!(s instanceof LineView))return null;for(;s.children.length;){let{i:c,off:d}=s.childPos(o,1);for(;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}o=d}if(!(s instanceof TextView))return null;let a=findClusterBreak(s.text,o);if(a==o)return null;let l=textRange(s.dom,o,a).getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(c==l.length-1||d.top<d.bottom&&d.left<d.right)return d}return null}measureVisibleLineHeights(e){let r=[],{from:o,to:s}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,d=this.view.textDirection==Direction.LTR;for(let f=0,g=0;g<this.children.length;g++){let v=this.children[g],A=f+v.length;if(A>s)break;if(f>=o){let M=v.dom.getBoundingClientRect();if(r.push(M.height),l){let Y=v.dom.lastChild,de=Y?clientRectsFor(Y):[];if(de.length){let ae=de[de.length-1],ze=d?ae.right-M.left:M.right-ae.left;ze>c&&(c=ze,this.minWidth=a,this.minWidthFrom=f,this.minWidthTo=A)}}}f=A+v.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let a of this.children)if(a instanceof LineView){let l=a.measureTextSize();if(l)return l}let e=document.createElement("div"),r,o,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=clientRectsFor(e.firstChild)[0];r=e.getBoundingClientRect().height,o=a?a.width/27:7,s=a?a.height:r,e.remove()}),{lineHeight:r,charWidth:o,textHeight:s}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new ChildCursor(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let o=0,s=0;;s++){let a=s==r.viewports.length?null:r.viewports[s],l=a?a.from-1:this.length;if(l>o){let c=(r.lineBlockAt(l).bottom-r.lineBlockAt(o).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(c),block:!0,inclusive:!0,isBlockGap:!0}).range(o,l))}if(!a)break;o=a.to+1}return Decoration.set(e)}updateDeco(){let e=0,r=this.view.state.facet(decorations).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),o=!1,s=this.view.state.facet(outerDecorations).map((a,l)=>{let c=typeof a=="function";return c&&(o=!0),c?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=o,r.push(RangeSet.join(s))),this.decorations=[...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(scrollHandler))try{if(f(this.view,e.range,e))return!0}catch(g){logException(this.view.state,g,"scroll handler")}let{range:r}=e,o=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),s;if(!o)return;!r.empty&&(s=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(o={left:Math.min(o.left,s.left),top:Math.min(o.top,s.top),right:Math.max(o.right,s.right),bottom:Math.max(o.bottom,s.bottom)});let a=getScrollMargins(this.view),l={left:o.left-a.left,top:o.top-a.top,right:o.right+a.right,bottom:o.bottom+a.bottom},{offsetWidth:c,offsetHeight:d}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,d),-d),this.view.textDirection==Direction.LTR)}}function betweenUneditable(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function findCompositionNode(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let o=textNodeBefore(r.focusNode,r.focusOffset),s=textNodeAfter(r.focusNode,r.focusOffset),a=o||s;if(s&&o&&s.node!=o.node){let c=ContentView.get(s.node);if(!c||c instanceof TextView&&c.text!=s.node.nodeValue)a=s;else if(n.docView.lastCompositionAfterCursor){let d=ContentView.get(o.node);!d||d instanceof TextView&&d.text!=o.node.nodeValue||(a=s)}}if(n.docView.lastCompositionAfterCursor=a!=o,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function findCompositionRange(n,e,r){let o=findCompositionNode(n,r);if(!o)return null;let{node:s,from:a,to:l}=o,c=s.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(o.from,o.to)!=c)return null;let d=e.invertedDesc,f=new ChangedRange(d.mapPos(a),d.mapPos(l),a,l),g=[];for(let v=s.parentNode;;v=v.parentNode){let A=ContentView.get(v);if(A instanceof MarkView)g.push({node:v,deco:A.mark});else{if(A instanceof LineView||v.nodeName=="DIV"&&v.parentNode==n.contentDOM)return{range:f,text:s,marks:g,line:v};if(v!=n.contentDOM)g.push({node:v,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs$1(v),tagName:v.tagName.toLowerCase()})});else return null}}}function nextToUneditable(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,r){addRange(e,r,this.changes)}comparePoint(e,r){addRange(e,r,this.changes)}};function findChangedDeco(n,e,r){let o=new DecorationComparator$1;return RangeSet.compare(n,e,r,o),o.changes}function inUneditable(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function touchesComposition(n,e){let r=!1;return e&&n.iterChangedRanges((o,s)=>{o<e.to&&s>e.from&&(r=!0)}),r}function groupAt(n,e,r=1){let o=n.charCategorizer(e),s=n.doc.lineAt(e),a=e-s.from;if(s.length==0)return EditorSelection.cursor(e);a==0?r=1:a==s.length&&(r=-1);let l=a,c=a;r<0?l=findClusterBreak(s.text,a,!1):c=findClusterBreak(s.text,a);let d=o(s.text.slice(l,c));for(;l>0;){let f=findClusterBreak(s.text,l,!1);if(o(s.text.slice(f,l))!=d)break;l=f}for(;c<s.length;){let f=findClusterBreak(s.text,c);if(o(s.text.slice(c,f))!=d)break;c=f}return EditorSelection.range(l+s.from,c+s.from)}function getdx(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function getdy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function yOverlap(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function upTop(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function upBot(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function domPosAtCoords(n,e,r){let o,s,a,l,c=!1,d,f,g,v;for(let Y=n.firstChild;Y;Y=Y.nextSibling){let de=clientRectsFor(Y);for(let ae=0;ae<de.length;ae++){let ze=de[ae];s&&yOverlap(s,ze)&&(ze=upTop(upBot(ze,s.bottom),s.top));let qe=getdx(e,ze),Ue=getdy(r,ze);if(qe==0&&Ue==0)return Y.nodeType==3?domPosInText(Y,e,r):domPosAtCoords(Y,e,r);if(!o||l>Ue||l==Ue&&a>qe){o=Y,s=ze,a=qe,l=Ue;let hn=Ue?r<ze.top?-1:1:qe?e<ze.left?-1:1:0;c=!hn||(hn>0?ae<de.length-1:ae>0)}qe==0?r>ze.bottom&&(!g||g.bottom<ze.bottom)?(d=Y,g=ze):r<ze.top&&(!v||v.top>ze.top)&&(f=Y,v=ze):g&&yOverlap(g,ze)?g=upBot(g,ze.bottom):v&&yOverlap(v,ze)&&(v=upTop(v,ze.top))}}if(g&&g.bottom>=r?(o=d,s=g):v&&v.top<=r&&(o=f,s=v),!o)return{node:n,offset:0};let A=Math.max(s.left,Math.min(s.right,e));if(o.nodeType==3)return domPosInText(o,A,r);if(c&&o.contentEditable!="false")return domPosAtCoords(o,A,r);let M=Array.prototype.indexOf.call(n.childNodes,o)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:M}}function domPosInText(n,e,r){let o=n.nodeValue.length,s=-1,a=1e9,l=0;for(let c=0;c<o;c++){let d=textRange(n,c,c+1).getClientRects();for(let f=0;f<d.length;f++){let g=d[f];if(g.top==g.bottom)continue;l||(l=e-g.left);let v=(g.top>r?g.top-r:r-g.bottom)-1;if(g.left-1<=e&&g.right+1>=e&&v<a){let A=e>=(g.left+g.right)/2,M=A;if((browser.chrome||browser.gecko)&&textRange(n,c).getBoundingClientRect().left==g.right&&(M=!A),v<=0)return{node:n,offset:c+(M?1:0)};s=c+(M?1:0),a=v}}}return{node:n,offset:s>-1?s:l>0?n.nodeValue.length:0}}function posAtCoords(n,e,r,o=-1){var s,a;let l=n.contentDOM.getBoundingClientRect(),c=l.top+n.viewState.paddingTop,d,{docHeight:f}=n.viewState,{x:g,y:v}=e,A=v-c;if(A<0)return 0;if(A>f)return n.state.doc.length;for(let hn=n.viewState.heightOracle.textHeight/2,On=!1;d=n.elementAtHeight(A),d.type!=BlockType.Text;)for(;A=o>0?d.bottom+hn:d.top-hn,!(A>=0&&A<=f);){if(On)return r?null:0;On=!0,o=-o}v=c+A;let M=d.from;if(M<n.viewport.from)return n.viewport.from==0?0:r?null:posAtCoordsImprecise(n,l,d,g,v);if(M>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:posAtCoordsImprecise(n,l,d,g,v);let Y=n.dom.ownerDocument,de=n.root.elementFromPoint?n.root:Y,ae=de.elementFromPoint(g,v);ae&&!n.contentDOM.contains(ae)&&(ae=null),ae||(g=Math.max(l.left+1,Math.min(l.right-1,g)),ae=de.elementFromPoint(g,v),ae&&!n.contentDOM.contains(ae)&&(ae=null));let ze,qe=-1;if(ae&&((s=n.docView.nearest(ae))===null||s===void 0?void 0:s.isEditable)!=!1){if(Y.caretPositionFromPoint){let hn=Y.caretPositionFromPoint(g,v);hn&&({offsetNode:ze,offset:qe}=hn)}else if(Y.caretRangeFromPoint){let hn=Y.caretRangeFromPoint(g,v);hn&&({startContainer:ze,startOffset:qe}=hn,(!n.contentDOM.contains(ze)||browser.safari&&isSuspiciousSafariCaretResult(ze,qe,g)||browser.chrome&&isSuspiciousChromeCaretResult(ze,qe,g))&&(ze=void 0))}}if(!ze||!n.docView.dom.contains(ze)){let hn=LineView.find(n.docView,M);if(!hn)return A>d.top+d.height/2?d.to:d.from;({node:ze,offset:qe}=domPosAtCoords(hn.dom,g,v))}let Ue=n.docView.nearest(ze);if(!Ue)return null;if(Ue.isWidget&&((a=Ue.dom)===null||a===void 0?void 0:a.nodeType)==1){let hn=Ue.dom.getBoundingClientRect();return e.y<hn.top||e.y<=hn.bottom&&e.x<=(hn.left+hn.right)/2?Ue.posAtStart:Ue.posAtEnd}else return Ue.localPosFromDOM(ze,qe)+Ue.posAtStart}function posAtCoordsImprecise(n,e,r,o,s){let a=Math.round((o-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,d=Math.floor((s-r.top-(n.defaultLineHeight-c)*.5)/c);a+=d*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(r.from,r.to);return r.from+findColumn(l,a,n.state.tabSize)}function isSuspiciousSafariCaretResult(n,e,r){let o;if(n.nodeType!=3||e!=(o=n.nodeValue.length))return!1;for(let s=n.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return textRange(n,o-1,o).getBoundingClientRect().left>r}function isSuspiciousChromeCaretResult(n,e,r){if(e!=0)return!1;for(let s=n;;){let a=s.parentNode;if(!a||a.nodeType!=1||a.firstChild!=s)return!1;if(a.classList.contains("cm-line"))break;s=a}let o=n.nodeType==1?n.getBoundingClientRect():textRange(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-o.left>5}function blockAt(n,e){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){for(let o of r.type)if(o.to>e||o.to==e&&(o.to==r.to||o.type==BlockType.Text))return o}return r}function moveToLineBoundary(n,e,r,o){let s=blockAt(n,e.head),a=!o||s.type!=BlockType.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let l=n.dom.getBoundingClientRect(),c=n.textDirectionAt(s.from),d=n.posAtCoords({x:r==(c==Direction.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(d!=null)return EditorSelection.cursor(d,r?-1:1)}return EditorSelection.cursor(r?s.to:s.from,r?-1:1)}function moveByChar(n,e,r,o){let s=n.state.doc.lineAt(e.head),a=n.bidiSpans(s),l=n.textDirectionAt(s.from);for(let c=e,d=null;;){let f=moveVisually(s,a,l,c,r),g=movedOver;if(!f){if(s.number==(r?n.state.doc.lines:1))return c;g=`
`,s=n.state.doc.line(s.number+(r?1:-1)),a=n.bidiSpans(s),f=n.visualLineSide(s,!r)}if(d){if(!d(g))return c}else{if(!o)return f;d=o(g)}c=f}}function byGroup(n,e,r){let o=n.state.charCategorizer(e),s=o(r);return a=>{let l=o(a);return s==CharCategory.Space&&(s=l),s==l}}function moveVertically(n,e,r,o){let s=e.head,a=r?1:-1;if(s==(r?n.state.doc.length:0))return EditorSelection.cursor(s,e.assoc);let l=e.goalColumn,c,d=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(s,e.assoc||-1),g=n.documentTop;if(f)l==null&&(l=f.left-d.left),c=a<0?f.top:f.bottom;else{let M=n.viewState.lineBlockAt(s);l==null&&(l=Math.min(d.right-d.left,n.defaultCharacterWidth*(s-M.from))),c=(a<0?M.top:M.bottom)+g}let v=d.left+l,A=o??n.viewState.heightOracle.textHeight>>1;for(let M=0;;M+=10){let Y=c+(A+M)*a,de=posAtCoords(n,{x:v,y:Y},!1,a);if(Y<d.top||Y>d.bottom||(a<0?de<s:de>s)){let ae=n.docView.coordsForChar(de),ze=!ae||Y<ae.top?-1:1;return EditorSelection.cursor(de,ze,void 0,l)}}}function skipAtomicRanges(n,e,r){for(;;){let o=0;for(let s of n)s.between(e-1,e+1,(a,l,c)=>{if(e>a&&e<l){let d=o||r||(e-a<l-e?-1:1);e=d<0?a:l,o=d}});if(!o)return e}}function skipAtoms(n,e,r){let o=skipAtomicRanges(n.state.facet(atomicRanges).map(s=>s(n)),r.from,e.head>r.from?-1:1);return o==r.from?r:EditorSelection.cursor(o,o<r.from?1:-1)}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let o=this.handlers[e];if(o){for(let s of o.observers)s(this.view,r);for(let s of o.handlers){if(r.defaultPrevented)break;if(s(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=computeHandlers(e),o=this.handlers,s=this.view.contentDOM;for(let a in r)if(a!="scroll"){let l=!r[a].handlers.length,c=o[a];c&&l!=!c.handlers.length&&(s.removeEventListener(a,this.handleEvent),c=null),c||s.addEventListener(a,this.handleEvent,{passive:l})}for(let a in o)a!="scroll"&&!r[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=PendingKeys.find(o=>o.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(n,e){return(r,o)=>{try{return e.call(n,o,r)}catch(s){logException(r.state,s)}}}function computeHandlers(n){let e=Object.create(null);function r(o){return e[o]||(e[o]={observers:[],handlers:[]})}for(let o of n){let s=o.spec;if(s&&s.domEventHandlers)for(let a in s.domEventHandlers){let l=s.domEventHandlers[a];l&&r(a).handlers.push(bindHandler(o.value,l))}if(s&&s.domEventObservers)for(let a in s.domEventObservers){let l=s.domEventObservers[a];l&&r(a).observers.push(bindHandler(o.value,l))}}for(let o in handlers)r(o).handlers.push(handlers[o]);for(let o in observers)r(o).observers.push(observers[o]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(n){return Math.max(0,n)*.7+8}function dist(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class MouseSelection{constructor(e,r,o,s){this.view=e,this.startEvent=r,this.style=o,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=scrollableParent(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,r),this.dragging=isInPrimarySelection(e,r)&&getClickType(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let o=0,s=0,a=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},l=getScrollMargins(this.view);e.clientX-l.left<=a.left+dragScrollMargin?o=-dragScrollSpeed(a.left-e.clientX):e.clientX+l.right>=a.right-dragScrollMargin&&(o=dragScrollSpeed(e.clientX-a.right)),e.clientY-l.top<=a.top+dragScrollMargin?s=-dragScrollSpeed(a.top-e.clientY):e.clientY+l.bottom>=a.bottom-dragScrollMargin&&(s=dragScrollSpeed(e.clientY-a.bottom)),this.setScrollSpeed(o,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let o=0;o<e.ranges.length;o++){let s=e.ranges[o],a=null;if(s.empty){let l=skipAtomicRanges(this.atoms,s.from,0);l!=s.from&&(a=EditorSelection.cursor(l,-1))}else{let l=skipAtomicRanges(this.atoms,s.from,-1),c=skipAtomicRanges(this.atoms,s.to,1);(l!=s.from||c!=s.to)&&(a=EditorSelection.range(s.from==s.anchor?l:c,s.from==s.head?l:c))}a&&(r||(r=e.ranges.slice()),r[o]=a)}return r?EditorSelection.create(r,e.mainIndex):e}select(e){let{view:r}=this,o=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!o.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:o,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(n,e){let r=n.state.facet(clickAddsSelectionRange);return r.length?r[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(n,e){let r=n.state.facet(dragMovesSelection$1);return r.length?r[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let o=getSelection(n.root);if(!o||o.rangeCount==0)return!0;let s=o.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,o;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(o=ContentView.get(r))&&o.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),doPaste(n,r.value)},50)}function doPaste(n,e){let{state:r}=n,o,s=1,a=r.toText(e),l=a.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(d=>d.empty)&&lastLinewiseCopy==a.toString()){let d=-1;o=r.changeByRange(f=>{let g=r.doc.lineAt(f.from);if(g.from==d)return{range:f};d=g.from;let v=r.toText((l?a.line(s++).text:e)+r.lineBreak);return{changes:{from:g.from,insert:v},range:EditorSelection.cursor(f.from+v.length)}})}else l?o=r.changeByRange(d=>{let f=a.line(s++);return{changes:{from:d.from,to:d.to,insert:f.text},range:EditorSelection.cursor(d.from+f.length)}}):o=r.replaceSelection(a);n.dispatch(o,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};handlers.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now()),!1);observers.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let o of n.state.facet(mouseSelectionStyle))if(r=o(n,e),r)break;if(!r&&e.button==0&&(r=basicMouseSelection(n,e)),r){let o=!n.hasFocus;n.inputState.startMouseSelection(new MouseSelection(n,e,r,o)),o&&n.observer.ignore(()=>focusPreventScroll(n.contentDOM));let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function rangeForClick(n,e,r,o){if(o==1)return EditorSelection.cursor(e,r);if(o==2)return groupAt(n.state,e,r);{let s=LineView.find(n.docView,e),a=n.state.doc.lineAt(s?s.posAtEnd:e),l=s?s.posAtStart:a.from,c=s?s.posAtEnd:a.to;return c<n.state.doc.length&&c==a.to&&c++,EditorSelection.range(l,c)}}let insideY=(n,e)=>n>=e.top&&n<=e.bottom,inside=(n,e,r)=>insideY(e,r)&&n>=r.left&&n<=r.right;function findPositionSide(n,e,r,o){let s=LineView.find(n.docView,e);if(!s)return 1;let a=e-s.posAtStart;if(a==0)return 1;if(a==s.length)return-1;let l=s.coordsAt(a,-1);if(l&&inside(r,o,l))return-1;let c=s.coordsAt(a,1);return c&&inside(r,o,c)?1:l&&insideY(o,l)?-1:1}function queryPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:findPositionSide(n,r,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(n){if(!BadMouseDetail)return n.detail;let e=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=n,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(n,e){let r=queryPos(n,e),o=getClickType(e),s=n.state.selection;return{update(a){a.docChanged&&(r.pos=a.changes.mapPos(r.pos),s=s.map(a.changes))},get(a,l,c){let d=queryPos(n,a),f,g=rangeForClick(n,d.pos,d.bias,o);if(r.pos!=d.pos&&!l){let v=rangeForClick(n,r.pos,r.bias,o),A=Math.min(v.from,g.from),M=Math.max(v.to,g.to);g=A<g.from?EditorSelection.range(A,M):EditorSelection.range(M,A)}return l?s.replaceRange(s.main.extend(g.from,g.to)):c&&o==1&&s.ranges.length>1&&(f=removeRangeAround(s,d.pos))?f:c?s.addRange(g):EditorSelection.create([g])}}}function removeRangeAround(n,e){for(let r=0;r<n.ranges.length;r++){let{from:o,to:s}=n.ranges[r];if(o<=e&&s>=e)return EditorSelection.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}handlers.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let a=s.posAtStart,l=a+s.length;(a>=r.to||l<=r.from)&&(r=EditorSelection.range(a,l))}}let{inputState:o}=n;return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=n=>(n.inputState.draggedContent=null,!1);function dropText(n,e,r,o){if(!r)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=n.inputState,l=o&&a&&dragMovesSelection(n,e)?{from:a.from,to:a.to}:null,c={from:s,insert:r},d=n.state.changes(l?[l,c]:c);n.focus(),n.dispatch({changes:d,selection:{anchor:d.mapPos(s,-1),head:d.mapPos(s,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}handlers.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let o=Array(r.length),s=0,a=()=>{++s==r.length&&dropText(n,e,o.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<r.length;l++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(o[l]=c.result),a()},c.readAsText(r[l])}return!0}else{let o=e.dataTransfer.getData("Text");if(o)return dropText(n,e,o,!0),!0}return!1};handlers.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=brokenClipboardAPI?null:e.clipboardData;return r?(doPaste(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(capturePaste(n),!1)};function captureCopy(n,e){let r=n.dom.parentNode;if(!r)return;let o=r.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=e,o.focus(),o.selectionEnd=e.length,o.selectionStart=0,setTimeout(()=>{o.remove(),n.focus()},50)}function copiedRange(n){let e=[],r=[],o=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),r.push(s));if(!e.length){let s=-1;for(let{from:a}of n.selection.ranges){let l=n.doc.lineAt(a);l.number>s&&(e.push(l.text),r.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),s=l.number}o=!0}return{text:e.join(n.lineBreak),ranges:r,linewise:o}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(n,e)=>{let{text:r,ranges:o,linewise:s}=copiedRange(n.state);if(!r&&!s)return!1;lastLinewiseCopy=s?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let a=brokenClipboardAPI?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",r),!0):(captureCopy(n,r),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(n,e){let r=[];for(let o of n.facet(focusChangeEffect)){let s=o(n,e);s&&r.push(s)}return r?n.update({effects:r,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=focusChangeTransaction(n.state,e);r?n.dispatch(r):n.update([])}},10)}observers.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),updateForFocusChange(n)};observers.blur=n=>{n.observer.clearSelectionRange(),updateForFocusChange(n)};observers.compositionstart=observers.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};observers.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,browser.chrome&&browser.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};observers.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(n,e)=>{var r;let o;if(browser.chrome&&browser.android&&(o=PendingKeys.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>observers.compositionend(n,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(n){appliedFirefoxHack.has(n)||(appliedFirefoxHack.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let o=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(o+=Math.max(0,Math.ceil((r-e-o*this.lineLength*.5)/this.lineLength))),this.lineHeight*o}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let o=0;o<e.length;o++){let s=e[o];s<0?o++:this.heightSamples[Math.floor(s*10)]||(r=!0,this.heightSamples[Math.floor(s*10)]=!0)}return r}refresh(e,r,o,s,a,l){let c=wrappingWhiteSpace.indexOf(e)>-1,d=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=r,this.charWidth=o,this.textHeight=s,this.lineLength=a,d){this.heightSamples={};for(let f=0;f<l.length;f++){let g=l[f];g<0?f++:this.heightSamples[Math.floor(g*10)]=!0}}return d}}class MeasuredHeights{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,r,o,s,a){this.from=e,this.length=r,this.top=o,this.height=s,this._content=a}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var QueryType$1=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,r,o=2){this.length=e,this.height=r,this.flags=o}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(e.heightChanged=!0),this.height=r)}replace(e,r,o){return HeightMap.of(o)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,o,s){let a=this,l=o.doc;for(let c=s.length-1;c>=0;c--){let{fromA:d,toA:f,fromB:g,toB:v}=s[c],A=a.lineAt(d,QueryType$1.ByPosNoHeight,o.setDoc(r),0,0),M=A.to>=f?A:a.lineAt(f,QueryType$1.ByPosNoHeight,o,0,0);for(v+=M.to-f,f=M.to;c>0&&A.from<=s[c-1].toA;)d=s[c-1].fromA,g=s[c-1].fromB,c--,d<A.from&&(A=a.lineAt(d,QueryType$1.ByPosNoHeight,o,0,0));g+=A.from-d,d=A.from;let Y=NodeBuilder.build(o.setDoc(l),e,g,v);a=a.replace(d,f,Y)}return a.updateHeight(o,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let r=0,o=e.length,s=0,a=0;for(;;)if(r==o)if(s>a*2){let c=e[r-1];c.break?e.splice(--r,1,c.left,null,c.right):e.splice(--r,1,c.left,c.right),o+=1+c.break,s-=c.size}else if(a>s*2){let c=e[o];c.break?e.splice(o,1,c.left,null,c.right):e.splice(o,1,c.left,c.right),o+=2+c.break,a-=c.size}else break;else if(s<a){let c=e[r++];c&&(s+=c.size)}else{let c=e[--o];c&&(a+=c.size)}let l=0;return e[r-1]==null?(l=1,r--):e[r]==null&&(l=1,o++),new HeightMapBranch(HeightMap.of(e.slice(0,r)),l,HeightMap.of(e.slice(o)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,r,o){super(e,r),this.deco=o}blockAt(e,r,o,s){return new BlockInfo(s,this.length,o,this.height,this.deco||0)}lineAt(e,r,o,s,a){return this.blockAt(0,o,s,a)}forEachLine(e,r,o,s,a,l){e<=a+this.length&&r>=a&&l(this.blockAt(0,o,s,a))}updateHeight(e,r=0,o=!1,s){return s&&s.from<=r&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,o,s){return new BlockInfo(s,this.length,o,this.height,this.breaks)}replace(e,r,o){let s=o[0];return o.length==1&&(s instanceof HeightMapText||s instanceof HeightMapGap&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof HeightMapGap?s=new HeightMapText(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):HeightMap.of(o)}updateHeight(e,r=0,o=!1,s){return s&&s.from<=r&&s.more?this.setHeight(e,s.heights[s.index++]):(o||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,r){let o=e.doc.lineAt(r).number,s=e.doc.lineAt(r+this.length).number,a=s-o+1,l,c=0;if(e.lineWrapping){let d=Math.min(this.height,e.lineHeight*a);l=d/a,this.length>a+1&&(c=(this.height-d)/(this.length-a-1))}else l=this.height/a;return{firstLine:o,lastLine:s,perLine:l,perChar:c}}blockAt(e,r,o,s){let{firstLine:a,lastLine:l,perLine:c,perChar:d}=this.heightMetrics(r,s);if(r.lineWrapping){let f=s+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-o)/this.height))*this.length)),g=r.doc.lineAt(f),v=c+g.length*d,A=Math.max(o,e-v/2);return new BlockInfo(g.from,g.length,A,v,0)}else{let f=Math.max(0,Math.min(l-a,Math.floor((e-o)/c))),{from:g,length:v}=r.doc.line(a+f);return new BlockInfo(g,v,o+c*f,c,0)}}lineAt(e,r,o,s,a){if(r==QueryType$1.ByHeight)return this.blockAt(e,o,s,a);if(r==QueryType$1.ByPosNoHeight){let{from:M,to:Y}=o.doc.lineAt(e);return new BlockInfo(M,Y-M,0,0,0)}let{firstLine:l,perLine:c,perChar:d}=this.heightMetrics(o,a),f=o.doc.lineAt(e),g=c+f.length*d,v=f.number-l,A=s+c*v+d*(f.from-a-v);return new BlockInfo(f.from,f.length,Math.max(s,Math.min(A,s+this.height-g)),g,0)}forEachLine(e,r,o,s,a,l){e=Math.max(e,a),r=Math.min(r,a+this.length);let{firstLine:c,perLine:d,perChar:f}=this.heightMetrics(o,a);for(let g=e,v=s;g<=r;){let A=o.doc.lineAt(g);if(g==e){let Y=A.number-c;v+=d*Y+f*(e-a-Y)}let M=d+f*A.length;l(new BlockInfo(A.from,A.length,v,M,0)),v+=M,g=A.to+1}}replace(e,r,o){let s=this.length-r;if(s>0){let a=o[o.length-1];a instanceof HeightMapGap?o[o.length-1]=new HeightMapGap(a.length+s):o.push(null,new HeightMapGap(s-1))}if(e>0){let a=o[0];a instanceof HeightMapGap?o[0]=new HeightMapGap(e+a.length):o.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(o)}decomposeLeft(e,r){r.push(new HeightMapGap(e-1),null)}decomposeRight(e,r){r.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,r=0,o=!1,s){let a=r+this.length;if(s&&s.from<=r+this.length&&s.more){let l=[],c=Math.max(r,s.from),d=-1;for(s.from>r&&l.push(new HeightMapGap(s.from-r-1).updateHeight(e,r));c<=a&&s.more;){let g=e.doc.lineAt(c).length;l.length&&l.push(null);let v=s.heights[s.index++];d==-1?d=v:Math.abs(v-d)>=Epsilon&&(d=-2);let A=new HeightMapText(g,v);A.outdated=!1,l.push(A),c+=g+1}c<=a&&l.push(null,new HeightMapGap(a-c).updateHeight(e,c));let f=HeightMap.of(l);return(d<0||Math.abs(f.height-this.height)>=Epsilon||Math.abs(d-this.heightMetrics(e,r).perLine)>=Epsilon)&&(e.heightChanged=!0),f}else(o||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,r,o){super(e.length+r+o.length,e.height+o.height,r|(e.outdated||o.outdated?2:0)),this.left=e,this.right=o,this.size=e.size+o.size}get break(){return this.flags&1}blockAt(e,r,o,s){let a=o+this.left.height;return e<a?this.left.blockAt(e,r,o,s):this.right.blockAt(e,r,a,s+this.left.length+this.break)}lineAt(e,r,o,s,a){let l=s+this.left.height,c=a+this.left.length+this.break,d=r==QueryType$1.ByHeight?e<l:e<c,f=d?this.left.lineAt(e,r,o,s,a):this.right.lineAt(e,r,o,l,c);if(this.break||(d?f.to<c:f.from>c))return f;let g=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return d?f.join(this.right.lineAt(c,g,o,l,c)):this.left.lineAt(c,g,o,s,a).join(f)}forEachLine(e,r,o,s,a,l){let c=s+this.left.height,d=a+this.left.length+this.break;if(this.break)e<d&&this.left.forEachLine(e,r,o,s,a,l),r>=d&&this.right.forEachLine(e,r,o,c,d,l);else{let f=this.lineAt(d,QueryType$1.ByPos,o,s,a);e<f.from&&this.left.forEachLine(e,f.from-1,o,s,a,l),f.to>=e&&f.from<=r&&l(f),r>f.to&&this.right.forEachLine(f.to+1,r,o,c,d,l)}}replace(e,r,o){let s=this.left.length+this.break;if(r<s)return this.balanced(this.left.replace(e,r,o),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,r-s,o));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let c of o)a.push(c);if(e>0&&mergeGaps(a,l-1),r<this.length){let c=a.length;this.decomposeRight(r,a),mergeGaps(a,c)}return HeightMap.of(a)}decomposeLeft(e,r){let o=this.left.length;if(e<=o)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(o++,e>=o&&r.push(null)),e>o&&this.right.decomposeLeft(e-o,r)}decomposeRight(e,r){let o=this.left.length,s=o+this.break;if(e>=s)return this.right.decomposeRight(e-s,r);e<o&&this.left.decomposeRight(e,r),this.break&&e<s&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?HeightMap.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,o=!1,s){let{left:a,right:l}=this,c=r+a.length+this.break,d=null;return s&&s.from<=r+a.length&&s.more?d=a=a.updateHeight(e,r,o,s):a.updateHeight(e,r,o),s&&s.from<=c+l.length&&s.more?d=l=l.updateHeight(e,c,o,s):l.updateHeight(e,c,o),d?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(n,e){let r,o;n[e]==null&&(r=n[e-1])instanceof HeightMapGap&&(o=n[e+1])instanceof HeightMapGap&&n.splice(e-1,3,new HeightMapGap(r.length+1+o.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let o=Math.min(r,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof HeightMapText?s.length+=o-this.pos:(o>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(o-this.pos,-1)),this.writtenTo=o,r>o&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,o){if(e<r||o.heightRelevant){let s=o.widget?o.widget.estimatedHeight:0,a=o.widget?o.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let l=r-e;o.block?this.addBlock(new HeightMapBlock(l,s,o)):(l||a||s>=relevantWidgetHeight)&&this.addLineDeco(s,a,l)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let o=new HeightMapGap(r-e);return this.oracle.doc.lineAt(e).to==r&&(o.flags|=4),o}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,o){let s=this.ensureLine();s.length+=o,s.collapsed+=o,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=r,this.writtenTo=this.pos=this.pos+o}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let o=e;for(let s of this.nodes)s instanceof HeightMapText&&s.updateHeight(this.oracle,o),o+=s?s.length:1;return this.nodes}static build(e,r,o,s){let a=new NodeBuilder(o,e);return RangeSet.spans(r,o,s,a,0),a.finish(o)}}function heightRelevantDecoChanges(n,e,r){let o=new DecorationComparator;return RangeSet.compare(n,e,r,o,0),o.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,o,s){(e<r||o&&o.heightRelevant||s&&s.heightRelevant)&&addRange(e,r,this.changes,5)}}function visiblePixelRange(n,e){let r=n.getBoundingClientRect(),o=n.ownerDocument,s=o.defaultView||window,a=Math.max(0,r.left),l=Math.min(s.innerWidth,r.right),c=Math.max(0,r.top),d=Math.min(s.innerHeight,r.bottom);for(let f=n.parentNode;f&&f!=o.body;)if(f.nodeType==1){let g=f,v=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&v.overflow!="visible"){let A=g.getBoundingClientRect();a=Math.max(a,A.left),l=Math.min(l,A.right),c=Math.max(c,A.top),d=f==n.parentNode?A.bottom:Math.min(d,A.bottom)}f=v.position=="absolute"||v.position=="fixed"?g.offsetParent:g.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:a-r.left,right:Math.max(a,l)-r.left,top:c-(r.top+e),bottom:Math.max(c,d)-(r.top+e)}}function fullPixelRange(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class LineGap{constructor(e,r,o){this.from=e,this.to=r,this.size=o}static same(e,r){if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){let s=e[o],a=r[o];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,r){return Decoration.replace({widget:new LineGapWidget(this.size*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(contentAttributes).some(o=>typeof o!="function"&&o.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=e.facet(decorations).filter(o=>typeof o!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(o=>o.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let o=0;o<=1;o++){let s=o?r.head:r.anchor;if(!e.some(({from:a,to:l})=>s>=a&&s<=l)){let{from:a,to:l}=this.lineBlockAt(s);e.push(new Viewport(a,l))}}this.viewports=e.sort((o,s)=>o.from-s.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:scaleBlock(e,this.scaler))})}update(e,r=null){this.state=e.state;let o=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(g=>typeof g!="function");let s=e.changedRanges,a=ChangedRange.extendWithRanges(s,heightRelevantDecoChanges(o,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),this.heightMap.height!=l&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let d=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<d.from||r.range.head>d.to)||!this.viewportIsAppropriate(d))&&(d=this.getViewport(0,r));let f=!e.changes.empty||e.flags&2||d.from!=this.viewport.from||d.to!=this.viewport.to;this.viewport=d,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,o=window.getComputedStyle(r),s=this.heightOracle,a=o.whiteSpace;this.defaultTextDirection=o.direction=="rtl"?Direction.RTL:Direction.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),c=r.getBoundingClientRect(),d=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let f=0,g=0;if(c.width&&c.height){let{scaleX:hn,scaleY:On}=getScale(r,c);(hn>.005&&Math.abs(this.scaleX-hn)>.005||On>.005&&Math.abs(this.scaleY-On)>.005)&&(this.scaleX=hn,this.scaleY=On,f|=8,l=d=!0)}let v=(parseInt(o.paddingTop)||0)*this.scaleY,A=(parseInt(o.paddingBottom)||0)*this.scaleY;(this.paddingTop!=v||this.paddingBottom!=A)&&(this.paddingTop=v,this.paddingBottom=A,f|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(d=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=8);let M=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=M&&(this.scrollAnchorHeight=-1,this.scrollTop=M),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let Y=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),de=Y.top-this.pixelViewport.top,ae=Y.bottom-this.pixelViewport.bottom;this.pixelViewport=Y;let ze=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(ze!=this.inView&&(this.inView=ze,ze&&(d=!0)),!this.inView&&!this.scrollTarget)return 0;let qe=c.width;if((this.contentDOMWidth!=qe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,f|=8),d){let hn=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(hn)&&(l=!0),l||s.lineWrapping&&Math.abs(qe-this.contentDOMWidth)>s.charWidth){let{lineHeight:On,charWidth:vn,textHeight:bn}=e.docView.measureTextSize();l=On>0&&s.refresh(a,On,vn,bn,qe/vn,hn),l&&(e.docView.minWidth=0,f|=8)}de>0&&ae>0?g=Math.max(de,ae):de<0&&ae<0&&(g=Math.min(de,ae)),s.heightChanged=!1;for(let On of this.viewports){let vn=On.from==this.viewport.from?hn:e.docView.measureVisibleLineHeights(On);this.heightMap=(l?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,l,new MeasuredHeights(On.from,vn))}s.heightChanged&&(f|=2)}let Ue=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Ue&&(this.viewport=this.getViewport(g,this.scrollTarget)),this.updateForViewport(),(f&2||Ue)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let o=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,d=new Viewport(s.lineAt(l-o*1e3,QueryType$1.ByHeight,a,0,0).from,s.lineAt(c+(1-o)*1e3,QueryType$1.ByHeight,a,0,0).to);if(r){let{head:f}=r.range;if(f<d.from||f>d.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),v=s.lineAt(f,QueryType$1.ByPos,a,0,0),A;r.y=="center"?A=(v.top+v.bottom)/2-g/2:r.y=="start"||r.y=="nearest"&&f<d.from?A=v.top:A=v.bottom-g,d=new Viewport(s.lineAt(A-1e3/2,QueryType$1.ByHeight,a,0,0).from,s.lineAt(A+g+1e3/2,QueryType$1.ByHeight,a,0,0).to)}}return d}mapViewport(e,r){let o=r.mapPos(e.from,-1),s=r.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(o,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},o=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||s<=l-Math.max(10,Math.min(-o,250)))&&(r==this.state.doc.length||a>=c+Math.max(10,Math.min(o,250)))&&s>l-2*1e3&&a<c+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let o=[];for(let s of e)r.touchesRange(s.from,s.to)||o.push(new LineGap(r.mapPos(s.from),r.mapPos(s.to),s.size));return o}ensureLineGaps(e,r){let o=this.heightOracle.lineWrapping,s=o?1e4:2e3,a=s>>1,l=s<<1;if(this.defaultTextDirection!=Direction.LTR&&!o)return[];let c=[],d=(f,g,v,A)=>{if(g-f<a)return;let M=this.state.selection.main,Y=[M.from];M.empty||Y.push(M.to);for(let ae of Y)if(ae>f&&ae<g){d(f,ae-10,v,A),d(ae+10,g,v,A);return}let de=find(e,ae=>ae.from>=v.from&&ae.to<=v.to&&Math.abs(ae.from-f)<a&&Math.abs(ae.to-g)<a&&!Y.some(ze=>ae.from<ze&&ae.to>ze));if(!de){if(g<v.to&&r&&o&&r.visibleRanges.some(ae=>ae.from<=g&&ae.to>=g)){let ae=r.moveToLineBoundary(EditorSelection.cursor(g),!1,!0).head;ae>f&&(g=ae)}de=new LineGap(f,g,this.gapSize(v,f,g,A))}c.push(de)};for(let f of this.viewportLines){if(f.length<l)continue;let g=lineStructure(f.from,f.to,this.stateDeco);if(g.total<l)continue;let v=this.scrollTarget?this.scrollTarget.range.head:null,A,M;if(o){let Y=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,de,ae;if(v!=null){let ze=findFraction(g,v),qe=((this.visibleBottom-this.visibleTop)/2+Y)/f.height;de=ze-qe,ae=ze+qe}else de=(this.visibleTop-f.top-Y)/f.height,ae=(this.visibleBottom-f.top+Y)/f.height;A=findPosition(g,de),M=findPosition(g,ae)}else{let Y=g.total*this.heightOracle.charWidth,de=s*this.heightOracle.charWidth,ae,ze;if(v!=null){let qe=findFraction(g,v),Ue=((this.pixelViewport.right-this.pixelViewport.left)/2+de)/Y;ae=qe-Ue,ze=qe+Ue}else ae=(this.pixelViewport.left-de)/Y,ze=(this.pixelViewport.right+de)/Y;A=findPosition(g,ae),M=findPosition(g,ze)}A>f.from&&d(f.from,A,f,g),M<f.to&&d(M,f.to,f,g)}return c}gapSize(e,r,o,s){let a=findFraction(s,o)-findFraction(s,r);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(s,a){r.push({from:s,to:a})},point(){}},20);let o=r.length!=this.visibleRanges.length||this.visibleRanges.some((s,a)=>s.from!=r[a].from||s.to!=r[a].to);return this.visibleRanges=r,o?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,r){this.from=e,this.to=r}}function lineStructure(n,e,r){let o=[],s=n,a=0;return RangeSet.spans(r,n,e,{span(){},point(l,c){l>s&&(o.push({from:s,to:l}),a+=l-s),s=c}},20),s<e&&(o.push({from:s,to:e}),a+=e-s),{total:a,ranges:o}}function findPosition({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let o=Math.floor(n*r);for(let s=0;;s++){let{from:a,to:l}=e[s],c=l-a;if(o<=c)return a+o;o-=c}}function findFraction(n,e){let r=0;for(let{from:o,to:s}of n.ranges){if(e<=s){r+=e-o;break}r+=s-o}return r/n.total}function find(n,e){for(let r of n)if(e(r))return r}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1};class BigScaler{constructor(e,r,o){let s=0,a=0,l=0;this.viewports=o.map(({from:c,to:d})=>{let f=r.lineAt(c,QueryType$1.ByPos,e,0,0).top,g=r.lineAt(d,QueryType$1.ByPos,e,0,0).bottom;return s+=g-f,{from:c,to:d,top:f,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(r.height-s);for(let c of this.viewports)c.domTop=l+(c.top-a)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(e){for(let r=0,o=0,s=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.top)return s+(e-o)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);o=a.bottom,s=a.domBottom}}fromDOM(e){for(let r=0,o=0,s=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.domTop)return o+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);o=a.bottom,s=a.domBottom}}}function scaleBlock(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),o=e.toDOM(n.bottom);return new BlockInfo(n.from,n.length,r,o-r,Array.isArray(n._content)?n._content.map(s=>scaleBlock(s,e)):n._content)}const theme=Facet.define({combine:n=>n.join(" ")}),darkTheme=Facet.define({combine:n=>n.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(n,e,r){return new StyleModule(e,{finish(o){return/&/.test(o)?o.replace(/&\w*/,s=>{if(s=="&")return n;if(!r||!r[s])throw new RangeError(`Unsupported selector: ${s}`);return r[s]}):n+" "+o}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),LineBreakPlaceholder="￿";class DOMReader{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,r){if(!e)return this;let o=e.parentNode;for(let s=e;;){this.findPointBefore(o,s);let a=this.text.length;this.readNode(s);let l=s.nextSibling;if(l==r)break;let c=ContentView.get(s),d=ContentView.get(l);(c&&d?c.breakAfter:(c?c.breakAfter:isBlockElement(s))||isBlockElement(l)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>a)&&this.lineBreak(),s=l}return this.findPointBefore(o,r),this}readTextNode(e){let r=e.nodeValue;for(let o of this.points)o.node==e&&(o.pos=this.text.length+Math.min(o.offset,r.length));for(let o=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,c;if(this.lineSeparator?(a=r.indexOf(this.lineSeparator,o),l=this.lineSeparator.length):(c=s.exec(r))&&(a=c.index,l=c[0].length),this.append(r.slice(o,a<0?r.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let d of this.points)d.node==e&&d.pos>this.text.length&&(d.pos-=l-1);o=a+l}}readNode(e){if(e.cmIgnore)return;let r=ContentView.get(e),o=r&&r.overrideDOMText;if(o!=null){this.findPointInside(e,o.length);for(let s=o.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let o of this.points)o.node==e&&e.childNodes[o.offset]==r&&(o.pos=this.text.length)}findPointInside(e,r){for(let o of this.points)(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+(isAtEnd(e,o.node,o.offset)?r:0))}}function isAtEnd(n,e,r){for(;;){if(!e||r<maxOffset(e))return!1;if(e==n)return!0;r=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class DOMChange{constructor(e,r,o,s){this.typeOver=s,this.bounds=null,this.text="";let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,o,0))){let c=a||l?[]:selectionPoints(e),d=new DOMReader(c,e.state);d.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=d.text,this.newSel=selectionFromPoints(c,this.bounds.from)}else{let c=e.observer.selectionRange,d=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!contains(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),f=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!contains(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),g=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&d!=f&&(g.from>0||g.to<e.state.doc.length)){let v=Math.min(d,f),A=Math.max(d,f),M=g.from-v,Y=g.to-A;(M==0||M==1||v==0)&&(Y==0||Y==-1||A==e.state.doc.length)&&(d=0,f=e.state.doc.length)}this.newSel=EditorSelection.single(f,d)}}}function applyDOMChange(n,e){let r,{newSel:o}=e,s=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,d=s.from,f=null;(a===8||browser.android&&e.text.length<c-l)&&(d=s.to,f="end");let g=findDiff(n.state.doc.sliceString(l,c,LineBreakPlaceholder),e.text,d-l,f);g&&(browser.chrome&&a==13&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&g.toB--,r={from:l+g.from,to:l+g.toA,insert:Text.of(e.text.slice(g.from,g.toB).split(LineBreakPlaceholder))})}else o&&(!n.hasFocus&&n.state.facet(editable)||o.main.eq(s))&&(o=null);if(!r&&!o)return!1;if(!r&&e.typeOver&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(o&&r.insert.length==2&&(o=EditorSelection.single(o.main.anchor-1,o.main.head-1)),r={from:s.from,to:s.to,insert:Text.of([" "])}):browser.chrome&&r&&r.from==r.to&&r.from==s.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(o&&(o=EditorSelection.single(o.main.anchor-1,o.main.head-1)),r={from:s.from,to:s.to,insert:Text.of([" "])}),r){if(browser.ios&&n.inputState.flushIOSKey(r)||browser.android&&(r.to==s.to&&(r.from==s.from||r.from==s.from-1&&n.state.sliceDoc(r.from,s.from)==" ")&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(n.contentDOM,"Enter",13)||(r.from==s.from-1&&r.to==s.to&&r.insert.length==0||a==8&&r.insert.length<r.to-r.from&&r.to>s.head)&&dispatchKey(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&dispatchKey(n.contentDOM,"Delete",46)))return!0;let l=r.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let c,d=()=>c||(c=applyDefaultInsert(n,r,o));return n.state.facet(inputHandler$1).some(f=>f(n,r.from,r.to,l,d))||n.dispatch(d()),!0}else if(o&&!o.main.eq(s)){let l=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:c}),!0}else return!1}function applyDefaultInsert(n,e,r){let o,s=n.state,a=s.selection.main;if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=a.from<e.from?s.sliceDoc(a.from,e.from):"",d=a.to>e.to?s.sliceDoc(e.to,a.to):"";o=s.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let c=s.changes(e),d=r&&r.main.to<=c.newLength?r.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=a.to&&e.to>=a.to-10){let f=n.state.sliceDoc(e.from,e.to),g,v=r&&findCompositionNode(n,r.main.head);if(v){let Y=e.insert.length-(e.to-e.from);g={from:v.from,to:v.to-Y}}else g=n.state.doc.lineAt(a.head);let A=a.to-e.to,M=a.to-a.from;o=s.changeByRange(Y=>{if(Y.from==a.from&&Y.to==a.to)return{changes:c,range:d||Y.map(c)};let de=Y.to-A,ae=de-f.length;if(Y.to-Y.from!=M||n.state.sliceDoc(ae,de)!=f||Y.to>=g.from&&Y.from<=g.to)return{range:Y};let ze=s.changes({from:ae,to:de,insert:e.insert}),qe=Y.to-a.to;return{changes:ze,range:d?EditorSelection.range(Math.max(0,d.anchor+qe),Math.max(0,d.head+qe)):Y.map(ze)}})}else o={changes:c,selection:d&&s.selection.replaceRange(d)}}let l="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,l+=".compose",n.inputState.compositionFirstChange&&(l+=".start",n.inputState.compositionFirstChange=!1)),s.update(o,{userEvent:l,scrollIntoView:!0})}function findDiff(n,e,r,o){let s=Math.min(n.length,e.length),a=0;for(;a<s&&n.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&n.length==e.length)return null;let l=n.length,c=e.length;for(;l>0&&c>0&&n.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(o=="end"){let d=Math.max(0,a-Math.min(l,c));r-=l+d-a}if(l<a&&n.length<e.length){let d=r<=a&&r>=l?a-r:0;a-=d,c=a+(c-l),l=a}else if(c<a){let d=r<=a&&r>=c?a-r:0;a-=d,l=a+(l-c),c=a}return{from:a,toA:l,toB:c}}function selectionPoints(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:a}=n.observer.selectionRange;return r&&(e.push(new DOMPoint(r,o)),(s!=r||a!=o)&&e.push(new DOMPoint(s,a))),e}function selectionFromPoints(n,e){if(n.length==0)return null;let r=n[0].pos,o=n.length==2?n[1].pos:r;return r>-1&&o>-1?EditorSelection.single(r+e,o+e):null}const observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,o)=>r!=e[o]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:o}=this,s=this.selectionRange;if(o.state.facet(editable)?o.root.activeElement!=this.dom:!hasSelection(o.dom,s))return;let a=s.anchorNode&&o.docView.nearest(s.anchorNode);if(a&&a.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!o.state.selection.main.empty&&s.focusNode&&isEquivalentPosition(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=getSelection(e.root);if(!r)return!1;let o=browser.safari&&e.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view,r)||r;if(!o||this.selectionRange.eq(o))return!1;let s=hasSelection(this.dom,o);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,o)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(o),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let o=this.dom;o;)if(o.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==o?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);for(let o of this.scrollTargets=r)o.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var o;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&dispatchKey(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((o=this.delayedAndroidKey)===null||o===void 0)&&o.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,o=-1,s=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(s=!0),r==-1?{from:r,to:o}=l:(r=Math.min(l.from,r),o=Math.max(l.to,o)))}return{from:r,to:o,typeOver:s}}readChange(){let{from:e,to:r,typeOver:o}=this.processRecords(),s=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new DOMChange(this.view,e,r,o);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let o=this.view.state,s=applyDOMChange(this.view,r);return this.view.state==o&&this.view.update([]),s}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let o=findChild(r,e.previousSibling||e.target.previousSibling,-1),s=findChild(r,e.nextSibling||e.target.nextSibling,1);return{from:o?r.posAfter(o):r.posAtStart,to:s?r.posBefore(s):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,o;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(o=this.resizeScroll)===null||o===void 0||o.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(n,e,r){for(;e;){let o=ContentView.get(e);if(o&&o.parent==n)return o;let s=e.parentNode;e=s!=n.dom?s:r>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(n,e){let r=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return isEquivalentPosition(l.node,l.offset,s,a)&&([r,o,s,a]=[s,a,r,o]),{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:a}}function safariSelectionRangeHack(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return buildSelectionRangeFromRange(n,s)}let r=null;function o(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",o,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",o,!0),r?buildSelectionRangeFromRange(n,r):null}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(o=>o.forEach(s=>r(s,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(o=>new PluginInstance(o));for(let o of this.plugins)o.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let r=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,o=!1,s,a=this.state;for(let A of e){if(A.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=A.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,c=0,d=null;e.some(A=>A.annotation(isFocusChange))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,d=focusChangeTransaction(a,l),d||(c=1));let f=this.observer.delayedAndroidKey,g=null;if(f?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(g=null)):this.observer.clear(),a.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(a);s=ViewUpdate.create(this,a,e),s.flags|=c;let v=this.viewState.scrollTarget;try{this.updateState=2;for(let A of e){if(v&&(v=v.map(A.changes)),A.scrollIntoView){let{main:M}=A.state.selection;v=new ScrollTarget(M.empty?M:EditorSelection.cursor(M.head,M.head>M.anchor?-1:1))}for(let M of A.effects)M.is(scrollIntoView$1)&&(v=M.value.clip(this.state))}this.viewState.update(s,v),this.bidiCache=CachedOrder.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),r=this.docView.update(s),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(A=>A.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(theme)!=s.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(r||o||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!s.empty)for(let A of this.state.facet(updateListener))try{A(s)}catch(M){logException(this.state,M,"update listener")}(d||g)&&Promise.resolve().then(()=>{d&&this.state==d.startState&&this.dispatch(d),g&&!applyDOMChange(this,g)&&f.force&&dispatchKey(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(o=>new PluginInstance(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(viewPlugin),o=e.state.facet(viewPlugin);if(r!=o){let s=[];for(let a of o){let l=r.indexOf(a);if(l<0)s.push(new PluginInstance(a));else{let c=this.plugins[l];c.mustUpdate=e,s.push(c)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);r!=o&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(o){logException(this.state,o,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,o=this.scrollDOM,s=o.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(isScrolledToBottom(o))a=-1,l=this.viewState.heightMap.height;else{let M=this.viewState.scrollAnchorAt(s);a=M.from,l=M.top}this.updateState=1;let d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];d&4||([this.measureRequests,f]=[f,this.measureRequests]);let g=f.map(M=>{try{return M.read(this)}catch(Y){return logException(this.state,Y),BadMeasure}}),v=ViewUpdate.create(this,this.state,[]),A=!1;v.flags|=d,r?r.flags|=d:r=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),A=this.docView.update(v),A&&this.docViewUpdate());for(let M=0;M<f.length;M++)if(g[M]!=BadMeasure)try{let Y=f[M];Y.write&&Y.write(g[M],this)}catch(Y){logException(this.state,Y)}if(A&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let Y=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(Y>1||Y<-1){s=s+Y,o.scrollTop=s/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let c of this.state.facet(updateListener))c(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let o=this.observer.ignore(()=>{let s=updateAttrs(this.contentDOM,this.contentAttrs,r),a=updateAttrs(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=r,o}showAnnouncements(e){let r=!0;for(let o of e)for(let s of o.effects)if(s.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(o=>o.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,o){return skipAtoms(this,e,moveByChar(this,e,r,o))}moveByGroup(e,r){return skipAtoms(this,e,moveByChar(this,e,r,o=>byGroup(this,e.head,o)))}visualLineSide(e,r){let o=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=o[r?o.length-1:0];return EditorSelection.cursor(a.side(r,s)+e.from,a.forward(!r,s)?1:-1)}moveToLineBoundary(e,r,o=!0){return moveToLineBoundary(this,e,r,o)}moveVertically(e,r,o){return skipAtoms(this,e,moveVertically(this,e,r,o))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),posAtCoords(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let o=this.docView.coordsAt(e,r);if(!o||o.left==o.right)return o;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),l=a[BidiSpan.find(a,e-s.from,-1,r)];return flattenRect(o,l.dir==Direction.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let r=this.textDirectionAt(e.from),o;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==r&&(a.fresh||isolatesEq(a.isolates,o=getIsolatedRanges(this,e))))return a.order;o||(o=getIsolatedRanges(this,e));let s=computeOrder(e.text,r,o);return this.bidiCache.push(new CachedOrder(e.from,e.to,r,o,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,o=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(o.from),"start","start",o.top-e,r,!0))}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,r){let o=StyleModule.newName(),s=[theme.of(o),styleModule.of(buildTheme(`.${o}`,e))];return r&&r.dark&&s.push(darkTheme.of(!0)),s}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var r;let o=e.querySelector(".cm-content"),s=o&&ContentView.get(o)||ContentView.get(e);return((r=s==null?void 0:s.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:n=>n.length?n[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,r,o,s,a,l){this.from=e,this.to=r,this.dir=o,this.isolates=s,this.fresh=a,this.order=l}static update(e,r){if(r.empty&&!e.some(a=>a.fresh))return e;let o=[],s=e.length?e[e.length-1].dir:Direction.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==s&&!r.touchesRange(l.from,l.to)&&o.push(new CachedOrder(r.mapPos(l.from,1),r.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return o}}function attrsFromFacet(n,e,r){for(let o=n.state.facet(e),s=o.length-1;s>=0;s--){let a=o[s],l=typeof a=="function"?a(n):a;l&&combineAttrs(l,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(n,e){const r=n.split(/-(?!$)/);let o=r[r.length-1];o=="Space"&&(o=" ");let s,a,l,c;for(let d=0;d<r.length-1;++d){const f=r[d];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(o="Alt-"+o),a&&(o="Ctrl-"+o),c&&(o="Meta-"+o),l&&(o="Shift-"+o),o}function modifiers(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(n,e){return runHandlers(getKeymap(e.state),n,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(n){let e=n.facet(keymap),r=Keymaps.get(e);return r||Keymaps.set(e,r=buildKeymap(e.reduce((o,s)=>o.concat(s),[]))),r}function runScopeHandlers(n,e,r){return runHandlers(getKeymap(n.state),e,n,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(n,e=currentPlatform){let r=Object.create(null),o=Object.create(null),s=(l,c)=>{let d=o[l];if(d==null)o[l]=c;else if(d!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,c,d,f,g)=>{var v,A;let M=r[l]||(r[l]=Object.create(null)),Y=c.split(/ (?!$)/).map(ze=>normalizeKeyName(ze,e));for(let ze=1;ze<Y.length;ze++){let qe=Y.slice(0,ze).join(" ");s(qe,!0),M[qe]||(M[qe]={preventDefault:!0,stopPropagation:!1,run:[Ue=>{let hn=storedPrefix={view:Ue,prefix:qe,scope:l};return setTimeout(()=>{storedPrefix==hn&&(storedPrefix=null)},PrefixTimeout),!0}]})}let de=Y.join(" ");s(de,!1);let ae=M[de]||(M[de]={preventDefault:!1,stopPropagation:!1,run:((A=(v=M._any)===null||v===void 0?void 0:v.run)===null||A===void 0?void 0:A.slice())||[]});d&&ae.run.push(d),f&&(ae.preventDefault=!0),g&&(ae.stopPropagation=!0)};for(let l of n){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of c){let g=r[f]||(r[f]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let v in g)g[v].run.push(l.any)}let d=l[e]||l.key;if(d)for(let f of c)a(f,d,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(f,"Shift-"+d,l.shift,l.preventDefault,l.stopPropagation)}return r}function runHandlers(n,e,r,o){let s=keyName(e),a=codePointAt(s,0),l=codePointSize(a)==s.length&&s!=" ",c="",d=!1,f=!1,g=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==o&&(c=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(f=!0,storedPrefix=null));let v=new Set,A=ae=>{if(ae){for(let ze of ae.run)if(!v.has(ze)&&(v.add(ze),ze(r,e)))return ae.stopPropagation&&(g=!0),!0;ae.preventDefault&&(ae.stopPropagation&&(g=!0),f=!0)}return!1},M=n[o],Y,de;return M&&(A(M[c+modifiers(s,e,!l)])?d=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(Y=base[e.keyCode])&&Y!=s?(A(M[c+modifiers(Y,e,!0)])||e.shiftKey&&(de=shift[e.keyCode])!=s&&de!=Y&&A(M[c+modifiers(de,e,!1)]))&&(d=!0):l&&e.shiftKey&&A(M[c+modifiers(s,e,!0)])&&(d=!0),!d&&A(M._any)&&(d=!0)),f&&(d=!0),d&&g&&e.stopPropagation(),d}class RectangleMarker{constructor(e,r,o,s,a){this.className=e,this.left=r,this.top=o,this.width=s,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,o){if(o.empty){let s=e.coordsAtPos(o.head,o.assoc||1);if(!s)return[];let a=getBase(e);return[new RectangleMarker(r,s.left-a.left,s.top-a.top,null,s.bottom-s.top)]}else return rectanglesForRange(e,r,o)}}function getBase(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Direction.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function wrappedLine(n,e,r){let o=EditorSelection.cursor(e);return{from:Math.max(r.from,n.moveToLineBoundary(o,!1,!0).from),to:Math.min(r.to,n.moveToLineBoundary(o,!0,!0).from),type:BlockType.Text}}function rectanglesForRange(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let o=Math.max(r.from,n.viewport.from),s=Math.min(r.to,n.viewport.to),a=n.textDirection==Direction.LTR,l=n.contentDOM,c=l.getBoundingClientRect(),d=getBase(n),f=l.querySelector(".cm-line"),g=f&&window.getComputedStyle(f),v=c.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),A=c.right-(g?parseInt(g.paddingRight):0),M=blockAt(n,o),Y=blockAt(n,s),de=M.type==BlockType.Text?M:null,ae=Y.type==BlockType.Text?Y:null;if(de&&(n.lineWrapping||M.widgetLineBreaks)&&(de=wrappedLine(n,o,de)),ae&&(n.lineWrapping||Y.widgetLineBreaks)&&(ae=wrappedLine(n,s,ae)),de&&ae&&de.from==ae.from)return qe(Ue(r.from,r.to,de));{let On=de?Ue(r.from,null,de):hn(M,!1),vn=ae?Ue(null,r.to,ae):hn(Y,!0),bn=[];return(de||M).to<(ae||Y).from-(de&&ae?1:0)||M.widgetLineBreaks>1&&On.bottom+n.defaultLineHeight/2<vn.top?bn.push(ze(v,On.bottom,A,vn.top)):On.bottom<vn.top&&n.elementAtHeight((On.bottom+vn.top)/2).type==BlockType.Text&&(On.bottom=vn.top=(On.bottom+vn.top)/2),qe(On).concat(bn).concat(qe(vn))}function ze(On,vn,bn,wn){return new RectangleMarker(e,On-d.left,vn-d.top-.01,bn-On,wn-vn+.01)}function qe({top:On,bottom:vn,horizontal:bn}){let wn=[];for(let Cn=0;Cn<bn.length;Cn+=2)wn.push(ze(bn[Cn],On,bn[Cn+1],vn));return wn}function Ue(On,vn,bn){let wn=1e9,Cn=-1e9,En=[];function _n(Un,Rn,Wn,$n,Xn){let xn=n.coordsAtPos(Un,Un==bn.to?-2:2),Mn=n.coordsAtPos(Wn,Wn==bn.from?2:-2);!xn||!Mn||(wn=Math.min(xn.top,Mn.top,wn),Cn=Math.max(xn.bottom,Mn.bottom,Cn),Xn==Direction.LTR?En.push(a&&Rn?v:xn.left,a&&$n?A:Mn.right):En.push(!a&&$n?v:Mn.left,!a&&Rn?A:xn.right))}let Bn=On??bn.from,jn=vn??bn.to;for(let Un of n.visibleRanges)if(Un.to>Bn&&Un.from<jn)for(let Rn=Math.max(Un.from,Bn),Wn=Math.min(Un.to,jn);;){let $n=n.state.doc.lineAt(Rn);for(let Xn of n.bidiSpans($n)){let xn=Xn.from+$n.from,Mn=Xn.to+$n.from;if(xn>=Wn)break;Mn>Rn&&_n(Math.max(xn,Rn),On==null&&xn<=Bn,Math.min(Mn,Wn),vn==null&&Mn>=jn,Xn.dir)}if(Rn=$n.to+1,Rn>=Wn)break}return En.length==0&&_n(Bn,On==null,jn,vn==null,n.textDirection),{top:wn,bottom:Cn,horizontal:En}}function hn(On,vn){let bn=c.top+(vn?On.top:On.bottom);return{top:bn,bottom:bn,horizontal:[]}}}function sameMarker(n,e){return n.constructor==e.constructor&&n.eq(e)}class LayerView{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,o=e.facet(layerOrder);for(;r<o.length&&o[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,o)=>!sameMarker(r,this.drawn[o]))){let r=this.dom.firstChild,o=0;for(let s of e)s.update&&r&&s.constructor&&this.drawn[o].constructor&&s.update(r,this.drawn[o])?(r=r.nextSibling,o++):this.dom.insertBefore(s.draw(),r);for(;r;){let s=r.nextSibling;r.remove(),r=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(n){return[ViewPlugin.define(e=>new LayerView(e,n)),layerOrder.of(n)]}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(n){return combineConfig(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function drawSelection(n={}){return[selectionConfig.of(n),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(n){return n.startState.facet(selectionConfig)!=n.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(n){let{state:e}=n,r=e.facet(selectionConfig),o=[];for(let s of e.selection.ranges){let a=s==e.selection.main;if(s.empty?!a||CanHidePrimary:r.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:EditorSelection.cursor(s.head,s.head>s.anchor?-1:1);for(let d of RectangleMarker.forRange(n,l,c))o.push(d)}}return o},update(n,e){n.transactions.some(o=>o.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(n);return r&&setBlinkRate(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){setBlinkRate(e.state,n)},class:"cm-cursorLayer"});function setBlinkRate(n,e){e.style.animationDuration=n.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||configChanged(n)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important",themeSpec[".cm-content"]={caretColor:"transparent !important"});const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(n,e){return n==null?null:e.mapPos(n)}}),dropCursorPos=StateField.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,o)=>o.is(setDropCursorPos)?o.value:r,n)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(dropCursorPos);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(dropCursorPos)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(dropCursorPos),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let o=n.scrollDOM.getBoundingClientRect();return{left:r.left-o.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-o.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(dropCursorPos)!=n&&this.view.dispatch({effects:setDropCursorPos.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(n,e,r,o,s){e.lastIndex=0;for(let a=n.iterRange(r,o),l=r,c;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;c=e.exec(a.value);)s(l+c.index,c)}function matchRanges(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let o=[];for(let{from:s,to:a}of r)s=Math.max(n.state.doc.lineAt(s).from,s-e),a=Math.min(n.state.doc.lineAt(a).to,a+e),o.length&&o[o.length-1].to>=s?o[o.length-1].to=a:o.push({from:s,to:a});return o}class MatchDecorator{constructor(e){const{regexp:r,decoration:o,decorate:s,boundary:a,maxLength:l=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,s)this.addMatch=(c,d,f,g)=>s(g,f,f+c[0].length,c,d);else if(typeof o=="function")this.addMatch=(c,d,f,g)=>{let v=o(c,d,f);v&&g(f,f+c[0].length,v)};else if(o)this.addMatch=(c,d,f,g)=>g(f,f+c[0].length,o);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let r=new RangeSetBuilder,o=r.add.bind(r);for(let{from:s,to:a}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,s,a,(l,c)=>this.addMatch(c,e,l,o));return r.finish()}updateDeco(e,r){let o=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,l,c,d)=>{d>e.view.viewport.from&&c<e.view.viewport.to&&(o=Math.min(c,o),s=Math.max(d,s))}),e.viewportChanged||s-o>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,r.map(e.changes),o,s):r}updateRange(e,r,o,s){for(let a of e.visibleRanges){let l=Math.max(a.from,o),c=Math.min(a.to,s);if(c>l){let d=e.state.doc.lineAt(l),f=d.to<c?e.state.doc.lineAt(c):d,g=Math.max(a.from,d.from),v=Math.min(a.to,f.to);if(this.boundary){for(;l>d.from;l--)if(this.boundary.test(d.text[l-1-d.from])){g=l;break}for(;c<f.to;c++)if(this.boundary.test(f.text[c-f.from])){v=c;break}}let A=[],M,Y=(de,ae,ze)=>A.push(ze.range(de,ae));if(d==f)for(this.regexp.lastIndex=g-d.from;(M=this.regexp.exec(d.text))&&M.index<v-d.from;)this.addMatch(M,e,M.index+d.from,Y);else iterMatches(e.state.doc,this.regexp,g,v,(de,ae)=>this.addMatch(ae,e,de,Y));r=r.update({filterFrom:g,filterTo:v,filter:(de,ae)=>de<g||ae>v,add:A})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var n;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(n){let e=combineConfig(n,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(n={}){return[specialCharConfig.of(n),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new MatchDecorator({regexp:n.specialChars,decoration:(e,r,o)=>{let{doc:s}=r.state,a=codePointAt(e[0],0);if(a==9){let l=s.lineAt(o),c=r.state.tabSize,d=countColumn(l.text,c,o-l.from);return Decoration.replace({widget:new TabWidget((c-d%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Decoration.replace({widget:new SpecialCharWidget(n,a)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(specialCharConfig);n.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const DefaultPlaceholder="•";function placeholder$1(n){return n>=32?DefaultPlaceholder:n==10?"␤":String.fromCharCode(9216+n)}class SpecialCharWidget extends WidgetType{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=placeholder$1(this.code),o=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,o,r);if(s)return s;let a=document.createElement("span");return a.textContent=r,a.title=o,a.setAttribute("aria-label",o),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let o of n.state.selection.ranges){let s=n.lineBlockAt(o.head);s.from>e&&(r.push(lineDeco.range(s.from)),e=s.from)}return Decoration.set(r)}},{decorations:n=>n.decorations});class Placeholder extends WidgetType{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let r=e.firstChild?clientRectsFor(e.firstChild):[];if(!r.length)return null;let o=window.getComputedStyle(e.parentNode),s=flattenRect(r[0],o.direction!="rtl"),a=parseInt(o.lineHeight);return s.bottom-s.top>a*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+a}:s}ignoreEvent(){return!1}}function placeholder(n){return ViewPlugin.fromClass(class{constructor(e){this.view=e,this.placeholder=n?Decoration.set([Decoration.widget({widget:new Placeholder(n),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:e=>e.decorations})}const MaxOff=2e3;function rectangleFor(n,e,r){let o=Math.min(e.line,r.line),s=Math.max(e.line,r.line),a=[];if(e.off>MaxOff||r.off>MaxOff||e.col<0||r.col<0){let l=Math.min(e.off,r.off),c=Math.max(e.off,r.off);for(let d=o;d<=s;d++){let f=n.doc.line(d);f.length<=c&&a.push(EditorSelection.range(f.from+l,f.to+c))}}else{let l=Math.min(e.col,r.col),c=Math.max(e.col,r.col);for(let d=o;d<=s;d++){let f=n.doc.line(d),g=findColumn(f.text,l,n.tabSize,!0);if(g<0)a.push(EditorSelection.cursor(f.to));else{let v=findColumn(f.text,c,n.tabSize);a.push(EditorSelection.range(f.from+g,f.from+v))}}}return a}function absoluteColumn(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function getPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),o=n.state.doc.lineAt(r),s=r-o.from,a=s>MaxOff?-1:s==o.length?absoluteColumn(n,e.clientX):countColumn(o.text,n.state.tabSize,r-o.from);return{line:o.number,col:a,off:s}}function rectangleSelectionStyle(n,e){let r=getPos(n,e),o=n.state.selection;return r?{update(s){if(s.docChanged){let a=s.changes.mapPos(s.startState.doc.line(r.line).from),l=s.state.doc.lineAt(a);r={line:l.number,col:r.col,off:Math.min(r.off,l.length)},o=o.map(s.changes)}},get(s,a,l){let c=getPos(n,s);if(!c)return o;let d=rectangleFor(n.state,r,c);return d.length?l?EditorSelection.create(d.concat(o.ranges)):EditorSelection.create(d):o}}:null}function rectangularSelection(n){let e=r=>r.altKey&&r.button==0;return EditorView.mouseSelectionStyle.of((r,o)=>e(o)?rectangleSelectionStyle(r,o):null)}const keys={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(n={}){let[e,r]=keys[n.key||"Alt"],o=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||r(s))},keyup(s){(s.keyCode==e||!r(s))&&this.set(!1)},mousemove(s){this.set(r(s))}}});return[o,EditorView.contentAttributes.of(s=>{var a;return!((a=s.plugin(o))===null||a===void 0)&&a.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,r,o,s){this.facet=r,this.createTooltipView=o,this.removeTooltipView=s,this.input=e.state.facet(r),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=o(l,a))}update(e,r){var o;let s=e.state.facet(this.facet),a=s.filter(d=>d);if(s===this.input){for(let d of this.tooltipViews)d.update&&d.update(e);return!1}let l=[],c=r?[]:null;for(let d=0;d<a.length;d++){let f=a[d],g=-1;if(f){for(let v=0;v<this.tooltips.length;v++){let A=this.tooltips[v];A&&A.create==f.create&&(g=v)}if(g<0)l[d]=this.createTooltipView(f,d?l[d-1]:null),c&&(c[d]=!!f.above);else{let v=l[d]=this.tooltipViews[g];c&&(c[d]=r[g]),v.update&&v.update(e)}}}for(let d of this.tooltipViews)l.indexOf(d)<0&&(this.removeTooltipView(d),(o=d.destroy)===null||o===void 0||o.call(d));return r&&(c.forEach((d,f)=>r[f]=d),r.length=c.length),this.input=s,this.tooltips=a,this.tooltipViews=l,!0}}function windowSpace(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tooltipConfig=Facet.define({combine:n=>{var e,r,o;return{position:browser.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(s=>s.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((o=n.find(s=>s.tooltipSpace))===null||o===void 0?void 0:o.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(n,showTooltip,(r,o)=>this.createTooltip(r,o),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,o=n.state.facet(tooltipConfig);if(o.position!=this.position&&!this.madeAbsolute){this.position=o.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;r=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),o=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",r.dom.appendChild(s)}return r.dom.style.position=this.position,r.dom.style.top=Outside,r.dom.style.left="0px",this.container.insertBefore(r.dom,o),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let o of this.manager.tooltipViews)o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,r=1,o=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(browser.gecko)o=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Outside&&s.style.left=="0px"){let a=s.getBoundingClientRect();o=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(o||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(e=s.width/this.parent.offsetWidth,r=s.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:r}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((s,a)=>{let l=this.manager.tooltipViews[a];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:e,scaleY:r,makeAbsolute:o}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{editor:r,space:o,scaleX:s,scaleY:a}=n,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let d=this.manager.tooltips[c],f=this.manager.tooltipViews[c],{dom:g}=f,v=n.pos[c],A=n.size[c];if(!v||v.bottom<=Math.max(r.top,o.top)||v.top>=Math.min(r.bottom,o.bottom)||v.right<Math.max(r.left,o.left)-.1||v.left>Math.min(r.right,o.right)+.1){g.style.top=Outside;continue}let M=d.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,Y=M?7:0,de=A.right-A.left,ae=(e=knownHeight.get(f))!==null&&e!==void 0?e:A.bottom-A.top,ze=f.offset||noOffset,qe=this.view.textDirection==Direction.LTR,Ue=A.width>o.right-o.left?qe?o.left:o.right-A.width:qe?Math.min(v.left-(M?14:0)+ze.x,o.right-de):Math.max(o.left,v.left-de+(M?14:0)-ze.x),hn=this.above[c];!d.strictSide&&(hn?v.top-(A.bottom-A.top)-ze.y<o.top:v.bottom+(A.bottom-A.top)+ze.y>o.bottom)&&hn==o.bottom-v.bottom>v.top-o.top&&(hn=this.above[c]=!hn);let On=(hn?v.top-o.top:o.bottom-v.bottom)-Y;if(On<ae&&f.resize!==!1){if(On<this.view.defaultLineHeight){g.style.top=Outside;continue}knownHeight.set(f,ae),g.style.height=(ae=On)/a+"px"}else g.style.height&&(g.style.height="");let vn=hn?v.top-ae-Y-ze.y:v.bottom+Y+ze.y,bn=Ue+de;if(f.overlap!==!0)for(let wn of l)wn.left<bn&&wn.right>Ue&&wn.top<vn+ae&&wn.bottom>vn&&(vn=hn?wn.top-ae-2-Y:wn.bottom+Y+2);if(this.position=="absolute"?(g.style.top=(vn-n.parent.top)/a+"px",g.style.left=(Ue-n.parent.left)/s+"px"):(g.style.top=vn/a+"px",g.style.left=Ue/s+"px"),M){let wn=v.left+(qe?ze.x:-ze.x)-(Ue+14-7);M.style.left=wn/s+"px"}f.overlap!==!0&&l.push({left:Ue,top:vn,right:bn,bottom:vn+ae}),g.classList.toggle("cm-tooltip-above",hn),g.classList.toggle("cm-tooltip-below",!hn),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(r,o)=>this.createHostedView(r,o),r=>r.dom.remove())}createHostedView(e,r){let o=e.create(this.view);return o.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(o.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&o.mount&&o.mount(this.view),o}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let o of this.manager.tooltipViews){let s=o[e];if(s!==void 0){if(r===void 0)r=s;else if(r!==s)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],n=>{let e=n.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var o;return(o=r.end)!==null&&o!==void 0?o:r.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class HoverPlugin{constructor(e,r,o,s,a){this.view=e,this.source=r,this.field=o,this.setHover=s,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,o=e.docView.nearest(r.target);if(!o)return;let s,a=1;if(o instanceof WidgetView)s=o.posAtStart;else{if(s=e.posAtCoords(r),s==null)return;let c=e.coordsAtPos(s);if(!c||r.y<c.top||r.y>c.bottom||r.x<c.left-e.defaultCharacterWidth||r.x>c.right+e.defaultCharacterWidth)return;let d=e.bidiSpans(e.state.doc.lineAt(s)).find(g=>g.from<=s&&g.to>=s),f=d&&d.dir==Direction.RTL?-1:1;a=r.x<c.left?-f:f}let l=this.source(e,s,a);if(l!=null&&l.then){let c=this.pending={pos:s};l.then(d=>{this.pending==c&&(this.pending=null,d&&!(Array.isArray(d)&&!d.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(d)?d:[d])}))},d=>logException(e.state,d,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),r=e?e.manager.tooltips.findIndex(o=>o.create==HoverTooltipHost.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,o;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:a}=this;if(s.length&&a&&!isInTooltip(a.dom,e)||this.pending){let{pos:l}=s[0]||this.pending,c=(o=(r=s[0])===null||r===void 0?void 0:r.end)!==null&&o!==void 0?o:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!isOverRange(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:o}=this;o&&o.dom.contains(e.relatedTarget)?this.watchTooltipLeave(o.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=o=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(o.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(n,e){let r=n.getBoundingClientRect();return e.clientX>=r.left-tooltipMargin&&e.clientX<=r.right+tooltipMargin&&e.clientY>=r.top-tooltipMargin&&e.clientY<=r.bottom+tooltipMargin}function isOverRange(n,e,r,o,s,a){let l=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>o||l.right<o||l.top>s||Math.min(l.bottom,c)<s)return!1;let d=n.posAtCoords({x:o,y:s},!1);return d>=e&&d<=r}function hoverTooltip(n,e={}){let r=StateEffect.define(),o=StateField.define({create(){return[]},update(s,a){if(s.length&&(e.hideOnChange&&(a.docChanged||a.selection)?s=[]:e.hideOn&&(s=s.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let c of s){let d=a.changes.mapPos(c.pos,-1,MapMode.TrackDel);if(d!=null){let f=Object.assign(Object.create(null),c);f.pos=d,f.end!=null&&(f.end=a.changes.mapPos(f.end)),l.push(f)}}s=l}for(let l of a.effects)l.is(r)&&(s=l.value),l.is(closeHoverTooltipEffect)&&(s=[]);return s},provide:s=>showHoverTooltip.from(s)});return[o,ViewPlugin.define(s=>new HoverPlugin(s,n,o,r,e.hoverTime||300)),showHoverTooltipHost]}function getTooltip(n,e){let r=n.plugin(tooltipPlugin);if(!r)return null;let o=r.manager.tooltips.indexOf(e);return o<0?null:r.manager.tooltipViews[o]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(n){let e,r;for(let o of n)e=e||o.topContainer,r=r||o.bottomContainer;return{topContainer:e,bottomContainer:r}}});function getPanel(n,e){let r=n.plugin(panelPlugin),o=r?r.specs.indexOf(e):-1;return o>-1?r.panels[o]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(n){this.input=n.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(panelConfig);this.top=new PanelGroup(n,!0,e.topContainer),this.bottom=new PanelGroup(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(showPanel);if(r!=this.input){let o=r.filter(d=>d),s=[],a=[],l=[],c=[];for(let d of o){let f=this.specs.indexOf(d),g;f<0?(g=d(n.view),c.push(g)):(g=this.panels[f],g.update&&g.update(n)),s.push(g),(g.top?a:l).push(g)}this.specs=o,this.panels=s,this.top.sync(a),this.bottom.sync(l);for(let d of c)d.dom.classList.add("cm-panel"),d.mount&&d.mount()}else for(let o of this.panels)o.update&&o.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(e,r,o){this.view=e,this.top=r,this.container=o,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(n){let e=n.nextSibling;return n.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$2={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(n){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$2),n))]}const unfixGutters=Facet.define({combine:n=>n.some(e=>e)});function gutters(n){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(activeGutters).map(e=>new SingleGutterView(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,o=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(o<(r.to-r.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),o=[],s=this.gutters.map(a=>new UpdateContext(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(o.length&&(o=[]),Array.isArray(a.type)){let l=!0;for(let c of a.type)if(c.type==BlockType.Text&&l){advanceCursor(r,o,c.from);for(let d of s)d.line(this.view,c,o);l=!1}else if(c.widget)for(let d of s)d.widget(this.view,c)}else if(a.type==BlockType.Text){advanceCursor(r,o,a.from);for(let l of s)l.line(this.view,a,o)}else if(a.widget)for(let l of s)l.widget(this.view,a);for(let a of s)a.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(activeGutters),r=n.state.facet(activeGutters),o=n.docChanged||n.heightChanged||n.viewportChanged||!RangeSet.eq(n.startState.facet(gutterLineClass),n.state.facet(gutterLineClass),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let s of this.gutters)s.update(n)&&(o=!0);else{o=!0;let s=[];for(let a of r){let l=e.indexOf(a);l<0?s.push(new SingleGutterView(this.view,a)):(this.gutters[l].update(n),s.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)this.dom.appendChild(a.dom);this.gutters=s}return o}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Direction.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function asArray(n){return Array.isArray(n)?n:[n]}function advanceCursor(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class UpdateContext{constructor(e,r,o){this.gutter=e,this.height=o,this.i=0,this.cursor=RangeSet.iter(e.markers,r.from)}addElement(e,r,o){let{gutter:s}=this,a=(r.top-this.height)/e.scaleY,l=r.height/e.scaleY;if(this.i==s.elements.length){let c=new GutterElement(e,l,a,o);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,l,a,o);this.height=r.bottom,this.i++}line(e,r,o){let s=[];advanceCursor(this.cursor,s,r.from),o.length&&(s=s.concat(o));let a=this.gutter.config.lineMarker(e,r,s);a&&s.unshift(a);let l=this.gutter;s.length==0&&!l.config.renderEmptyElements||this.addElement(e,r,s)}widget(e,r){let o=this.gutter.config.widgetMarker(e,r.widget,r);o&&this.addElement(e,r,[o])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in r.domEventHandlers)this.dom.addEventListener(o,s=>{let a=s.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let d=a.getBoundingClientRect();l=(d.top+d.bottom)/2}else l=s.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);r.domEventHandlers[o](e,c,s)&&s.preventDefault()});this.markers=asArray(r.markers(e)),r.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let o=e.view.viewport;return!RangeSet.eq(this.markers,r,o.from,o.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,r,o,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,o,s)}update(e,r,o,s){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=o&&(this.dom.style.marginTop=(this.above=o)?o+"px":""),sameMarkers(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,r){let o="cm-gutterElement",s=this.dom.firstChild;for(let a=0,l=0;;){let c=l,d=a<r.length?r[a++]:null,f=!1;if(d){let g=d.elementClass;g&&(o+=" "+g);for(let v=l;v<this.markers.length;v++)if(this.markers[v].compare(d)){c=v,f=!0;break}}else c=this.markers.length;for(;l<c;){let g=this.markers[l++];if(g.toDOM){g.destroy(s);let v=s.nextSibling;s.remove(),s=v}}if(!d)break;d.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(d.toDOM(e),s)),f&&l++}this.dom.className=o,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(n){return combineConfig(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let o=Object.assign({},e);for(let s in r){let a=o[s],l=r[s];o[s]=a?(c,d,f)=>a(c,d,f)||l(c,d,f):l}return o}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(n,e){return n.state.facet(lineNumberConfig).formatNumber(e,n.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,r,o){return o.some(s=>s.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(r.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,r){let o=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return o==e.number?e:new NumberMarker(o)},domEventHandlers:n.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(n={}){return[lineNumberConfig.of(n),gutters(),lineNumberGutter]}function maxLineNumber(n){let e=9;for(;e<n;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],n=>{let e=[],r=-1;for(let o of n.selection.ranges){let s=n.doc.lineAt(o.head).from;s>r&&(r=s,e.push(activeLineGutterMarker.range(s)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,r){this.from=e,this.to=r}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),r=>{let o=e(r);return o===void 0?null:[this,o]}}}NodeProp.closedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.group=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.isolate=new NodeProp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,r,o){this.tree=e,this.overlay=r,this.parser=o}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,r,o,s=0){this.name=e,this.props=r,this.id=o,this.flags=s}static define(e){let r=e.props&&e.props.length?Object.create(null):noProps,o=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new NodeType(e.name||"",r,e.id,o);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let o in e)for(let s of o.split(" "))r[s]=e[o];return o=>{for(let s=o.prop(NodeProp.group),a=-1;a<(s?s.length:0);a++){let l=r[a<0?o.name:s[a]];if(l)return l}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let o of this.types){let s=null;for(let a of e){let l=a(o);l&&(s||(s=Object.assign({},o.props)),s[l[0].id]=l[1])}r.push(s?new NodeType(o.name,s,o.id,o.flags):o)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,r,o,s,a){if(this.type=e,this.children=r,this.positions=o,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,c]of a)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let o of this.children){let s=o.toString();s&&(r&&(r+=","),r+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,r=0,o=0){let s=CachedNode.get(this)||this.topNode,a=new TreeCursor(s);return a.moveTo(e,r),CachedNode.set(this,a._tree),a}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,r=0){let o=resolveNode(CachedNode.get(this)||this.topNode,e,r,!1);return CachedNode.set(this,o),o}resolveInner(e,r=0){let o=resolveNode(CachedInnerNode.get(this)||this.topNode,e,r,!0);return CachedInnerNode.set(this,o),o}resolveStack(e,r=0){return stackIterator(this,e,r)}iterate(e){let{enter:r,leave:o,from:s=0,to:a=this.length}=e,l=e.mode||0,c=(l&IterMode.IncludeAnonymous)>0;for(let d=this.cursor(l|IterMode.IncludeAnonymous);;){let f=!1;if(d.from<=a&&d.to>=s&&(!c&&d.type.isAnonymous||r(d)!==!1)){if(d.firstChild())continue;f=!0}for(;f&&o&&(c||!d.type.isAnonymous)&&o(d),!d.nextSibling();){if(!d.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,o,s)=>new Tree(this.type,r,o,s,this.propValues),e.makeTree||((r,o,s)=>new Tree(NodeType.none,r,o,s)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,r,o){this.buffer=e,this.length=r,this.set=o}get type(){return NodeType.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],o=this.buffer[e+3],s=this.set.types[r],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,o==e)return a;let l=[];for(;e<o;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,r,o,s,a){let{buffer:l}=this,c=-1;for(let d=e;d!=r&&!(checkSide(a,s,l[d+1],l[d+2])&&(c=d,o>0));d=l[d+3]);return c}slice(e,r,o){let s=this.buffer,a=new Uint16Array(r-e),l=0;for(let c=e,d=0;c<r;){a[d++]=s[c++],a[d++]=s[c++]-o;let f=a[d++]=s[c++]-o;a[d++]=s[c++]-e,l=Math.max(l,f)}return new TreeBuffer(a,l,this.set)}}function checkSide(n,e,r,o){switch(n){case-2:return r<e;case-1:return o>=e&&r<e;case 0:return r<e&&o>e;case 1:return r<=e&&o>e;case 2:return o>e;case 4:return!0}}function resolveNode(n,e,r,o){for(var s;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let l=!o&&n instanceof TreeNode&&n.index<0?null:n.parent;if(!l)return n;n=l}let a=o?0:IterMode.IgnoreOverlays;if(o)for(let l=n,c=l.parent;c;l=c,c=l.parent)l instanceof TreeNode&&l.index<0&&((s=c.enter(e,r,a))===null||s===void 0?void 0:s.from)!=l.from&&(n=c);for(;;){let l=n.enter(e,r,a);if(!l)return n;n=l}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,r=null,o=null){let s=getChildren(this,e,r,o);return s.length?s[0]:null}getChildren(e,r=null,o=null){return getChildren(this,e,r,o)}resolve(e,r=0){return resolveNode(this,e,r,!1)}resolveInner(e,r=0){return resolveNode(this,e,r,!0)}matchContext(e){return matchNodeContext(this,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),o=this;for(;r;){let s=r.lastChild;if(!s||s.to!=r.to)break;s.type.isError&&s.from==s.to?(o=r,r=s.prevSibling):r=s}return o}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,r,o,s){super(),this._tree=e,this.from=r,this.index=o,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,o,s,a=0){for(let l=this;;){for(let{children:c,positions:d}=l._tree,f=r>0?c.length:-1;e!=f;e+=r){let g=c[e],v=d[e]+l.from;if(checkSide(s,o,v,v+g.length)){if(g instanceof TreeBuffer){if(a&IterMode.ExcludeBuffers)continue;let A=g.findChild(0,g.buffer.length,r,o-v,s);if(A>-1)return new BufferNode(new BufferContext(l,g,e,v),null,A)}else if(a&IterMode.IncludeAnonymous||!g.type.isAnonymous||hasChild(g)){let A;if(!(a&IterMode.IgnoreMounts)&&(A=MountedTree.get(g))&&!A.overlay)return new TreeNode(A.tree,v,e,l);let M=new TreeNode(g,v,e,l);return a&IterMode.IncludeAnonymous||!M.type.isAnonymous?M:M.nextChild(r<0?g.children.length-1:0,r,o,s)}}}if(a&IterMode.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+r:e=r<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,o=0){let s;if(!(o&IterMode.IgnoreOverlays)&&(s=MountedTree.get(this._tree))&&s.overlay){let a=e-this.from;for(let{from:l,to:c}of s.overlay)if((r>0?l<=a:l<a)&&(r<0?c>=a:c>a))return new TreeNode(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,o)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(n,e,r,o){let s=n.cursor(),a=[];if(!s.firstChild())return a;if(r!=null){for(let l=!1;!l;)if(l=s.type.is(r),!s.nextSibling())return a}for(;;){if(o!=null&&s.type.is(o))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return o==null?a:[]}}function matchNodeContext(n,e,r=e.length-1){for(let o=n.parent;r>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}class BufferContext{constructor(e,r,o,s){this.parent=e,this.buffer=r,this.index=o,this.start=s}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,o){super(),this.context=e,this._parent=r,this.index=o,this.type=e.buffer.set.types[e.buffer.buffer[o]]}child(e,r,o){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.context.start,o);return a<0?null:new BufferNode(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,o=0){if(o&IterMode.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return a<0?null:new BufferNode(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:o}=this.context,s=this.index+4,a=o.buffer[this.index+3];if(a>s){let l=o.buffer[this.index+1];e.push(o.slice(s,a,l)),r.push(0)}return new Tree(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(n){if(!n.length)return null;let e=0,r=n[0];for(let a=1;a<n.length;a++){let l=n[a];(l.from>r.from||l.to<r.to)&&(r=l,e=a)}let o=r instanceof TreeNode&&r.index<0?null:r.parent,s=n.slice();return o?s[e]=o:s.splice(e,1),new StackIterator(s,r)}class StackIterator{constructor(e,r){this.heads=e,this.node=r}get next(){return iterStack(this.heads)}}function stackIterator(n,e,r){let o=n.resolveInner(e,r),s=null;for(let a=o instanceof TreeNode?o:o.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(s||(s=[o])).push(l.resolve(e,r)),a=l}else{let l=MountedTree.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new TreeNode(l.tree,l.overlay[0].from+a.from,-1,a);(s||(s=[o])).push(resolveNode(c,e,r,!1))}}return s?iterStack(s):o}class TreeCursor{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let o=e._parent;o;o=o._parent)this.stack.unshift(o.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:o,buffer:s}=this.buffer;return this.type=r||s.set.types[s.buffer[e]],this.from=o+s.buffer[e+1],this.to=o+s.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,o){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,o,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.buffer.start,o);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,o=this.mode){return this.buffer?o&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,o))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,o=this.stack.length-1;if(e<0){let s=o<0?0:this.stack[o]+4;if(this.index!=s)return this.yieldBuf(r.findChild(s,this.index,-1,0,4))}else{let s=r.buffer[this.index+3];if(s<(o<0?r.buffer.length:r.buffer[this.stack[o]+3]))return this.yieldBuf(s)}return o<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,o,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:o}=s)}else({index:r,_parent:o}=this._tree);for(;o;{index:r,_parent:o}=o)if(r>-1)for(let a=r+e,l=e<0?-1:o._tree.children.length;a!=l;a+=e){let c=o._tree.children[a];if(this.mode&IterMode.IncludeAnonymous||c instanceof TreeBuffer||!c.type.isAnonymous||hasChild(c))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,o=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==s){if(s==this.index)return l;r=l,o=a+1;break e}s=this.stack[--a]}for(let s=o;s<this.stack.length;s++)r=new BufferNode(this.buffer,r,this.stack[s]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let o=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){o++;continue}this.type.isAnonymous||(s=!0)}for(;s&&r&&r(this),s=this.type.isAnonymous,!this.nextSibling();){if(!o)return;this.parent(),o--,s=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node,e);let{buffer:r}=this.buffer,{types:o}=r.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return matchNodeContext(this.node,e,s);let l=o[r.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[s]&&e[s]!=l.name)return!1;s--}}return!0}}function hasChild(n){return n.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(n){var e;let{buffer:r,nodeSet:o,maxBufferLength:s=DefaultBufferLength,reused:a=[],minRepeatType:l=o.types.length}=n,c=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,d=o.types,f=0,g=0;function v(On,vn,bn,wn,Cn,En){let{id:_n,start:Bn,end:jn,size:Un}=c,Rn=g;for(;Un<0;)if(c.next(),Un==-1){let Mn=a[_n];bn.push(Mn),wn.push(Bn-On);return}else if(Un==-3){f=_n;return}else if(Un==-4){g=_n;return}else throw new RangeError(`Unrecognized record size: ${Un}`);let Wn=d[_n],$n,Xn,xn=Bn-On;if(jn-Bn<=s&&(Xn=ae(c.pos-vn,Cn))){let Mn=new Uint16Array(Xn.size-Xn.skip),Qn=c.pos-Xn.size,Nn=Mn.length;for(;c.pos>Qn;)Nn=ze(Xn.start,Mn,Nn);$n=new TreeBuffer(Mn,jn-Xn.start,o),xn=Xn.start-On}else{let Mn=c.pos-Un;c.next();let Qn=[],Nn=[],Hn=_n>=l?_n:-1,Dn=0,An=jn;for(;c.pos>Mn;)Hn>=0&&c.id==Hn&&c.size>=0?(c.end<=An-s&&(Y(Qn,Nn,Bn,Dn,c.end,An,Hn,Rn),Dn=Qn.length,An=c.end),c.next()):En>2500?A(Bn,Mn,Qn,Nn):v(Bn,Mn,Qn,Nn,Hn,En+1);if(Hn>=0&&Dn>0&&Dn<Qn.length&&Y(Qn,Nn,Bn,Dn,Bn,An,Hn,Rn),Qn.reverse(),Nn.reverse(),Hn>-1&&Dn>0){let Ln=M(Wn);$n=balanceRange(Wn,Qn,Nn,0,Qn.length,0,jn-Bn,Ln,Ln)}else $n=de(Wn,Qn,Nn,jn-Bn,Rn-jn)}bn.push($n),wn.push(xn)}function A(On,vn,bn,wn){let Cn=[],En=0,_n=-1;for(;c.pos>vn;){let{id:Bn,start:jn,end:Un,size:Rn}=c;if(Rn>4)c.next();else{if(_n>-1&&jn<_n)break;_n<0&&(_n=Un-s),Cn.push(Bn,jn,Un),En++,c.next()}}if(En){let Bn=new Uint16Array(En*4),jn=Cn[Cn.length-2];for(let Un=Cn.length-3,Rn=0;Un>=0;Un-=3)Bn[Rn++]=Cn[Un],Bn[Rn++]=Cn[Un+1]-jn,Bn[Rn++]=Cn[Un+2]-jn,Bn[Rn++]=Rn;bn.push(new TreeBuffer(Bn,Cn[2]-jn,o)),wn.push(jn-On)}}function M(On){return(vn,bn,wn)=>{let Cn=0,En=vn.length-1,_n,Bn;if(En>=0&&(_n=vn[En])instanceof Tree){if(!En&&_n.type==On&&_n.length==wn)return _n;(Bn=_n.prop(NodeProp.lookAhead))&&(Cn=bn[En]+_n.length+Bn)}return de(On,vn,bn,wn,Cn)}}function Y(On,vn,bn,wn,Cn,En,_n,Bn){let jn=[],Un=[];for(;On.length>wn;)jn.push(On.pop()),Un.push(vn.pop()+bn-Cn);On.push(de(o.types[_n],jn,Un,En-Cn,Bn-En)),vn.push(Cn-bn)}function de(On,vn,bn,wn,Cn=0,En){if(f){let _n=[NodeProp.contextHash,f];En=En?[_n].concat(En):[_n]}if(Cn>25){let _n=[NodeProp.lookAhead,Cn];En=En?[_n].concat(En):[_n]}return new Tree(On,vn,bn,wn,En)}function ae(On,vn){let bn=c.fork(),wn=0,Cn=0,En=0,_n=bn.end-s,Bn={size:0,start:0,skip:0};e:for(let jn=bn.pos-On;bn.pos>jn;){let Un=bn.size;if(bn.id==vn&&Un>=0){Bn.size=wn,Bn.start=Cn,Bn.skip=En,En+=4,wn+=4,bn.next();continue}let Rn=bn.pos-Un;if(Un<0||Rn<jn||bn.start<_n)break;let Wn=bn.id>=l?4:0,$n=bn.start;for(bn.next();bn.pos>Rn;){if(bn.size<0)if(bn.size==-3)Wn+=4;else break e;else bn.id>=l&&(Wn+=4);bn.next()}Cn=$n,wn+=Un,En+=Wn}return(vn<0||wn==On)&&(Bn.size=wn,Bn.start=Cn,Bn.skip=En),Bn.size>4?Bn:void 0}function ze(On,vn,bn){let{id:wn,start:Cn,end:En,size:_n}=c;if(c.next(),_n>=0&&wn<l){let Bn=bn;if(_n>4){let jn=c.pos-(_n-4);for(;c.pos>jn;)bn=ze(On,vn,bn)}vn[--bn]=Bn,vn[--bn]=En-On,vn[--bn]=Cn-On,vn[--bn]=wn}else _n==-3?f=wn:_n==-4&&(g=wn);return bn}let qe=[],Ue=[];for(;c.pos>0;)v(n.start||0,n.bufferStart||0,qe,Ue,-1,0);let hn=(e=n.length)!==null&&e!==void 0?e:qe.length?Ue[0]+qe[0].length:0;return new Tree(d[n.topID],qe.reverse(),Ue.reverse(),hn)}const nodeSizeCache=new WeakMap;function nodeSize(n,e){if(!n.isAnonymous||e instanceof TreeBuffer||e.type!=n)return 1;let r=nodeSizeCache.get(e);if(r==null){r=1;for(let o of e.children){if(o.type!=n||!(o instanceof Tree)){r=1;break}r+=nodeSize(n,o)}nodeSizeCache.set(e,r)}return r}function balanceRange(n,e,r,o,s,a,l,c,d){let f=0;for(let Y=o;Y<s;Y++)f+=nodeSize(n,e[Y]);let g=Math.ceil(f*1.5/8),v=[],A=[];function M(Y,de,ae,ze,qe){for(let Ue=ae;Ue<ze;){let hn=Ue,On=de[Ue],vn=nodeSize(n,Y[Ue]);for(Ue++;Ue<ze;Ue++){let bn=nodeSize(n,Y[Ue]);if(vn+bn>=g)break;vn+=bn}if(Ue==hn+1){if(vn>g){let bn=Y[hn];M(bn.children,bn.positions,0,bn.children.length,de[hn]+qe);continue}v.push(Y[hn])}else{let bn=de[Ue-1]+Y[Ue-1].length-On;v.push(balanceRange(n,Y,de,hn,Ue,On,bn,null,d))}A.push(On+qe-a)}}return M(e,r,o,s,0),(c||d)(v,A,l)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,r,o){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(r,o)}getBuffer(e,r){let o=this.map.get(e);return o&&o.get(r)}set(e,r){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,r):e instanceof TreeNode&&this.map.set(e.tree,r)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,r,o,s,a=!1,l=!1){this.from=e,this.to=r,this.tree=o,this.offset=s,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],o=!1){let s=[new TreeFragment(0,e.length,e,0,!1,o)];for(let a of r)a.to>e.length&&s.push(a);return s}static applyChanges(e,r,o=128){if(!r.length)return e;let s=[],a=1,l=e.length?e[0]:null;for(let c=0,d=0,f=0;;c++){let g=c<r.length?r[c]:null,v=g?g.fromA:1e9;if(v-d>=o)for(;l&&l.from<v;){let A=l;if(d>=A.from||v<=A.to||f){let M=Math.max(A.from,d)-f,Y=Math.min(A.to,v)-f;A=M>=Y?null:new TreeFragment(M,Y,A.tree,A.offset+f,c>0,!!g)}if(A&&s.push(A),l.to>v)break;l=a<e.length?e[a++]:null}if(!g)break;d=g.toA,f=g.toA-g.toB}return s}}class Parser{startParse(e,r,o){return typeof e=="string"&&(e=new StringInput(e)),o=o?o.length?o.map(s=>new Range(s.from,s.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,r||[],o)}parse(e,r,o){let s=this.startParse(e,r,o);for(;;){let a=s.advance();if(a)return a}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function parseMixed(n){return(e,r,o,s)=>new MixedParse(e,n,r,o,s)}class InnerParse{constructor(e,r,o,s,a){this.parser=e,this.parse=r,this.overlay=o,this.target=s,this.from=a}}function checkRanges(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class ActiveOverlay{constructor(e,r,o,s,a,l,c){this.parser=e,this.predicate=r,this.mounts=o,this.index=s,this.start=a,this.target=l,this.prev=c,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(e,r,o,s,a){this.nest=r,this.input=o,this.fragments=s,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let o=this.baseParse.advance();if(!o)return null;if(this.baseParse=null,this.baseTree=o,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let o=this.baseTree;return this.stoppedAt!=null&&(o=new Tree(o.type,o.children,o.positions,o.length,o.propValues.concat([[stoppedInner,this.stoppedAt]]))),o}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let o=Object.assign(Object.create(null),e.target.props);o[NodeProp.mounted.id]=new MountedTree(r,e.overlay,e.parser),e.target.props=o}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new FragmentCursor$1(this.fragments),r=null,o=null,s=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);e:for(let a,l;;){let c=!0,d;if(this.stoppedAt!=null&&s.from>=this.stoppedAt)c=!1;else if(e.hasNode(s)){if(r){let f=r.mounts.find(g=>g.frag.from<=s.from&&g.frag.to>=s.to&&g.mount.overlay);if(f)for(let g of f.mount.overlay){let v=g.from+f.pos,A=g.to+f.pos;v>=s.from&&A<=s.to&&!r.ranges.some(M=>M.from<A&&M.to>v)&&r.ranges.push({from:v,to:A})}}c=!1}else if(o&&(l=checkCover(o.ranges,s.from,s.to)))c=l!=2;else if(!s.type.isAnonymous&&(a=this.nest(s,this.input))&&(s.from<s.to||!a.overlay)){s.tree||materialize(s);let f=e.findMounts(s.from,a.parser);if(typeof a.overlay=="function")r=new ActiveOverlay(a.parser,a.overlay,f,this.inner.length,s.from,s.tree,r);else{let g=punchRanges(this.ranges,a.overlay||(s.from<s.to?[new Range(s.from,s.to)]:[]));g.length&&checkRanges(g),(g.length||!a.overlay)&&this.inner.push(new InnerParse(a.parser,g.length?a.parser.startParse(this.input,enterFragments(f,g),g):a.parser.startParse(""),a.overlay?a.overlay.map(v=>new Range(v.from-s.from,v.to-s.from)):null,s.tree,g.length?g[0].from:s.from)),a.overlay?g.length&&(o={ranges:g,depth:0,prev:o}):c=!1}}else r&&(d=r.predicate(s))&&(d===!0&&(d=new Range(s.from,s.to)),d.from<d.to&&r.ranges.push(d));if(c&&s.firstChild())r&&r.depth++,o&&o.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(r&&!--r.depth){let f=punchRanges(this.ranges,r.ranges);f.length&&(checkRanges(f),this.inner.splice(r.index,0,new InnerParse(r.parser,r.parser.startParse(this.input,enterFragments(r.mounts,f),f),r.ranges.map(g=>new Range(g.from-r.start,g.to-r.start)),r.target,f[0].from))),r=r.prev}o&&!--o.depth&&(o=o.prev)}}}}function checkCover(n,e,r){for(let o of n){if(o.from>=r)break;if(o.to>e)return o.from<=e&&o.to>=r?2:1}return 0}function sliceBuf(n,e,r,o,s,a){if(e<r){let l=n.buffer[e+1];o.push(n.slice(e,r,l)),s.push(l-a)}}function materialize(n){let{node:e}=n,r=[],o=e.context.buffer;do r.push(n.index),n.parent();while(!n.tree);let s=n.tree,a=s.children.indexOf(o),l=s.children[a],c=l.buffer,d=[a];function f(g,v,A,M,Y,de){let ae=r[de],ze=[],qe=[];sliceBuf(l,g,ae,ze,qe,M);let Ue=c[ae+1],hn=c[ae+2];d.push(ze.length);let On=de?f(ae+4,c[ae+3],l.set.types[c[ae]],Ue,hn-Ue,de-1):e.toTree();return ze.push(On),qe.push(Ue-M),sliceBuf(l,c[ae+3],v,ze,qe,M),new Tree(A,ze,qe,Y)}s.children[a]=f(0,c.length,NodeType.none,0,l.length,r.length-1);for(let g of d){let v=n.tree.children[g],A=n.tree.positions[g];n.yield(new TreeNode(v,A+n.from,g,n._tree))}}class StructureCursor{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(e){let{cursor:r}=this,o=e-this.offset;for(;!this.done&&r.from<o;)r.to>=e&&r.enter(o,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof Tree)r=r.children[0];else break}return!1}}let FragmentCursor$1=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let o=this.curFrag=e[0];this.curTo=(r=o.tree.prop(stoppedInner))!==null&&r!==void 0?r:o.to,this.inner=new StructureCursor(o.tree,-o.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(stoppedInner))!==null&&e!==void 0?e:r.to,this.inner=new StructureCursor(r.tree,-r.offset)}}findMounts(e,r){var o;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let a=this.inner.cursor.node;a;a=a.parent){let l=(o=a.tree)===null||o===void 0?void 0:o.prop(NodeProp.mounted);if(l&&l.parser==r)for(let c=this.fragI;c<this.fragments.length;c++){let d=this.fragments[c];if(d.from>=a.to)break;d.tree==this.curFrag.tree&&s.push({frag:d,pos:a.from-d.offset,mount:l})}}}return s}};function punchRanges(n,e){let r=null,o=e;for(let s=1,a=0;s<n.length;s++){let l=n[s-1].to,c=n[s].from;for(;a<o.length;a++){let d=o[a];if(d.from>=c)break;d.to<=l||(r||(o=r=e.slice()),d.from<l?(r[a]=new Range(d.from,l),d.to>c&&r.splice(a+1,0,new Range(c,d.to))):d.to>c?r[a--]=new Range(c,d.to):r.splice(a--,1))}}return o}function findCoverChanges(n,e,r,o){let s=0,a=0,l=!1,c=!1,d=-1e9,f=[];for(;;){let g=s==n.length?1e9:l?n[s].to:n[s].from,v=a==e.length?1e9:c?e[a].to:e[a].from;if(l!=c){let A=Math.max(d,r),M=Math.min(g,v,o);A<M&&f.push(new Range(A,M))}if(d=Math.min(g,v),d==1e9)break;g==d&&(l?(l=!1,s++):l=!0),v==d&&(c?(c=!1,a++):c=!0)}return f}function enterFragments(n,e){let r=[];for(let{pos:o,mount:s,frag:a}of n){let l=o+(s.overlay?s.overlay[0].from:0),c=l+s.tree.length,d=Math.max(a.from,l),f=Math.min(a.to,c);if(s.overlay){let g=s.overlay.map(A=>new Range(A.from+o,A.to+o)),v=findCoverChanges(e,g,d,f);for(let A=0,M=d;;A++){let Y=A==v.length,de=Y?f:v[A].from;if(de>M&&r.push(new TreeFragment(M,de,s.tree,-l,a.from>=M||a.openStart,a.to<=de||a.openEnd)),Y)break;M=v[A].to}}else r.push(new TreeFragment(d,f,s.tree,-l,a.from>=l||a.openStart,a.to<=c||a.openEnd))}return r}let nextTagID=0;class Tag{constructor(e,r,o){this.set=e,this.base=r,this.modified=o,this.id=nextTagID++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Tag([],null,[]);if(r.set.push(r),e)for(let o of e.set)r.set.push(o);return r}static defineModifier(){let e=new Modifier;return r=>r.modified.indexOf(e)>-1?r:Modifier.get(r.base||r,r.modified.concat(e).sort((o,s)=>o.id-s.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(e,r){if(!r.length)return e;let o=r[0].instances.find(c=>c.base==e&&sameArray(r,c.modified));if(o)return o;let s=[],a=new Tag(s,e,r);for(let c of r)c.instances.push(a);let l=powerSet(r);for(let c of e.set)if(!c.modified.length)for(let d of l)s.push(Modifier.get(c,d));return a}}function sameArray(n,e){return n.length==e.length&&n.every((r,o)=>r==e[o])}function powerSet(n){let e=[[]];for(let r=0;r<n.length;r++)for(let o=0,s=e.length;o<s;o++)e.push(e[o].concat(n[r]));return e.sort((r,o)=>o.length-r.length)}function styleTags(n){let e=Object.create(null);for(let r in n){let o=n[r];Array.isArray(o)||(o=[o]);for(let s of r.split(" "))if(s){let a=[],l=2,c=s;for(let v=0;;){if(c=="..."&&v>0&&v+3==s.length){l=1;break}let A=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!A)throw new RangeError("Invalid path: "+s);if(a.push(A[0]=="*"?"":A[0][0]=='"'?JSON.parse(A[0]):A[0]),v+=A[0].length,v==s.length)break;let M=s[v++];if(v==s.length&&M=="!"){l=0;break}if(M!="/")throw new RangeError("Invalid path: "+s);c=s.slice(v)}let d=a.length-1,f=a[d];if(!f)throw new RangeError("Invalid path: "+s);let g=new Rule(o,l,d>0?a.slice(0,d):null);e[f]=g.sort(e[f])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,r,o,s){this.tags=e,this.mode=r,this.context=o,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(n,e){let r=Object.create(null);for(let a of n)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let l of a.tag)r[l.id]=a.class;let{scope:o,all:s=null}=e||{};return{style:a=>{let l=s;for(let c of a)for(let d of c.set){let f=r[d.id];if(f){l=l?l+" "+f:f;break}}return l},scope:o}}function highlightTags(n,e){let r=null;for(let o of n){let s=o.style(e);s&&(r=r?r+" "+s:s)}return r}function highlightTree(n,e,r,o=0,s=n.length){let a=new HighlightBuilder(o,Array.isArray(e)?e:[e],r);a.highlightRange(n.cursor(),o,s,"",a.highlighters),a.flush(s)}class HighlightBuilder{constructor(e,r,o){this.at=e,this.highlighters=r,this.span=o,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,o,s,a){let{type:l,from:c,to:d}=e;if(c>=o||d<=r)return;l.isTop&&(a=this.highlighters.filter(M=>!M.scope||M.scope(l)));let f=s,g=getStyleTags(e)||Rule.empty,v=highlightTags(a,g.tags);if(v&&(f&&(f+=" "),f+=v,g.mode==1&&(s+=(s?" ":"")+v)),this.startSpan(Math.max(r,c),f),g.opaque)return;let A=e.tree&&e.tree.prop(NodeProp.mounted);if(A&&A.overlay){let M=e.node.enter(A.overlay[0].from+c,1),Y=this.highlighters.filter(ae=>!ae.scope||ae.scope(A.tree.type)),de=e.firstChild();for(let ae=0,ze=c;;ae++){let qe=ae<A.overlay.length?A.overlay[ae]:null,Ue=qe?qe.from+c:d,hn=Math.max(r,ze),On=Math.min(o,Ue);if(hn<On&&de)for(;e.from<On&&(this.highlightRange(e,hn,On,s,a),this.startSpan(Math.min(On,e.to),f),!(e.to>=Ue||!e.nextSibling())););if(!qe||Ue>o)break;ze=qe.to+c,ze>r&&(this.highlightRange(M.cursor(),Math.max(r,qe.from+c),Math.min(o,ze),"",Y),this.startSpan(Math.min(o,ze),f))}de&&e.parent()}else if(e.firstChild()){A&&(s="");do if(!(e.to<=r)){if(e.from>=o)break;this.highlightRange(e,r,o,s,a),this.startSpan(Math.min(o,e.to),f)}while(e.nextSibling());e.parent()}}}function getStyleTags(n){let e=n.type.prop(ruleNodeProp);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(n){return Facet.define({combine:n?e=>e.concat(n):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,r,o=[],s=""){this.data=e,this.name=s,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((a,l,c)=>{let d=topNodeAt(a,l,c),f=d.type.prop(languageDataProp);if(!f)return[];let g=a.facet(f),v=d.type.prop(sublanguageProp);if(v){let A=d.resolve(l-d.from,c);for(let M of v)if(M.test(A,a)){let Y=a.facet(M.facet);return M.type=="replace"?Y:Y.concat(g)}}return g})].concat(o)}isActiveAt(e,r,o=-1){return topNodeAt(e,r,o).type.prop(languageDataProp)==this.data}findRegions(e){let r=e.facet(language);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let o=[],s=(a,l)=>{if(a.prop(languageDataProp)==this.data){o.push({from:l,to:l+a.length});return}let c=a.prop(NodeProp.mounted);if(c){if(c.tree.prop(languageDataProp)==this.data){if(c.overlay)for(let d of c.overlay)o.push({from:d.from+l,to:d.to+l});else o.push({from:l,to:l+a.length});return}else if(c.overlay){let d=o.length;if(s(c.tree,c.overlay[0].from+l),o.length>d)return}}for(let d=0;d<a.children.length;d++){let f=a.children[d];f instanceof Tree&&s(f,a.positions[d]+l)}};return s(syntaxTree(e),0),o}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(n,e,r){let o=n.facet(language),s=syntaxTree(n).topNode;if(!o||o.allowsNesting)for(let a=s;a;a=a.enter(e,r,IterMode.ExcludeBuffers))a.type.isTop&&(s=a);return s}class LRLanguage extends Language{constructor(e,r,o){super(e,r,[],o),this.parser=r}static define(e){let r=defineLanguageFacet(e.languageData);return new LRLanguage(r,e.parser.configure({props:[languageDataProp.add(o=>o.isTop?r:void 0)]}),e.name)}configure(e,r){return new LRLanguage(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(n){let e=n.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let o=this.cursorPos-this.string.length;return e<o||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-o,r-o)}}let currentContext=null;class ParseContext{constructor(e,r,o=[],s,a,l,c,d){this.parser=e,this.state=r,this.fragments=o,this.tree=s,this.treeLen=a,this.viewport=l,this.skipped=c,this.scheduleOn=d,this.parse=null,this.tempSkipped=[]}static create(e,r,o){return new ParseContext(e,r,[],Tree.empty,0,o,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var o;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(o=this.parse.stoppedAt)!==null&&o!==void 0?o:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=currentContext;currentContext=this;try{return e()}finally{currentContext=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=cutFragments(e,r.from,r.to);return e}changes(e,r){let{fragments:o,tree:s,treeLen:a,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let d=[];if(e.iterChangedRanges((f,g,v,A)=>d.push({fromA:f,toA:g,fromB:v,toB:A})),o=TreeFragment.applyChanges(o,d),s=Tree.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let f of this.skipped){let g=e.mapPos(f.from,1),v=e.mapPos(f.to,-1);g<v&&c.push({from:g,to:v})}}}return new ParseContext(this.parser,r,o,s,a,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let o=0;o<this.skipped.length;o++){let{from:s,to:a}=this.skipped[o];s<e.to&&a>e.from&&(this.fragments=cutFragments(this.fragments,s,a),this.skipped.splice(o--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Parser{createParse(r,o,s){let a=s[0].from,l=s[s.length-1].to;return{parsedPos:a,advance(){let d=currentContext;if(d){for(let f of s)d.tempSkipped.push(f);e&&(d.scheduleOn=d.scheduleOn?Promise.all([d.scheduleOn,e]):e)}return this.parsedPos=l,new Tree(NodeType.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return currentContext}}function cutFragments(n,e,r){return TreeFragment.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),o=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,o)||r.takeTree(),new LanguageState(r)}static init(e){let r=Math.min(3e3,e.doc.length),o=ParseContext.create(e.facet(language).parser,e,{from:0,to:r});return o.work(20,r)||o.takeTree(),new LanguageState(o)}}Language.state=StateField.define({create:LanguageState.init,update(n,e){for(let r of e.effects)if(r.is(Language.setState))return r.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):n.apply(e)}});let requestIdle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Language.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Language.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:o,viewport:{to:s}}=this.view,a=o.field(Language.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),c=a.context.treeLen<s&&o.doc.length>s+1e3,d=a.context.work(()=>isInputPending&&isInputPending()||Date.now()>l,s+(c?0:1e5));this.chunkBudget-=Date.now()-r,(d||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(a.context))})),this.chunkBudget>0&&!(d&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>logException(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(n){return n.length?n[0]:null},enables:n=>[Language.state,parseWorker,EditorView.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function getIndentUnit(n){let e=n.facet(indentUnit);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function indentString(n,e){let r="",o=n.tabSize,s=n.facet(indentUnit)[0];if(s=="	"){for(;e>=o;)r+="	",e-=o;s=" "}for(let a=0;a<e;a++)r+=s;return r}function getIndentation(n,e){n instanceof EditorState&&(n=new IndentContext(n));for(let o of n.state.facet(indentService)){let s=o(n,e);if(s!==void 0)return s}let r=syntaxTree(n.state);return r.length>=e?syntaxIndentation(n,r,e):null}class IndentContext{constructor(e,r={}){this.state=e,this.options=r,this.unit=getIndentUnit(e)}lineAt(e,r=1){let o=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=o.from&&s<=o.to?a&&s==e?{text:"",from:e}:(r<0?s<e:s<=e)?{text:o.text.slice(s-o.from),from:s}:{text:o.text.slice(0,s-o.from),from:o.from}:o}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:o,from:s}=this.lineAt(e,r);return o.slice(e-s,Math.min(o.length,e+100-s))}column(e,r=1){let{text:o,from:s}=this.lineAt(e,r),a=this.countColumn(o,e-s),l=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return l>-1&&(a+=l-this.countColumn(o,o.search(/\S|$/))),a}countColumn(e,r=e.length){return countColumn(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:o,from:s}=this.lineAt(e,r),a=this.options.overrideIndentation;if(a){let l=a(s);if(l>-1)return l}return this.countColumn(o,o.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(n,e,r){let o=e.resolveStack(r),s=o.node.enterUnfinishedNodesBefore(r);if(s!=o.node){let a=[];for(let l=s;l!=o.node;l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)o={node:a[l],next:o}}return indentFor(o,n,r)}function indentFor(n,e,r){for(let o=n;o;o=o.next){let s=indentStrategy(o.node);if(s)return s(TreeIndentContext.create(e,r,o))}return 0}function ignoreClosed(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function indentStrategy(n){let e=n.type.prop(indentNodeProp);if(e)return e;let r=n.firstChild,o;if(r&&(o=r.type.prop(NodeProp.closedBy))){let s=n.lastChild,a=s&&o.indexOf(s.name)>-1;return l=>delimitedStrategy(l,!0,1,void 0,a&&!ignoreClosed(l)?s.from:void 0)}return n.parent==null?topIndent$1:null}function topIndent$1(){return 0}class TreeIndentContext extends IndentContext{constructor(e,r,o){super(e.state,e.options),this.base=e,this.pos=r,this.context=o}get node(){return this.context.node}static create(e,r,o){return new TreeIndentContext(e,r,o)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let o=e.resolve(r.from);for(;o.parent&&o.parent.from==o.from;)o=o.parent;if(isParent(o,e))break;r=this.state.doc.lineAt(o.from)}return this.lineIndent(r.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function bracketedAligned(n){let e=n.node,r=e.childAfter(e.from),o=e.lastChild;if(!r)return null;let s=n.options.simulateBreak,a=n.state.doc.lineAt(r.from),l=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let c=r.to;;){let d=e.childAfter(c);if(!d||d==o)return null;if(!d.type.isSkipped)return d.from<l?r:null;c=d.to}}function delimitedIndent({closing:n,align:e=!0,units:r=1}){return o=>delimitedStrategy(o,e,r,n)}function delimitedStrategy(n,e,r,o,s){let a=n.textAfter,l=a.match(/^\s*/)[0].length,c=o&&a.slice(l,l+o.length)==o||s==n.pos+l,d=e?bracketedAligned(n):null;return d?c?n.column(d.from):n.column(d.to):n.baseIndent+(c?0:n.unit*r)}const flatIndent=n=>n.baseIndent;function continuedIndent({except:n,units:e=1}={}){return r=>{let o=n&&n.test(r.textAfter);return r.baseIndent+(o?0:e*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:o}=n.newSelection.main,s=r.lineAt(o);if(o>s.from+DontIndentBeyond)return n;let a=r.sliceString(s.from,o);if(!e.some(f=>f.test(a)))return n;let{state:l}=n,c=-1,d=[];for(let{head:f}of l.selection.ranges){let g=l.doc.lineAt(f);if(g.from==c)continue;c=g.from;let v=getIndentation(l,g.from);if(v==null)continue;let A=/^\s*/.exec(g.text)[0],M=indentString(l,v);A!=M&&d.push({from:g.from,to:g.from+A.length,insert:M})}return d.length?[n,{changes:d,sequential:!0}]:n})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function syntaxFolding(n,e,r){let o=syntaxTree(n);if(o.length<r)return null;let s=o.resolveStack(r,1),a=null;for(let l=s;l;l=l.next){let c=l.node;if(c.to<=r||c.from>r)continue;if(a&&c.from<e)break;let d=c.type.prop(foldNodeProp);if(d&&(c.to<o.length-50||o.length==n.doc.length||!isUnfinished(c))){let f=d(c,n);f&&f.from<=r&&f.from>=e&&f.to>r&&(a=f)}}return a}function isUnfinished(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function foldable(n,e,r){for(let o of n.facet(foldService)){let s=o(n,e,r);if(s)return s}return syntaxFolding(n,e,r)}function mapRange(n,e){let r=e.mapPos(n.from,1),o=e.mapPos(n.to,-1);return r>=o?void 0:{from:r,to:o}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(o=>o.from<=r&&o.to>=r)||e.push(n.lineBlockAt(r));return e}const foldState=StateField.define({create(){return Decoration.none},update(n,e){n=n.map(e.changes);for(let r of e.effects)if(r.is(foldEffect)&&!foldExists(n,r.value.from,r.value.to)){let{preparePlaceholder:o}=e.state.facet(foldConfig),s=o?Decoration.replace({widget:new PreparedFoldWidget(o(e.state,r.value))}):foldWidget;n=n.update({add:[s.range(r.value.from,r.value.to)]})}else r.is(unfoldEffect)&&(n=n.update({filter:(o,s)=>r.value.from!=o||r.value.to!=s,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:o}=e.selection.main;n.between(o,o,(s,a)=>{s<o&&a>o&&(r=!0)}),r&&(n=n.update({filterFrom:o,filterTo:o,filter:(s,a)=>a<=o||s>=o}))}return n},provide:n=>EditorView.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(o,s)=>{r.push(o,s)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let o=n[r++],s=n[r++];if(typeof o!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(o,s))}return Decoration.set(e,!0)}});function findFold(n,e,r){var o;let s=null;return(o=n.field(foldState,!1))===null||o===void 0||o.between(e,r,(a,l)=>{(!s||s.from>a)&&(s={from:a,to:l})}),s}function foldExists(n,e,r){let o=!1;return n.between(e,e,(s,a)=>{s==e&&a==r&&(o=!0)}),o}function maybeEnable(n,e){return n.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=n=>{for(let e of selectedLines(n)){let r=foldable(n.state,e.from,e.to);if(r)return n.dispatch({effects:maybeEnable(n.state,[foldEffect.of(r),announceFold(n,r)])}),!0}return!1},unfoldCode=n=>{if(!n.state.field(foldState,!1))return!1;let e=[];for(let r of selectedLines(n)){let o=findFold(n.state,r.from,r.to);o&&e.push(unfoldEffect.of(o),announceFold(n,o,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function announceFold(n,e,r=!0){let o=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${o} ${n.state.phrase("to")} ${s}.`)}const foldAll=n=>{let{state:e}=n,r=[];for(let o=0;o<e.doc.length;){let s=n.lineBlockAt(o),a=foldable(e,s.from,s.to);a&&r.push(foldEffect.of(a)),o=(a?n.lineBlockAt(a.to):s).to+1}return r.length&&n.dispatch({effects:maybeEnable(n.state,r)}),!!r.length},unfoldAll=n=>{let e=n.state.field(foldState,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(o,s)=>{r.push(unfoldEffect.of({from:o,to:s}))}),n.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},foldConfig=Facet.define({combine(n){return combineConfig(n,defaultConfig)}});function codeFolding(n){return[foldState,baseTheme$1$2]}function widgetToDOM(n,e){let{state:r}=n,o=r.facet(foldConfig),s=l=>{let c=n.lineBlockAt(n.posAtDOM(l.target)),d=findFold(n.state,c.from,c.to);d&&n.dispatch({effects:unfoldEffect.of(d)}),l.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(n,s,e);let a=document.createElement("span");return a.textContent=o.placeholderText,a.setAttribute("aria-label",r.phrase("folded code")),a.title=r.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(n){return widgetToDOM(n,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(n={}){let e=Object.assign(Object.assign({},foldGutterDefaults),n),r=new FoldMarker(e,!0),o=new FoldMarker(e,!1),s=ViewPlugin.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(language)!=l.state.facet(language)||l.startState.field(foldState,!1)!=l.state.field(foldState,!1)||syntaxTree(l.startState)!=syntaxTree(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new RangeSetBuilder;for(let d of l.viewportLineBlocks){let f=findFold(l.state,d.from,d.to)?o:foldable(l.state,d.from,d.to)?r:null;f&&c.add(d.from,d.from,f)}return c.finish()}}),{domEventHandlers:a}=e;return[s,gutter({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(s))===null||c===void 0?void 0:c.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(l,c,d)=>{if(a.click&&a.click(l,c,d))return!0;let f=findFold(l.state,c.from,c.to);if(f)return l.dispatch({effects:unfoldEffect.of(f)}),!0;let g=foldable(l.state,c.from,c.to);return g?(l.dispatch({effects:foldEffect.of(g)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,r){this.specs=e;let o;function s(c){let d=StyleModule.newName();return(o||(o=Object.create(null)))["."+d]=c,d}const a=typeof r.all=="string"?r.all:r.all?s(r.all):void 0,l=r.scope;this.scope=l instanceof Language?c=>c.prop(languageDataProp)==l.data:l?c=>c==l:void 0,this.style=tagHighlighter(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=o?new StyleModule(o):null,this.themeType=r.themeType}static define(e,r){return new HighlightStyle(e,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(n){return n.length?[n[0]]:null}});function getHighlighters(n){let e=n.facet(highlighterFacet);return e.length?e:n.facet(fallbackHighlighter)}function syntaxHighlighting(n,e){let r=[treeHighlighter],o;return n instanceof HighlightStyle&&(n.module&&r.push(EditorView.styleModule.of(n.module)),o=n.themeType),e!=null&&e.fallback?r.push(fallbackHighlighter.of(n)):o?r.push(highlighterFacet.computeN([EditorView.darkTheme],s=>s.facet(EditorView.darkTheme)==(o=="dark")?[n]:[])):r.push(highlighterFacet.of(n)),r}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=syntaxTree(e.state),o=getHighlighters(e.state),s=o!=getHighlighters(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);r.length<a.to&&!s&&r.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(r!=this.tree||e.viewportChanged||s)&&(this.tree=r,this.decorations=this.buildDeco(e.view,o),this.decoratedTo=a.to)}buildDeco(e,r){if(!r||!this.tree.length)return Decoration.none;let o=new RangeSetBuilder;for(let{from:s,to:a}of e.visibleRanges)highlightTree(this.tree,r,(l,c,d)=>{o.add(l,c,this.markCache[d]||(this.markCache[d]=Decoration.mark({class:d})))},s,a);return o.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:n=>n.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags$1.meta,color:"#404740"},{tag:tags$1.link,textDecoration:"underline"},{tag:tags$1.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.keyword,color:"#708"},{tag:[tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName],color:"#219"},{tag:[tags$1.literal,tags$1.inserted],color:"#164"},{tag:[tags$1.string,tags$1.deleted],color:"#a11"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],color:"#e40"},{tag:tags$1.definition(tags$1.variableName),color:"#00f"},{tag:tags$1.local(tags$1.variableName),color:"#30a"},{tag:[tags$1.typeName,tags$1.namespace],color:"#085"},{tag:tags$1.className,color:"#167"},{tag:[tags$1.special(tags$1.variableName),tags$1.macroName],color:"#256"},{tag:tags$1.definition(tags$1.propertyName),color:"#00c"},{tag:tags$1.comment,color:"#940"},{tag:tags$1.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(n){return combineConfig(n,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(n){let e=[],r=n.matched?matchingMark:nonmatchingMark;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],o=e.state.facet(bracketMatchingConfig);for(let s of e.state.selection.ranges){if(!s.empty)continue;let a=matchBrackets(e.state,s.head,-1,o)||s.head>0&&matchBrackets(e.state,s.head-1,1,o)||o.afterCursor&&(matchBrackets(e.state,s.head,1,o)||s.head<e.state.doc.length&&matchBrackets(e.state,s.head+1,-1,o));a&&(r=r.concat(o.renderMatch(a,e.state)))}return Decoration.set(r,!0)},provide:n=>EditorView.decorations.from(n)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(n={}){return[bracketMatchingConfig.of(n),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(n,e,r){let o=n.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(o)return o;if(n.name.length==1){let s=r.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[r[s+e]]}return null}function findHandle(n){let e=n.type.prop(bracketMatchingHandle);return e?e(n.node):n}function matchBrackets(n,e,r,o={}){let s=o.maxScanDistance||DefaultScanDist,a=o.brackets||DefaultBrackets,l=syntaxTree(n),c=l.resolveInner(e,r);for(let d=c;d;d=d.parent){let f=matchingNodes(d.type,r,a);if(f&&d.from<d.to){let g=findHandle(d);if(g&&(r>0?e>=g.from&&e<g.to:e>g.from&&e<=g.to))return matchMarkedBrackets(n,e,r,d,g,f,a)}}return matchPlainBrackets(n,e,r,l,c.type,s,a)}function matchMarkedBrackets(n,e,r,o,s,a,l){let c=o.parent,d={from:s.from,to:s.to},f=0,g=c==null?void 0:c.cursor();if(g&&(r<0?g.childBefore(o.from):g.childAfter(o.to)))do if(r<0?g.to<=o.from:g.from>=o.to){if(f==0&&a.indexOf(g.type.name)>-1&&g.from<g.to){let v=findHandle(g);return{start:d,end:v?{from:v.from,to:v.to}:void 0,matched:!0}}else if(matchingNodes(g.type,r,l))f++;else if(matchingNodes(g.type,-r,l)){if(f==0){let v=findHandle(g);return{start:d,end:v&&v.from<v.to?{from:v.from,to:v.to}:void 0,matched:!1}}f--}}while(r<0?g.prevSibling():g.nextSibling());return{start:d,matched:!1}}function matchPlainBrackets(n,e,r,o,s,a,l){let c=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),d=l.indexOf(c);if(d<0||d%2==0!=r>0)return null;let f={from:r<0?e-1:e,to:r>0?e+1:e},g=n.doc.iterRange(e,r>0?n.doc.length:0),v=0;for(let A=0;!g.next().done&&A<=a;){let M=g.value;r<0&&(A+=M.length);let Y=e+A*r;for(let de=r>0?0:M.length-1,ae=r>0?M.length:-1;de!=ae;de+=r){let ze=l.indexOf(M[de]);if(!(ze<0||o.resolveInner(Y+de,1).type!=s))if(ze%2==0==r>0)v++;else{if(v==1)return{start:f,end:{from:Y+de,to:Y+de+1},matched:ze>>1==d>>1};v--}}r>0&&(A+=M.length)}return g.done?{start:f,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[n]=createTokenType(noTokens,e);function warnForPart(n,e){warned.indexOf(n)>-1||(warned.push(n),console.warn(e))}function createTokenType(n,e){let r=[];for(let c of e.split(" ")){let d=[];for(let f of c.split(".")){let g=n[f]||tags$1[f];g?typeof g=="function"?d.length?d=d.map(g):warnForPart(f,`Modifier ${f} used at start of tag`):d.length?warnForPart(f,`Tag ${f} used as modifier`):d=Array.isArray(g)?g:[g]:warnForPart(f,`Unknown highlighting tag ${f}`)}for(let f of d)r.push(f)}if(!r.length)return 0;let o=e.replace(/ /g,"_"),s=o+" "+r.map(c=>c.id),a=byTag[s];if(a)return a.id;let l=byTag[s]=NodeType.define({id:typeArray.length,name:o,props:[styleTags({[o]:r})]});return typeArray.push(l),l.id}Direction.RTL,Direction.LTR;const toggleComment=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),o=getConfig(n.state,r.from);return o.line?toggleLineComment(n):o.block?toggleBlockCommentByLine(n):!1};function command(n,e){return({state:r,dispatch:o})=>{if(r.readOnly)return!1;let s=n(e,r);return s?(o(r.update(s)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((n,e)=>changeBlockComment(n,e,selectedLineRanges(e)),0);function getConfig(n,e){let r=n.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(n,{open:e,close:r},o,s){let a=n.sliceDoc(o-SearchMargin,o),l=n.sliceDoc(s,s+SearchMargin),c=/\s*$/.exec(a)[0].length,d=/^\s*/.exec(l)[0].length,f=a.length-c;if(a.slice(f-e.length,f)==e&&l.slice(d,d+r.length)==r)return{open:{pos:o-c,margin:c&&1},close:{pos:s+d,margin:d&&1}};let g,v;s-o<=2*SearchMargin?g=v=n.sliceDoc(o,s):(g=n.sliceDoc(o,o+SearchMargin),v=n.sliceDoc(s-SearchMargin,s));let A=/^\s*/.exec(g)[0].length,M=/\s*$/.exec(v)[0].length,Y=v.length-M-r.length;return g.slice(A,A+e.length)==e&&v.slice(Y,Y+r.length)==r?{open:{pos:o+A+e.length,margin:/\s/.test(g.charAt(A+e.length))?1:0},close:{pos:s-M-r.length,margin:/\s/.test(v.charAt(Y-1))?1:0}}:null}function selectedLineRanges(n){let e=[];for(let r of n.selection.ranges){let o=n.doc.lineAt(r.from),s=r.to<=o.to?o:n.doc.lineAt(r.to),a=e.length-1;a>=0&&e[a].to>o.from?e[a].to=s.to:e.push({from:o.from+/^\s*/.exec(o.text)[0].length,to:s.to})}return e}function changeBlockComment(n,e,r=e.selection.ranges){let o=r.map(a=>getConfig(e,a.from).block);if(!o.every(a=>a))return null;let s=r.map((a,l)=>findBlockComment(e,o[l],a.from,a.to));if(n!=2&&!s.every(a=>a))return{changes:e.changes(r.map((a,l)=>s[l]?[]:[{from:a.from,insert:o[l].open+" "},{from:a.to,insert:" "+o[l].close}]))};if(n!=1&&s.some(a=>a)){let a=[];for(let l=0,c;l<s.length;l++)if(c=s[l]){let d=o[l],{open:f,close:g}=c;a.push({from:f.pos-d.open.length,to:f.pos+f.margin},{from:g.pos-g.margin,to:g.pos+d.close.length})}return{changes:a}}return null}function changeLineComment(n,e,r=e.selection.ranges){let o=[],s=-1;for(let{from:a,to:l}of r){let c=o.length,d=1e9,f=getConfig(e,a).line;if(f){for(let g=a;g<=l;){let v=e.doc.lineAt(g);if(v.from>s&&(a==l||l>v.from)){s=v.from;let A=/^\s*/.exec(v.text)[0].length,M=A==v.length,Y=v.text.slice(A,A+f.length)==f?A:-1;A<v.text.length&&A<d&&(d=A),o.push({line:v,comment:Y,token:f,indent:A,empty:M,single:!1})}g=v.to+1}if(d<1e9)for(let g=c;g<o.length;g++)o[g].indent<o[g].line.text.length&&(o[g].indent=d);o.length==c+1&&(o[c].single=!0)}}if(n!=2&&o.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:d,indent:f,empty:g,single:v}of o)(v||!g)&&a.push({from:c.from+f,insert:d+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&o.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:c,token:d}of o)if(c>=0){let f=l.from+c,g=f+d.length;l.text[g-l.from]==" "&&g++,a.push({from:f,to:g})}return{changes:a}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(n){return combineConfig(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(o,s)=>e(o,s)||r(o,s)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(n,e){let r=e.state.facet(historyConfig),o=e.annotation(fromHistory);if(o){let d=HistEvent.fromTransaction(e,o.selection),f=o.side,g=f==0?n.undone:n.done;return d?g=updateBranch(g,g.length,r.minDepth,d):g=addSelection(g,e.startState.selection),new HistoryState(f==0?o.rest:g,f==0?g:o.rest)}let s=e.annotation(isolateHistory);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let a=HistEvent.fromTransaction(e),l=e.annotation(Transaction.time),c=e.annotation(Transaction.userEvent);return a?n=n.addChanges(a,l,c,r,e):e.selection&&(n=n.addSelection(e.startState.selection,l,c,r.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new HistoryState(n.done.map(HistEvent.fromJSON),n.undone.map(HistEvent.fromJSON))}});function history(n={}){return[historyField_,historyConfig.of(n),EditorView.domEventHandlers({beforeinput(e,r){let o=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return o?(e.preventDefault(),o(r)):!1}})]}function cmd(n,e){return function({state:r,dispatch:o}){if(!e&&r.readOnly)return!1;let s=r.field(historyField_,!1);if(!s)return!1;let a=s.pop(n,r,e);return a?(o(a),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,r,o,s,a){this.changes=e,this.effects=r,this.mapped=o,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,o;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(o=this.startSelection)===null||o===void 0?void 0:o.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,r){let o=none$1;for(let s of e.startState.facet(invertedEffects)){let a=s(e);a.length&&(o=o.concat(a))}return!o.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),o,void 0,r||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(n,e,r,o){let s=e+1>r+20?e-r-1:0,a=n.slice(s,e);return a.push(o),a}function isAdjacent(n,e){let r=[],o=!1;return n.iterChangedRanges((s,a)=>r.push(s,a)),e.iterChangedRanges((s,a,l,c)=>{for(let d=0;d<r.length;){let f=r[d++],g=r[d++];c>=f&&l<=g&&(o=!0)}}),o}function eqSelectionShape(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,o)=>r.empty!=e.ranges[o].empty).length===0}function conc(n,e){return n.length?e.length?n.concat(e):n:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(n,e){if(n.length){let r=n[n.length-1],o=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return o.length&&o[o.length-1].eq(e)?n:(o.push(e),updateBranch(n,n.length-1,1e9,r.setSelAfter(o)))}else return[HistEvent.selection([e])]}function popSelection(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function addMappingToBranch(n,e){if(!n.length)return n;let r=n.length,o=none$1;for(;r;){let s=mapEvent(n[r-1],e,o);if(s.changes&&!s.changes.empty||s.effects.length){let a=n.slice(0,r);return a[r-1]=s,a}else e=s.mapped,r--,o=s.selectionsAfter}return o.length?[HistEvent.selection(o)]:none$1}function mapEvent(n,e,r){let o=conc(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):none$1,r);if(!n.changes)return HistEvent.selection(o);let s=n.changes.map(e),a=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(a):a;return new HistEvent(s,StateEffect.mapEffects(n.effects,e),l,n.startSelection.map(a),o)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,r,o=0,s=void 0){this.done=e,this.undone=r,this.prevTime=o,this.prevUserEvent=s}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,r,o,s,a){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!o||joinableUserEvent.test(o))&&(!c.selectionsAfter.length&&r-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,isAdjacent(c.changes,e.changes))||o=="input.type.compose")?l=updateBranch(l,l.length-1,s.minDepth,new HistEvent(e.changes.compose(c.changes),conc(e.effects,c.effects),c.mapped,c.startSelection,none$1)):l=updateBranch(l,l.length,s.minDepth,e),new HistoryState(l,none$1,r,o)}addSelection(e,r,o,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return a.length>0&&r-this.prevTime<s&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&eqSelectionShape(a[a.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,r,o)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,o){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],l=a.selectionsAfter[0]||r.selection;if(o&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(s),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=s.length==1?none$1:s.slice(0,s.length-1);return a.mapped&&(c=addMappingToBranch(c,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:fromHistory.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(n,e){return EditorSelection.create(n.ranges.map(e),n.mainIndex)}function setSel(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:n,dispatch:e},r){let o=updateSel(n.selection,r);return o.eq(n.selection,!0)?!1:(e(setSel(n,o)),!0)}function rangeEnd(n,e){return EditorSelection.cursor(e?n.to:n.from)}function cursorByChar(n,e){return moveSel(n,r=>r.empty?n.moveByChar(r,e):rangeEnd(r,e))}function ltrAtCursor(n){return n.textDirectionAt(n.state.selection.main.head)==Direction.LTR}const cursorCharLeft=n=>cursorByChar(n,!ltrAtCursor(n)),cursorCharRight=n=>cursorByChar(n,ltrAtCursor(n));function cursorByGroup(n,e){return moveSel(n,r=>r.empty?n.moveByGroup(r,e):rangeEnd(r,e))}const cursorGroupLeft=n=>cursorByGroup(n,!ltrAtCursor(n)),cursorGroupRight=n=>cursorByGroup(n,ltrAtCursor(n));function interestingNode(n,e,r){if(e.type.prop(r))return!0;let o=e.to-e.from;return o&&(o>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(n,e,r){let o=syntaxTree(n).resolveInner(e.head),s=r?NodeProp.closedBy:NodeProp.openedBy;for(let d=e.head;;){let f=r?o.childAfter(d):o.childBefore(d);if(!f)break;interestingNode(n,f,s)?o=f:d=r?f.to:f.from}let a=o.type.prop(s),l,c;return a&&(l=r?matchBrackets(n,o.from,1):matchBrackets(n,o.to,-1))&&l.matched?c=r?l.end.to:l.end.from:c=r?o.to:o.from,EditorSelection.cursor(c,r?-1:1)}const cursorSyntaxLeft=n=>moveSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),cursorSyntaxRight=n=>moveSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function cursorByLine(n,e){return moveSel(n,r=>{if(!r.empty)return rangeEnd(r,e);let o=n.moveVertically(r,e);return o.head!=r.head?o:n.moveToLineBoundary(r,e)})}const cursorLineUp=n=>cursorByLine(n,!1),cursorLineDown=n=>cursorByLine(n,!0);function pageInfo(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,o=0,s;if(e){for(let a of n.state.facet(EditorView.scrollMargins)){let l=a(n);l!=null&&l.top&&(r=Math.max(l==null?void 0:l.top,r)),l!=null&&l.bottom&&(o=Math.max(l==null?void 0:l.bottom,o))}s=n.scrollDOM.clientHeight-r-o}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function cursorByPage(n,e){let r=pageInfo(n),{state:o}=n,s=updateSel(o.selection,l=>l.empty?n.moveVertically(l,e,r.height):rangeEnd(l,e));if(s.eq(o.selection))return!1;let a;if(r.selfScroll){let l=n.coordsAtPos(o.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),d=c.top+r.marginTop,f=c.bottom-r.marginBottom;l&&l.top>d&&l.bottom<f&&(a=EditorView.scrollIntoView(s.main.head,{y:"start",yMargin:l.top-d}))}return n.dispatch(setSel(o,s),{effects:a}),!0}const cursorPageUp=n=>cursorByPage(n,!1),cursorPageDown=n=>cursorByPage(n,!0);function moveByLineBoundary(n,e,r){let o=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,r);if(s.head==e.head&&s.head!=(r?o.to:o.from)&&(s=n.moveToLineBoundary(e,r,!1)),!r&&s.head==o.from&&o.length){let a=/^\s*/.exec(n.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;a&&e.head!=o.from+a&&(s=EditorSelection.cursor(o.from+a))}return s}const cursorLineBoundaryForward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!0)),cursorLineBoundaryBackward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!1)),cursorLineBoundaryLeft=n=>moveSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),cursorLineBoundaryRight=n=>moveSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),cursorLineStart=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from,1)),cursorLineEnd=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to,-1));function toMatchingBracket(n,e,r){let o=!1,s=updateSel(n.selection,a=>{let l=matchBrackets(n,a.head,-1)||matchBrackets(n,a.head,1)||a.head>0&&matchBrackets(n,a.head-1,1)||a.head<n.doc.length&&matchBrackets(n,a.head+1,-1);if(!l||!l.end)return a;o=!0;let c=l.start.from==a.head?l.end.to:l.end.from;return EditorSelection.cursor(c)});return o?(e(setSel(n,s)),!0):!1}const cursorMatchingBracket=({state:n,dispatch:e})=>toMatchingBracket(n,e);function extendSel(n,e){let r=updateSel(n.state.selection,o=>{let s=e(o);return EditorSelection.range(o.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(setSel(n.state,r)),!0)}function selectByChar(n,e){return extendSel(n,r=>n.moveByChar(r,e))}const selectCharLeft=n=>selectByChar(n,!ltrAtCursor(n)),selectCharRight=n=>selectByChar(n,ltrAtCursor(n));function selectByGroup(n,e){return extendSel(n,r=>n.moveByGroup(r,e))}const selectGroupLeft=n=>selectByGroup(n,!ltrAtCursor(n)),selectGroupRight=n=>selectByGroup(n,ltrAtCursor(n)),selectSyntaxLeft=n=>extendSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),selectSyntaxRight=n=>extendSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function selectByLine(n,e){return extendSel(n,r=>n.moveVertically(r,e))}const selectLineUp=n=>selectByLine(n,!1),selectLineDown=n=>selectByLine(n,!0);function selectByPage(n,e){return extendSel(n,r=>n.moveVertically(r,e,pageInfo(n).height))}const selectPageUp=n=>selectByPage(n,!1),selectPageDown=n=>selectByPage(n,!0),selectLineBoundaryForward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!0)),selectLineBoundaryBackward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!1)),selectLineBoundaryLeft=n=>extendSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),selectLineBoundaryRight=n=>extendSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),selectLineStart=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from)),selectLineEnd=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to)),cursorDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:0})),!0),cursorDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.doc.length})),!0),selectDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:0})),!0),selectDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),selectAll=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),selectLine=({state:n,dispatch:e})=>{let r=selectedLineBlocks(n).map(({from:o,to:s})=>EditorSelection.range(o,Math.min(s+1,n.doc.length)));return e(n.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:n,dispatch:e})=>{let r=updateSel(n.selection,o=>{var s;let a=syntaxTree(n).resolveStack(o.from,1);for(let l=a;l;l=l.next){let{node:c}=l;if((c.from<o.from&&c.to>=o.to||c.to>o.to&&c.from<=o.from)&&(!((s=c.parent)===null||s===void 0)&&s.parent))return EditorSelection.range(c.to,c.from)}return o});return e(setSel(n,r)),!0},simplifySelection=({state:n,dispatch:e})=>{let r=n.selection,o=null;return r.ranges.length>1?o=EditorSelection.create([r.main]):r.main.empty||(o=EditorSelection.create([EditorSelection.cursor(r.main.head)])),o?(e(setSel(n,o)),!0):!1};function deleteBy(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:o}=n,s=o.changeByRange(a=>{let{from:l,to:c}=a;if(l==c){let d=e(a);d<l?(r="delete.backward",d=skipAtomic(n,d,!1)):d>l&&(r="delete.forward",d=skipAtomic(n,d,!0)),l=Math.min(l,d),c=Math.max(c,d)}else l=skipAtomic(n,l,!1),c=skipAtomic(n,c,!0);return l==c?{range:a}:{changes:{from:l,to:c},range:EditorSelection.cursor(l,l<a.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(o.update(s,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(n,e,r){if(n instanceof EditorView)for(let o of n.state.facet(EditorView.atomicRanges).map(s=>s(n)))o.between(e,e,(s,a)=>{s<e&&a>e&&(e=r?a:s)});return e}const deleteByChar=(n,e,r)=>deleteBy(n,o=>{let s=o.from,{state:a}=n,l=a.doc.lineAt(s),c,d;if(r&&!e&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,s-l.from))){if(c[c.length-1]=="	")return s-1;let f=countColumn(c,a.tabSize),g=f%getIndentUnit(a)||getIndentUnit(a);for(let v=0;v<g&&c[c.length-1-v]==" ";v++)s--;d=s}else d=findClusterBreak(l.text,s-l.from,e,e)+l.from,d==s&&l.number!=(e?a.doc.lines:1)?d+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(d-l.from,s-l.from))&&(d=findClusterBreak(l.text,d-l.from,!1,!1)+l.from);return d}),deleteCharBackward=n=>deleteByChar(n,!1,!0),deleteCharForward=n=>deleteByChar(n,!0,!1),deleteByGroup=(n,e)=>deleteBy(n,r=>{let o=r.head,{state:s}=n,a=s.doc.lineAt(o),l=s.charCategorizer(o);for(let c=null;;){if(o==(e?a.to:a.from)){o==r.head&&a.number!=(e?s.doc.lines:1)&&(o+=e?1:-1);break}let d=findClusterBreak(a.text,o-a.from,e)+a.from,f=a.text.slice(Math.min(o,d)-a.from,Math.max(o,d)-a.from),g=l(f);if(c!=null&&g!=c)break;(f!=" "||o!=r.head)&&(c=g),o=d}return o}),deleteGroupBackward=n=>deleteByGroup(n,!1),deleteGroupForward=n=>deleteByGroup(n,!0),deleteToLineEnd=n=>deleteBy(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),deleteLineBoundaryForward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),splitLine=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:Text.of(["",""])},range:EditorSelection.cursor(o.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>{if(!o.empty||o.from==0||o.from==n.doc.length)return{range:o};let s=o.from,a=n.doc.lineAt(s),l=s==a.from?s-1:findClusterBreak(a.text,s-a.from,!1)+a.from,c=s==a.to?s+1:findClusterBreak(a.text,s-a.from,!0)+a.from;return{changes:{from:l,to:c,insert:n.doc.slice(s,c).append(n.doc.slice(l,s))},range:EditorSelection.cursor(c)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(n){let e=[],r=-1;for(let o of n.selection.ranges){let s=n.doc.lineAt(o.from),a=n.doc.lineAt(o.to);if(!o.empty&&o.to==a.from&&(a=n.doc.lineAt(o.to-1)),r>=s.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(o)}else e.push({from:s.from,to:a.to,ranges:[o]});r=a.number+1}return e}function moveLine(n,e,r){if(n.readOnly)return!1;let o=[],s=[];for(let a of selectedLineBlocks(n)){if(r?a.to==n.doc.length:a.from==0)continue;let l=n.doc.lineAt(r?a.to+1:a.from-1),c=l.length+1;if(r){o.push({from:a.to,to:l.to},{from:a.from,insert:l.text+n.lineBreak});for(let d of a.ranges)s.push(EditorSelection.range(Math.min(n.doc.length,d.anchor+c),Math.min(n.doc.length,d.head+c)))}else{o.push({from:l.from,to:a.from},{from:a.to,insert:n.lineBreak+l.text});for(let d of a.ranges)s.push(EditorSelection.range(d.anchor-c,d.head-c))}}return o.length?(e(n.update({changes:o,scrollIntoView:!0,selection:EditorSelection.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:n,dispatch:e})=>moveLine(n,e,!1),moveLineDown=({state:n,dispatch:e})=>moveLine(n,e,!0);function copyLine(n,e,r){if(n.readOnly)return!1;let o=[];for(let s of selectedLineBlocks(n))r?o.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):o.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:n,dispatch:e})=>copyLine(n,e,!1),copyLineDown=({state:n,dispatch:e})=>copyLine(n,e,!0),deleteLine=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(selectedLineBlocks(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),o=updateSel(e.selection,s=>{let a;if(n.lineWrapping){let l=n.lineBlockAt(s.head),c=n.coordsAtPos(s.head,s.assoc||1);c&&(a=l.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,a)}).map(r);return n.dispatch({changes:r,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=syntaxTree(n).resolveInner(e),o=r.childBefore(e),s=r.childAfter(e),a;return o&&s&&o.to<=e&&s.from>=e&&(a=o.type.prop(NodeProp.closedBy))&&a.indexOf(s.name)>-1&&n.doc.lineAt(o.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(o.to,s.from))?{from:o.to,to:s.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let o=e.changeByRange(s=>{let{from:a,to:l}=s,c=e.doc.lineAt(a),d=!n&&a==l&&isBetweenBrackets(e,a);n&&(a=l=(l<=c.to?c:e.doc.lineAt(l)).to);let f=new IndentContext(e,{simulateBreak:a,simulateDoubleBreak:!!d}),g=getIndentation(f,a);for(g==null&&(g=countColumn(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;d?{from:a,to:l}=d:a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let v=["",indentString(e,g)];return d&&v.push(indentString(e,f.lineIndent(c.from,-1))),{changes:{from:a,to:l,insert:Text.of(v)},range:EditorSelection.cursor(a+1+v[1].length)}});return r(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(n,e){let r=-1;return n.changeByRange(o=>{let s=[];for(let l=o.from;l<=o.to;){let c=n.doc.lineAt(l);c.number>r&&(o.empty||o.to>c.from)&&(e(c,s,o),r=c.number),l=c.to+1}let a=n.changes(s);return{changes:s,range:EditorSelection.range(a.mapPos(o.anchor,1),a.mapPos(o.head,1))}})}const indentSelection=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),o=new IndentContext(n,{overrideIndentation:a=>{let l=r[a];return l??-1}}),s=changeBySelectedLine(n,(a,l,c)=>{let d=getIndentation(o,a.from);if(d==null)return;/\S/.test(a.text)||(d=0);let f=/^\s*/.exec(a.text)[0],g=indentString(n,d);(f!=g||c.from<a.from+f.length)&&(r[a.from]=d,l.push({from:a.from,to:a.from+f.length,insert:g}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},indentMore=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,o)=>{o.push({from:r.from,insert:n.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,o)=>{let s=/^\s*/.exec(r.text)[0];if(!s)return;let a=countColumn(s,n.tabSize),l=0,c=indentString(n,Math.max(0,a-getIndentUnit(n)));for(;l<s.length&&l<c.length&&s.charCodeAt(l)==c.charCodeAt(l);)l++;o.push({from:r.from+l,to:r.from+s.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var s=r[o];typeof s=="string"?n.setAttribute(o,s):s!=null&&(n[o]=s)}e++}for(;e<arguments.length;e++)add(n,arguments[e]);return n}function add(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)add(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class SearchCursor{constructor(e,r,o=0,s=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(o,s),this.bufferStart=o,this.normalize=a?c=>a(basicNormalize(c)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=fromCodePoint(e),o=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let s=this.normalize(r);for(let a=0,l=o;;a++){let c=s.charCodeAt(a),d=this.match(c,l,this.bufferPos+this.bufferStart);if(a==s.length-1){if(d)return this.value=d,this;break}l==o&&a<r.length&&r.charCodeAt(a)==c&&l++}}}match(e,r,o){let s=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?s={from:this.matches[a+1],to:o}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:r,to:o}:this.matches.push(1,r)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,r,o,s=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(e,r,o,s,a);this.re=new RegExp(r,baseFlags+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.iter=e.iter();let l=e.lineAt(s);this.curLineStart=l.from,this.matchPos=toCharEnd(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let o=this.curLineStart+r.index,s=o+r[0].length;if(this.matchPos=toCharEnd(this.text,s+(o==s?1:0)),o==this.curLineStart+this.curLine.length&&this.nextLine(),(o<s||o>this.value.to)&&(!this.test||this.test(o,s,r)))return this.value={from:o,to:s,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,o){let s=flattened.get(e);if(!s||s.from>=o||s.to<=r){let c=new FlattenedDoc(r,e.sliceString(r,o));return flattened.set(e,c),c}if(s.from==r&&s.to==o)return s;let{text:a,from:l}=s;return l>r&&(a=e.sliceString(r,l)+a,l=r),s.to<o&&(a+=e.sliceString(s.to,o)),flattened.set(e,new FlattenedDoc(l,a)),new FlattenedDoc(r,a.slice(r-l,o-l))}}class MultilineRegExpCursor{constructor(e,r,o,s,a){this.text=e,this.to=a,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,s),this.re=new RegExp(r,baseFlags+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.flat=FlattenedDoc.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let o=this.flat.from+r.index,s=o+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(o,s,r)))return this.value={from:o,to:s,match:r},this.matchPos=toCharEnd(this.text,s+(o==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(n){try{return new RegExp(n,baseFlags),!0}catch{return!1}}function toCharEnd(n,e){if(e>=n.length)return e;let r=n.lineAt(e),o;for(;e<r.to&&(o=r.text.charCodeAt(e-r.from))>=56320&&o<57344;)e++;return e}function createLineDialog(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=crelt("input",{class:"cm-textfield",name:"line",value:e}),o=crelt("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),n.dispatch({effects:dialogEffect.of(!1)}),n.focus()):a.keyCode==13&&(a.preventDefault(),s())},onsubmit:a=>{a.preventDefault(),s()}},crelt("label",n.state.phrase("Go to line"),": ",r)," ",crelt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function s(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!a)return;let{state:l}=n,c=l.doc.lineAt(l.selection.main.head),[,d,f,g,v]=a,A=g?+g.slice(1):0,M=f?+f:c.number;if(f&&v){let ae=M/100;d&&(ae=ae*(d=="-"?-1:1)+c.number/l.doc.lines),M=Math.round(l.doc.lines*ae)}else f&&d&&(M=M*(d=="-"?-1:1)+c.number);let Y=l.doc.line(Math.max(1,Math.min(l.doc.lines,M))),de=EditorSelection.cursor(Y.from+Math.max(0,Math.min(A,Y.length)));n.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(de.from,{y:"center"})],selection:de}),n.focus()}return{dom:o}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(dialogEffect)&&(n=r.value);return n},provide:n=>showPanel.from(n,e=>e?createLineDialog:null)}),gotoLine=n=>{let e=getPanel(n,createLineDialog);if(!e){let r=[dialogEffect.of(!0)];n.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),n.dispatch({effects:r}),e=getPanel(n,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(n){return combineConfig(n,defaultHighlightOptions,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(n){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(n,e,r,o){return(r==0||n(e.sliceDoc(r-1,r))!=CharCategory.Word)&&(o==e.doc.length||n(e.sliceDoc(o,o+1))!=CharCategory.Word)}function insideWord(n,e,r,o){return n(e.sliceDoc(r,r+1))==CharCategory.Word&&n(e.sliceDoc(o-1,o))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(highlightConfig),{state:r}=n,o=r.selection;if(o.ranges.length>1)return Decoration.none;let s=o.main,a,l=null;if(s.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let d=r.wordAt(s.head);if(!d)return Decoration.none;l=r.charCategorizer(s.head),a=r.sliceDoc(d.from,d.to)}else{let d=s.to-s.from;if(d<e.minSelectionLength||d>200)return Decoration.none;if(e.wholeWords){if(a=r.sliceDoc(s.from,s.to),l=r.charCategorizer(s.head),!(insideWordBoundaries(l,r,s.from,s.to)&&insideWord(l,r,s.from,s.to)))return Decoration.none}else if(a=r.sliceDoc(s.from,s.to),!a)return Decoration.none}let c=[];for(let d of n.visibleRanges){let f=new SearchCursor(r.doc,a,d.from,d.to);for(;!f.next().done;){let{from:g,to:v}=f.value;if((!l||insideWordBoundaries(l,r,g,v))&&(s.empty&&g<=s.from&&v>=s.to?c.push(mainMatchDeco.range(g,v)):(g>=s.to||v<=s.from)&&c.push(matchDeco.range(g,v)),c.length>e.maxMatches))return Decoration.none}}return Decoration.set(c)}},{decorations:n=>n.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:n,dispatch:e})=>{let{selection:r}=n,o=EditorSelection.create(r.ranges.map(s=>n.wordAt(s.head)||EditorSelection.cursor(s.head)),r.mainIndex);return o.eq(r)?!1:(e(n.update({selection:o})),!0)};function findNextOccurrence(n,e){let{main:r,ranges:o}=n.selection,s=n.wordAt(r.head),a=s&&s.from==r.from&&s.to==r.to;for(let l=!1,c=new SearchCursor(n.doc,e,o[o.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new SearchCursor(n.doc,e,0,Math.max(0,o[o.length-1].from-1)),l=!0}else{if(l&&o.some(d=>d.from==c.value.from))continue;if(a){let d=n.wordAt(c.value.from);if(!d||d.from!=c.value.from||d.to!=c.value.to)continue}return c.value}}const selectNextOccurrence=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(a=>a.from===a.to))return selectWord({state:n,dispatch:e});let o=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=o))return!1;let s=findNextOccurrence(n,o);return s?(e(n.update({selection:n.selection.addRange(EditorSelection.range(s.from,s.to),!1),effects:EditorView.scrollIntoView(s.to)})),!0):!1},searchConfigFacet=Facet.define({combine(n){return combineConfig(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,o)=>o=="n"?`
`:o=="r"?"\r":o=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,r=0,o){let s=e.doc?e:EditorState.create({doc:e});return o==null&&(o=s.doc.length),this.regexp?regexpCursor(this,s,r,o):stringCursor(this,s,r,o)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(n,e,r,o){return new SearchCursor(e.doc,n.unquoted,r,o,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(n,e){return(r,o,s,a)=>((a>r||a+s.length<o)&&(a=Math.max(0,r-2),s=n.sliceString(a,Math.min(n.length,o+2))),(e(charBefore(s,r-a))!=CharCategory.Word||e(charAfter(s,r-a))!=CharCategory.Word)&&(e(charAfter(s,o-a))!=CharCategory.Word||e(charBefore(s,o-a))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,r,o){let s=stringCursor(this.spec,e,o,e.doc.length).nextOverlapping();return s.done&&(s=stringCursor(this.spec,e,0,r).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,r,o){for(let s=o;;){let a=Math.max(r,s-1e4-this.spec.unquoted.length),l=stringCursor(this.spec,e,a,s),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(a==r)return null;s-=1e4}}prevMatch(e,r,o){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let o=stringCursor(this.spec,e,0,e.doc.length),s=[];for(;!o.next().done;){if(s.length>=r)return null;s.push(o.value)}return s}highlight(e,r,o,s){let a=stringCursor(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}function regexpCursor(n,e,r,o){return new RegExpCursor(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},r,o)}function charBefore(n,e){return n.slice(findClusterBreak(n,e,!1),e)}function charAfter(n,e){return n.slice(e,findClusterBreak(n,e))}function regexpWordTest(n){return(e,r,o)=>!o[0].length||(n(charBefore(o.input,o.index))!=CharCategory.Word||n(charAfter(o.input,o.index))!=CharCategory.Word)&&(n(charAfter(o.input,o.index+o[0].length))!=CharCategory.Word||n(charBefore(o.input,o.index+o[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,r,o){let s=regexpCursor(this.spec,e,o,e.doc.length).next();return s.done&&(s=regexpCursor(this.spec,e,0,r).next()),s.done?null:s.value}prevMatchInRange(e,r,o){for(let s=1;;s++){let a=Math.max(r,o-s*1e4),l=regexpCursor(this.spec,e,a,o),c=null;for(;!l.next().done;)c=l.value;if(c&&(a==r||c.from>a+10))return c;if(a==r)return null}}prevMatch(e,r,o){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,o)=>o=="$"?"$":o=="&"?e.match[0]:o!="0"&&+o<e.match.length?e.match[o]:r)}matchAll(e,r){let o=regexpCursor(this.spec,e,0,e.doc.length),s=[];for(;!o.next().done;){if(s.length>=r)return null;s.push(o.value)}return s}highlight(e,r,o,s){let a=regexpCursor(this.spec,e,Math.max(0,r-250),Math.min(o+250,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(n){return new SearchState(defaultQuery(n).create(),null)},update(n,e){for(let r of e.effects)r.is(setSearchQuery)?n=new SearchState(r.value.create(),n.panel):r.is(togglePanel$1)&&(n=new SearchState(n.query,r.value?createSearchPanel:null));return n},provide:n=>showPanel.from(n,e=>e.panel)});class SearchState{constructor(e,r){this.query=e,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(searchState))}update(n){let e=n.state.field(searchState);(e!=n.startState.field(searchState)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Decoration.none;let{view:r}=this,o=new RangeSetBuilder;for(let s=0,a=r.visibleRanges,l=a.length;s<l;s++){let{from:c,to:d}=a[s];for(;s<l-1&&d>a[s+1].from-2*250;)d=a[++s].to;n.highlight(r.state,c,d,(f,g)=>{let v=r.state.selection.ranges.some(A=>A.from==f&&A.to==g);o.add(f,g,v?selectedMatchMark:matchMark)})}return o.finish()}},{decorations:n=>n.decorations});function searchCommand(n){return e=>{let r=e.state.field(searchState,!1);return r&&r.query.spec.valid?n(e,r):openSearchPanel(e)}}const findNext=searchCommand((n,{query:e})=>{let{to:r}=n.state.selection.main,o=e.nextMatch(n.state,r,r);if(!o)return!1;let s=EditorSelection.single(o.from,o.to),a=n.state.facet(searchConfigFacet);return n.dispatch({selection:s,effects:[announceMatch(n,o),a.scrollToMatch(s.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),findPrevious=searchCommand((n,{query:e})=>{let{state:r}=n,{from:o}=r.selection.main,s=e.prevMatch(r,o,o);if(!s)return!1;let a=EditorSelection.single(s.from,s.to),l=n.state.facet(searchConfigFacet);return n.dispatch({selection:a,effects:[announceMatch(n,s),l.scrollToMatch(a.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),selectMatches=searchCommand((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:EditorSelection.create(r.map(o=>EditorSelection.range(o.from,o.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:o,to:s}=r.main,a=[],l=0;for(let c=new SearchCursor(n.doc,n.sliceDoc(o,s));!c.next().done;){if(a.length>1e3)return!1;c.value.from==o&&(l=a.length),a.push(EditorSelection.range(c.value.from,c.value.to))}return e(n.update({selection:EditorSelection.create(a,l),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((n,{query:e})=>{let{state:r}=n,{from:o,to:s}=r.selection.main;if(r.readOnly)return!1;let a=e.nextMatch(r,o,o);if(!a)return!1;let l=[],c,d,f=[];if(a.from==o&&a.to==s&&(d=r.toText(e.getReplacement(a)),l.push({from:a.from,to:a.to,insert:d}),a=e.nextMatch(r,a.from,a.to),f.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),a){let g=l.length==0||l[0].from>=a.to?0:a.to-a.from-d.length;c=EditorSelection.single(a.from-g,a.to-g),f.push(announceMatch(n,a)),f.push(r.facet(searchConfigFacet).scrollToMatch(c.main,n))}return n.dispatch({changes:l,selection:c,effects:f,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(s=>{let{from:a,to:l}=s;return{from:a,to:l,insert:e.getReplacement(s)}});if(!r.length)return!1;let o=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:EditorView.announce.of(o),userEvent:"input.replace.all"}),!0});function createSearchPanel(n){return n.state.facet(searchConfigFacet).createPanel(n)}function defaultQuery(n,e){var r,o,s,a,l;let c=n.selection.main,d=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(e&&!d)return e;let f=n.facet(searchConfigFacet);return new SearchQuery({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:f.literal)?d:d.replace(/\n/g,"\\n"),caseSensitive:(o=e==null?void 0:e.caseSensitive)!==null&&o!==void 0?o:f.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:f.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:f.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function getSearchInput(n){let e=getPanel(n,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(n){let e=getSearchInput(n);e&&e==n.root.activeElement&&e.select()}const openSearchPanel=n=>{let e=n.state.field(searchState,!1);if(e&&e.panel){let r=getSearchInput(n);if(r&&r!=n.root.activeElement){let o=defaultQuery(n.state,e.query.spec);o.valid&&n.dispatch({effects:setSearchQuery.of(o)}),r.focus(),r.select()}}else n.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(n.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=n=>{let e=n.state.field(searchState,!1);if(!e||!e.panel)return!1;let r=getPanel(n,createSearchPanel);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let r=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function o(s,a,l){return crelt("button",{class:"cm-button",name:s,onclick:a,type:"button"},l)}this.dom=crelt("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,o("next",()=>findNext(e),[phrase(e,"next")]),o("prev",()=>findPrevious(e),[phrase(e,"previous")]),o("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,o("replace",()=>replaceNext(e),[phrase(e,"replace")]),o("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},["×"])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let r of e.transactions)for(let o of r.effects)o.is(setSearchQuery)&&!o.value.eq(this.query)&&this.setQuery(o.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(n,e){return n.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(n,{from:e,to:r}){let o=n.state.doc.lineAt(e),s=n.state.doc.lineAt(r).to,a=Math.max(o.from,e-AnnounceMargin),l=Math.min(s,r+AnnounceMargin),c=n.state.sliceDoc(a,l);if(a!=o.from){for(let d=0;d<AnnounceMargin;d++)if(!Break.test(c[d+1])&&Break.test(c[d])){c=c.slice(d);break}}if(l!=s){for(let d=c.length-1;d>c.length-AnnounceMargin;d--)if(!Break.test(c[d-1])&&Break.test(c[d])){c=c.slice(0,d);break}}return EditorView.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${o.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,r,o){this.state=e,this.pos=r,this.explicit=o,this.abortListeners=[]}tokenBefore(e){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),o=Math.max(r.from,this.pos-250),s=r.text.slice(o-r.from,this.pos-r.from),a=s.search(ensureAnchor(e,!1));return a<0?null:{from:o+a,to:this.pos,text:s.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function toSet(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(n){let e=Object.create(null),r=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let a=1;a<s.length;a++)r[s[a]]=!0}let o=toSet(e)+toSet(r)+"*$";return[new RegExp("^"+o),new RegExp(o)]}function completeFromList(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[r,o]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return s=>{let a=s.matchBefore(o);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:r}:null}}function ifNotIn(n,e){return r=>{for(let o=syntaxTree(r.state).resolveInner(r.pos,-1);o;o=o.parent){if(n.indexOf(o.name)>-1)return null;if(o.type.isTop)break}return e(r)}}class Option{constructor(e,r,o,s){this.completion=e,this.source=r,this.match=o,this.score=s}}function cur(n){return n.selection.main.from}function ensureAnchor(n,e){var r;let{source:o}=n,s=e&&o[0]!="^",a=o[o.length-1]!="$";return!s&&!a?n:new RegExp(`${s?"^":""}(?:${o})${a?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(n,e,r,o){let{main:s}=n.selection,a=r-s.from,l=o-s.from;return Object.assign(Object.assign({},n.changeByRange(c=>c!=s&&r!=o&&n.sliceDoc(c.from+a,c.from+l)!=n.sliceDoc(r,o)?{range:c}:{changes:{from:c.from+a,to:o==s.from?c.to:c.from+l,insert:e},range:EditorSelection.cursor(c.from+a+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(n){if(!Array.isArray(n))return n;let e=SourceCache.get(n);return e||SourceCache.set(n,e=completeFromList(n)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let o=codePointAt(e,r),s=codePointSize(o);this.chars.push(o);let a=e.slice(r,r+s),l=a.toUpperCase();this.folded.push(codePointAt(l==a?a.toLowerCase():l,0)),r+=s}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:o,any:s,precise:a,byWord:l}=this;if(r.length==1){let qe=codePointAt(e,0),Ue=codePointSize(qe),hn=Ue==e.length?0:-100;if(qe!=r[0])if(qe==o[0])hn+=-200;else return null;return this.ret(hn,[0,Ue])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let d=r.length,f=0;if(c<0){for(let qe=0,Ue=Math.min(e.length,200);qe<Ue&&f<d;){let hn=codePointAt(e,qe);(hn==r[f]||hn==o[f])&&(s[f++]=qe),qe+=codePointSize(hn)}if(f<d)return null}let g=0,v=0,A=!1,M=0,Y=-1,de=-1,ae=/[a-z]/.test(e),ze=!0;for(let qe=0,Ue=Math.min(e.length,200),hn=0;qe<Ue&&v<d;){let On=codePointAt(e,qe);c<0&&(g<d&&On==r[g]&&(a[g++]=qe),M<d&&(On==r[M]||On==o[M]?(M==0&&(Y=qe),de=qe+1,M++):M=0));let vn,bn=On<255?On>=48&&On<=57||On>=97&&On<=122?2:On>=65&&On<=90?1:0:(vn=fromCodePoint(On))!=vn.toLowerCase()?1:vn!=vn.toUpperCase()?2:0;(!qe||bn==1&&ae||hn==0&&bn!=0)&&(r[v]==On||o[v]==On&&(A=!0)?l[v++]=qe:l.length&&(ze=!1)),hn=bn,qe+=codePointSize(On)}return v==d&&l[0]==0&&ze?this.result(-100+(A?-200:0),l,e):M==d&&Y==0?this.ret(-200-e.length+(de==e.length?0:-100),[0,de]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):M==d?this.ret(-900-e.length,[Y,de]):v==d?this.result(-100+(A?-200:0)+-700+(ze?0:-1100),l,e):r.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,r,o){let s=[],a=0;for(let l of r){let c=l+(this.astral?codePointSize(codePointAt(o,l)):1);a&&s[a-1]==l?s[a-1]=c:(s[a++]=l,s[a++]=c)}return this.ret(e-o.length,s)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),o=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return o==null?null:(this.matched=[0,r.length],this.score=o+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(n){return combineConfig(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>o=>joinClass(e(o),r(o)),optionClass:(e,r)=>o=>joinClass(e(o),r(o)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function joinClass(n,e){return n?e?n+" "+e:n:e}function defaultPositionInfo(n,e,r,o,s,a){let l=n.textDirection==Direction.RTL,c=l,d=!1,f="top",g,v,A=e.left-s.left,M=s.right-e.right,Y=o.right-o.left,de=o.bottom-o.top;if(c&&A<Math.min(Y,M)?c=!1:!c&&M<Math.min(Y,A)&&(c=!0),Y<=(c?A:M))g=Math.max(s.top,Math.min(r.top,s.bottom-de))-e.top,v=Math.min(400,c?A:M);else{d=!0,v=Math.min(400,(l?e.right:s.right-e.left)-30);let qe=s.bottom-e.bottom;qe>=de||qe>e.top?g=r.bottom-e.top:(f="bottom",g=e.bottom-r.top)}let ae=(e.bottom-e.top)/a.offsetHeight,ze=(e.right-e.left)/a.offsetWidth;return{style:`${f}: ${g/ae}px; max-width: ${v/ze}px`,class:"cm-completionInfo-"+(d?l?"left-narrow":"right-narrow":c?"left":"right")}}function optionContent(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let o=document.createElement("div");return o.classList.add("cm-completionIcon"),r.type&&o.classList.add(...r.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),o.setAttribute("aria-hidden","true"),o},position:20}),e.push({render(r,o,s,a){let l=document.createElement("span");l.className="cm-completionLabel";let c=r.displayLabel||r.label,d=0;for(let f=0;f<a.length;){let g=a[f++],v=a[f++];g>d&&l.appendChild(document.createTextNode(c.slice(d,g)));let A=l.appendChild(document.createElement("span"));A.appendChild(document.createTextNode(c.slice(g,v))),A.className="cm-completionMatchedText",d=v}return d<c.length&&l.appendChild(document.createTextNode(c.slice(d))),l},position:50},{render(r){if(!r.detail)return null;let o=document.createElement("span");return o.className="cm-completionDetail",o.textContent=r.detail,o},position:80}),e.sort((r,o)=>r.position-o.position).map(r=>r.render)}function rangeAroundSelected(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/r);return{from:s*r,to:(s+1)*r}}let o=Math.floor((n-e)/r);return{from:n-(o+1)*r,to:n-o*r}}class CompletionTooltip{constructor(e,r,o){this.view=e,this.stateField=r,this.applyCompletion=o,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:d=>this.placeInfo(d),key:this},this.space=null,this.currentClass="";let s=e.state.field(r),{options:a,selected:l}=s.open,c=e.state.facet(completionConfig);this.optionContent=optionContent(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=rangeAroundSelected(a.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",d=>{let{options:f}=e.state.field(r).open;for(let g=d.target,v;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(v=/-(\d+)$/.exec(g.id))&&+v[1]<f.length){this.applyCompletion(e,f[+v[1]]),d.preventDefault();return}}),this.dom.addEventListener("focusout",d=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(completionConfig).closeOnBlur&&d.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(a,s.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let o=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),o!=s){let{options:a,selected:l,disabled:c}=o.open;(!s.open||s.open.options!=a)&&(this.range=rangeAroundSelected(a.length,l,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(a,o.id)),this.updateSel(),c!=((r=s.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let o of this.currentClass.split(" "))o&&this.dom.classList.remove(o);for(let o of r.split(" "))o&&this.dom.classList.add(o);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:o}=r.options[r.selected],{info:s}=o;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(o);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(l,o)}).catch(l=>logException(this.view.state,l,"completion info")):this.addInfoPane(a,o)}}addInfoPane(e,r){this.destroyInfo();let o=this.info=document.createElement("div");if(o.className="cm-tooltip cm-completionInfo",e.nodeType!=null)o.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:a}=e;o.appendChild(s),this.infoDestroy=a||null}this.dom.appendChild(o),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let o=this.list.firstChild,s=this.range.from;o;o=o.nextSibling,s++)o.nodeName!="LI"||!o.id?s--:s==e?o.hasAttribute("aria-selected")||(o.setAttribute("aria-selected","true"),r=o):o.hasAttribute("aria-selected")&&o.removeAttribute("aria-selected");return r&&scrollIntoView(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),o=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:l.innerWidth,bottom:l.innerHeight}}return s.top>Math.min(a.bottom,r.bottom)-10||s.bottom<Math.max(a.top,r.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,r,s,o,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,o){const s=document.createElement("ul");s.id=r,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let l=o.from;l<o.to;l++){let{completion:c,match:d}=e[l],{section:f}=c;if(f){let A=typeof f=="string"?f:f.name;if(A!=a&&(l>o.from||o.from==0))if(a=A,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let M=s.appendChild(document.createElement("completion-section"));M.textContent=A}}const g=s.appendChild(document.createElement("li"));g.id=r+"-"+l,g.setAttribute("role","option");let v=this.optionClass(c);v&&(g.className=v);for(let A of this.optionContent){let M=A(c,this.view.state,this.view,d);M&&g.appendChild(M)}}return o.from&&s.classList.add("cm-completionListIncompleteTop"),o.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(n,e){return r=>new CompletionTooltip(r,n,e)}function scrollIntoView(n,e){let r=n.getBoundingClientRect(),o=e.getBoundingClientRect(),s=r.height/n.offsetHeight;o.top<r.top?n.scrollTop-=(r.top-o.top)/s:o.bottom>r.bottom&&(n.scrollTop+=(o.bottom-r.bottom)/s)}function score(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function sortOptions(n,e){let r=[],o=null,s=f=>{r.push(f);let{section:g}=f.completion;if(g){o||(o=[]);let v=typeof g=="string"?g:g.name;o.some(A=>A.name==v)||o.push(typeof g=="string"?{name:v}:g)}},a=e.facet(completionConfig);for(let f of n)if(f.hasResult()){let g=f.result.getMatch;if(f.result.filter===!1)for(let v of f.result.options)s(new Option(v,f.source,g?g(v):[],1e9-r.length));else{let v=e.sliceDoc(f.from,f.to),A,M=a.filterStrict?new StrictMatcher(v):new FuzzyMatcher(v);for(let Y of f.result.options)if(A=M.match(Y.label)){let de=Y.displayLabel?g?g(Y,A.matched):[]:A.matched;s(new Option(Y,f.source,de,A.score+(Y.boost||0)))}}}if(o){let f=Object.create(null),g=0,v=(A,M)=>{var Y,de;return((Y=A.rank)!==null&&Y!==void 0?Y:1e9)-((de=M.rank)!==null&&de!==void 0?de:1e9)||(A.name<M.name?-1:1)};for(let A of o.sort(v))g-=1e5,f[A.name]=g;for(let A of r){let{section:M}=A.completion;M&&(A.score+=f[typeof M=="string"?M:M.name])}}let l=[],c=null,d=a.compareCompletions;for(let f of r.sort((g,v)=>v.score-g.score||d(g.completion,v.completion))){let g=f.completion;!c||c.label!=g.label||c.detail!=g.detail||c.type!=null&&g.type!=null&&c.type!=g.type||c.apply!=g.apply||c.boost!=g.boost?l.push(f):score(f.completion)>score(c)&&(l[l.length-1]=f),c=f.completion}return l}class CompletionDialog{constructor(e,r,o,s,a,l){this.options=e,this.attrs=r,this.tooltip=o,this.timestamp=s,this.selected=a,this.disabled=l}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,o,s,a){let l=sortOptions(e,r);if(!l.length)return s&&e.some(d=>d.state==1)?new CompletionDialog(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let c=r.facet(completionConfig).selectOnOpen?0:-1;if(s&&s.selected!=c&&s.selected!=-1){let d=s.options[s.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==d){c=f;break}}return new CompletionDialog(l,makeAttrs(o,c),{pos:e.reduce((d,f)=>f.hasResult()?Math.min(d,f.from):d,1e8),create:createTooltip,above:a.aboveCursor},s?s.timestamp:Date.now(),c,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(e,r,o){this.active=e,this.id=r,this.open=o}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,o=r.facet(completionConfig),a=(o.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(c=>(this.active.find(f=>f.source==c)||new ActiveSource(c,this.active.some(f=>f.state!=0)?1:0)).update(e,o));a.length==this.active.length&&a.every((c,d)=>c==this.active[d])&&(a=this.active);let l=this.open;l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!sameResults(a,this.active)?l=CompletionDialog.build(a,r,this.id,l,o):l&&l.disabled&&!a.some(c=>c.state==1)&&(l=null),!l&&a.every(c=>c.state!=1)&&a.some(c=>c.hasResult())&&(a=a.map(c=>c.hasResult()?new ActiveSource(c.source,0):c));for(let c of e.effects)c.is(setSelectedEffect)&&(l=l&&l.setSelected(c.value,this.id));return a==this.active&&l==this.open?this:new CompletionState(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(n,e){if(n==e)return!0;for(let r=0,o=0;;){for(;r<n.length&&!n[r].hasResult;)r++;for(;o<e.length&&!e[o].hasResult;)o++;let s=r==n.length,a=o==e.length;if(s||a)return s==a;if(n[r++].result!=e[o++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const none=[];function getUserEvent(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(pickedCompletion);if(r&&e.activateOnCompletion(r))return"input"}return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(e,r,o=-1){this.source=e,this.state=r,this.explicitPos=o}hasResult(){return!1}update(e,r){let o=getUserEvent(e,r),s=this;o?s=s.handleUserEvent(e,o,r):e.docChanged?s=s.handleChange(e):e.selection&&s.state!=0&&(s=new ActiveSource(s.source,0));for(let a of e.effects)if(a.is(startCompletionEffect))s=new ActiveSource(s.source,1,a.value?cur(e.state):-1);else if(a.is(closeCompletionEffect))s=new ActiveSource(s.source,0);else if(a.is(setActiveEffect))for(let l of a.value)l.source==s.source&&(s=l);return s}handleUserEvent(e,r,o){return r=="delete"||!o.activateOnTyping?this.map(e.changes):new ActiveSource(this.source,1)}handleChange(e){return e.changes.touchesRange(cur(e.startState))?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,e.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(e,r,o,s,a){super(e,2,r),this.result=o,this.from=s,this.to=a}hasResult(){return!0}handleUserEvent(e,r,o){var s;let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let l=e.changes.mapPos(this.from),c=e.changes.mapPos(this.to,1),d=cur(e.state);if((this.explicitPos<0?d<=l:d<this.from)||d>c||!a||r=="delete"&&cur(e.startState)==this.from)return new ActiveSource(this.source,r=="input"&&o.activateOnTyping?1:0);let f=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return checkValid(a.validFor,e.state,l,c)?new ActiveResult(this.source,f,a,l,c):a.update&&(a=a.update(a,l,c,new CompletionContext(e.state,d,f>=0)))?new ActiveResult(this.source,f,a,a.from,(s=a.to)!==null&&s!==void 0?s:cur(e.state)):new ActiveSource(this.source,1,f)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}}function checkValid(n,e,r,o){if(!n)return!1;let s=e.sliceDoc(r,o);return typeof n=="function"?n(s,r,o,e):ensureAnchor(n,!0).test(s)}const setActiveEffect=StateEffect.define({map(n,e){return n.map(r=>r.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(n,e){return n.update(e)},provide:n=>[showTooltip.from(n,e=>e.tooltip),EditorView.contentAttributes.from(n,e=>e.attrs)]});function applyCompletion(n,e){const r=e.completion.apply||e.completion.label;let o=n.state.field(completionState).active.find(s=>s.source==e.source);return o instanceof ActiveResult?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},insertCompletionText(n.state,r,o.from,o.to)),{annotations:pickedCompletion.of(e.completion)})):r(n,e.completion,o.from,o.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(n,e="option"){return r=>{let o=r.state.field(completionState,!1);if(!o||!o.open||o.open.disabled||Date.now()-o.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let s=1,a;e=="page"&&(a=getTooltip(r,o.open.tooltip))&&(s=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=o.open.options,c=o.open.selected>-1?o.open.selected+s*(n?1:-1):n?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),r.dispatch({effects:setSelectedEffect.of(c)}),!0}}const acceptCompletion=n=>{let e=n.state.field(completionState,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(completionConfig).interactionDelay?!1:applyCompletion(n,e.open.options[e.open.selected])},startCompletion=n=>n.state.field(completionState,!1)?(n.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=n=>{let e=n.state.field(completionState,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(completionState).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(completionState),r=n.state.facet(completionConfig);if(!n.selectionSet&&!n.docChanged&&n.startState.field(completionState)==e)return;let o=n.transactions.some(a=>(a.selection||a.docChanged)&&!getUserEvent(a,r));for(let a=0;a<this.running.length;a++){let l=this.running[a];if(o||l.updates.length+n.transactions.length>MaxUpdateCount&&Date.now()-l.time>MinAbortTime){for(let c of l.context.abortListeners)try{c()}catch(d){logException(this.view.state,d)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(l=>l.is(startCompletionEffect)))&&(this.pendingStart=!0);let s=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.state==1&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let a of n.transactions)getUserEvent(a,r)=="input"?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(completionState);for(let r of e.active)r.state==1&&!this.running.some(o=>o.active.source==r.source)&&this.startQuery(r)}startQuery(n){let{state:e}=this.view,r=cur(e),o=new CompletionContext(e,r,n.explicitPos==r),s=new RunningQuery(n,o);this.running.push(s),Promise.resolve(n.source(o)).then(a=>{s.context.aborted||(s.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(completionConfig);for(let o=0;o<this.running.length;o++){let s=this.running[o];if(s.done===void 0)continue;if(this.running.splice(o--,1),s.done){let l=new ActiveResult(s.active.source,s.active.explicitPos,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:cur(s.updates.length?s.updates[0].startState:this.view.state));for(let c of s.updates)l=l.update(c,r);if(l.hasResult()){e.push(l);continue}}let a=this.view.state.field(completionState).active.find(l=>l.source==s.active.source);if(a&&a.state==1)if(s.done==null){let l=new ActiveSource(s.active.source,0);for(let c of s.updates)l=l.update(c,r);l.state!=1&&e.push(l)}else this.startQuery(a)}e.length&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let r=e.open&&getTooltip(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(n,e){let r=e.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(windows&&n.altKey)||n.metaKey)return!1;let o=r.open.options[r.open.selected],s=r.active.find(l=>l.source==o.source),a=o.completion.commitCharacters||s.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&applyCompletion(e,o),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,r,o,s){this.field=e,this.line=r,this.from=o,this.to=s}}class FieldRange{constructor(e,r,o){this.field=e,this.from=r,this.to=o}map(e){let r=e.mapPos(this.from,-1,MapMode.TrackDel),o=e.mapPos(this.to,1,MapMode.TrackDel);return r==null||o==null?null:new FieldRange(this.field,r,o)}}class Snippet{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let o=[],s=[r],a=e.doc.lineAt(r),l=/^\s*/.exec(a.text)[0];for(let d of this.lines){if(o.length){let f=l,g=/^\t*/.exec(d)[0].length;for(let v=0;v<g;v++)f+=e.facet(indentUnit);s.push(r+f.length-g),d=f+d.slice(g)}o.push(d),r+=d.length+1}let c=this.fieldPositions.map(d=>new FieldRange(d.field,s[d.line]+d.from,s[d.line]+d.to));return{text:o,ranges:c}}static parse(e){let r=[],o=[],s=[],a;for(let l of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(l);){let c=a[1]?+a[1]:null,d=a[2]||a[3]||"",f=-1;for(let g=0;g<r.length;g++)(c!=null?r[g].seq==c:d&&r[g].name==d)&&(f=g);if(f<0){let g=0;for(;g<r.length&&(c==null||r[g].seq!=null&&r[g].seq<c);)g++;r.splice(g,0,{seq:c,name:d}),f=g;for(let v of s)v.field>=f&&v.field++}s.push(new FieldPos(f,o.length,a.index,a.index+d.length)),l=l.slice(0,a.index)+d+l.slice(a.index+a[0].length)}for(let c;c=/\\([{}])/.exec(l);){l=l.slice(0,c.index)+c[1]+l.slice(c.index+c[0].length);for(let d of s)d.line==o.length&&d.from>c.index&&(d.from--,d.to--)}o.push(l)}return new Snippet(o,s)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,r){this.ranges=e,this.active=r,this.deco=Decoration.set(e.map(o=>(o.from==o.to?fieldMarker:fieldRange).range(o.from,o.to)))}map(e){let r=[];for(let o of this.ranges){let s=o.map(e);if(!s)return null;r.push(s)}return new ActiveSnippet(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(o=>o.field==this.active&&o.from<=r.from&&o.to>=r.to))}}const setActive=StateEffect.define({map(n,e){return n&&n.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&n)return new ActiveSnippet(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>EditorView.decorations.from(n,e=>e?e.deco:Decoration.none)});function fieldSelection(n,e){return EditorSelection.create(n.filter(r=>r.field==e).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(n){let e=Snippet.parse(n);return(r,o,s,a)=>{let{text:l,ranges:c}=e.instantiate(r.state,s),d={changes:{from:s,to:a,insert:Text.of(l)},scrollIntoView:!0,annotations:o?[pickedCompletion.of(o),Transaction.userEvent.of("input.complete")]:void 0};if(c.length&&(d.selection=fieldSelection(c,0)),c.some(f=>f.field>0)){let f=new ActiveSnippet(c,0),g=d.effects=[setActive.of(f)];r.state.field(snippetState,!1)===void 0&&g.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(d))}}function moveField(n){return({state:e,dispatch:r})=>{let o=e.field(snippetState,!1);if(!o||n<0&&o.active==0)return!1;let s=o.active+n,a=n>0&&!o.ranges.some(l=>l.field==s+n);return r(e.update({selection:fieldSelection(o.ranges,s),effects:setActive.of(a?null:new ActiveSnippet(o.ranges,s)),scrollIntoView:!0})),!0}}const clearSnippet=({state:n,dispatch:e})=>n.field(snippetState,!1)?(e(n.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(n){return n.length?n[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],n=>n.facet(snippetKeymap)));function snippetCompletion(n,e){return Object.assign(Object.assign({},e),{apply:snippet(n)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(n,e){let r=e.state.field(snippetState,!1),o;if(!r||(o=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let s=r.ranges.find(a=>a.from<=o&&a.to>=o);return!s||s.field==r.active?!1:(e.dispatch({selection:fieldSelection(r.ranges,s.field),effects:setActive.of(r.ranges.some(a=>a.field>s.field)?new ActiveSnippet(r.ranges,s.field):null),scrollIntoView:!0}),!0)}}),defaults$1={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(n,e){let r=e.mapPos(n,-1,MapMode.TrackAfter);return r??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:o=>o>=r.from&&o<=r.to})}for(let r of e.effects)r.is(closeBracketEffect)&&(n=n.update({add:[closedBracket.range(r.value,r.value+1)]}));return n}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(n){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==n)return definedClosing.charAt(e+1);return fromCodePoint(n<128?n:n+1)}function config$2(n,e){return n.languageDataAt("closeBrackets",e)[0]||defaults$1}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((n,e,r,o)=>{if((android$1?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(o.length>2||o.length==2&&codePointSize(codePointAt(o,0))==1||e!=s.from||r!=s.to)return!1;let a=insertBracket(n.state,o);return a?(n.dispatch(a),!0):!1}),deleteBracketPair=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=config$2(n,n.selection.main.head).brackets||defaults$1.brackets,s=null,a=n.changeByRange(l=>{if(l.empty){let c=prevChar(n.doc,l.head);for(let d of o)if(d==c&&nextChar(n.doc,l.head)==closing(codePointAt(d,0)))return{changes:{from:l.head-d.length,to:l.head+d.length},range:EditorSelection.cursor(l.head-d.length)}}return{range:s=l}});return s||e(n.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(n,e){let r=config$2(n,n.selection.main.head),o=r.brackets||defaults$1.brackets;for(let s of o){let a=closing(codePointAt(s,0));if(e==s)return a==s?handleSame(n,s,o.indexOf(s+s+s)>-1,r):handleOpen(n,s,a,r.before||defaults$1.before);if(e==a&&closedBracketAt(n,n.selection.main.from))return handleClose(n,s,a)}return null}function closedBracketAt(n,e){let r=!1;return n.field(bracketState).between(0,n.doc.length,o=>{o==e&&(r=!0)}),r}function nextChar(n,e){let r=n.sliceString(e,e+2);return r.slice(0,codePointSize(codePointAt(r,0)))}function prevChar(n,e){let r=n.sliceString(e-2,e);return codePointSize(codePointAt(r,0))==r.length?r:r.slice(1)}function handleOpen(n,e,r,o){let s=null,a=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:r,from:l.to}],effects:closeBracketEffect.of(l.to+e.length),range:EditorSelection.range(l.anchor+e.length,l.head+e.length)};let c=nextChar(n.doc,l.head);return!c||/\s/.test(c)||o.indexOf(c)>-1?{changes:{insert:e+r,from:l.head},effects:closeBracketEffect.of(l.head+e.length),range:EditorSelection.cursor(l.head+e.length)}:{range:s=l}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(n,e,r){let o=null,s=n.changeByRange(a=>a.empty&&nextChar(n.doc,a.head)==r?{changes:{from:a.head,to:a.head+r.length,insert:r},range:EditorSelection.cursor(a.head+r.length)}:o={range:a});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(n,e,r,o){let s=o.stringPrefixes||defaults$1.stringPrefixes,a=null,l=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:closeBracketEffect.of(c.to+e.length),range:EditorSelection.range(c.anchor+e.length,c.head+e.length)};let d=c.head,f=nextChar(n.doc,d),g;if(f==e){if(nodeStart(n,d))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(closedBracketAt(n,d)){let A=r&&n.sliceDoc(d,d+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:d,to:d+A.length,insert:A},range:EditorSelection.cursor(d+A.length)}}}else{if(r&&n.sliceDoc(d-2*e.length,d)==e+e&&(g=canStartStringAt(n,d-2*e.length,s))>-1&&nodeStart(n,g))return{changes:{insert:e+e+e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(n.charCategorizer(d)(f)!=CharCategory.Word&&canStartStringAt(n,d,s)>-1&&!probablyInString(n,d,e,s))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)}}return{range:a=c}});return a?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(n,e){let r=syntaxTree(n).resolveInner(e+1);return r.parent&&r.from==e}function probablyInString(n,e,r,o){let s=syntaxTree(n).resolveInner(e,-1),a=o.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=n.sliceDoc(s.from,Math.min(s.to,s.from+r.length+a)),d=c.indexOf(r);if(!d||d>-1&&o.indexOf(c.slice(0,d))>-1){let g=s.firstChild;for(;g&&g.from==s.from&&g.to-g.from>r.length+d;){if(n.sliceDoc(g.to-r.length,g.to)==r)return!1;g=g.firstChild}return!0}let f=s.to==e&&s.parent;if(!f)break;s=f}return!1}function canStartStringAt(n,e,r){let o=n.charCategorizer(e);if(o(n.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let s of r){let a=e-s.length;if(n.sliceDoc(a,e)==s&&o(n.sliceDoc(a-1,a))!=CharCategory.Word)return a}return-1}function autocompletion(n={}){return[commitCharacters,completionState,completionConfig.of(n),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],n=>n.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,r,o){this.from=e,this.to=r,this.diagnostic=o}}class LintState{constructor(e,r,o){this.diagnostics=e,this.panel=r,this.selected=o}static init(e,r,o){let s=e,a=o.facet(lintConfig).markerFilter;a&&(s=a(s,o));let l=Decoration.set(s.map(c=>c.from==c.to||c.from==c.to-1&&o.doc.lineAt(c.from).to==c.from?Decoration.widget({widget:new DiagnosticWidget(c),diagnostic:c}).range(c.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity+(c.markClass?" "+c.markClass:"")},diagnostic:c,inclusive:!0}).range(c.from,c.to)),!0);return new LintState(l,r,findDiagnostic(l))}}function findDiagnostic(n,e=null,r=0){let o=null;return n.between(r,1e9,(s,a,{spec:l})=>{if(!(e&&l.diagnostic!=e))return o=new SelectedDiagnostic(s,a,l.diagnostic),!1}),o}function hideTooltip(n,e){let r=e.pos,o=e.end||r,s=n.state.facet(lintConfig).hideOn(n,r,o);if(s!=null)return s;let a=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(setDiagnosticsEffect))||n.changes.touchesRange(a.from,Math.max(a.to,o)))}function maybeEnableLint(n,e){return n.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),o=null,s=n.panel;if(n.selected){let a=e.changes.mapPos(n.selected.from,1);o=findDiagnostic(r,n.selected.diagnostic,a)||findDiagnostic(r,null,a)}!r.size&&s&&e.state.facet(lintConfig).autoPanel&&(s=null),n=new LintState(r,s,o)}for(let r of e.effects)if(r.is(setDiagnosticsEffect)){let o=e.state.facet(lintConfig).autoPanel?r.value.length?LintPanel.open:null:n.panel;n=LintState.init(r.value,o,e.state)}else r.is(togglePanel)?n=new LintState(n.diagnostics,r.value?LintPanel.open:null,n.selected):r.is(movePanelSelection)&&(n=new LintState(n.diagnostics,n.panel,r.value));return n},provide:n=>[showPanel.from(n,e=>e.panel),EditorView.decorations.from(n,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function lintTooltip(n,e,r){let{diagnostics:o}=n.state.field(lintState),s=[],a=2e8,l=0;o.between(e-(r<0?1:0),e+(r>0?1:0),(d,f,{spec:g})=>{e>=d&&e<=f&&(d==f||(e>d||r>0)&&(e<f||r<0))&&(s.push(g.diagnostic),a=Math.min(d,a),l=Math.max(f,l))});let c=n.state.facet(lintConfig).tooltipFilter;return c&&(s=c(s,n.state)),s.length?{pos:a,end:l,above:n.state.doc.lineAt(a).to<l,create(){return{dom:diagnosticsTooltip(n,s)}}}:null}function diagnosticsTooltip(n,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(r=>renderDiagnostic(n,r,!1)))}const openLintPanel=n=>{let e=n.state.field(lintState,!1);(!e||!e.panel)&&n.dispatch({effects:maybeEnableLint(n.state,[togglePanel.of(!0)])});let r=getPanel(n,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=n=>{let e=n.state.field(lintState,!1);return!e||!e.panel?!1:(n.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=n=>{let e=n.state.field(lintState,!1);if(!e)return!1;let r=n.state.selection.main,o=e.diagnostics.iter(r.to+1);return!o.value&&(o=e.diagnostics.iter(0),!o.value||o.from==r.from&&o.to==r.to)?!1:(n.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},combineConfig(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?o=>e(o)||r(o):e:r}))}});function assignKeys(n){let e=[];if(n)e:for(let{name:r}of n){for(let o=0;o<r.length;o++){let s=r[o];if(/[a-zA-Z]/.test(s)&&!e.some(a=>a.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function renderDiagnostic(n,e,r){var o;let s=r?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(o=e.actions)===null||o===void 0?void 0:o.map((a,l)=>{let c=!1,d=A=>{if(A.preventDefault(),c)return;c=!0;let M=findDiagnostic(n.state.field(lintState).diagnostics,e);M&&a.apply(n,M.from,M.to)},{name:f}=a,g=s[l]?f.indexOf(s[l]):-1,v=g<0?f:[f.slice(0,g),crelt("u",f.slice(g,g+1)),f.slice(g+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:d,onmousedown:d,"aria-label":` Action: ${f}${g<0?"":` (access key "${s[l]})"`}.`},v)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let r=s=>{if(s.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=assignKeys(a.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==s.keyCode){let d=findDiagnostic(this.view.state.field(lintState).diagnostics,a);d&&a.actions[c].apply(e,d.from,d.to)}}else return;s.preventDefault()},o=s=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(s.target)&&this.moveSelection(a)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:o}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(lintState),o=0,s=!1,a=null;for(e.between(0,this.view.state.doc.length,(l,c,{spec:d})=>{let f=-1,g;for(let v=o;v<this.items.length;v++)if(this.items[v].diagnostic==d.diagnostic){f=v;break}f<0?(g=new PanelItem(this.view,d.diagnostic),this.items.splice(o,0,g),s=!0):(g=this.items[f],f>o&&(this.items.splice(o,f-o),s=!0)),r&&g.diagnostic==r.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),a=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),o++});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let d=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/d:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function r(){let o=e;e=o.nextSibling,o.remove()}for(let o of this.items)if(o.dom.parentNode==this.list){for(;e!=o.dom;)r();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),o=findDiagnostic(r.diagnostics,this.items[e].diagnostic);o&&this.view.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:movePanelSelection.of(o)})}static open(e){return new LintPanel(e)}}function svg(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function underline(n){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),lintExtensions=[lintState,EditorView.decorations.compute([lintState],n=>{let{selected:e,panel:r}=n.field(lintState);return!e||!r||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var h=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[basicSetup]}),y=Symbol("vue-codemirror-global-config"),O,j=function(n){var e=n.onUpdate,r=n.onChange,o=n.onFocus,s=n.onBlur,a=function(l,c){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&c.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(f=Object.getOwnPropertySymbols(l);g<f.length;g++)c.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(l,f[g])&&(d[f[g]]=l[f[g]])}return d}(n,["onUpdate","onChange","onFocus","onBlur"]);return EditorState.create({doc:a.doc,selection:a.selection,extensions:(Array.isArray(a.extensions)?a.extensions:[a.extensions]).concat([EditorView.updateListener.of(function(l){e(l),l.docChanged&&r(l.state.doc.toString(),l),l.focusChanged&&(l.view.hasFocus?o(l):s(l))})])})},S$1=function(n){var e=new Compartment;return{compartment:e,run:function(r){e.get(n.state)?n.dispatch({effects:e.reconfigure(r)}):n.dispatch({effects:StateEffect.appendConfig.of(e.of(r))})}}},x=function(n,e){var r=S$1(n),o=r.compartment,s=r.run;return function(a){var l=o.get(n.state);s(a??l!==e?e:[])}},C={type:Boolean,default:void 0},D={autofocus:C,disabled:C,indentWithTab:C,tabSize:Number,placeholder:String,style:Object,autoDestroy:C,phrases:Object,root:Object,extensions:Array,selection:Object},U={modelValue:{type:String,default:""}},w=Object.assign(Object.assign({},D),U);(function(n){n.Change="change",n.Update="update",n.Focus="focus",n.Blur="blur",n.Ready="ready",n.ModelUpdate="update:modelValue"})(O||(O={}));var z={};z[O.Change]=function(n,e){return!0},z[O.Update]=function(n){return!0},z[O.Focus]=function(n){return!0},z[O.Blur]=function(n){return!0},z[O.Ready]=function(n){return!0};var B={};B[O.ModelUpdate]=z[O.Change];var F=Object.assign(Object.assign({},z),B),P=defineComponent({name:"VueCodemirror",props:Object.assign({},w),emits:Object.assign({},F),setup:function(n,e){var r=shallowRef(),o=shallowRef(),s=shallowRef(),a=Object.assign(Object.assign({},h),inject(y,{})),l=computed(function(){var c={};return Object.keys(toRaw(n)).forEach(function(d){var f;d!=="modelValue"&&(c[d]=(f=n[d])!==null&&f!==void 0?f:a[d])}),c});return onMounted(function(){var c;o.value=j({doc:n.modelValue,selection:l.value.selection,extensions:(c=a.extensions)!==null&&c!==void 0?c:[],onFocus:function(f){return e.emit(O.Focus,f)},onBlur:function(f){return e.emit(O.Blur,f)},onUpdate:function(f){return e.emit(O.Update,f)},onChange:function(f,g){f!==n.modelValue&&(e.emit(O.Change,f,g),e.emit(O.ModelUpdate,f,g))}}),s.value=function(f){return new EditorView(Object.assign({},f))}({state:o.value,parent:r.value,root:l.value.root});var d=function(f){var g=function(){return f.state.doc.toString()},v=S$1(f).run,A=x(f,[EditorView.editable.of(!1),EditorState.readOnly.of(!0)]),M=x(f,keymap.of([indentWithTab])),Y=S$1(f).run,de=S$1(f).run,ae=S$1(f).run,ze=S$1(f).run;return{focus:function(){return f.focus()},getDoc:g,setDoc:function(qe){qe!==g()&&f.dispatch({changes:{from:0,to:f.state.doc.length,insert:qe}})},reExtensions:v,toggleDisabled:A,toggleIndentWithTab:M,setTabSize:function(qe){Y([EditorState.tabSize.of(qe),indentUnit.of(" ".repeat(qe))])},setPhrases:function(qe){de([EditorState.phrases.of(qe)])},setPlaceholder:function(qe){ae(placeholder(qe))},setStyle:function(qe){qe===void 0&&(qe={}),ze(EditorView.theme({"&":Object.assign({},qe)}))}}}(s.value);watch(function(){return n.modelValue},function(f){f!==d.getDoc()&&d.setDoc(f)}),watch(function(){return n.extensions},function(f){return d.reExtensions(f||[])},{immediate:!0}),watch(function(){return l.value.disabled},function(f){return d.toggleDisabled(f)},{immediate:!0}),watch(function(){return l.value.indentWithTab},function(f){return d.toggleIndentWithTab(f)},{immediate:!0}),watch(function(){return l.value.tabSize},function(f){return d.setTabSize(f)},{immediate:!0}),watch(function(){return l.value.phrases},function(f){return d.setPhrases(f||{})},{immediate:!0}),watch(function(){return l.value.placeholder},function(f){return d.setPlaceholder(f)},{immediate:!0}),watch(function(){return l.value.style},function(f){return d.setStyle(f)},{immediate:!0}),l.value.autofocus&&d.focus(),e.emit(O.Ready,{state:o.value,view:s.value,container:r.value})}),onBeforeUnmount(function(){l.value.autoDestroy&&s.value&&function(c){c.destroy()}(s.value)}),function(){return h$1("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),T=P,define_process_env_default={};class Stack{constructor(e,r,o,s,a,l,c,d,f,g=0,v){this.p=e,this.stack=r,this.state=o,this.reducePos=s,this.pos=a,this.score=l,this.buffer=c,this.bufferBase=d,this.curContext=f,this.lookAhead=g,this.parent=v}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,o=0){let s=e.parser.context;return new Stack(e,[],r,o,o,0,[],0,s?new StackContext(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let o=e>>19,s=e&65535,{parser:a}=this.p,l=a.dynamicPrecedence(s);if(l&&(this.score+=l),o==0){this.pushState(a.getGoto(this.state,s,!0),this.reducePos),s<a.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let c=this.stack.length-(o-1)*3-(e&262144?6:0),d=c?this.stack[c-2]:this.p.ranges[0].from,f=this.reducePos-d;f>=2e3&&!(!((r=this.p.parser.nodeSet.types[s])===null||r===void 0)&&r.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=f));let g=c?this.stack[c-1]:0,v=this.bufferBase+this.buffer.length-g;if(s<a.minRepeatTerm||e&131072){let A=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,A,v+4,!0)}if(e&262144)this.state=this.stack[c];else{let A=this.stack[c-3];this.state=a.getGoto(A,s,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,r,o,s=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(r==o)return;if(l.buffer[c-2]>=r){l.buffer[c-2]=o;return}}}if(!a||this.pos==o)this.buffer.push(e,r,o,s);else{let l=this.buffer.length;if(l>0&&this.buffer[l-4]!=0)for(;l>0&&this.buffer[l-2]>o;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,s>4&&(s-=4);this.buffer[l]=e,this.buffer[l+1]=r,this.buffer[l+2]=o,this.buffer[l+3]=s}}shift(e,r,o,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(r,o),r<=this.p.parser.maxNode&&this.buffer.push(r,o,s,4);else{let a=e,{parser:l}=this.p;(s>this.pos||r<=l.maxNode)&&(this.pos=s,l.stateFlag(a,1)||(this.reducePos=s)),this.pushState(a,o),this.shiftContext(r,o),r<=l.maxNode&&this.buffer.push(r,o,s,4)}}apply(e,r,o,s){e&65536?this.reduce(e):this.shift(e,r,o,s)}useNode(e,r){let o=this.p.reused.length-1;(o<0||this.p.reused[o]!=e)&&(this.p.reused.push(e),o++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(r,s),this.buffer.push(o,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let o=e.buffer.slice(r),s=e.bufferBase+r;for(;e&&s==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,o,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let o=e<=this.p.parser.maxNode;o&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,o?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new SimulatedStack(this);;){let o=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(o==0)return!1;if(!(o&65536))return!0;r.reduce(o)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let s=[];for(let a=0,l;a<r.length;a+=2)(l=r[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&s.push(r[a],l);if(this.stack.length<120)for(let a=0;s.length<8&&a<r.length;a+=2){let l=r[a+1];s.some((c,d)=>d&1&&c==l)||s.push(r[a],l)}r=s}let o=[];for(let s=0;s<r.length&&o.length<4;s+=2){let a=r[s+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(r[s],this.pos),l.reducePos=this.pos,l.score-=200,o.push(l)}return o}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let o=r>>19,s=r&65535,a=this.stack.length-o*3;if(a<0||e.getGoto(this.stack[a],s,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;r=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],o=(s,a)=>{if(!r.includes(s))return r.push(s),e.allActions(s,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-a;if(c>1){let d=l&65535,f=this.stack.length-c*3;if(f>=0&&e.getGoto(this.stack[f],d,!1)>=0)return c<<19|65536|d}}else{let c=o(l,a+1);if(c!=null)return c}})};return o(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new StackContext(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,o=e>>19;o==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(o-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=s}}class StackBufferCursor{constructor(e,r,o){this.stack=e,this.pos=r,this.index=o,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let o=0,s=0;o<n.length;){let a=0;for(;;){let l=n.charCodeAt(o++),c=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let d=l-32;if(d>=46&&(d-=46,c=!0),a+=d,c)break;a*=46}r?r[s++]=a:r=new e(a)}return r}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let o=this.range,s=this.rangeIndex,a=this.pos+e;for(;a<o.from;){if(!s)return null;let l=this.ranges[--s];a-=o.from-l.to,o=l}for(;r<0?a>o.to:a>=o.to;){if(s==this.ranges.length-1)return null;let l=this.ranges[++s];a+=l.from-o.to,o=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,o,s;if(r>=0&&r<this.chunk.length)o=this.pos+e,s=this.chunk.charCodeAt(r);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(o=a,o>=this.chunk2Pos&&o<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(o-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=o;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=o),o+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-o)),s=this.chunk2.charCodeAt(0)}}return o>=this.token.lookAhead&&(this.token.lookAhead=o+1),s}acceptToken(e,r=0){let o=r?this.resolveOffset(r,-1):this.pos;if(o==null||o<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=o}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let o="";for(let s of this.ranges){if(s.from>=r)break;s.to>e&&(o+=this.input.read(Math.max(s.from,e),Math.min(s.to,r)))}return o}}class TokenGroup{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:o}=r.p;readToken(this.data,e,r,this.id,o.data,o.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,r,o){this.precTable=r,this.elseToken=o,this.data=typeof e=="string"?decodeArray(e):e}token(e,r){let o=e.pos,s=0;for(;;){let a=e.next<0,l=e.resolveOffset(1,1);if(readToken(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||s++,l==null)break;e.reset(l,e.token)}s&&(e.reset(o,e.token),e.acceptToken(this.elseToken,s))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(n,e,r,o,s,a){let l=0,c=1<<o,{dialect:d}=r.p.parser;e:for(;c&n[l];){let f=n[l+1];for(let M=l+3;M<f;M+=2)if((n[M+1]&c)>0){let Y=n[M];if(d.allows(Y)&&(e.token.value==-1||e.token.value==Y||overrides(Y,e.token.value,s,a))){e.acceptToken(Y);break}}let g=e.next,v=0,A=n[l+2];if(e.next<0&&A>v&&n[f+A*3-3]==65535){l=n[f+A*3-1];continue e}for(;v<A;){let M=v+A>>1,Y=f+M+(M<<1),de=n[Y],ae=n[Y+1]||65536;if(g<de)A=M;else if(g>=ae)v=M+1;else{l=n[Y+2],e.advance();continue e}}break}}function findOffset(n,e,r){for(let o=e,s;(s=n[o])!=65535;o++)if(s==r)return o-e;return-1}function overrides(n,e,r,o){let s=findOffset(r,o,e);return s<0||findOffset(r,o,n)<s}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(n,e,r){let o=n.cursor(IterMode.IncludeAnonymous);for(o.moveTo(e);;)if(!(r<0?o.childBefore(e):o.childAfter(e)))for(;;){if((r<0?o.to<e:o.from>e)&&!o.type.isError)return r<0?Math.max(0,Math.min(o.to-1,e-25)):Math.min(n.length,Math.max(o.from+1,e+25));if(r<0?o.prevSibling():o.nextSibling())break;if(!o.parent())return r<0?0:n.length}}class FragmentCursor{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let o=this.trees[r],s=this.index[r];if(s==o.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=o.children[s],l=this.start[r]+o.positions[s];if(l>e)return this.nextStart=l,null;if(a instanceof Tree){if(l==e){if(l<this.safeFrom)return null;let c=l+a.length;if(c<=this.safeTo){let d=a.prop(NodeProp.lookAhead);if(!d||c+d<this.fragment.to)return a}}this.index[r]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[r]++,this.nextStart=l+a.length}}}class TokenCache{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(o=>new CachedToken)}getActions(e){let r=0,o=null,{parser:s}=e.p,{tokenizers:a}=s,l=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,d=0;for(let f=0;f<a.length;f++){if(!(1<<f&l))continue;let g=a[f],v=this.tokens[f];if(!(o&&!g.fallback)&&((g.contextual||v.start!=e.pos||v.mask!=l||v.context!=c)&&(this.updateCachedToken(v,g,e),v.mask=l,v.context=c),v.lookAhead>v.end+25&&(d=Math.max(v.lookAhead,d)),v.value!=0)){let A=r;if(v.extended>-1&&(r=this.addActions(e,v.extended,v.end,r)),r=this.addActions(e,v.value,v.end,r),!g.extend&&(o=v,r>A))break}}for(;this.actions.length>r;)this.actions.pop();return d&&e.setLookAhead(d),!o&&e.pos==this.stream.end&&(o=new CachedToken,o.value=e.p.parser.eofTerm,o.start=o.end=e.pos,r=this.addActions(e,o.value,o.end,r)),this.mainToken=o,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:o,p:s}=e;return r.start=o,r.end=Math.min(o+1,s.stream.end),r.value=o==s.stream.end?s.parser.eofTerm:0,r}updateCachedToken(e,r,o){let s=this.stream.clipPos(o.pos);if(r.token(this.stream.reset(s,e),o),e.value>-1){let{parser:a}=o.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let c=a.specializers[l](this.stream.read(e.start,e.end),o);if(c>=0&&o.p.parser.dialect.allows(c>>1)){c&1?e.extended=c>>1:e.value=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,r,o,s){for(let a=0;a<s;a+=3)if(this.actions[a]==e)return s;return this.actions[s++]=e,this.actions[s++]=r,this.actions[s++]=o,s}addActions(e,r,o,s){let{state:a}=e,{parser:l}=e.p,{data:c}=l;for(let d=0;d<2;d++)for(let f=l.stateSlot(a,d?2:1);;f+=3){if(c[f]==65535)if(c[f+1]==1)f=pair(c,f+2);else{s==0&&c[f+1]==2&&(s=this.putAction(pair(c,f+2),r,o,s));break}c[f]==r&&(s=this.putAction(pair(c,f+1),r,o,s))}return s}}class Parse{constructor(e,r,o,s){this.parser=e,this.input=r,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(r,s),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:a}=s[0];this.stacks=[Stack.start(this,e.top[0],a)],this.fragments=o.length&&this.stream.end-a>e.bufferLength*4?new FragmentCursor(o,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,o=this.stacks=[],s,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>r)o.push(c);else{if(this.advanceStack(c,o,e))continue;{s||(s=[],a=[]),s.push(c);let d=this.tokens.getMainToken(c);a.push(d.value,d.end)}}break}}if(!o.length){let l=s&&findFinished(s);if(l)return verbose&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw verbose&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&s){let l=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,a,o);if(l)return verbose&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(o.length>l)for(o.sort((c,d)=>d.score-c.score);o.length>l;)o.pop();o.some(c=>c.reducePos>r)&&this.recovering--}else if(o.length>1){e:for(let l=0;l<o.length-1;l++){let c=o[l];for(let d=l+1;d<o.length;d++){let f=o[d];if(c.sameState(f)||c.buffer.length>500&&f.buffer.length>500)if((c.score-f.score||c.buffer.length-f.buffer.length)>0)o.splice(d--,1);else{o.splice(l--,1);continue e}}}o.length>12&&o.splice(12,o.length-12)}this.minStackPos=o[0].pos;for(let l=1;l<o.length;l++)o[l].pos<this.minStackPos&&(this.minStackPos=o[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,o){let s=e.pos,{parser:a}=this,l=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,g=f?e.curContext.hash:0;for(let v=this.fragments.nodeAt(s);v;){let A=this.parser.nodeSet.types[v.type.id]==v.type?a.getGoto(e.state,v.type.id):-1;if(A>-1&&v.length&&(!f||(v.prop(NodeProp.contextHash)||0)==g))return e.useNode(v,A),verbose&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(v.type.id)})`),!0;if(!(v instanceof Tree)||v.children.length==0||v.positions[0]>0)break;let M=v.children[0];if(M instanceof Tree&&v.positions[0]==0)v=M;else break}}let c=a.stateSlot(e.state,4);if(c>0)return e.reduce(c),verbose&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let d=this.tokens.getActions(e);for(let f=0;f<d.length;){let g=d[f++],v=d[f++],A=d[f++],M=f==d.length||!o,Y=M?e:e.split(),de=this.tokens.mainToken;if(Y.apply(g,v,de?de.start:Y.pos,A),verbose&&console.log(l+this.stackID(Y)+` (via ${g&65536?`reduce of ${a.getName(g&65535)}`:"shift"} for ${a.getName(v)} @ ${s}${Y==e?"":", split"})`),M)return!0;Y.pos>s?r.push(Y):o.push(Y)}return!1}advanceFully(e,r){let o=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>o)return pushStackDedup(e,r),!0}}runRecovery(e,r,o){let s=null,a=!1;for(let l=0;l<e.length;l++){let c=e[l],d=r[l<<1],f=r[(l<<1)+1],g=verbose?this.stackID(c)+" -> ":"";if(c.deadEnd&&(a||(a=!0,c.restart(),verbose&&console.log(g+this.stackID(c)+" (restarted)"),this.advanceFully(c,o))))continue;let v=c.split(),A=g;for(let M=0;v.forceReduce()&&M<10&&(verbose&&console.log(A+this.stackID(v)+" (via force-reduce)"),!this.advanceFully(v,o));M++)verbose&&(A=this.stackID(v)+" -> ");for(let M of c.recoverByInsert(d))verbose&&console.log(g+this.stackID(M)+" (via recover-insert)"),this.advanceFully(M,o);this.stream.end>c.pos?(f==c.pos&&(f++,d=0),c.recoverByDelete(d,f),verbose&&console.log(g+this.stackID(c)+` (via recover-delete ${this.parser.getName(d)})`),pushStackDedup(c,o)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(stackIDs||(stackIDs=new WeakMap)).get(e);return r||stackIDs.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function pushStackDedup(n,e){for(let r=0;r<e.length;r++){let o=e[r];if(o.pos==n.pos&&o.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class Dialect{constructor(e,r,o){this.source=e,this.flags=r,this.disabled=o}allows(e){return!this.disabled||this.disabled[e]==0}}const id=n=>n;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let c=0;c<e.repeatNodeCount;c++)r.push("");let o=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<r.length;c++)s.push([]);function a(c,d,f){s[c].push([d,d.deserialize(String(f))])}if(e.nodeProps)for(let c of e.nodeProps){let d=c[0];typeof d=="string"&&(d=NodeProp[d]);for(let f=1;f<c.length;){let g=c[f++];if(g>=0)a(g,d,c[f++]);else{let v=c[f+-g];for(let A=-g;A>0;A--)a(c[f++],d,v);f++}}}this.nodeSet=new NodeSet(r.map((c,d)=>NodeType.define({name:d>=this.minRepeatTerm?void 0:c,id:d,props:s[d],top:o.indexOf(d)>-1,error:d==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(d)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let l=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new TokenGroup(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,o){let s=new Parse(this,e,r,o);for(let a of this.wrappers)s=a(s,e,r,o);return s}getGoto(e,r,o=!1){let s=this.goto;if(r>=s[0])return-1;for(let a=s[r+1];;){let l=s[a++],c=l&1,d=s[a++];if(c&&o)return d;for(let f=a+(l>>1);a<f;a++)if(s[a]==e)return d;if(c)return-1}}hasAction(e,r){let o=this.data;for(let s=0;s<2;s++)for(let a=this.stateSlot(e,s?2:1),l;;a+=3){if((l=o[a])==65535)if(o[a+1]==1)l=o[a=pair(o,a+2)];else{if(o[a+1]==2)return pair(o,a+2);break}if(l==r||l==0)return pair(o,a+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,o=>o==r?!0:null)}allActions(e,r){let o=this.stateSlot(e,4),s=o?r(o):void 0;for(let a=this.stateSlot(e,1);s==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=pair(this.data,a+2);else break;s=r(pair(this.data,a+1))}return s}nextStates(e){let r=[];for(let o=this.stateSlot(e,1);;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=pair(this.data,o+2);else break;if(!(this.data[o+2]&1)){let s=this.data[o+1];r.some((a,l)=>l&1&&a==s)||r.push(this.data[o],s)}}return r}configure(e){let r=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let o=this.topRules[e.top];if(!o)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=o}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(o=>{let s=e.tokenizers.find(a=>a.from==o);return s?s.to:o})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((o,s)=>{let a=e.specializers.find(c=>c.from==o.external);if(!a)return o;let l=Object.assign(Object.assign({},o),{external:a.to});return r.specializers[s]=getSpecializer(l),l})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),o=r.map(()=>!1);if(e)for(let a of e.split(" ")){let l=r.indexOf(a);l>=0&&(o[l]=!0)}let s=null;for(let a=0;a<r.length;a++)if(!o[a])for(let l=this.dialects[r[a]],c;(c=this.data[l++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new Dialect(e,o,s)}static deserialize(e){return new LRParser(e)}}function pair(n,e){return n[e]|n[e+1]<<16}function findFinished(n){let e=null;for(let r of n){let o=r.p.stoppedAt;(r.pos==r.p.stream.end||o!=null&&r.pos>o)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function getSpecializer(n){if(n.external){let e=n.extend?1:0;return(r,o)=>n.external(r,o)<<1|e}return n.get}const noSemi=312,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=313,spaces=315,newline$3=316,LineComment$1=5,BlockComment$1=6,Dialect_jsx=0,space$2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash$1=47,star=42,plus=43,minus=45,lt=60,comma=44,question$1=63,dot$1=46,trackNewline=new ContextTracker({start:!1,shift(n,e){return e==LineComment$1||e==BlockComment$1||e==spaces?n:e==newline$3},strict:!1}),insertSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n;(r==braceR||r==-1||e.context)&&n.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n,o;space$2.indexOf(r)>-1||r==slash$1&&((o=n.peek(1))==slash$1||o==star)||r!=braceR&&r!=semicolon&&r!=-1&&!e.context&&n.acceptToken(noSemi)},{contextual:!0}),operatorToken=new ExternalTokenizer((n,e)=>{let{next:r}=n;if(r==plus||r==minus){if(n.advance(),r==n.next){n.advance();let o=!e.context&&e.canShift(incdec);n.acceptToken(o?incdec:incdecPrefix)}}else r==question$1&&n.peek(1)==dot$1&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(questionDot))},{contextual:!0});function identifierChar(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const jsx=new ExternalTokenizer((n,e)=>{if(n.next!=lt||!e.dialectEnabled(Dialect_jsx)||(n.advance(),n.next==slash$1))return;let r=0;for(;space$2.indexOf(n.next)>-1;)n.advance(),r++;if(identifierChar(n.next,!0)){for(n.advance(),r++;identifierChar(n.next,!1);)n.advance(),r++;for(;space$2.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==comma)return;for(let o=0;;o++){if(o==7){if(!identifierChar(n.next,!0))return;break}if(n.next!="extends".charCodeAt(o))break;n.advance(),r++}}n.acceptToken(JSXStartTag,-r)}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case":tags$1.controlKeyword,"in of await yield void typeof delete instanceof":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger as new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier$2={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},spec_word={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},spec_LessThan={__proto__:null,"<":187},parser$5=LRParser.deserialize({version:14,states:"$=dO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`QWO'#CzO!0eO!0LbO'#DOO!1RQ7[O,5<dO!1YQWO,5<fO!2uQ$ISO'#GVO!3SQWO'#GWO!3XQWO'#GWO!4wQ$ISO'#G[O!5sQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6fQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6pQWO'#JfO!7OQWO'#JeO!7WQWO'#CuOOQ?Mr'#Cx'#CxOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3XQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9YQ?NdO1G0|O#9pQ?NdO1G0|O#<gQ?NdO1G0|O#<nQ?NdO1G0|O#?OQ?NdO1G0|O#?]Q?NdO1G0|O#AWQ?NdO1G0|O#DWQ07bO'#CiO#FRQ07bO1G1_O#FYQ07bO'#JnO#FmQ?NdO,5?WOOQ?Mp-E<j-E<jO#GaQ?NdO1G0|OOQ?Mr1G0|1G0|O#IiQ7[O'#JwO#IsQWO,5:uO#IxQ?NdO1G1bO#JlQ&jO,5<VO#JtQ&jO,5<WO#J|Q&jO'#FnO#KeQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#KjQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#K{Q07bO'#JmO#LVQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#L[Q`O'#KSOOQ?Mr,5<c,5<cO#LdQ`O,5<cOOQ?Mr,59f,59fO!&_Q7[O'#DQOOOO'#I^'#I^O#LiO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#LtQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#MdQ7[O,5=UO!+hQ7[O'#IsO#NVQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#NaQpO'#CrO#NtQ$ISO'#EoO$ sQ`O'#G`O$!aQpO,5<qO$!hQWO'#KWO9WQWO'#KWO$!vQWO,5<sO!+hQ7[O,5<rO$!{QWO'#GXO$#^QWO,5<rO$#cQpO'#GUO$#pQpO'#KXO$#zQWO'#KXO!&_Q7[O'#KXO$$PQWO,5<vO$$UQ`O'#GaO!5nQ`O'#GaO$$gQWO'#GcO$$lQWO'#GeO!3XQWO'#GhO$$qQ?MxO'#IpO$$|Q`O,5<zOOQ?Mv,5<z,5<zO$%TQ`O'#GaO$%cQ`O'#GbO$%kQ`O'#GbO$%pQ7[O,5=UO$&QQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$&bQWO'#IuO$&mQWO,5@PO$&uQWO,59aO$'iQ!LSO,59rOOQ?Mr'#Jk'#JkO$([Q7[O,5<iO$(}Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$)XQWO,5<tO$)^Q7[O,5<yO$)nQWO'#JzO!$[Q^O1G2PO$)sQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$)xQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$+zQ?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$.OQ7[O'#EhOOQ?Mp,5@O,5@OO$.YQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$.kQWO1G0rO$.pQWO'#CiO$.{QWO'#KaO$/TQWO,5=xO$/YQWO'#KaO$/_QWO'#KaO$/mQWO'#I}O$/{QWO,5@zO$0TQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$0[QWO1G3cO$0aQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$0fQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$0kQWO1G3PO$0sQ`O'#G}OOQU1G3R1G3RO!5nQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$0{Q7[O,5=qO9^QWO,5=qO$$lQWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$1ZQWO'#K_O$1fQWO,5=tOOQU1G.k1G.kO$1kQ?MxO1G.kO@fQWO1G.kO$1vQWO1G.kO9hQ?MxO1G.kO$4OQrO,5@|O$4]QWO,5@|O9WQWO,5@|O$4hQ^O,5={O$4oQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$4tQ^O1G3qO$8xQ^O'#HpOOQU1G3t1G3tO$9VQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$9_Q^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$=fQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$=kQ07bO,5:UOOQO,5;],5;]O$=uQ`O'#IaO$>]QWO,5@[OOQ?Mr1G/o1G/oO$>eQ`O'#IgO$>oQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$>wQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$?OQ?MxO1G0jO$?ZQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$?iQ?MxO1G0jOOQO1G0Z1G0ZO$?}Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$@XQpO,5<gO$@aQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$@kQWO1G5uO$@sQWO1G6TO$@{QrO1G6UO9WQWO,5?QO$AVQ?NdO1G6RO%[Q^O1G6RO$AgQ?MxO1G6RO$AxQWO1G6QO$AxQWO1G6QO9WQWO1G6QO$BQQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$BfQWO,5?TO$)nQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$BtQWO7+(bO$CPQ7[O7+(bO$C_Q?NdO,5=UO$EgQ?NdO,5=WO$GoQ?NdO,5=UO$I}Q?NdO,5=WO$L]Q?NdO,59rO$NbQ?NdO,5<iO%!jQ?NdO,5<kO%$rQ?NdO,5<yOOQ?Mr7+&^7+&^O%'QQ?NdO7+&^O%'tQ^O'#IbO%(RQWO,5@^O%(ZQrO,5@^OOQ?Mr1G/|1G/|O%(eQWO7+&gOOQ?Mr7+&g7+&gO%(jQ07bO,5:cO%[Q^O7+&yO%(tQ07bO,5:_O%)RQ07bO,5:gO%)]Q07bO,5:iO%)gQ7[O'#IeO%)qQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)yQtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%*UQWO1G1{OOQ?Mr1G1}1G1}O%*ZQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%*bQ?NdO7+'jOOQ?Mr,5?Y,5?YO%+UQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%+tQ7[O,5?]OOQ?Mr-E<o-E<oO%,gQ7[O,5?_OOQ?Mr-E<q-E<qO%,qQpO1G2tO%,xQpO'#CrO%-`Q7[O'#J}O%-gQ^O'#EqOOQ?Mr1G2]1G2]O%-qQWO'#ImO%.VQWO,5@rO%.VQWO,5@rO%._QWO,5@rO%.jQWO,5@rOOQO1G2_1G2_O%.xQ7[O1G2^O!+hQ7[O1G2^O%/YQ$ISO'#IoO%/gQWO,5@sO!&_Q7[O,5@sO%/oQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$)nQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%/yQWO,5<}OOQ?Mp,5=P,5=PO$)nQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5nQ`O,5<{O%0RQWO,5<|O$$gQWO,5<}O!5nQ`O,5<|O!+hQ7[O'#IqO%0uQ7[O1G2pO!+hQ7[O'#IsO%1hQ7[O1G2rO%1rQ7[O1G5lO%1|Q7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%2ZQWO1G2XO!+hQ7[O1G2`O%2`Q?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%3SQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%3XQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$BwQWO7+(bO%3cQ?NbO'#CiO%3vQ?NbO,5=QO%4hQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%4mQWO'#I|O%5UQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%5UQWO,5@{O%5^QWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%5cQWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%5hQ?NbO7+(jO!&_Q7[O7+(jO%5rQpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%5yQWO'#K^O%6UQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%7eQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%7lQWO1G3]O%7wQ7[O1G3]O9hQ?MxO1G3_O$$lQWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%8VQWO'#I{O%8kQWO,5@yO%8sQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%9OQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%9TQ?MxO1G6hO%9_Q^O1G3gO%9fQWO1G3gO%9kQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%9rQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%:PQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%:UQ`O1G5wO%:jQ07bO1G0wO%:tQWO1G0wOOQO1G/p1G/pO%;PQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$?}Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%;ZQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%;fQ?MxO7+&UO%;tQ?NdO7++mO%[Q^O7++mO%<UQWO7++lO%<UQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%<^QWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%<lQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%<tQWO<<K|O%=PQ?NdO,5?]O%?XQ?NdO,5?_O%AaQ?NdO1G2^O%CoQ?NdO1G2pO%EwQ?NdO1G2rO%HPQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%HZQWO1G5xOOQ?Mr<<JR<<JRO%HcQ07bO1G0rO%JjQ07bO1G0|O%JqQ07bO1G0|O%LrQ07bO1G0|O%LyQ07bO1G0|O%NkQ07bO1G0|O& RQ07bO1G0|O&#cQ07bO1G0|O&#jQ07bO1G0|O&%eQ07bO1G0|O&%rQ07bO1G0|O&'mQ07bO1G0|O&(QQ?NdO<<JeO&)VQ07bO1G0|O&*xQ07bO'#JgO&,{Q07bO1G1bO&-YQ07bO1G0RO&-dQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&-nQWO1G1sO&-sQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&0TQrO'#CiO&0_QWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&0mQWO1G6^O&0mQWO1G6^O&0uQWO1G6^O&1QQ7[O7+'xO&1bQpO,5?ZO&1lQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&1qQpO1G6_O&1{QWO1G6_OOQ?Mp1G2h1G2hO$)nQWO1G2hOOQ?Mp1G2g1G2gO&2TQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&2YQWO1G2iO&2bQWO1G2hO&3UQ7[O,5?]OOQ?Mr-E<p-E<pO&3wQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&4RQWO1G/`OOQ?Mr7+'s7+'sO&4WQ7[O7+'zO&4hQ?NdO<<KVOOQ?Mr<<KV<<KVO&5[QWO1G0wO!&_Q7[O'#IvO&5aQWO,5@tO&7cQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&7jQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&8^QWO,5?hO&8cQWO,5?hOOQO-E<z-E<zO&8qQWO1G6gO&8qQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&8yQWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%5hQ?NbO<<LUOOQU<<LV<<LVO%5rQpO<<LVO&9OQ`O'#IxO&9ZQWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%-gQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&9cQ`O,5=rOOQU,5=r,5=rO&9jQ`O'#EdO&:OQWO7+(wO&:TQWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&:]QWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$$lQWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&:hQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:sQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&:{QWO7+,SO&;QQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&;VQWO7+)RO&;[Q^O7+)RO&;cQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&;hQWO,5>]OOQU,5>_,5>_O&;mQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&;rQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$?}Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&;|Q?MxO<<IpO&<XQ?NdO<= XO&<iQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&<qQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&<xQWOANAhO%[Q^OANAhO&=QQ?NdO7+'xO&?`Q?NdO,5?]O&AhQ?NdO,5?_O&CpQ?NdO7+'zO&FOQrO1G4hO&FYQ07bO7+&^O&HZQ07bO,5=UO&J_Q07bO,5=WO&JoQ07bO,5=UO&KPQ07bO,5=WO&KaQ07bO,59rO&MdQ07bO,5<iO' dQ07bO,5<kO'#dQ07bO,5<yO'%VQ07bO7+'jO'%dQ07bO7+'kO'%qQWO,5<[OOQO7+'_7+'_O'%vQ7[O<<KzOOQO1G4s1G4sO'%}QWO1G4sO'&YQWO1G4sO'&hQWO7++xO'&hQWO7++xO!&_Q7[O1G4uO'&pQpO1G4uO'&zQWO7++yOOQ?Mp7+(S7+(SO$)nQWO7+(TO''SQpO7+(TOOQ?Mp7+(R7+(RO$)nQWO7+(SO''ZQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO''`Q7[O<<NrOOQ?Mr7+$z7+$zO''jQpO,5?bOOQO-E<t-E<tO''tQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'(UQWO1G5SO'(ZQWO7+,RO'(ZQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'(cQWO,5?dOOQO-E<v-E<vO'(nQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%-gQ^O,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&:OQWO<<LcO'(xQWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$$lQWO<<LeO9RQWO<<LeO')QQ`O1G5RO')]QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO')eQWO<= nO')jQWO<= oOOQU<<Lm<<LmO')oQWO<<LmO')tQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'){QWO<<I}O'*WQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$?}Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'*bQrOG27SO4UQrOG27SO'*iQWOG27SO'*qQ07bO<<JeO'+OQ07bO1G2^O',qQ07bO,5?]O'.qQ07bO,5?_O'0qQ07bO1G2pO'2qQ07bO1G2rO'4qQ07bO<<KVO'5OQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'5]QWO7+*_O'5hQWO<= dO'5pQpO7+*aOOQ?Mp<<Ko<<KoO$)nQWO<<KoOOQ?Mp<<Kn<<KnO'5zQpO<<KoO$)nQWO<<KnOOQO7+*n7+*nO9^QWO7+*nO'6RQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'6ZQWO7+,OO&:OQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'6cQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$$lQWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'6kQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$?}Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'6pQrOLD,nO'6wQ07bO7+'xO'8jQ07bO,5?]O':jQ07bO,5?_O'<jQ07bO7+'zO'>]Q7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$)nQWOANAZOOQ?MpANAYANAYOOQO<<NY<<NYOOQULD-ZLD-ZO'>mQ07bO7+*jOOQUG27iG27iO&:OQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>wQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'?RQ?NdOG27QOOQ?MpG26uG26uOOQULD-TLD-TO&:OQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AaQ07bOG27QO!(oQ^O'#DwO1PQWO'#EUO'CSQrO'#JmO'CZQMnO'#DsO'CbQ^O'#D{O'CiQrO'#CiO'FPQrO'#CiO!(oQ^O'#D}O'FaQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'HdQWO,5<gO'HlQ7[O,5;bO'JVQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'HlQ7[O'#GjO!&_Q7[O'#GlO'HlQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'HlQ7[O'#F}O!&_Q7[O'#GPO'HlQ7[O'#GPO!&_Q7[O'#G_O'HlQ7[O'#G_O!(oQ^O,5:gO'J^Q`O'#D[O!(oQ^O,5@jO'FaQ^O1G0rO'JhQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO'JrQpO'#CrO!&_Q7[O,5<rO'HlQ7[O,5<rO'FaQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'HlQ7[O1G2^O!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO!&_Q7[O1G2`O'HlQ7[O1G2`O'FaQ^O7+'kO'FaQ^O7+&^O!&_Q7[OANAfO'HlQ7[OANAfO'KVQWO'#ElO'K[QWO'#ElO'KdQWO'#F[O'KiQWO'#EvO'KnQWO'#KOO'KyQWO'#J|O'LUQWO,5;WO'LZQ7[O,5<dO'LbQWO'#GWO'LgQWO'#GWO'LlQWO,5<eO'LtQWO,5;WO'L|Q07bO1G1_O'MTQWO,5<rO'MYQWO,5<rO'M_QWO,5<tO'MdQWO,5<tO'MiQWO1G2PO'MnQWO1G0rO'MsQ7[O<<KzO'MzQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3XQWO'#GWO!3XQWO'#GWO!3XQWO'#GYO!3XQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%,qQpO1G2tO%,qQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"( O~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O:pO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O:qO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y$`O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$vO(t%OO(u%QOg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%WO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$SO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y:lO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%WO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y(RO!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y$`Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOp)uO~Ou)vO(])wO(^)yO~Ok*SO}){O!P)|O(t%OO(u%QO~Og)zO~P!0pOg*TO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P*VO![*WO!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~O!X*ZO(O*UO!h(zP~P!1_O#h*]O~O!i*^O~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O*`O(QTO(TUO([$vO(t%OO(u%QO~O!X*cO!V({P~P!3^Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5RO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5zOk*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%WOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%WO!i%cO~Oh%WO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%WO#]+zO~Oh%WOk+}O![$}O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%WO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(QTO(TUO([VO(j[O(y<dO~O(O;fO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%WOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk<pO}){O!P)|O(t%OO(u%QO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5zO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$]OR#zO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~Oo#ji~P#4kOo$QO~P#4kOP$]OR#zOo$QO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO#o$RO([VOa#ji!Y#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P#7YO[$cO#O$SO#p$SO#q$SO#r$bO#s$SO~P#7YOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$VO~P#:WO#w#ji~P#:WOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VOa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w#ji(t#ji(u#ji~P#<uO#w$VO(t#|O(u#}O~P#<uOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO([VO(t#|O(u#}O~Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#?jOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#BQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O#z;OO([VO(m$ZO(t#|O(u#}O~O#}.sO~P#D_O#P$dO#];TO$P;TO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mOP#jiR#ji[#jia#jio#ji!Y#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji([#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#.aO!Y.wOg(kX~P!0pOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;PO!Z(aX~P#D_O!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)vO(])wO(^/WO~O!V/[O~P!&_O(t%OOk%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#L{O(u%QOk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#MnO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1_Oo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/fO!X+UO!Z*lO(QTO(TUO(`;cO!Z(sP~P$ XO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%WOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!5RO!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0pOg%`a!Y%`a#]%`a#}%`a~P!0pO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$&zO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$'sO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$(fO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0pO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$*TOh%WOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~Om0pO(O0oO~P$,kO!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$}O~O(`(xO!Z)QP~Oh%WOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$2RO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#D_Op!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$`Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%WOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#L{O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#MnO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$&zO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'sO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$(fO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#D_O#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO}){O!P)|O(u%QOk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%+]O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%,OO(m$ZO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O;lO~P!1_OmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0pO!X4YO!V'cX!Y'cX~P!3^O!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O(t%OOk%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%0^O(u%QOk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%1POg(Yi!Y(Yi~P!0pO#]4lOg(Yi!Y(Yi~P!0pO!h4oO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4sO~O!Y4tO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4wOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4wO~Ob4}O%g5OO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5SO~O`5TO~Oa%lO'u%lO~P#.aO![$}O~P#.aO!Y5]O#]5_O!Z)QX~O!Z5`O~Op!nO!P5aO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5fO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5eO~P%6ZOk5kO![1aO%f5jO~Oh%WOk5kO![1aO%f5jO~Ob5rO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5tO~O`5xO~O#s5{O&W5|O~PMlO!h5}O~P%[Oa6PO~Oa6PO~P%[Ob2SO!Z6UO&f2RO~P`O!d6WO~O!d6YOh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#D_O#]6ZO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#D_Oa%lO#]6dO'u%lO~Oa%lO!d#vO#]6dO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6kO(O%eO~O![']O%f6nO~Ok6rO![']O%f6nO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+]O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%,OO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%0^O#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%1PO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#D_OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%HpO#k:tO~P%HpOP$]OR#zO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO([VO[#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~Oo#ji~P%JxOo:vO~P%JxOP$]OR#zOo:vO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO#o:wO([VO#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P%MQO[;SO#O:xO#p:xO#q:xO#r;RO#s:xO~P%MQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w:{O~P& iO#w#ji~P& iOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#w#ji(t#ji(u#ji~P&#qO#w:{O(t#|O(u#}O~P&#qOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O([VO(t#|O(u#}O~O#z#ji#}#ji(m#ji!Y#ji!Z#ji~P&&POa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mOk<qO}){O!P)|O(t%OO(u%QO~OP#jiR#ji[#jio#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji([#ji(m#ji!Y#ji!Z#ji~P&(tO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#D_O#}!oi!Z!oi~P$*TOg'Xa!Y'Xa~P!0pO!Z7UO~O!Y'`a!Z'`a~P#D_OP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&-}O!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0pO!V'ca!Y'ca~P#.aO!d7]O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7aO~O!d#vO#s7fO~Oo7gO!d#vO(m'mO~O}){O!P)|O(u%QOk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&2mO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&3`O!V7iO~Og$|q!Y$|q#]$|q#}$|q~P!0pOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6YO~O!Y4tO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6nO~P&5iOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7nO~Ob7pO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7tO~O(`(xO!Y'lX!Z'lX~O!Y5]O!Z)Qa~O!Z7}O~P%6ZOp!nO!P8OO(QTO(TUO(`!mO(j!sO~O![1aO~O![1aO%f8QO~Ok8TO![1aO%f8QO~O[8YO!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8^O~O!h8_O~O!h8bO~O!h8bO~P%[Oa8dO~O!d8eO~O!h8fO~O!Y(ri!Z(ri~P#D_Oa%lO#]8nO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8qO~P&5iO![']O%f8qO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2mO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3`O#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#D_O(t%OOP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&FgO(u%QOP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&HkOk<qO}){O!P)|O(u%QO~P&FgOk<qO}){O!P)|O(t%OO~P&HkOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&(tO#}$lq!Y$lq!Z$lq~P#D_O#}$mq!Y$mq!Z$mq~P#D_O!Z9OO~O#}9PO~P!0pO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~O!V9VO~P#.aO!V9VO~Og(Yy!Y(Yy~P!0pO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9[O~O!Y0wO!Z)Tq~O#]9`O!Y'la!Z'la~O!Y5]O!Z)Qi~P#D_O![1aO%f9dO~O(QTO(TUO(`9iO~O!Y1lO!Z)Rq~O!h9lO~O!h9mO~O!h9nO~O!h9nO~P%[O#]9qO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#D_O%f9vO~P&5iO![']O%f9vO~O#}#{y!Y#{y!Z#{y~P#D_OP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&(tO}){O!P)|O(u%QOP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t%OOP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%QOP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#D_O#}#`y!Y#`y!Z#`y~P#D_O!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aO!V:PO~P#.aO!Y0wO!Z)Ty~O!Y5]O!Z)Qq~O![1aO%f:WO~O!h:ZO~O%f:`O~P&5iOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&(tO}){O!P)|O(u%QOP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&(tOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0pO!Y'lq!Z'lq~P#D_O!Y#e!Z!Z#e!Z~P#D_O#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&(tOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&-}OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'CvOP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![XO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y;PO!Z$oa~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;ZO!P$|O![$}O!f<kO!i$yO#g;aO$V%_O$r;]O$t;_O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#t)`O~P'HlOo!bX(m!bX~P# ZO!Z]X!ZfX~P'CvO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h:sO~O!d#vO#h:sO~O#];TO~O#s:xO~O#];dO!Y(rX!Z(rX~O#];TO!Y(pX!Z(pX~O#h;eO~Og;gO~P!0pO#h;mO~O#h;nO~O!d#vO#h;oO~O!d#vO#h;eO~O#};pO~P#D_O#h;qO~O#h;rO~O#h;wO~O#h;xO~O#h;yO~O#h;zO~O#};{O~P!0pO#};|O~P!0pO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$2y)XPPPPPP)YPP)]P)nP+O/PPPPP5wPP6_PP<U?kP@OP@OPPP@OPBOP@OP@OP@OPBSPBXPBvPGoPPPGsPPPPGsJuPPPJ{KwPGsPGsPPNVGsPPPGsPGsP!!^GsP!%s!&x!'RP!'u!'y!'u!+VPPPPPPP!+v!&xPP!,W!-QP!/tGsGs!/y!3U!7l!7l!;jPPP!;rGsPPPPPPPPPPP!?QP!@_PPGs!ApPGsPGsGsGsGsGsPGs!CSP!F]P!IbP!If!Ip!It!ItP!FYP!Ix!IxP!L}P!MRGsGs!MX#!]BS@OP@OP@O@OP##i@O@O#%s@O#(c@O#*g@O@O#+V#-c#-c#-h#-q#-c#-zP#-cP@O#.d@O#2T@O@O5wPPP#5zPPP#6e#6eP#6eP#6{#6ePP#7RP#6xP#6x#7f#6x#8Q#8W5t)]#8Z)]P#8b#8b#8bP)]P)]P)]P)]PP)]P#8h#8kP#8k)]P#8oP#8rP)]P)]P)]P)]P)]P)])]PP#8x#9O#9Z#9a#9g#9m#9s#:R#:X#:c#:i#:s#:y#;Z#;a#<R#<e#<k#<q#=P#=f#?T#?c#?j#AO#A^#Bx#CW#C^#Cd#Cj#Ct#Cz#DQ#D[#Dn#DtPPPPPPPPPP#DzPPPPPPP#Eo#Hv#JV#J^#JfPPP$ lP$ u$$m$+V$+Y$+]$+x$+{$,S$,[P$,b$,eP$-R$-V$-}$/]$/b$/xPP$/}$0T$0XP$0[$0`$0d$1Y$1q$2Y$2^$2a$2d$2j$2m$2q$2uR!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5dQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*f$}*W*kQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*mQ1k,]R;b:o%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8nS#q]:l!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU*y%[;Y;ZQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q4}0wQ5r1lQ6p3UQ7p5OR8t6r'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gt!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5f$z$ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ&U|Q'R!eU'X%g*W-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ4}0wQ5W1TQ5r1lQ5u1nQ5v1qQ7p5OQ7s5TQ8]5xQ9_7tR9j8YrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<f<g[#]WZ#W#Z'U(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4|0wQ5Q0zQ5V1SQ5q1kQ7o5OQ7r5SQ9Z7nR:R9[!O${i$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5l1fS5p1j1kQ8X5q#[<h#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo<i;R;S;V;X;];_;a;i;k;n;r;t;v;x;|W%Ui%W*u<dS&X!Q&fQ&Y!RQ&Z!SR+y&V${%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qT)w$v)xV*y%[;Y;ZW'X!e%g*W-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4m0`R7x5]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g$i$_c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5fU*e$}*W*kS/y*f*mQ0S*nQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u:sQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;eS0f+R;oQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4r0g;yQ4x0tS4{0v;zQ6[2aQ6`2mQ6e2tQ7m4yQ8i6^Q8j6aQ8m6fR9p8f$d$^c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS#q]:lQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6_2kW6l3P3R3V4vU8p6m6o6qU9u8r8s8uS:^9t9wQ:f:_R:i:gU!wQ']-]T5b1a5d!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5dT#q]:l%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS(y#y#zS.Y(i(j!s<Q$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU$fd)[,eS(l#p'fU*r%S(s3pU0b*x.f6}Q4v0mQ6m3QQ8s6pR9w8tm!tQ!r!v!y!z']'i'j'k-]-m1a5d5fQ'q!uS(b#g1vS-k'h'tQ/k*YQ/w*eQ2v-nQ4U/lS4_/x0SQ7X4PS7d4e4gQ9R7YR9Y7gQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*YQ/v*eQ/|*hQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5n1hQ6g2vQ7W4PQ7[4US7`4_4gQ7e4fQ8V5oS9Q7X7YQ9U7aQ9W7dQ9g8WQ9}9RQ:O9VQ:Q9YQ:Y9hQ:b:PQ<T<OQ<`<XR<a<YV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS#wz!j!r;}$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<T<f%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5o1i1j1kS8W5p5qQ9h8X!r<O$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ<X<eR<Y<f%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nY#bWZ#W#Z(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ,f&l!p<P$[$n)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<S'UU'Y!e%g*WR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8n!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ,e&lQ0m+aQ3Q._Q6p3UR8t6r!b$Uc#Y%o(O(U(p(u)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!P:z)Z)m-R.t2]2`3b3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!f$Wc#Y%o(O(U(p(u)T)U)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!T:|)Z)m-R.t2]2`3b3i3j3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!^$[c#Y%o(O(U(p(u)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:mQ3}/cz<g)Z)m-R.t2]2`3b3q3y6]6x7R7S7z8h8v8|8}:T:[<ZQ<l<nR<m<o'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8n!s<e$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5a5k5{5|6P6r8O8T8d!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qQ*}%`Q/Y){o3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!O$zi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mQ*_${U*h$}*W*kQ+O%aQ/}*i#[<V#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn<W;R;S;V;X;];_;a;i;k;n;r;t;v;x;|Q<[<hQ<]<iQ<^<jR<_<k!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|noOXst!Z#d%k&o&q&r&t,k,p1|2PS*b$|*VQ,y&{Q,z&}R4X/p$z%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ+|&YQ1Y,OQ5Z1XR7w5[V*j$}*W*kU*j$}*W*kT5c1a5dU/{*g/f5aT4f0T8OQ+d%vQ/|*hQ0r+eQ1g,XQ5n1hQ8V5oQ9g8WR:Y9h!O%Pi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mr*O$w)a*P*q+P/n0Z0[3s4V4p7V7h9|<U<b<cS0V*p0W#[;U#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;V;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!^;h(q)_*X*a.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<o`;i3o6y6|7Q8w9x9{:jS;s.d3ZT;t6{8z!O%Ri$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mv*Q$w)a*R*p+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<cS0X*q0Y#[;W#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;X;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!b;j(q)_*X*a.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<od;k3o6z6{7Q8w8x9x9y9{:jS;u.e3[T;v6|8{rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5i1e1fU8P5g5h5lS9c8R8SS:U9b9eQ:c:VR:h:dQ&j!VR,a&fR5u1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$vR/V)xQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5dR'g!rQ.x)aR3t.xU#_W%f*VU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6iQ2y.QR6i2zQ)j$lR/O)jQ$phR)p$pQ$acU)^$a-t;QQ-t:mR;Q)mQ/i*YW4R/i4S7Z9SU4S/j/k/lS7Z4T4UR9S7[$X)}$w(q)_)a*X*a*p*q*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4h4j4p5Y5[6s6t6u6v6{6|7O7P7Q7V7^7b7h7j7l8w8x8y9T9X9x9y9z9{9|:a:j<U<b<c<n<oQ/q*aU4Z/q4]7_Q4]/sR7_4[S*k$}*WR0P*kr*P$w)a*p*q+P/n0Z0[3s4V4p7V7h9|<U<b<c!^.b(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<oU/`*P.b6ya6y3o6{6|7Q8w9x9{:jQ0W*pQ3Z.dU4i0W3Z8zR8z6{v*R$w)a*p*q+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<c!b.c(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<oU/b*R.c6ze6z3o6{6|7Q8w8x9x9y9{:jQ0Y*qQ3[.eU4k0Y3[8{R8{6|Q*v%VR0^*vQ4u0kR7k4uQ+X%iR0j+XQ5^1[S7y5^9aR9a7zQ,S&[R1_,SQ5d1aR7|5dQ1m,^S5s1m8ZR8Z5uQ0x+lW5P0x5R7q9]Q5R0{Q7q5QR9]7rQ+q&OR1O+qQ2P,pR6T2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6S1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*jQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4x0tQ5U1RQ5X1VQ5m1gQ5w1rQ6R1{U6b2p2s2vQ6e2tQ7m4yQ7u5WQ7v5YQ7{5cQ8U5nQ8[5vS8k6c6gQ8m6fQ9^7sQ9f8VQ9k8]Q9r8lQ:S9_Q:X9gQ:]9sR:e:YQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*eS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4y0uQ6^2gQ6a2nQ6f2uR7c4dS$xi<dR*w%WU%Vi%W<dR0]*uQ$wiS(q#v+cS)_$b$cQ)a$dQ*X$yS*a$|*VQ*p%PQ*q%RQ*z%]Q*{%^Q+P%bQ.d;UQ.e;WQ.g;[Q.h;^Q.i;`Q/U)vS/Z)|/]Q/_*OQ/a*QQ/c*SQ/n*]S/s*c/eQ0Z*sQ0[*th0k+`.^1c3T5j6n8Q8q9d9v:W:`Q1V+zQ1X+}Q3W;hQ3X;jQ3Y;mS3o;R;SQ3s.wQ4V/oQ4W/pQ4[/rQ4h0VQ4j0XQ4p0dQ5Y1WQ5[1ZQ6s;qQ6t;sQ6u;uQ6v;wQ6{;VQ6|;XQ7O;]Q7P;_Q7Q;aQ7V3}Q7^4YQ7b4bQ7h4lQ7j4tQ7l4wQ8w;nQ8x;iQ8y;kQ9T7]Q9X7fQ9x;rQ9y;tQ9z;vQ9{;xQ9|9PQ:a;{Q:j;|Q<U<dQ<b<lQ<c<mQ<n<pR<o<qQ*x%[Q.f;YR6};ZnpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5a8OQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4n0aQ5h1dQ5y1tQ5z1uQ6O1wQ6Q1yQ6V2RQ6q3UQ7T3uQ8S5kQ8`5{Q8a5|Q8c6PQ8u6rQ9e8TR9o8d#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5a5k5{5|6P6r8O8T8dQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)]$`Q)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r:kQ.t:nQ.u:oQ.v:rQ/X)zQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b:sQ3c:tQ3d:uQ3e:vQ3f:wQ3g:xQ3h:yQ3i:zQ3j:{Q3k:|Q3l:}Q3m;OQ3n.sQ3q;TQ3r;bQ3y;PQ4q0gQ4z0vQ6];dQ6c2rQ6h2xQ6w3^Q6x;eQ7R;gQ7S;oQ7z5_Q8h6ZQ8l6dQ8v;pQ8|;yQ8};zQ9s8nQ:T9`Q:[9qQ:m#SR<Z<gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5d5fS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5dQ#p]R'f:lR)b$dY!uQ']-]1a5dQ'h!rS'r!v!yS't!z5fS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6j2|2}R8o6kd#^W#W#Z%f(P(Y*V+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6kS*Y$y*^Q/l*ZQ1v,gQ2^,}Q4P/hQ6X2UQ7Y4QQ8g6YT<R'U+UV#aW%f*VU#`W%f*VS(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*WQ$lfR)t$qT)i$l)jR3w.|T*[$y*^T*d$|*VQ0l+`Q3P.^Q5g1cQ6o3TQ8R5jQ8r6nQ9b8QQ9t8qQ:V9dQ:_9vQ:d:WR:g:`nqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new LocalTokenGroup("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14769},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:n=>spec_identifier$2[n]||-1},{term:338,get:n=>spec_word[n]||-1},{term:92,get:n=>spec_LessThan[n]||-1}],tokenPrec:14793}),snippets$1=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets$1.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache$1=new NodeWeakMap,ScopeNodes$1=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID$1(n){return(e,r)=>{let o=e.node.getChild("VariableDefinition");return o&&r(o,n),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions$1={FunctionDeclaration:defID$1("function"),ClassDeclaration:defID$1("class"),ClassExpression:()=>!0,EnumDeclaration:defID$1("constant"),TypeAliasDeclaration:defID$1("type"),NamespaceDeclaration:defID$1("namespace"),VariableDefinition(n,e){n.matchContext(functionContext)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function getScope$1(n,e){let r=cache$1.get(e);if(r)return r;let o=[],s=!0;function a(l,c){let d=n.sliceString(l.from,l.to);o.push({label:d,type:c})}return e.cursor(IterMode.IncludeAnonymous).iterate(l=>{if(s)s=!1;else if(l.name){let c=gatherCompletions$1[l.name];if(c&&c(l,a)||ScopeNodes$1.has(l.name))return!1}else if(l.to-l.from>8192){for(let c of getScope$1(n,l.node))o.push(c);return!1}}),cache$1.set(e,o),o}const Identifier$2=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete$1=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource$1(n){let e=syntaxTree(n.state).resolveInner(n.pos,-1);if(dontComplete$1.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Identifier$2.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let s=e;s;s=s.parent)ScopeNodes$1.has(s.name)&&(o=o.concat(getScope$1(n.state.doc,s)));return{options:o,from:r?e.from:n.pos,validFor:Identifier$2}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$5.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),o=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:o?1:2)*n.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:n=>/^JSX/.test(n.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=n=>({label:n,type:"keyword"});const keywords$1="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords$1.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(n={}){let e=n.jsx?n.typescript?tsxLanguage:jsxLanguage:n.typescript?typescriptLanguage:javascriptLanguage,r=n.typescript?typescriptSnippets.concat(typescriptKeywords):snippets$1.concat(keywords$1);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete$1,completeFromList(r))}),javascriptLanguage.data.of({autocomplete:localCompletionSource$1}),n.jsx?autoCloseTags$1:[]])}function findOpenTag(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function elementName$1(n,e,r=n.length){for(let o=e==null?void 0:e.firstChild;o;o=o.nextSibling)if(o.name=="JSXIdentifier"||o.name=="JSXBuiltin"||o.name=="JSXNamespacedName"||o.name=="JSXMemberExpression")return n.sliceString(o.from,Math.min(o.to,r));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$1=EditorView.inputHandler.of((n,e,r,o,s)=>{if((android?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||o!=">"&&o!="/"||!javascriptLanguage.isActiveAt(n.state,e,-1))return!1;let a=s(),{state:l}=a,c=l.changeByRange(d=>{var f;let{head:g}=d,v=syntaxTree(l).resolveInner(g-1,-1),A;if(v.name=="JSXStartTag"&&(v=v.parent),!(l.doc.sliceString(g-1,g)!=o||v.name=="JSXAttributeValue"&&v.to>g)){if(o==">"&&v.name=="JSXFragmentTag")return{range:d,changes:{from:g,insert:"</>"}};if(o=="/"&&v.name=="JSXStartCloseTag"){let M=v.parent,Y=M.parent;if(Y&&M.from==g-2&&((A=elementName$1(l.doc,Y.firstChild,g))||((f=Y.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let de=`${A}>`;return{range:EditorSelection.cursor(g+de.length,-1),changes:{from:g,insert:de}}}}else if(o==">"){let M=findOpenTag(v);if(M&&M.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(g,g+2))&&(A=elementName$1(l.doc,M,g)))return{range:d,changes:{from:g,insert:`</${A}>`}}}}return{range:d}});return c.changes.empty?!1:(n.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),scriptText=54,StartCloseScriptTag=1,styleText=55,StartCloseStyleTag=2,textareaText=56,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=57,IncompleteCloseTag=14,commentContent$1=58,Element$1=20,TagName=22,Attribute=23,AttributeName=24,AttributeValue=26,UnquotedAttributeValue=27,ScriptText=28,StyleText=31,TextareaText=34,OpenTag=36,CloseTag=37,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function isSpace(n){return n==9||n==10||n==13||n==32}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(n,e){let r=n.pos+e;if(cachedPos==r&&cachedInput==n)return cachedName;let o=n.peek(e);for(;isSpace(o);)o=n.peek(++e);let s="";for(;nameChar(o);)s+=String.fromCharCode(o),o=n.peek(++e);return cachedInput=n,cachedPos=r,cachedName=s?s.toLowerCase():o==question||o==bang?void 0:null}const lessThan=60,greaterThan=62,slash=47,question=63,bang=33,dash$1=45;function ElementContext(n,e){this.name=n,this.parent=e,this.hash=e?e.hash:0;for(let r=0;r<n.length;r++)this.hash+=(this.hash<<4)+n.charCodeAt(r)+(n.charCodeAt(r)<<8)}const startTagTerms=[StartTag,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext=new ContextTracker({start:null,shift(n,e,r,o){return startTagTerms.indexOf(e)>-1?new ElementContext(tagNameAfter(o,1)||"",n):n},reduce(n,e){return e==Element$1&&n?n.parent:n},reuse(n,e,r,o){let s=e.type.id;return s==StartTag||s==OpenTag?new ElementContext(tagNameAfter(o,1)||"",n):n},hash(n){return n?n.hash:0},strict:!1}),tagStart=new ExternalTokenizer((n,e)=>{if(n.next!=lessThan){n.next<0&&e.context&&n.acceptToken(missingCloseTag);return}n.advance();let r=n.next==slash;r&&n.advance();let o=tagNameAfter(n,0);if(o===void 0)return;if(!o)return n.acceptToken(r?IncompleteCloseTag:StartTag);let s=e.context?e.context.name:null;if(r){if(o==s)return n.acceptToken(StartCloseTag);if(s&&implicitlyClosed[s])return n.acceptToken(missingCloseTag,-2);if(e.dialectEnabled(Dialect_noMatch))return n.acceptToken(NoMatchStartCloseTag);for(let a=e.context;a;a=a.parent)if(a.name==o)return;n.acceptToken(MismatchedStartCloseTag)}else{if(o=="script")return n.acceptToken(StartScriptTag);if(o=="style")return n.acceptToken(StartStyleTag);if(o=="textarea")return n.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty(o))return n.acceptToken(StartSelfClosingTag);s&&closeOnOpen[s]&&closeOnOpen[s][o]?n.acceptToken(missingCloseTag,-1):n.acceptToken(StartTag)}},{contextual:!0}),commentContent=new ExternalTokenizer(n=>{for(let e=0,r=0;;r++){if(n.next<0){r&&n.acceptToken(commentContent$1);break}if(n.next==dash$1)e++;else if(n.next==greaterThan&&e>=2){r>=3&&n.acceptToken(commentContent$1,-2);break}else e=0;n.advance()}});function inForeignElement(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const endTag=new ExternalTokenizer((n,e)=>{if(n.next==slash&&n.peek(1)==greaterThan){let r=e.dialectEnabled(Dialect_selfClosing)||inForeignElement(e.context);n.acceptToken(r?SelfClosingEndTag:EndTag,2)}else n.next==greaterThan&&n.acceptToken(EndTag,1)});function contentTokenizer(n,e,r){let o=2+n.length;return new ExternalTokenizer(s=>{for(let a=0,l=0,c=0;;c++){if(s.next<0){c&&s.acceptToken(e);break}if(a==0&&s.next==lessThan||a==1&&s.next==slash||a>=2&&a<o&&s.next==n.charCodeAt(a-2))a++,l++;else if((a==2||a==o)&&isSpace(s.next))l++;else if(a==o&&s.next==greaterThan){c>l?s.acceptToken(e,-l):s.acceptToken(r,-(l-2));break}else if((s.next==10||s.next==13)&&c){s.acceptToken(e,1);break}else a=l=0;s.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$4=LRParser.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:elementContext,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag,tagStart,commentContent,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function getAttrs(n,e){let r=Object.create(null);for(let o of n.getChildren(Attribute)){let s=o.getChild(AttributeName),a=o.getChild(AttributeValue)||o.getChild(UnquotedAttributeValue);s&&(r[e.read(s.from,s.to)]=a?a.type.id==AttributeValue?e.read(a.from+1,a.to-1):e.read(a.from,a.to):"")}return r}function findTagName(n,e){let r=n.getChild(TagName);return r?e.read(r.from,r.to):" "}function maybeNest(n,e,r){let o;for(let s of r)if(!s.attrs||s.attrs(o||(o=getAttrs(n.node.parent.firstChild,e))))return{parser:s.parser};return null}function configureNesting(n=[],e=[]){let r=[],o=[],s=[],a=[];for(let c of n)(c.tag=="script"?r:c.tag=="style"?o:c.tag=="textarea"?s:a).push(c);let l=e.length?Object.create(null):null;for(let c of e)(l[c.name]||(l[c.name]=[])).push(c);return parseMixed((c,d)=>{let f=c.type.id;if(f==ScriptText)return maybeNest(c,d,r);if(f==StyleText)return maybeNest(c,d,o);if(f==TextareaText)return maybeNest(c,d,s);if(f==Element$1&&a.length){let g=c.node,v=g.firstChild,A=v&&findTagName(v,d),M;if(A){for(let Y of a)if(Y.tag==A&&(!Y.attrs||Y.attrs(M||(M=getAttrs(g,d))))){let de=g.lastChild,ae=de.type.id==CloseTag?de.from:g.to;if(ae>v.to)return{parser:Y.parser,overlay:[{from:v.to,to:ae}]}}}}if(l&&f==Attribute){let g=c.node,v;if(v=g.firstChild){let A=l[d.read(v.from,v.to)];if(A)for(let M of A){if(M.tagName&&M.tagName!=findTagName(g.parent,d))continue;let Y=g.lastChild;if(Y.type.id==AttributeValue){let de=Y.from+1,ae=Y.lastChild,ze=Y.to-(ae&&ae.isError?0:1);if(ze>de)return{parser:M.parser,overlay:[{from:de,to:ze}]}}else if(Y.type.id==UnquotedAttributeValue)return{parser:M.parser,overlay:[{from:Y.from,to:Y.to}]}}}}return null})}const descendantOp=99,Unit=1,callee=100,identifier$2=101,VariableName=2,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL=91,dash=45,period=46,hash$1=35,percent=37,ampersand=38,backslash$1=92,newline$2=10;function isAlpha$1(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function isDigit(n){return n>=48&&n<=57}const identifiers=new ExternalTokenizer((n,e)=>{for(let r=!1,o=0,s=0;;s++){let{next:a}=n;if(isAlpha$1(a)||a==dash||a==underscore||r&&isDigit(a))!r&&(a!=dash||s>0)&&(r=!0),o===s&&a==dash&&o++,n.advance();else if(a==backslash$1&&n.peek(1)!=newline$2)n.advance(),n.next>-1&&n.advance(),r=!0;else{r&&n.acceptToken(a==parenL?callee:o==2&&e.canShift(VariableName)?VariableName:identifier$2);break}}}),descendant=new ExternalTokenizer(n=>{if(space$1.includes(n.peek(-1))){let{next:e}=n;(isAlpha$1(e)||e==underscore||e==hash$1||e==period||e==bracketL||e==colon&&isAlpha$1(n.peek(1))||e==dash||e==ampersand)&&n.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(n=>{if(!space$1.includes(n.peek(-1))){let{next:e}=n;if(e==percent&&(n.advance(),n.acceptToken(Unit)),isAlpha$1(e)){do n.advance();while(isAlpha$1(n.next)||isDigit(n.next));n.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,KeyframeRangeName:tags$1.operatorKeyword,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,MatchOp:tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ColorLiteral:tags$1.color,"ParenthesizedContent StringLiteral":tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},spec_AtKeyword={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},spec_identifier$1={__proto__:null,not:132,only:132},parser$3=LRParser.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[cssHighlighting],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[descendant,unitToken,identifiers,1,2,3,4,new LocalTokenGroup("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:n=>spec_callee[n]||-1},{term:58,get:n=>spec_AtKeyword[n]||-1},{term:101,get:n=>spec_identifier$1[n]||-1}],tokenPrec:1200});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],r=new Set;for(let o in n)o!="cssText"&&o!="cssFloat"&&typeof n[o]=="string"&&(/[A-Z]/.test(o)&&(o=o.replace(/[A-Z]/g,s=>"-"+s.toLowerCase())),r.has(o)||(e.push(o),r.add(o)));_properties=e.sort().map(o=>({type:"property",label:o}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(n,e){var r;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let o=(r=n.parent)===null||r===void 0?void 0:r.firstChild;return(o==null?void 0:o.name)!="Callee"?!1:e.sliceString(o.from,o.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function variableNames(n,e,r){if(e.to-e.from>4096){let o=VariablesByNode.get(e);if(o)return o;let s=[],a=new Set,l=e.cursor(IterMode.IncludeAnonymous);if(l.firstChild())do for(let c of variableNames(n,l.node,r))a.has(c.label)||(a.add(c.label),s.push(c));while(l.nextSibling());return VariablesByNode.set(e,s),s}else{let o=[],s=new Set;return e.cursor().iterate(a=>{var l;if(r(a)&&a.matchContext(declSelector)&&((l=a.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let c=n.sliceString(a.from,a.to);s.has(c)||(s.add(c),o.push({label:c,type:"variable"}))}}),o}}const defineCSSCompletionSource=n=>e=>{let{state:r,pos:o}=e,s=syntaxTree(r).resolveInner(o,-1),a=s.type.isError&&s.from==s.to-1&&r.doc.sliceString(s.from,s.to)=="-";if(s.name=="PropertyName"||(a||s.name=="TagName")&&/^(Block|Styles)$/.test(s.resolve(s.to).name))return{from:s.from,options:properties(),validFor:identifier$1};if(s.name=="ValueName")return{from:s.from,options:values,validFor:identifier$1};if(s.name=="PseudoClassName")return{from:s.from,options:pseudoClasses,validFor:identifier$1};if(n(s)||(e.explicit||a)&&isVarArg(s,r.doc))return{from:n(s)||a?s.from:o,options:variableNames(r.doc,astTop(s),n),validFor:variable};if(s.name=="TagName"){for(let{parent:d}=s;d;d=d.parent)if(d.name=="Block")return{from:s.from,options:properties(),validFor:identifier$1};return{from:s.from,options:tags,validFor:identifier$1}}if(!e.explicit)return null;let l=s.resolve(o),c=l.childBefore(o);return c&&c.name==":"&&l.name=="PseudoClassSelector"?{from:o,options:pseudoClasses,validFor:identifier$1}:c&&c.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:o,options:values,validFor:identifier$1}:l.name=="Block"||l.name=="Styles"?{from:o,options:properties(),validFor:identifier$1}:null},cssCompletionSource=defineCSSCompletionSource(n=>n.name=="VariableName"),cssLanguage=LRLanguage.define({name:"css",parser:parser$3.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({"Block KeyframeList":foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool$1=["true","false"],S={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S,address:S,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S,aside:S,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S,base:{attrs:{href:null,target:Targets}},bdi:S,bdo:S,blockquote:{attrs:{cite:null}},body:S,br:S,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S,center:S,cite:S,code:S,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S,div:S,dl:S,dt:S,em:S,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S,figure:S,footer:S,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S,hgroup:S,hr:S,html:{attrs:{manifest:null}},i:S,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S,noscript:S,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S,param:{attrs:{name:null,value:null}},pre:S,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S,rt:S,ruby:S,samp:S,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S,source:{attrs:{src:null,type:null,media:null}},span:S,strong:S,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S,summary:S,sup:S,table:S,tbody:S,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S,time:{attrs:{datetime:null}},title:S,tr:S,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool$1,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool$1,autocorrect:Bool$1,autocapitalize:Bool$1,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool$1,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool$1,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool$1,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool$1,"aria-hidden":Bool$1,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool$1,"aria-multiselectable":Bool$1,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool$1,"aria-relevant":null,"aria-required":Bool$1,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of eventAttributes)GlobalAttrs[n]=null;class Schema{constructor(e,r){this.tags=Object.assign(Object.assign({},Tags),e),this.globalAttrs=Object.assign(Object.assign({},GlobalAttrs),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Schema.default=new Schema;function elementName(n,e,r=n.length){if(!e)return"";let o=e.firstChild,s=o&&o.getChild("TagName");return s?n.sliceString(s.from,Math.min(s.to,r)):""}function findParentElement(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function allowedChildren(n,e,r){let o=r.tags[elementName(n,findParentElement(e))];return(o==null?void 0:o.children)||r.allTags}function openTags(n,e){let r=[];for(let o=findParentElement(e);o&&!o.type.isTop;o=findParentElement(o.parent)){let s=elementName(n,o);if(s&&o.lastChild.name=="CloseTag")break;s&&r.indexOf(s)<0&&(e.name=="EndTag"||e.from>=o.firstChild.to)&&r.push(s)}return r}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(n,e,r,o,s){let a=/\s*>/.test(n.sliceDoc(s,s+5))?"":">",l=findParentElement(r,!0);return{from:o,to:s,options:allowedChildren(n.doc,l,e).map(c=>({label:c,type:"type"})).concat(openTags(n.doc,r).map((c,d)=>({label:"/"+c,apply:"/"+c+a,type:"type",boost:99-d}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(n,e,r,o){let s=/\s*>/.test(n.sliceDoc(o,o+5))?"":">";return{from:r,to:o,options:openTags(n.doc,e).map((a,l)=>({label:a,apply:a+s,type:"type",boost:99-l})),validFor:identifier}}function completeStartTag(n,e,r,o){let s=[],a=0;for(let l of allowedChildren(n.doc,r,e))s.push({label:"<"+l,type:"type"});for(let l of openTags(n.doc,r))s.push({label:"</"+l+">",type:"type",boost:99-a++});return{from:o,to:o,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(n,e,r,o,s){let a=findParentElement(r),l=a?e.tags[elementName(n.doc,a)]:null,c=l&&l.attrs?Object.keys(l.attrs):[],d=l&&l.globalAttrs===!1?c:c.length?c.concat(e.globalAttrNames):e.globalAttrNames;return{from:o,to:s,options:d.map(f=>({label:f,type:"property"})),validFor:identifier}}function completeAttrValue(n,e,r,o,s){var a;let l=(a=r.parent)===null||a===void 0?void 0:a.getChild("AttributeName"),c=[],d;if(l){let f=n.sliceDoc(l.from,l.to),g=e.globalAttrs[f];if(!g){let v=findParentElement(r),A=v?e.tags[elementName(n.doc,v)]:null;g=(A==null?void 0:A.attrs)&&A.attrs[f]}if(g){let v=n.sliceDoc(o,s).toLowerCase(),A='"',M='"';/^['"]/.test(v)?(d=v[0]=='"'?/^[^"]*$/:/^[^']*$/,A="",M=n.sliceDoc(s,s+1)==v[0]?"":v[0],v=v.slice(1),o++):d=/^[^\s<>='"]*$/;for(let Y of g)c.push({label:Y,apply:A+Y+M,type:"constant"})}}return{from:o,to:s,options:c,validFor:d}}function htmlCompletionFor(n,e){let{state:r,pos:o}=e,s=syntaxTree(r).resolveInner(o,-1),a=s.resolve(o);for(let l=o,c;a==s&&(c=s.childBefore(l));){let d=c.lastChild;if(!d||!d.type.isError||d.from<d.to)break;a=s=c,l=d.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?completeCloseTag(r,s,s.from,o):completeTag(r,n,s,s.from,o):s.name=="StartTag"?completeTag(r,n,s,o,o):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?completeCloseTag(r,s,o,o):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?completeAttrName(r,n,s,s.name=="AttributeName"?s.from:o,o):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?completeAttrValue(r,n,s,s.name=="Is"?o:s.from,o):e.explicit&&(a.name=="Element"||a.name=="Text"||a.name=="Document")?completeStartTag(r,n,s,o):null}function htmlCompletionSourceWith(n){let{extraTags:e,extraGlobalAttributes:r}=n,o=r||e?new Schema(e,r):Schema.default;return s=>htmlCompletionFor(o,s)}const jsonParser=javascriptLanguage.parser.configure({top:"SingleExpression"}),defaultNesting=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:jsonParser},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(n=>({name:n,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$4.configure({props:[indentNodeProp.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,r;for(let o=n.node;;){let s=o.lastChild;if(!s||s.name!="Element"||s.to!=o.to)break;e=o=s}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),foldNodeProp.add({Element(n){let e=n.firstChild,r=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:n.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html(n={}){let e="",r;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(r=configureNesting((n.nestedLanguages||[]).concat(defaultNesting),(n.nestedAttributes||[]).concat(defaultAttrs)));let o=r?htmlPlain.configure({wrap:r,dialect:e}):e?htmlLanguage.configure({dialect:e}):htmlLanguage;return new LanguageSupport(o,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(n)}),n.autoCloseTags!==!1?autoCloseTags:[],javascript().support,css().support])}const selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags=EditorView.inputHandler.of((n,e,r,o,s)=>{if(n.composing||n.state.readOnly||e!=r||o!=">"&&o!="/"||!htmlLanguage.isActiveAt(n.state,e,-1))return!1;let a=s(),{state:l}=a,c=l.changeByRange(d=>{var f,g,v;let A=l.doc.sliceString(d.from-1,d.to)==o,{head:M}=d,Y=syntaxTree(l).resolveInner(M,-1),de;if(A&&o==">"&&Y.name=="EndTag"){let ae=Y.parent;if(((g=(f=ae.parent)===null||f===void 0?void 0:f.lastChild)===null||g===void 0?void 0:g.name)!="CloseTag"&&(de=elementName(l.doc,ae.parent,M))&&!selfClosers.has(de)){let ze=M+(l.doc.sliceString(M,M+1)===">"?1:0),qe=`</${de}>`;return{range:d,changes:{from:M,to:ze,insert:qe}}}}else if(A&&o=="/"&&Y.name=="IncompleteCloseTag"){let ae=Y.parent;if(Y.from==M-2&&((v=ae.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(de=elementName(l.doc,ae,M))&&!selfClosers.has(de)){let ze=M+(l.doc.sliceString(M,M+1)===">"?1:0),qe=`${de}>`;return{range:EditorSelection.cursor(M+qe.length,-1),changes:{from:M,to:ze,insert:qe}}}}return{range:d}});return c.changes.empty?!1:(n.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),whitespace=36,LineComment=1,BlockComment=2,String$1$1=3,Number$1=4,Bool=5,Null=6,ParenL$1=7,ParenR=8,BraceL$1=9,BraceR=10,BracketL$1=11,BracketR=12,Semi=13,Dot=14,Operator=15,Punctuation=16,SpecialVar=17,Identifier$1=18,QuotedIdentifier=19,Keyword=20,Type=21,Bits=22,Bytes=23,Builtin=24;function isAlpha(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function isHexDigit(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function readLiteral(n,e,r){for(let o=!1;;){if(n.next<0)return;if(n.next==e&&!o){n.advance();return}o=r&&!o&&n.next==92,n.advance()}}function readDoubleDollarLiteral(n,e){e:for(;;){if(n.next<0)return console.log("exit at end",n.pos);if(n.next==36){n.advance();for(let r=0;r<e.length;r++){if(n.next!=e.charCodeAt(r))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function readPLSQLQuotedLiteral(n,e){let r="[{<(".indexOf(String.fromCharCode(e)),o=r<0?e:"]}>)".charCodeAt(r);for(;;){if(n.next<0)return;if(n.next==o&&n.peek(1)==39){n.advance(2);return}n.advance()}}function readWord(n,e){for(;!(n.next!=95&&!isAlpha(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function readWordOrQuoted(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),readLiteral(n,e,!1)}else readWord(n)}function readBits(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function readNumber(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function eol(n){for(;!(n.next<0||n.next==10);)n.advance()}function inString(n,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==n)return!0;return!1}const Space=` 	\r
`;function keywords(n,e,r){let o=Object.create(null);o.true=o.false=Bool,o.null=o.unknown=Null;for(let s of n.split(" "))s&&(o[s]=Keyword);for(let s of e.split(" "))s&&(o[s]=Type);for(let s of(r||"").split(" "))s&&(o[s]=Builtin);return o}const SQLTypes="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",SQLKeywords="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",defaults={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:keywords(SQLKeywords,SQLTypes)};function dialect(n,e,r,o){let s={};for(let a in defaults)s[a]=(n.hasOwnProperty(a)?n:defaults)[a];return e&&(s.words=keywords(e,r||"",o)),s}function tokensFor(n){return new ExternalTokenizer(e=>{var r;let{next:o}=e;if(e.advance(),inString(o,Space)){for(;inString(e.next,Space);)e.advance();e.acceptToken(whitespace)}else if(o==36&&n.doubleDollarQuotedStrings){let s=readWord(e,"");e.next==36&&(e.advance(),readDoubleDollarLiteral(e,s),e.acceptToken(String$1$1))}else if(o==39||o==34&&n.doubleQuotedStrings)readLiteral(e,o,n.backslashEscapes),e.acceptToken(String$1$1);else if(o==35&&n.hashComments||o==47&&e.next==47&&n.slashComments)eol(e),e.acceptToken(LineComment);else if(o==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))eol(e),e.acceptToken(LineComment);else if(o==47&&e.next==42){e.advance();for(let s=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(s--,e.advance(),!s)break}else a==47&&e.next==42&&(s++,e.advance())}e.acceptToken(BlockComment)}else if((o==101||o==69)&&e.next==39)e.advance(),readLiteral(e,39,!0);else if((o==110||o==78)&&e.next==39&&n.charSetCasts)e.advance(),readLiteral(e,39,n.backslashEscapes),e.acceptToken(String$1$1);else if(o==95&&n.charSetCasts)for(let s=0;;s++){if(e.next==39&&s>1){e.advance(),readLiteral(e,39,n.backslashEscapes),e.acceptToken(String$1$1);break}if(!isAlpha(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(o==113||o==81)&&e.next==39&&e.peek(1)>0&&!inString(e.peek(1),Space)){let s=e.peek(1);e.advance(2),readPLSQLQuotedLiteral(e,s),e.acceptToken(String$1$1)}else if(o==40)e.acceptToken(ParenL$1);else if(o==41)e.acceptToken(ParenR);else if(o==123)e.acceptToken(BraceL$1);else if(o==125)e.acceptToken(BraceR);else if(o==91)e.acceptToken(BracketL$1);else if(o==93)e.acceptToken(BracketR);else if(o==59)e.acceptToken(Semi);else if(n.unquotedBitLiterals&&o==48&&e.next==98)e.advance(),readBits(e),e.acceptToken(Bits);else if((o==98||o==66)&&(e.next==39||e.next==34)){const s=e.next;e.advance(),n.treatBitsAsBytes?(readLiteral(e,s,n.backslashEscapes),e.acceptToken(Bytes)):(readBits(e,s),e.acceptToken(Bits))}else if(o==48&&(e.next==120||e.next==88)||(o==120||o==88)&&e.next==39){let s=e.next==39;for(e.advance();isHexDigit(e.next);)e.advance();s&&e.next==39&&e.advance(),e.acceptToken(Number$1)}else if(o==46&&e.next>=48&&e.next<=57)readNumber(e,!0),e.acceptToken(Number$1);else if(o==46)e.acceptToken(Dot);else if(o>=48&&o<=57)readNumber(e,!1),e.acceptToken(Number$1);else if(inString(o,n.operatorChars)){for(;inString(e.next,n.operatorChars);)e.advance();e.acceptToken(Operator)}else if(inString(o,n.specialVar))e.next==o&&e.advance(),readWordOrQuoted(e),e.acceptToken(SpecialVar);else if(inString(o,n.identifierQuotes))readLiteral(e,o,!1),e.acceptToken(QuotedIdentifier);else if(o==58||o==44)e.acceptToken(Punctuation);else if(isAlpha(o)){let s=readWord(e,String.fromCharCode(o));e.acceptToken(e.next==46||e.peek(-s.length-1)==46?Identifier$1:(r=n.words[s.toLowerCase()])!==null&&r!==void 0?r:Identifier$1)}})}const tokens=tokensFor(defaults),parser$1$1=LRParser.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,tokens],topRules:{Script:[0,25]},tokenPrec:0});function tokenBefore(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function idName(n,e){let r=n.sliceString(e.from,e.to),o=/^([`'"])(.*)\1$/.exec(r);return o?o[2]:r}function plainID(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function pathFor(n,e){if(e.name=="CompositeIdentifier"){let r=[];for(let o=e.firstChild;o;o=o.nextSibling)plainID(o)&&r.push(idName(n,o));return r}return[idName(n,e)]}function parentsFor(n,e){for(let r=[];;){if(!e||e.name!=".")return r;let o=tokenBefore(e);if(!plainID(o))return r;r.unshift(idName(n,o)),e=tokenBefore(o)}}function sourceContext(n,e){let r=syntaxTree(n).resolveInner(e,-1),o=getAliases(n.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?n.doc.sliceString(r.from,r.from+1):null,parents:parentsFor(n.doc,tokenBefore(r)),aliases:o}:r.name=="."?{from:e,quoted:null,parents:parentsFor(n.doc,r),aliases:o}:{from:e,quoted:null,parents:[],empty:!0,aliases:o}}const EndFrom=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function getAliases(n,e){let r;for(let s=e;!r;s=s.parent){if(!s)return null;s.name=="Statement"&&(r=s)}let o=null;for(let s=r.firstChild,a=!1,l=null;s;s=s.nextSibling){let c=s.name=="Keyword"?n.sliceString(s.from,s.to).toLowerCase():null,d=null;if(!a)a=c=="from";else if(c=="as"&&l&&plainID(s.nextSibling))d=idName(n,s.nextSibling);else{if(c&&EndFrom.has(c))break;l&&plainID(s)&&(d=idName(n,s))}d&&(o||(o=Object.create(null)),o[d]=pathFor(n,l)),l=/Identifier$/.test(s.name)?s:null}return o}function maybeQuoteCompletions(n,e){return n?e.map(r=>Object.assign(Object.assign({},r),{label:r.label[0]==n?r.label:n+r.label+n,apply:void 0})):e}const Span=/^\w*$/,QuotedSpan=/^[`'"]?\w*[`'"]?$/;function isSelfTag(n){return n.self&&typeof n.self.label=="string"}class CompletionLevel{constructor(e){this.idQuote=e,this.list=[],this.children=void 0}child(e){let r=this.children||(this.children=Object.create(null)),o=r[e];return o||(e&&!this.list.some(s=>s.label==e)&&this.list.push(nameCompletion(e,"type",this.idQuote)),r[e]=new CompletionLevel(this.idQuote))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let r=this.list.findIndex(o=>o.label==e.label);r>-1?this.list[r]=e:this.list.push(e)}addCompletions(e){for(let r of e)this.addCompletion(typeof r=="string"?nameCompletion(r,"property",this.idQuote):r)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):isSelfTag(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let r of Object.keys(e)){let o=e[r],s=null,a=r.replace(/\\?\./g,c=>c=="."?"\0":c).split("\0"),l=this;isSelfTag(o)&&(s=o.self,o=o.children);for(let c=0;c<a.length;c++)s&&c==a.length-1&&l.addCompletion(s),l=l.child(a[c].replace(/\\\./g,"."));l.addNamespace(o)}}}function nameCompletion(n,e,r){return/^[a-z_][a-z_\d]*$/.test(n)?{label:n,type:e}:{label:n,type:e,apply:r+n+r}}function completeFromSchema(n,e,r,o,s,a){var l;let c=((l=a==null?void 0:a.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',d=new CompletionLevel(c),f=s?d.child(s):null;return d.addNamespace(n),e&&(f||d).addCompletions(e),r&&d.addCompletions(r),f&&d.addCompletions(f.list),o&&d.addCompletions((f||d).child(o).list),g=>{let{parents:v,from:A,quoted:M,empty:Y,aliases:de}=sourceContext(g.state,g.pos);if(Y&&!g.explicit)return null;de&&v.length==1&&(v=de[v[0]]||v);let ae=d;for(let Ue of v){for(;!ae.children||!ae.children[Ue];)if(ae==d&&f)ae=f;else if(ae==f&&o)ae=ae.child(o);else return null;let hn=ae.maybeChild(Ue);if(!hn)return null;ae=hn}let ze=M&&g.state.sliceDoc(g.pos,g.pos+1)==M,qe=ae.list;return ae==d&&de&&(qe=qe.concat(Object.keys(de).map(Ue=>({label:Ue,type:"constant"})))),{from:A,to:ze?g.pos+1:void 0,options:maybeQuoteCompletions(M,qe),validFor:M?QuotedSpan:Span}}}function completeKeywords(n,e){let r=Object.keys(n).map(o=>({label:e?o.toUpperCase():o,type:n[o]==Type?"type":n[o]==Keyword?"keyword":"variable",boost:-1}));return ifNotIn(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],completeFromList(r))}let parser$2=parser$1$1.configure({props:[indentNodeProp.add({Statement:continuedIndent()}),foldNodeProp.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),styleTags({Keyword:tags$1.keyword,Type:tags$1.typeName,Builtin:tags$1.standard(tags$1.name),Bits:tags$1.number,Bytes:tags$1.string,Bool:tags$1.bool,Null:tags$1.null,Number:tags$1.number,String:tags$1.string,Identifier:tags$1.name,QuotedIdentifier:tags$1.special(tags$1.string),SpecialVar:tags$1.special(tags$1.name),LineComment:tags$1.lineComment,BlockComment:tags$1.blockComment,Operator:tags$1.operator,"Semi Punctuation":tags$1.punctuation,"( )":tags$1.paren,"{ }":tags$1.brace,"[ ]":tags$1.squareBracket})]});class SQLDialect{constructor(e,r,o){this.dialect=e,this.language=r,this.spec=o}get extension(){return this.language.extension}static define(e){let r=dialect(e,e.keywords,e.types,e.builtin),o=LRLanguage.define({name:"sql",parser:parser$2.configure({tokenizers:[{from:tokens,to:tokensFor(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new SQLDialect(r,o,e)}}function keywordCompletionSource(n,e=!1){return completeKeywords(n.dialect.words,e)}function keywordCompletion(n,e=!1){return n.language.data.of({autocomplete:keywordCompletionSource(n,e)})}function schemaCompletionSource(n){return n.schema?completeFromSchema(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||StandardSQL):()=>null}function schemaCompletion(n){return n.schema?(n.dialect||StandardSQL).language.data.of({autocomplete:schemaCompletionSource(n)}):[]}function sql(n={}){let e=n.dialect||StandardSQL;return new LanguageSupport(e.language,[schemaCompletion(n),keywordCompletion(e,!!n.upperCaseKeywords)])}const StandardSQL=SQLDialect.define({}),jsonHighlighting=styleTags({String:tags$1.string,Number:tags$1.number,"True False":tags$1.bool,PropertyName:tags$1.propertyName,Null:tags$1.null,",":tags$1.separator,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),parser$1=LRParser.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[jsonHighlighting],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),jsonLanguage=LRLanguage.define({name:"json",parser:parser$1.configure({props:[indentNodeProp.add({Object:continuedIndent({except:/^\s*\}/}),Array:continuedIndent({except:/^\s*\]/})}),foldNodeProp.add({"Object Array":foldInside})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function json(){return new LanguageSupport(jsonLanguage)}const printKeyword=1,indent=194,dedent=195,newline$1=196,blankLineStart=197,newlineBracketed=198,eof=199,stringContent=200,Escape=2,replacementStart=3,stringEnd=201,ParenL=24,ParenthesizedExpression=25,TupleExpression=49,ComprehensionExpression=50,BracketL=55,ArrayExpression=56,ArrayComprehensionExpression=57,BraceL=59,DictionaryExpression=60,DictionaryComprehensionExpression=61,SetExpression=62,SetComprehensionExpression=63,ArgList=65,subscript=238,String$1=71,stringStart=241,stringStartD=242,stringStartL=243,stringStartLD=244,stringStartR=245,stringStartRD=246,stringStartRL=247,stringStartRLD=248,FormatString=72,stringStartF=249,stringStartFD=250,stringStartFL=251,stringStartFLD=252,stringStartFR=253,stringStartFRD=254,stringStartFRL=255,stringStartFRLD=256,FormatReplacement=73,nestedFormatReplacement=77,importList=263,TypeParamList=112,ParamList=130,SequencePattern=151,MappingPattern=152,PatternArgList=155,newline=10,carriageReturn=13,space=32,tab=9,hash=35,parenOpen=40,dot=46,braceOpen=123,braceClose=125,singleQuote=39,doubleQuote=34,backslash=92,letter_o=111,letter_x=120,letter_N=78,letter_u=117,letter_U=85,bracketed=new Set([ParenthesizedExpression,TupleExpression,ComprehensionExpression,importList,ArgList,ParamList,ArrayExpression,ArrayComprehensionExpression,subscript,SetExpression,SetComprehensionExpression,FormatString,FormatReplacement,nestedFormatReplacement,DictionaryExpression,DictionaryComprehensionExpression,SequencePattern,MappingPattern,PatternArgList,TypeParamList]);function isLineBreak(n){return n==newline||n==carriageReturn}function isHex(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const newlines=new ExternalTokenizer((n,e)=>{let r;if(n.next<0)n.acceptToken(eof);else if(e.context.flags&cx_Bracketed)isLineBreak(n.next)&&n.acceptToken(newlineBracketed,1);else if(((r=n.peek(-1))<0||isLineBreak(r))&&e.canShift(blankLineStart)){let o=0;for(;n.next==space||n.next==tab;)n.advance(),o++;(n.next==newline||n.next==carriageReturn||n.next==hash)&&n.acceptToken(blankLineStart,-o)}else isLineBreak(n.next)&&n.acceptToken(newline$1,1)},{contextual:!0}),indentation=new ExternalTokenizer((n,e)=>{let r=e.context;if(r.flags)return;let o=n.peek(-1);if(o==newline||o==carriageReturn){let s=0,a=0;for(;;){if(n.next==space)s++;else if(n.next==tab)s+=8-s%8;else break;n.advance(),a++}s!=r.indent&&n.next!=newline&&n.next!=carriageReturn&&n.next!=hash&&(s<r.indent?n.acceptToken(dedent,-a):n.acceptToken(indent))}}),cx_Bracketed=1,cx_String=2,cx_DoubleQuote=4,cx_Long=8,cx_Raw=16,cx_Format=32;function Context(n,e,r){this.parent=n,this.indent=e,this.flags=r,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+r+(r<<6)}const topIndent=new Context(null,0,0);function countIndent(n){let e=0;for(let r=0;r<n.length;r++)e+=n.charCodeAt(r)==tab?8-e%8:1;return e}const stringFlags=new Map([[stringStart,0],[stringStartD,cx_DoubleQuote],[stringStartL,cx_Long],[stringStartLD,cx_Long|cx_DoubleQuote],[stringStartR,cx_Raw],[stringStartRD,cx_Raw|cx_DoubleQuote],[stringStartRL,cx_Raw|cx_Long],[stringStartRLD,cx_Raw|cx_Long|cx_DoubleQuote],[stringStartF,cx_Format],[stringStartFD,cx_Format|cx_DoubleQuote],[stringStartFL,cx_Format|cx_Long],[stringStartFLD,cx_Format|cx_Long|cx_DoubleQuote],[stringStartFR,cx_Format|cx_Raw],[stringStartFRD,cx_Format|cx_Raw|cx_DoubleQuote],[stringStartFRL,cx_Format|cx_Raw|cx_Long],[stringStartFRLD,cx_Format|cx_Raw|cx_Long|cx_DoubleQuote]].map(([n,e])=>[n,e|cx_String])),trackIndent=new ContextTracker({start:topIndent,reduce(n,e,r,o){return n.flags&cx_Bracketed&&bracketed.has(e)||(e==String$1||e==FormatString)&&n.flags&cx_String?n.parent:n},shift(n,e,r,o){return e==indent?new Context(n,countIndent(o.read(o.pos,r.pos)),0):e==dedent?n.parent:e==ParenL||e==BracketL||e==BraceL||e==replacementStart?new Context(n,0,cx_Bracketed):stringFlags.has(e)?new Context(n,0,stringFlags.get(e)|n.flags&cx_Bracketed):n},hash(n){return n.hash}}),legacyPrint=new ExternalTokenizer(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let r=n.peek(e);if(!(r==space||r==tab)){r!=parenOpen&&r!=dot&&r!=newline&&r!=carriageReturn&&r!=hash&&n.acceptToken(printKeyword);return}}}),strings=new ExternalTokenizer((n,e)=>{let{flags:r}=e.context,o=r&cx_DoubleQuote?doubleQuote:singleQuote,s=(r&cx_Long)>0,a=!(r&cx_Raw),l=(r&cx_Format)>0,c=n.pos;for(;!(n.next<0);)if(l&&n.next==braceOpen)if(n.peek(1)==braceOpen)n.advance(2);else{if(n.pos==c){n.acceptToken(replacementStart,1);return}break}else if(a&&n.next==backslash){if(n.pos==c){n.advance();let d=n.next;d>=0&&(n.advance(),skipEscape(n,d)),n.acceptToken(Escape);return}break}else if(n.next==o&&(!s||n.peek(1)==o&&n.peek(2)==o)){if(n.pos==c){n.acceptToken(stringEnd,s?3:1);return}break}else if(n.next==newline){if(s)n.advance();else if(n.pos==c){n.acceptToken(stringEnd);return}break}else n.advance();n.pos>c&&n.acceptToken(stringContent)});function skipEscape(n,e){if(e==letter_o)for(let r=0;r<2&&n.next>=48&&n.next<=55;r++)n.advance();else if(e==letter_x)for(let r=0;r<2&&isHex(n.next);r++)n.advance();else if(e==letter_u)for(let r=0;r<4&&isHex(n.next);r++)n.advance();else if(e==letter_U)for(let r=0;r<8&&isHex(n.next);r++)n.advance();else if(e==letter_N&&n.next==braceOpen){for(n.advance();n.next>=0&&n.next!=braceClose&&n.next!=singleQuote&&n.next!=doubleQuote&&n.next!=newline;)n.advance();n.next==braceClose&&n.advance()}}const pythonHighlighting=styleTags({'async "*" "**" FormatConversion FormatSpec':tags$1.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":tags$1.controlKeyword,"in not and or is del":tags$1.operatorKeyword,"from def class global nonlocal lambda":tags$1.definitionKeyword,import:tags$1.moduleKeyword,"with as print":tags$1.keyword,Boolean:tags$1.bool,None:tags$1.null,VariableName:tags$1.variableName,"CallExpression/VariableName":tags$1.function(tags$1.variableName),"FunctionDefinition/VariableName":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDefinition/VariableName":tags$1.definition(tags$1.className),PropertyName:tags$1.propertyName,"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),Comment:tags$1.lineComment,Number:tags$1.number,String:tags$1.string,FormatString:tags$1.special(tags$1.string),Escape:tags$1.escape,UpdateOp:tags$1.updateOperator,"ArithOp!":tags$1.arithmeticOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,AssignOp:tags$1.definitionOperator,Ellipsis:tags$1.punctuation,At:tags$1.meta,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,".":tags$1.derefOperator,", ;":tags$1.separator}),spec_identifier={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},parser=LRParser.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5QQdO'#DoOOQS,5:Y,5:YO5eQdO'#HdOOQS,5:],5:]O5rQ!fO,5:]O5wQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8gQdO,59bO8lQdO,59bO8sQdO,59jO8zQdO'#HTO:QQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:iQdO,59aO'vQdO,59aO:wQdO,59aOOQS,59y,59yO:|QdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;[QdO,5:QO;aQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;rQdO,5:UO;wQdO,5:WOOOW'#Fy'#FyO;|OWO,5:aOOQS,5:a,5:aO<XQdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<iOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<wQtO,5:iO?iQtO,5=`O@SQ#xO,5=`O@sQtO,5=`OOQS,5:},5:}OA[QeO'#GWOBnQdO,5;^OOQV,5=^,5=^OByQtO'#IPOChQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCpQtO,59]OEwQtO,59iOFbQdO'#HVOFmQdO'#HVO1XQdO'#HVOFxQdO'#DTOGQQdO,59mOGVQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGtQdO'#GPOHUQdO,58|OHUQdO,58|O*xQdO,5:oOHdQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHwQdO,5;OOIYQdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOInQtO,5;QOI|QdO,5;QOJRQdO'#IQOOQS,5;T,5;TOJaQdO'#H|OOQS,5;W,5;WOJrQdO,5;YO4iQdO,5;`O4iQdO,5;cOJzQtO'#ITO'vQdO'#ITOKUQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOKZQeO'#EuOLgQgO,5;fO!!hQdO'#IUO4iQdO,5;jO!!sQdO,5;lO!!{QdO,5;qO!#WQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#_OSO,5=[P!#dOdO,5=[O!&XQtO1G.jO!&`QtO1G.jO!)PQtO1G.jO!)ZQtO1G.jO!+tQtO1G.jO!,XQtO1G.jO!,lQdO'#HcO!,zQtO'#GuO0rQdO'#HcO!-UQdO'#HbOOQS,5:Z,5:ZO!-^QdO,5:ZO!-cQdO'#HeO!-nQdO'#HeO!.RQdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/RQtO1G.|O!/YQtO1G.|O1lQdO1G.|O!/uQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!/|QdO1G/eO!0^QdO1G/eO!0fQdO1G/fO'vQdO'#H[O!0kQdO'#H[O!0pQtO1G.{O!1QQdO,59iO!2WQdO,5=zO!2hQdO,5=zO!2pQdO1G/mO!2uQtO1G/mOOQS1G/l1G/lO!3VQdO,5=uO!3|QdO,5=uO0rQdO1G/qO!4kQdO1G/sO!4pQtO1G/sO!5QQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5bQdO'#HxO0rQdO'#HxO!5sQdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6RQ#xO1G2zO!6rQtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7ZQtO,5>kOOQS1G1`1G1`O!7xQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!7}QdO'#FrO!8YQdO,59oO!8bQdO1G/XO!8lQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9]QdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9nQdO1G.hOOQS1G0Z1G0ZO!9|QdO,5=wO!:^QdO,5=wO0rQdO1G0jO0rQdO1G0jO!:oQdO,5>jO!;QQdO,5>jO1XQdO,5>jO!;cQdO,5>iOOQS-E:R-E:RO!;hQdO1G0lO!;sQdO1G0lO!;xQdO,5>lO!<WQdO,5>lO!<fQdO,5>hO!<|QdO,5>hO!=_QdO'#EpO0rQdO1G0tO!=jQdO1G0tO!=oQgO1G0zO!AmQgO1G0}O!EhQdO,5>oO!ErQdO,5>oO!EzQtO,5>oO0rQdO1G1PO!FUQdO1G1PO4iQdO1G1UO!!sQdO1G1WOOQV,5;a,5;aO!FZQfO,5;aO!F`QgO1G1QO!JaQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JqQdO,5>pO!KOQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KWQdO'#FSO!KiQ!fO1G1WO!KqQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!KvQdO1G1]O!LOQdO'#F^OOQV1G1b1G1bO!#WQtO1G1bPOOO1G2v1G2vP!LTOSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LYQdO,5=|O!LmQdO,5=|OOQS1G/u1G/uO!LuQdO,5>PO!MVQdO,5>PO!M_QdO,5>PO!MrQdO,5>PO!NSQdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8bQdO7+$pO# uQdO1G.|O# |QdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!TQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!eQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!jQdO7+%PO#!rQdO7+%QO#!wQdO1G3fOOQS7+%X7+%XO##XQdO1G3fO##aQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##fQdO1G3aOOQS-E9q-E9qO#$]QdO7+%]OOQS7+%_7+%_O#$kQdO1G3aO#%YQdO7+%_O#%_QdO1G3gO#%oQdO1G3gO#%wQdO7+%]O#%|QdO,5>dO#&gQdO,5>dO#&gQdO,5>dOOQS'#Dx'#DxO#&xO&jO'#DzO#'TO`O'#HyOOOW1G3}1G3}O#'YQdO1G3}O#'bQdO1G3}O#'mQ#xO7+(fO#(^QtO1G2UP#(wQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)UQdO,5=`O#)oQdO,5=`O#*QQtO,5<aO#*eQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#*uQdO7+&UO#+TQdO,5<nO#+iQdO1G4UOOQS-E:Q-E:QO#+zQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,]QdO7+&WOOQS,5<p,5<pO#,hQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#,vQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-^QdO'#EqO#-iQdO'#IRO#-qQdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#-vQgO7+&fO!JdQdO'#GXO4iQdO7+&fO4iQdO7+&iO#1tQtO,5<tO'vQdO,5<tO#2OQdO1G4ZOOQS-E:W-E:WO#2YQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KiQ!fO7+&rO!KqQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2bQdO,5<uO!JdQdO,5<uOOQV7+&l7+&lO#2mQgO7+&lO#6hQdO,5<vO#6sQdO1G4[OOQS-E:Y-E:YO#7QQdO1G4[O#7YQdO'#IWO#7hQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#7sQdO'#IVOOQS,5;n,5;nO#7{QdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8QQfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8VQdO1G3iOOQS,5<c,5<cO#8eQdO1G3hOOQS-E9u-E9uO#8xQdO,5<dO#9TQdO,5<dO#9hQdO1G3kOOQS-E9v-E9vO#9xQdO1G3kO#:QQdO1G3kO#:bQdO1G3kO#9xQdO1G3kOOQS<<H[<<H[O#:mQtO1G1zOOQS<<Hk<<HkP#:zQdO'#FtO8sQdO1G3bO#;XQdO1G3bO#;^QdO<<HkOOQS<<Hl<<HlO#;nQdO7+)QOOQS<<Hs<<HsO#<OQtO1G1yP#<oQdO'#FsO#<|QdO7+)RO#=^QdO7+)RO#=fQdO<<HwO#=kQdO7+({OOQS<<Hy<<HyO#>bQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>gQdO1G4OOOQS-E9y-E9yO#?QQdO1G4OO<XQdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?cO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?nQdO7+)iO#?vQdO1G2zO#@aQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#@rQdO7+)pO#ATQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#AfQdO,5>mO#AtQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#A|QtO1G2`P#BWQdO'#GYO#B_QdO7+)uO#BiQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KiQ!fO<<J^O#FdQgO7+&gOOQV<<JW<<JWO#FnQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JiQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#JtQdO7+)vO#KRQdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KZQdO,5>rOOQS,5>r,5>rO#KfQdO,5>qO#KwQdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LPQdO1G1dOOQS7+)T7+)TP#LUQdO'#FwO#LfQdO1G2OO#LyQdO1G2OO#MZQdO1G2OP#MfQdO'#FxO#MsQdO7+)VO#NTQdO7+)VO#NTQdO7+)VO#N]QdO7+)VO#NmQdO7+(|O8sQdO7+(|OOQSAN>VAN>VO$ WQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$ hQtO1G1|P$ rQdO'#FvOOQS1G2R1G2RP$!PQdO'#F{O$!^QdO7+)jO$!wQdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#VQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$#pQdO<<M[OOQS,5<q,5<qO$$RQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$aQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$([QdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$(iQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$(zQfO7+'OO$)VQdO'#F_O$*^QdO7+'jO$*nQdO7+'jOOQS7+'j7+'jO$*yQdO<<LqO$+ZQdO<<LqO$+ZQdO<<LqO$+cQdO'#H^OOQS<<Lh<<LhO$+mQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,WQdO1G4RO$,`QdO1G4RP!=_QdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$,kQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-_QtO'#FaOOQS'#Fc'#FcO$-oQdO'#FbO$.aQdO'#FbOOQS'#Fb'#FbO$.fQdO'#IYO$)VQdO'#FiO$)VQdO'#FiO$.}QdO'#FjO$)VQdO'#FkO$/UQdO'#IZOOQS'#IZ'#IZO$/sQdO,5;yOOQS<<KU<<KUO$/{QdO<<KUO$0]QdOANB]O$0mQdOANB]O$0uQdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1`QdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$1wQdO7+)mOOQVLD*wLD*wOOQVANARANARO5rQ!fO'#GaO$2PQtO,5<SO$)VQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$2qQdO,5;|O$2vQdO,5;|OOQS'#Fg'#FgO$)VQdO'#G`O$3hQdO,5<QO$4SQdO,5>tO$4dQdO,5>tO1XQdO,5<PO$4uQdO,5<TO$4zQdO,5<TO$)VQdO'#I[O$5PQdO'#I[O$5UQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5ZQdOG27wO$5kQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$5pQtO'#FaO$5wQdO'#I]O$6VQdO'#I]O$6_QdO,5<XOOQS1G1h1G1hO$6dQdO1G1hO$6iQdO,5<zOOQS-E:^-E:^O$7TQdO,5=OO$7lQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$7|QdO,5>vO$)VQdO,5>vOOQS1G1p1G1pO$8[QtO,5<[OOQU7+'P7+'PO$+cQdO1G/iO$)VQdO,5<YO$8cQdO,5>wO$8jQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)VQdO'#GdO$8rQdO1G4bO$8|QdO1G4bO$9UQdO1G4bOOQS7+%T7+%TO$9dQdO1G1tO$9rQtO'#FaO$9yQdO,5<}OOQS,5<},5<}O$:XQdO1G4cOOQS-E:a-E:aO$)VQdO,5<|O$:`QdO,5<|O$:eQdO7+)|OOQS-E:`-E:`O$:oQdO7+)|O$)VQdO,5<ZP$)VQdO'#GcO$:wQdO1G2hO$)VQdO1G2hP$;VQdO'#GbO$;^QdO<<MhO$;hQdO1G1uO$;vQdO7+(SO8sQdO'#C}O8sQdO,59bO8sQdO,59bO8sQdO,59bO$<UQtO,5=`O8sQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<iQdO'#GOO'vQdO'#GtO$<vQdO,59bO$<{QdO,59bO$=SQdO,59mO$=XQdO1G/UO1sQdO'#DRO8sQdO,59j",stateData:"$=r~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PE`O%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO~OS'iO%['hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#lO%kWi~P!#lOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&gO%mWi%nWi~P!&gOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)eOVWi_Wi%qWi%rWi%sWi~P!)eO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.WOlji~P!.WOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/aOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PE`OV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!N_Olji~P!N_OV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/aOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/aO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$,yO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)cOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/aOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)VOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$,yOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)VOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)VOz0SOg'Pa~Oa0UO!['Oi~P$)cOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$,yO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)VO{0^O~Oa0UO!['Oq~P$)cOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)cOa0UO!['Oy~P$)cO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/aO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=l'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHn'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHtIQIYPIaIgPIaPIaIaPPPIaPKuPLOLYL`KuPIaLiPIaPLpLvPLzM`M}NhLzLzNnN{LzLzLzLz! a! g! j! o! r! |!!S!!`!!r!!x!#S!#Y!#v!#|!$S!$^!$d!$j!$|!%W!%^!%d!%n!%t!%z!&Q!&W!&^!&h!&n!&x!'O!'X!'_!'n!'v!(Q!(XPPPPPPPPPPP!(_!(b!(h!(q!({!)WPPPPPPPPPPPP!-z!/`!3`!6pPP!6x!7X!7b!8Z!8Q!8d!8j!8m!8p!8s!8{!9lPPPPPPPPPPPPPPPPP!9o!9s!9yP!:_!:c!:o!:x!;U!;l!;o!;r!;x!<O!<U!<XP!<a!<j!=f!=i]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aR,^*RX#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:trackIndent,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[pythonHighlighting],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[legacyPrint,indentation,newlines,strings,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>spec_identifier[n]||-1}],tokenPrec:7652}),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function defID(n){return(e,r,o)=>{if(o)return!1;let s=e.node.getChild("VariableName");return s&&r(s,n),!0}}const gatherCompletions={FunctionDefinition:defID("function"),ClassDefinition:defID("class"),ForStatement(n,e,r){if(r){for(let o=n.node.firstChild;o;o=o.nextSibling)if(o.name=="VariableName")e(o,"variable");else if(o.name=="in")break}},ImportStatement(n,e){var r,o;let{node:s}=n,a=((r=s.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let l=s.getChild("import");l;l=l.nextSibling)l.name=="VariableName"&&((o=l.nextSibling)===null||o===void 0?void 0:o.name)!="as"&&e(l,a?"variable":"namespace")},AssignStatement(n,e){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(n,e){for(let r=null,o=n.node.firstChild;o;o=o.nextSibling)o.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(o,"variable"),r=o},CapturePattern:defID("variable"),AsPattern:defID("variable"),__proto__:null};function getScope(n,e){let r=cache.get(e);if(r)return r;let o=[],s=!0;function a(l,c){let d=n.sliceString(l.from,l.to);o.push({label:d,type:c})}return e.cursor(IterMode.IncludeAnonymous).iterate(l=>{if(l.name){let c=gatherCompletions[l.name];if(c&&c(l,a,s)||!s&&ScopeNodes.has(l.name))return!1;s=!1}else if(l.to-l.from>8192){for(let c of getScope(n,l.node))o.push(c);return!1}}),cache.set(e,o),o}const Identifier=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,dontComplete=["String","FormatString","Comment","PropertyName"];function localCompletionSource(n){let e=syntaxTree(n.state).resolveInner(n.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let s=e;s;s=s.parent)ScopeNodes.has(s.name)&&(o=o.concat(getScope(n.state.doc,s)));return{options:o,from:r?e.from:n.pos,validFor:Identifier}}const globals=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),snippets=[snippetCompletion("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),snippetCompletion("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),snippetCompletion(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),snippetCompletion("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion("import ${module}",{label:"import",detail:"statement",type:"keyword"}),snippetCompletion("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],globalCompletion=ifNotIn(dontComplete,completeFromList(globals.concat(snippets)));function innerBody(n){let{node:e,pos:r}=n,o=n.lineIndent(r,-1),s=null;for(;;){let a=e.childBefore(r);if(a)if(a.name=="Comment")r=a.from;else if(a.name=="Body")n.baseIndentFor(a)+n.unit<=o&&(s=a),e=a;else if(a.type.is("Statement"))e=a;else break;else break}return s}function indentBody(n,e){let r=n.baseIndentFor(e),o=n.lineAt(n.pos,-1),s=o.from+o.text.length;return/^\s*($|#)/.test(o.text)&&n.node.to<s+100&&!/\S/.test(n.state.sliceDoc(s,n.node.to))&&n.lineIndent(n.pos,-1)<=r||/^\s*(else:|elif |except |finally:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>r?null:r+n.unit}const pythonLanguage=LRLanguage.define({name:"python",parser:parser.configure({props:[indentNodeProp.add({Body:n=>{var e;let r=innerBody(n);return(e=indentBody(n,r||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except |finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":delimitedIndent({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":delimitedIndent({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":delimitedIndent({closing:"]"}),"String FormatString":()=>null,Script:n=>{var e;let r=innerBody(n);return(e=r&&indentBody(n,r))!==null&&e!==void 0?e:n.continue()}}),foldNodeProp.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":foldInside,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function python(){return new LanguageSupport(pythonLanguage,[pythonLanguage.data.of({autocomplete:localCompletionSource}),pythonLanguage.data.of({autocomplete:globalCompletion})])}const config$1={secondaryType:u.BlockLeaf,dataKeyName:"text",validStyleList:[]},_sfc_main$1=defineComponent({name:"aditorCode",components:{Codemirror:T},props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(n){let e=null,r=null;const o=computed({get:()=>n.aNode.data.code,set:f=>{e&&clearTimeout(e),e=setTimeout(()=>{at(n.docView,n.aNode.start,Object.assign(n.aNode.data,{code:f}))},500)}}),s=computed({get:()=>n.aNode.data.language,set:f=>{r&&clearTimeout(r),r=setTimeout(()=>{at(n.docView,n.aNode.start,Object.assign(n.aNode.data,{language:f}))},500)}}),a=ref(null),l=reactive(new Map);l.set("javascript",{code:"",language:javascript}),l.set("python",{code:"",language:python}),l.set("html",{code:"",language:html}),l.set("sql",{code:"",language:sql}),l.set("json",{code:"",language:json});const c=computed(()=>l.get(s.value)),d=computed(()=>{const f=[];return c.value&&f.push(c.value.language()),f});return onMounted(()=>{}),{editor:a,code:o,extensions:d}},config:config$1}),_hoisted_1$1={ref:"editor","aditor-ignore-event":"",contenteditable:"false"};function _sfc_render$1(n,e,r,o,s,a){const l=resolveComponent("codemirror");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(l,{modelValue:n.code,"onUpdate:modelValue":e[0]||(e[0]=c=>n.code=c),extensions:n.extensions},null,8,["modelValue","extensions"])],512)}const AditorCode=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),config={secondaryType:u.Child,validStyleList:[b.textAlign]},_sfc_main=defineComponent({name:"aditorQuote",props:{aNode:{type:Object,required:!0},docView:{type:Object,required:!0}},setup(){return{}},config}),_hoisted_1={key:0};function _sfc_render(n,e,r,o,s,a){return openBlock(),createElementBlock("div",{class:"aditor-quote",style:normalizeStyle(n.aNode.style)},[renderSlot(n.$slots,"default",{},void 0,!0),n.aNode.children.length==1&&n.aNode.children[0].length()==0?(openBlock(),createElementBlock("br",_hoisted_1)):createCommentVNode("",!0)],4)}const aditorQuote=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-5dc10c91"]]);$(AditorTitleParagraph.name,u.Child,AditorTitleParagraph);$(aditorQuote.name,u.Child,aditorQuote);$(AditorCanvas.name,u.Leaf,AditorCanvas);$(AditorAudio.name,u.Leaf,AditorAudio);$(AditorConfig.name,u.Leaf,AditorConfig);$(AditorAIChat.name,u.Leaf,AditorAIChat);$(AditorPDF.name,u.Leaf,AditorPDF);$(AditorCode.name,u.Leaf,AditorCode);createApp(App).mount("#app")});export default Qs();
